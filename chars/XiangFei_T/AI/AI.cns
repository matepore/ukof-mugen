;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;Config
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;//////////////////////////////////////
;脱衣(sexy)KO ON OFF 
;//////////////////////////////////////

[State -3,脱衣KO]
Type = VarSet
trigger1 = 1
V = 0
Value = 1	;1:ON 0:OFF 
ignorehitpause = 1

;男のロマン

;//////////////////////////////////////
;真心牙ヒット数 ON OFF
;//////////////////////////////////////

[State -3]
type = varset
trigger1 = 1
v = 2
value = 1	;1:ON 0:OFF 
ignorehitpause = 1

;クオリティの低い自作ヒットカウントのため見苦しいと思ったらOFFにしてください。

;//////////////////////////////////////
;AIレベル
;//////////////////////////////////////

[State -1,AIレベル]
Type = Varset
trigger1 = var(9) = 1
V = 10
Value = 11	;1〜11
ignorehitpause = 1

;11で超反応

;//////////////////////////////////////
;常時AI起動
;//////////////////////////////////////

[State -3,常時AI起動]
Type = VarSet
Triggerall = var(9) != 1
Trigger1 = roundstate = 2
trigger1 = ! EnemyNear(Var(3)),vel x = 0
Trigger2 = roundstate = 2
trigger2 = ! EnemyNear(Var(3)),vel y = 0
Trigger3 = roundstate = 2
trigger3 =  EnemyNear(Var(3)),ctrl
;trigger4 =  EnemyNear(Var(3)),movetype = H    ;フライング返し
V = 9
value = 0	;1:ON 0:OFF 
ignorehitpause = 0

;動画とかの場合は常時起動にしておいてください。


;---------------------------------------------------------------------------------------------------------
;以下AI


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード後切り返し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,真心牙]
Type = ChangeState
Value = 2200
TriggerAll=Var(9)
TriggerAll=Life <= floor(LifeMax/2)
TriggerAll=Power >= 3000
TriggerAll=StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=A
TriggerAll=RoundState=2 
TriggerAll=P2BodyDist Y>=0
TriggerAll=P2BodyDist X = [-25,34]
TriggerAll=ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 
TriggerAll=( EnemyNear(Var(3)),MoveType=A)||( EnemyNear(Var(3)),MoveType=I)
TriggerAll=!InGuarddist
TriggerAll=Random<=Var(10)*100
TriggerAll=(PrevStateNo=[150,159])||(PrevStateNo=[360,361])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||var(10)>10
Trigger1 =  EnemyNear(Var(3)),AnimTime<=-1

[State -3,近距離強キック]
Type = ChangeState
Value = 235
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=C
TriggerAll=RoundState=2 
TriggerAll=P2BodyDist Y>=0
TriggerAll=P2BodyDist X = [-25,25]
TriggerAll=ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101
TriggerAll=( EnemyNear(Var(3)),MoveType=A)||( EnemyNear(Var(3)),MoveType=I)
TriggerAll=!InGuarddist
TriggerAll=Random<=Var(10)*100
TriggerAll=(PrevStateNo=[150,159])||(PrevStateNo=[360,361])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||var(10)>10
Trigger1 =  EnemyNear(Var(3)),AnimTime<=-7

[State -3,近距離強パンチ]
Type = ChangeState
Value = 225
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=A
TriggerAll=RoundState=2 
TriggerAll=P2BodyDist Y>=0
TriggerAll=P2BodyDist X = [-25,25]
TriggerAll=ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101
TriggerAll=( EnemyNear(Var(3)),MoveType=A)||( EnemyNear(Var(3)),MoveType=I)
TriggerAll=!InGuarddist
TriggerAll=Random<=Var(10)*100
TriggerAll=(PrevStateNo=[150,159])||(PrevStateNo=[360,361])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||var(10)>10
Trigger1 =  EnemyNear(Var(3)),AnimTime<=-5

[State -3,しゃがみ弱キック]
Type = ChangeState
Value = 410
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=A
TriggerAll=RoundState=2 
TriggerAll=P2BodyDist Y>=0
TriggerAll=P2BodyDist X = [-25,40]
TriggerAll=ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101
TriggerAll=( EnemyNear(Var(3)),MoveType=A)||( EnemyNear(Var(3)),MoveType=I)
TriggerAll=!InGuarddist
TriggerAll=Random<=Var(10)*100
TriggerAll=(PrevStateNo=[150,159])||(PrevStateNo=[360,361])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||var(10)>10
Trigger1 =  EnemyNear(Var(3)),AnimTime<=-5

[State -3,投げ]
Type = ChangeState
Value = 800
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll= EnemyNear(Var(3)),StateType!=A
TriggerAll=RoundState=2 
TriggerAll=P2BodyDist Y>=0
TriggerAll=P2BodyDist X = [-20,20]
TriggerAll=ctrl || stateno = 19 || stateno = 21
TriggerAll=( EnemyNear(Var(3)),MoveType=A)||( EnemyNear(Var(3)),MoveType=I)
TriggerAll=!InGuarddist
TriggerAll=Random<=Var(10)*100
TriggerAll=(PrevStateNo=[150,159])||(PrevStateNo=[360,361])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||var(10)>10
Trigger1 =  EnemyNear(Var(3)),AnimTime<=-1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;切り返し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,真心牙]
Type = ChangeState
Value = 2200
TriggerAll=Var(9)
TriggerAll=Life <= floor(LifeMax/2)
TriggerAll=Power >= 3000
TriggerAll=StateType!=A
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X=[-5+floor( EnemyNear(Var(3)),vel X),34+floor( EnemyNear(Var(3)),vel X)]
TriggerAll=P2BodyDist Y>=0-floor(( EnemyNear(Var(3)),vel Y)+(1*(1+1)/2)*fvar(39))
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),AnimTime<=-1||Var(10)<7
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = (PrevStateNo=[5000,5270])

[State -3,MAX超白龍]
Type = ChangeState
Value = 2150
TriggerAll=Var(9)
TriggerAll=Power >= 2000
TriggerAll=StateType!=A
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X=[-5+floor(15*( EnemyNear(Var(3)),vel X)/2),55+floor(15*( EnemyNear(Var(3)),vel X)/2)]
TriggerAll=P2BodyDist Y>=-40-floor(15*( EnemyNear(Var(3)),vel Y)+(15*(15+1)/2)*fvar(39))
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),AnimTime<=-15||Var(10)<7
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = (PrevStateNo=[5000,5270])

[State -3,超白龍]
Type = ChangeState
Value = 2100
TriggerAll=Var(9)
TriggerAll=Power >= 1000
TriggerAll=StateType!=A
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X=[-5+floor(12*( EnemyNear(Var(3)),vel X)/2),70+floor(12*( EnemyNear(Var(3)),vel X)/2)]
TriggerAll=P2BodyDist Y>=-40-floor(12*( EnemyNear(Var(3)),vel Y)+(12*(12+1)/2)*fvar(39))
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),AnimTime<=-12||Var(10)<7
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = (PrevStateNo=[5000,5270])

[State -3,天崩山]
Type = ChangeState
Value = 1005
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X=[-5+floor(14*(EnemyNear(Var(3)),vel X)/2),56+floor(14*( EnemyNear(Var(3)),vel X)/2)]
TriggerAll=P2BodyDist Y>=-30-floor(14*(EnemyNear(Var(3)),vel Y)+(14*(14+1)/2)*fvar(39))
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),AnimTime<=-14||Var(10)<7
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = (PrevStateNo=[5000,5270])

[State -3,詠酒]
Type = ChangeState
Value = ifelse(( EnemyNear(Var(3)),statetype = A),1210,ifelse(( EnemyNear(Var(3)),statetype = S),1201,1200))
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X=[-5,80]
TriggerAll=P2BodyDist Y>=-80
TriggerAll=Inguarddist
TriggerAll=!Enemy,Numproj
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) 
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
Trigger1= EnemyNear(Var(3)),Time>=Var(20) || Var(10) > 10

[State -3,前転]
Type = ChangeState
Value = 361
TriggerAll=Var(9)
TriggerAll=StateType != A
TriggerAll=Ctrl || stateno = 19 || stateno = 21 || stateno = 101 || (stateno = [120,139])
TriggerAll=P2BodyDist X>190||( EnemyNear(Var(3)),AnimTime<=-30&&! EnemyNear(Var(3)),Ctrl)
TriggerAll= EnemyNear(Var(3)),HitDefAttr=SCA,AA,AP
TriggerAll=InGuardDist
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10|| EnemyNear(Var(3)),Ctrl
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>9
Trigger2 = PrevStateNo = [5000,5270]
Trigger3 = PrevStateNo = [120,159]
Trigger4 =  EnemyNear(Var(3)),Ctrl

[State -3,後転]
Type = ChangeState
Value = 360
TriggerAll=Var(9)
TriggerAll=StateType != A
TriggerAll=Ctrl || stateno = 19 || stateno = 21 || stateno = 101 || (stateno = [120,139])
TriggerAll=P2BodyDist X<90||( EnemyNear(Var(3)),AnimTime<=-15&&! EnemyNear(Var(3)),Ctrl)
TriggerAll= EnemyNear(Var(3)),HitDefAttr=SCA,AA,AP
TriggerAll=BackEdgeBodyDist > 60
TriggerAll=InGuardDist
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10|| EnemyNear(Var(3)),Ctrl
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>9
Trigger2 = PrevStateNo = [5000,5270]
Trigger3 = PrevStateNo = [120,159]
Trigger4 =  EnemyNear(Var(3)),Ctrl

[State -3,ﾊﾞｯｸｽﾃｯﾌﾟ]
Type     = ChangeState
Value    = 105
TriggerAll=Var(9)
TriggerAll=StateType != A
TriggerAll=Ctrl || stateno = 19 || stateno = 21 || (stateno = [120,139])
TriggerAll=( EnemyNear(Var(3)),StateNo=[200,699])|| EnemyNear(Var(3)),HitDefAttr=SCA,AT
TriggerAll=BackEdgeBodyDist > 60
TriggerAll=P2BodyDist X=[-5,90]
TriggerAll= EnemyNear(Var(3)),vel x<3
TriggerAll= EnemyNear(Var(3)),MoveType=A
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = PrevStateNo=[5000,5270]
Trigger3 = PrevStateNo=[120,159]

[State -3,ジャンプ]
Type     = ChangeState
Value    = ifelse(stateno = 101,36,30)
TriggerAll=Var(9)
TriggerAll=StateType!=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21 || stateno = 101 || (stateno = [120,139])
TriggerAll= EnemyNear(Var(3)),HitDefAttr=SCA,AT
TriggerAll=Random<=Var(10)*60||Var(10)>9
TriggerAll= EnemyNear(Var(3)),Time>=30||(!Time&&Var(10)>9)||Var(10)>10
Trigger1 =  EnemyNear(Var(3)),Time>=50||Var(10)>10
Trigger2 = PrevStateNo=[5000,5270]
Trigger3 = PrevStateNo=[120,159]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;起き攻め
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,強・那夢波]
Type = ChangeState
value = 1105
TriggerAll = (Var(9)&&Random<=Var(10)*10)||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X = [80,140]
Trigger1 =  EnemyNear(Var(3)),StateNo = [5120,5210]
Trigger1 =  EnemyNear(Var(3)),AnimTime = [-20,-10]

[State -3,弱・那夢波]
Type = ChangeState
value = 1100
TriggerAll = (Var(9)&&Random<=Var(10)*10)||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X = [60,120]
Trigger1 =  EnemyNear(Var(3)),StateNo = [5120,5210]
Trigger1 =  EnemyNear(Var(3)),AnimTime = [-15,-5]

[State -3,遠距離強キック]
Type = ChangeState
value = 230
TriggerAll = (Var(9)&&Random<=Var(10))||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X = [26,70]
Trigger1 =  EnemyNear(Var(3)),StateNo = [5120,5210]
Trigger1 =  EnemyNear(Var(3)),AnimTime = -4

[State -3,しゃがみ弱キック]
Type = ChangeState
value = 410
TriggerAll = (Var(9)&&Random<=Var(10)*100);||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X = [0,40]
Trigger1 =  EnemyNear(Var(3)),StateNo = [5120,5210]
Trigger1 =  EnemyNear(Var(3)),AnimTime = -2

[State -3,しゃがみ弱パンチ]
Type = ChangeState
value = 400
TriggerAll = (Var(9)&&Random<=Var(10)*100);||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X = [0,25]
Trigger1 =  EnemyNear(Var(3)),StateNo = [5120,5210]
Trigger1 =  EnemyNear(Var(3)),AnimTime = -1

[State -3,ﾊﾞｯｸｽﾃｯﾌﾟ]
Type = ChangeState
value = 105
TriggerAll = (Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll =  EnemyNear(Var(3)),StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 21 || (stateno = [120,139])
TriggerAll = P2BodyDist X <= 60
TriggerAll = BackEdgeBodyDist > 60
Trigger1 =  EnemyNear(Var(3)),PrevStateNo = [5120,5210]

[State -3,前転]
Type = ChangeState
value = 361
TriggerAll = (Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll = StateType != A && P2Dist X >= 0 
TriggerAll = ( EnemyNear(Var(3)),StateType = L)||( EnemyNear(Var(3)),StateType = A)
TriggerAll = Ctrl || stateno = 19 || stateno = 21 || stateno = 101 || (stateno = [120,139])
TriggerAll = P2BodyDist X <= 60
TriggerAll = BackEdgeBodyDist <= 30
Trigger1 =  EnemyNear(Var(3)),StateNo = [5100,5110]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,ガード]
Type = ChangeState
Value = 120
TriggerAll=Var(9)
TriggerAll=StateNo!=[120,155]
TriggerAll=Ctrl || stateno = 19 || stateno = 21
TriggerAll=inguarddist
Trigger1 = Random<=Var(10)*60||Var(10)>9
Trigger2 = P2BodyDist X>90||EnemyNear(var(3)),Time>50
Trigger2 = Random<=Var(10)*150
Trigger3 = Enemy,numproj||Enemy,numhelper

[State -3,GC前転]
type = ChangeState
value = 361
triggerall = var(9)
triggerall = roundstate = 2
TriggerAll=StateNo=[150,151];発動条件
TriggerAll=EnemyNear(var(3)),AnimTime<=-35
TriggerAll=Random<=Var(10)*100
TriggerAll=P2BodyDist X = [-5,80]
TriggerAll=P2BodyDist Y >= 0
trigger1 = Power >= 1000 

[State -3,GC攻撃]
type = ChangeState
value = 305
triggerall = var(9)
triggerall = roundstate = 2
TriggerAll=StateNo=[150,151];発動条件
TriggerAll=EnemyNear(var(3)),AnimTime<=-10
TriggerAll=Random<=Var(10)
TriggerAll=P2BodyDist X = [-5,50]
TriggerAll=P2BodyDist Y >= 0
trigger1 = Power >= 1000

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;目押し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,近距離強キック]
type = ChangeState
value = 235
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,25]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 7
trigger1 =  EnemyNear(Var(3)),MoveType = H
trigger1 = ( EnemyNear(Var(3)),StateNo != [120,159])

[State -3,近距離強パンチ]
type = ChangeState
value = 225
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,25]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 5
trigger1 =  EnemyNear(Var(3)),MoveType = H
trigger1 = ( EnemyNear(Var(3)),StateNo != [120,159])

[State -3,しゃがみ強パンチ]
type = ChangeState
value = 420
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,42]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 6
trigger1 =  EnemyNear(Var(3)),MoveType = H
trigger1 = ( EnemyNear(Var(3)),StateNo != [120,159])

[State -3,しゃがみ弱キック]
type = ChangeState
value = 410
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,42]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 5
trigger1 =  EnemyNear(Var(3)),MoveType = H
trigger1 = ( EnemyNear(Var(3)),StateNo != [120,159])
trigger2 = ( EnemyNear(Var(3)),StateNo = [120,159])

[State -3,遠距離立ち強キック]
type = ChangeState
value = 230
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [26,70]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 7
trigger1 = ( EnemyNear(Var(3)),StateNo = [120,159])

[State -3,しゃがみ強キック]
type = ChangeState
value = 430
triggerall = (Var(9)&&Random <= Var(10)*100)||Var(6)=1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,82]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall = NumHelper(10001)
triggerall = Helper(10001),Var(0) >= 6
trigger1 = ( EnemyNear(Var(3)),StateNo = [120,159])


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;隙突き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


[State -3,真心牙]
Type = ChangeState
Value = 2200
TriggerAll = Var(9)
TriggerAll = Life <= floor(LifeMax/2)
TriggerAll = Power >= 3000
triggerall = StateType != A
triggerall = EnemyNear(Var(3)),StateType != A
Triggerall = !inguarddist
Triggerall = Random <= Var(10)*100
triggerall = P2BodyDist X=[-5+floor( EnemyNear(Var(3)),vel X),34+floor( EnemyNear(Var(3)),vel X)]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll =  EnemyNear(Var(3)),AnimTime <= -1
TriggerAll =  EnemyNear(Var(3)),Vel X = 0
trigger1 =  EnemyNear(Var(3)),MoveType = I

[State -3,万泊後宴]
type = ChangeState
value = ifelse((var(19) = 1 && Var(10) > 7),1450,1400)
triggerall = Var(9)
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
triggerall =  EnemyNear(Var(3)),StateType != A
Triggerall = !inguarddist
Triggerall = Random <= Var(10)*100
triggerall = P2bodydist X = [-5,45]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139]) || (var(19) = 1 && Var(10) > 7)
TriggerAll =  EnemyNear(Var(3)),AnimTime <= -9
TriggerAll =  EnemyNear(Var(3)),Vel X = 0
trigger1 =  EnemyNear(Var(3)),MoveType = I

[State -3,近距離強キック]
type = ChangeState
value = 235
triggerall = Var(9)
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
triggerall =  EnemyNear(Var(3)),StateType != A
Triggerall = !inguarddist
Triggerall = Random <= Var(10)*100
triggerall = P2bodydist X = [-5,25]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll =  EnemyNear(Var(3)),AnimTime <= -7
TriggerAll =  EnemyNear(Var(3)),Vel X = 0
trigger1 =  EnemyNear(Var(3)),MoveType = I

[State -3,近距離強パンチ]
type = ChangeState
value = 225
triggerall = Var(9)
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
triggerall =  EnemyNear(Var(3)),StateType != A
Triggerall = !inguarddist
Triggerall = Random <= Var(10)*100
triggerall = P2bodydist X = [-5,25]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll =  EnemyNear(Var(3)),AnimTime <= -5
TriggerAll =  EnemyNear(Var(3)),Vel X = 0
trigger1 =  EnemyNear(Var(3)),MoveType = I

[State -3,しゃがみ強パンチ]
type = ChangeState
value = 420
triggerall = Var(9)
triggerall = RoundState = 2
triggerall = StateType != A
triggerall =  EnemyNear(Var(3)),StateType != L
triggerall =  EnemyNear(Var(3)),StateType != A
Triggerall = !inguarddist
Triggerall = Random <= Var(10)*100
triggerall = P2bodydist X = [-5,42]
triggerall = P2bodydist Y >= 0
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll =  EnemyNear(Var(3)),AnimTime <= -6
TriggerAll =  EnemyNear(Var(3)),Vel X = 0
trigger1 =  EnemyNear(Var(3)),MoveType = I

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;コンボ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,真心牙]
Type = ChangeState
Value = 2200
TriggerAll=(Var(9)&&Random<=Var(10)*ifelse(((GameTime%16)=0||(GameTime%300)=0||( EnemyNear(Var(3)),Life<=500)),100,10));||Var(6)=1
TriggerAll=Life <= floor(LifeMax/2)||Var(6)=1
TriggerAll=Power >= 3000
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,34]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveHit=1
trigger1 = stateno = 200 && AnimElem = 2,>= 0
trigger2 = stateno = 205 && AnimElem = 3,>= 0
trigger3 = stateno = 215 && AnimElem = 4,>= 0
trigger4 = stateno = 225 && AnimElem = 4,>= 0
trigger5 = stateno = 235 && AnimElem = 5,>= 0
trigger6 = stateno = 400 && AnimElem = 3,>= 0
trigger7 = stateno = 410 && AnimElem = 3,>= 0
trigger8 = stateno = 420 && AnimElem = 4,>= 0
trigger9 = stateno = 245 && AnimElem = 6,>= 0
trigger10 = stateno = 255 && AnimElem = 8,>= 0
trigger11 = stateno = 445 && AnimElem = 5,>= 0
trigger12 = stateno = 1005

[State -3,MAX超白龍]
Type = ChangeState
Value = 2150
TriggerAll=(Var(9)&&Random<=Var(10)*ifelse((Power>=3000||stateno = 1005),100,70));||Var(6)=1
TriggerAll=Power >= 2000
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,50-30*(StateNo = 420&&(EnemyNear(Var(3)),BackEdgeBodyDist > 30))-20*(StateNo = 420&&(EnemyNear(Var(3)),BackEdgeBodyDist <= 30))]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveHit=1
trigger1 = (stateno = 225 && AnimElem = 4,>= 0)||(stateno = 235 && AnimElem = 5,>= 0)||(stateno = 420 && AnimElem = 4,>= 0)
trigger2 = stateno = 1005

[State -3,超白龍]
Type = ChangeState
Value = 2100
TriggerAll=(Var(9)&&Random<=Var(10)*ifelse(stateno = 1005,100,ifelse(Power>=2000,60,25)))||Var(6)=1
TriggerAll=Power >= 1000
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,75-( EnemyNear(Var(3)),BackEdgeBodyDist <= 30)*35]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveHit=1
trigger1 =  EnemyNear(Var(3)),BackEdgeBodyDist > 40
trigger1 = (stateno = 200 && AnimElem = 2,>= 0)||(stateno = 205 && AnimElem = 3,>= 0)||(stateno = 215 && AnimElem = 4,>= 0)||(stateno = 225 && AnimElem = 4,>= 0)||(stateno = 235 && AnimElem = 5,>= 0)
trigger2 =  EnemyNear(Var(3)),BackEdgeBodyDist > 40
trigger2 = (stateno = 400 && AnimElem = 3,>= 0)||(stateno = 410 && AnimElem = 3,>= 0)||(stateno = 420 && AnimElem = 4,>= 0)
trigger3 =  EnemyNear(Var(3)),BackEdgeBodyDist <= 40
trigger3 = (stateno = 245 && AnimElem = 6,>= 0)||(stateno = 255 && AnimElem = 8,>= 0)||(stateno = 445 && AnimElem = 5,>= 0)
trigger4 = stateno = 1005&&Var(6)=1

[State -3,大鉄神]
Type = ChangeState
Value = 2000
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=Power >= 1000
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType = A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll=!InGuardDist
TriggerAll=MoveHit=1
trigger1 = stateno = 1005

[State -3,万泊後宴]
Type = ChangeState
Value = 1450
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,19]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveHit=1
trigger1 = (stateno = 200 && AnimElem = 2,>= 0)||(stateno = 205 && AnimElem = 3,>= 0)||(stateno = 215 && AnimElem = 4,>= 0)||(stateno = 225 && AnimElem = 4,>= 0)||(stateno = 235 && AnimElem = 5,>= 0)
trigger2 = (stateno = 400 && AnimElem = 3,>= 0)||(stateno = 410 && AnimElem = 3,>= 0)||(stateno = 420 && AnimElem = 4,>= 0)

[State -3,伏歩・後旋腿]
Type = ChangeState
Value = 445
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,60]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveContact=1
trigger1 = (stateno = 200 && AnimElem = 2,>= 0)||(stateno = 205 && AnimElem = 3,>= 0)||(stateno = 215 && AnimElem = 4,>= 0)||(stateno = 225 && AnimElem = 4,>= 0)||(stateno = 235 && AnimElem = 5,>= 0)
trigger2 = (stateno = 400 && AnimElem = 3,>= 0)||(stateno = 410 && AnimElem = 3,>= 0)||(stateno = 420 && AnimElem = 4,>= 0)

[State -3,弱・那夢波]
Type = ChangeState
Value = 1100
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,120]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveContact=1
trigger1 = (stateno = 245 && AnimElem = 6,>= 0)||(stateno = 255 && AnimElem = 8,>= 0)||(stateno = 445 && AnimElem = 5,>= 0)

[State -3,強・那夢波or強・天崩山or閃里肘皇or氣多閃里]
Type = ChangeState
Value = ifelse(Var(17) < 250,1105,ifelse(Var(17)<500,1005,ifelse(Var(17)<750,1300,1350)))
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,120]
TriggerAll=P2BodyDist Y>=0
TriggerAll=MoveContact=1
trigger1 = StateNo = 1402

[State -3,強・那夢波]
Type = ChangeState
Value = 1105
TriggerAll=(Var(9)&&Random<=Var(10)*100)||Var(6)=1
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),Alive
TriggerAll= EnemyNear(Var(3)),MoveType=H
TriggerAll= EnemyNear(Var(3)),StateType = A
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,60]
TriggerAll=P2BodyDist Y>=-60
TriggerAll=MoveContact=1
trigger1 = (stateno = 200 && AnimElem = 2,>= 0)||(stateno = 205 && AnimElem = 3,>= 0)||(stateno = 215 && AnimElem = 4,>= 0)||(stateno = 225 && AnimElem = 4,>= 0)||(stateno = 235 && AnimElem = 5,>= 0)
trigger2 = (stateno = 400 && AnimElem = 3,>= 0)||(stateno = 410 && AnimElem = 3,>= 0)||(stateno = 420 && AnimElem = 4,>= 0)

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;移動
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


[State -3,垂直小ジャンプ]
Type = ChangeState
value = 39
TriggerAll=Var(9) = 1
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5,44]
TriggerAll= EnemyNear(Var(3)),StateType=C
TriggerAll=StateNo!=101
TriggerAll=Ctrl|| stateno = 19 || stateno = 21
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
Trigger1 = Random <= Var(10)*100

[State -1, 前ジャンプ]
Type = ChangeState
value = 30
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
TriggerAll = StateNo!=101
triggerall = ctrl || stateno = 19 || stateno = 21
triggerall = !inguarddist
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall =  EnemyNear(Var(3)),StateType != A
triggerall =  EnemyNear(Var(3)),StateNo != [5000,5120]
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = P2BodyDist X = [70,140]
trigger1 = random <= Var(10)

[State -1, 前小ジャンプ]
Type = ChangeState
value = 32
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
TriggerAll = StateNo!=101
triggerall = ctrl || stateno = 19 || stateno = 21
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall = ! EnemyNear(Var(3)),numproj 
triggerall =  EnemyNear(Var(3)),StateNo != [5000,5120]
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 =  EnemyNear(Var(3)),movetype = A
trigger1 =  EnemyNear(Var(3)),statetype = C
trigger1 =  EnemyNear(Var(3)),HitDefAttr = SCA, NA
trigger1 = random <= var(10)*75
trigger1 = P2BodyDist X = [0,110]
trigger2 = !inguarddist
trigger2 =  EnemyNear(Var(3)),statetype = C
trigger2 = random <= var(10)*50
trigger2 = P2BodyDist X = [0,110]

[State -1,前中ジャンプ]
Type = ChangeState
value = 34
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19 || stateno = 21 || StateNo=101
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall = ! EnemyNear(Var(3)),numproj 
triggerall = !inguarddist
triggerall =  EnemyNear(Var(3)),StateNo != [5000,5120]
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = P2BodyDist X = [60,160]
trigger1 =  EnemyNear(Var(3)),movetype = A
trigger1 =  EnemyNear(Var(3)),statetype = C
trigger1 =  EnemyNear(Var(3)),HitDefAttr = SCA, NA
trigger1 = random <= var(10)*75
trigger2 = P2BodyDist X = [60,160]
trigger2 = !inguarddist
trigger2 =  EnemyNear(Var(3)),statetype = C
trigger2 = random <= var(10)*50

[State -1, 前大ジャンプ]
Type = ChangeState
value = 36
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19 || stateno = 21 || StateNo=101
triggerall =  EnemyNear(Var(3)),StateNo != [5000,5120]
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = P2BodyDist X = [150,220]
trigger1 =  EnemyNear(Var(3)),movetype = A
trigger1 =  EnemyNear(Var(3)),statetype = C
trigger1 =  EnemyNear(Var(3)),HitDefAttr = SCA, NA
trigger1 = random <= var(10)*75
trigger2 = P2BodyDist X = [150,220]
trigger2 = !inguarddist
trigger2 =  EnemyNear(Var(3)),statetype = C
trigger2 = random <= var(10)*50
trigger3 =  EnemyNear(Var(3)),movetype != H
trigger3 = P2BodyDist X >= 100
trigger3 = Enemy,NumProj ||  EnemyNear(Var(3)),HitDefAttr = SC,NP,SP,HP
trigger3 =  EnemyNear(Var(3)),StateType != A
trigger3 =  EnemyNear(Var(3)),time >= Var(20)
trigger3 = random <= 5*var(10)

[State -1, 後ジャンプ]
Type = ChangeState
value = 31
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19 || stateno = 21
triggerall = !inguarddist
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall = ( EnemyNear(Var(3)),MoveType != A &&  EnemyNear(Var(3)),StateType != A)
triggerall = P2BodyDist X = [60,120]
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = random <= floor(Var(10)/2)

[State -1,後ろ中ジャンプ]
Type = ChangeState
value = 35
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19 || stateno = 21 || StateNo=101
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall = P2BodyDist X = [40,80]
triggerall = ! EnemyNear(Var(3)),numproj 
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
triggerall = !inguarddist
trigger1 = random <= floor(Var(10)/2)

[State -1,後大ジャンプ]
Type = ChangeState
value = 37
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19 || stateno = 21 || StateNo=101
triggerall = !inguarddist
triggerall =  EnemyNear(Var(3)),movetype != H
triggerall =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = P2BodyDist X = [60,90]
trigger1 = random <= floor(Var(10)/2)

[State -1, ラン]
type = ChangeState
value = 100
triggerall = Var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist >= 30
triggerall = !inguarddist
triggerall = ctrl || stateno = 21 || stateno = 19
triggerall = EnemyNear(Var(3)),statetype != L
triggerall = !enemy,numproj
triggerall = EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = EnemyNear(Var(3)),StateNo != [5000,5120]
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 20*Var(10)
trigger2 = EnemyNear(Var(3)),StateNo != [5000,5120]
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*Var(10)
trigger3 = EnemyNear(Var(3)),StateNo != [5000,5120]
trigger3 = P2BodyDist X = [60,120]
trigger3 = random <= Var(10)
trigger4 = EnemyNear(Var(3)),statetype != L
trigger4 = EnemyNear(Var(3)),movetype = H
trigger4 = EnemyNear(Var(3)),stateno = [5000,5029]
trigger4 = random <= 100*var(10)
trigger4 = P2BodyDist X >= 100
trigger5 = EnemyNear(Var(3)),statetype = L
trigger5 = EnemyNear(Var(3)),StateNo = [5000,5120]
trigger5 = random <= var(10)
trigger5 = P2BodyDist X >= 100



[State -1, 後歩き]
type = ChangeState
value = 21
triggerall = Var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 =  EnemyNear(Var(3)),movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= Var(10)
trigger2 =  EnemyNear(Var(3)),movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 3*Var(10)
trigger3 =  EnemyNear(Var(3)),movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 5*Var(10)
trigger4 =  EnemyNear(Var(3)),statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 15*Var(10)
trigger5 =  EnemyNear(Var(3)),movetype = H
trigger5 =  EnemyNear(Var(3)),statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 =  EnemyNear(Var(3)),BackEdgeBodyDist <= 0 ||  EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
trigger5 = random <= 100*Var(10)
trigger5 =  EnemyNear(Var(3)),stateno != [2180,2183]
trigger6 =  EnemyNear(Var(3)),stateno = [2180,2183]
trigger6 = FrontEdgeBodyDist >= 70
trigger6 = P2BodyDist X= [0,50]
trigger6 =  EnemyNear(Var(3)),Vel Y < 0 

[State -1,前歩き]
type = ChangeState
value = 19
triggerall = Var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 50*Var(10)
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 25*Var(10)
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 15*Var(10)
trigger3 = EnemyNear(Var(3)),stateno != [5000,5210]
trigger4 = EnemyNear(Var(3)),StateNo= [120,155];ガードしてる敵に近づく
trigger4 = random <= 50*Var(10)
trigger4 = P2BodyDist X <= 60
trigger5 = EnemyNear(Var(3)),statetype != L
trigger5 = EnemyNear(Var(3)),movetype = H
trigger5 = EnemyNear(Var(3)),stateno = [5000,5029]
trigger5 = EnemyNear(Var(3)),stateno != [2180,2183]
trigger5 = random <= 100*var(10)
trigger6 = EnemyNear(Var(3)),stateno = [2180,2183]
trigger6 = P2BodyDist X>= 160
trigger6 = EnemyNear(Var(3)),Vel Y < 0 

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ち回り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


;パワー溜め
[State -1,パワー溜め]
type = ChangeState
value = 310
triggerall = Var(9) = 1
triggerall = roundstate = 2
triggerall = power < PowerMAX
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21
triggerall = !inguarddist
triggerall = !enemy,numproj
triggerall = EnemyNear(Var(3)),stateno != [2180,2183]
trigger1 = p2bodydist X > 180
trigger1 = random <= 40*Var(10)
trigger2 = p2bodydist X >= 120
trigger2 = P2statetype = L
trigger2 = random <= 50*Var(10)
trigger3 = p2bodydist X >= 120
trigger3 = P2BodyDist Y >= -15
trigger3 =  EnemyNear(Var(3)),stateno = [5030,5210]
trigger3 = random <= 80*Var(10)


;////////////////////////////////
;投げ
;////////////////////////////////

[State -3,投げ]
Type = ChangeState
value = 800
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=p2bodydist x < 20
TriggerAll=StateNo!=101
TriggerAll=Ctrl || stateno = 19 || stateno = 21
TriggerAll=Random <= Var(10)*100
Trigger1 =  EnemyNear(Var(3)),MoveType = I
Trigger2 =  EnemyNear(Var(3)),StateNo=[120,139]

;////////////////////////////////
;落下する敵に対して
;////////////////////////////////

[State -3,大鉄神]
type = ChangeState
value = 2000
triggerall = var(9);||var(6) = 1
triggerall = Power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = 2183
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)||var(6) = 1

[State -3,強・那夢波]
type = ChangeState
value = 1105
triggerall = var(9)||var(6) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = 2183
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = P2BodyDist X = [60+floor(19*( EnemyNear(Var(3)),vel X)),145+floor(19*( EnemyNear(Var(3)),vel X))]
triggerall = P2BodyDist Y = [-40-floor(19*( EnemyNear(Var(3)),vel Y)+(19*(19+1)/2)*fvar(39)),-1-floor(19*( EnemyNear(Var(3)),vel Y)+(19*(19+1)/2)*fvar(39))]
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)||var(6) = 1

[State -3,強・天崩山]
type = ChangeState
value = 1005
triggerall = var(9)||var(6) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = 2183
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = P2BodyDist X = [0+floor(13*( EnemyNear(Var(3)),vel X)),60+floor(13*( EnemyNear(Var(3)),vel X))]
triggerall = P2BodyDist Y = [-30-floor(13*( EnemyNear(Var(3)),vel Y)+(13*(13+1)/2)*fvar(39)),-1-floor(13*( EnemyNear(Var(3)),vel Y)+(13*(13+1)/2)*fvar(39))]
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)||var(6) = 1

[State -3,強・天崩山]
type = ChangeState
value = 1005
triggerall = var(9)||var(6) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = [5000,5210]
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = Var(18) = 1
triggerall = P2BodyDist X = [-10,50]
triggerall = P2BodyDist Y <= -1-floor(13*( EnemyNear(Var(3)),vel Y)+(13*(13+1)/2)*fvar(39))
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)||var(6) = 1

[State -3,遠距離立ち強キック]
type = ChangeState
value = ifelse(P2BodyDist X <= 25,235,230)
triggerall = var(9)||var(6) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = [5000,5210]
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = Var(18) = 1
triggerall = P2BodyDist X = [-15,70]
triggerall = P2BodyDist Y <= -1-floor(7*( EnemyNear(Var(3)),vel Y)+(7*(7+1)/2)*fvar(39))
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)||var(6) = 1

[State -3,しゃがみ強パンチ]
type = ChangeState
value = 420
triggerall = var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
triggerall =  EnemyNear(Var(3)),stateno = [5000,5210]
triggerall = !Inguarddist
triggerall =  EnemyNear(Var(3)),alive
triggerall =  EnemyNear(Var(3)),statetype = A
triggerall = P2BodyDist X = [0+floor(6*( EnemyNear(Var(3)),vel X)),42+floor(6*( EnemyNear(Var(3)),vel X))]
triggerall = P2BodyDist Y = [-60-floor(6*( EnemyNear(Var(3)),vel Y)+(6*(6+1)/2)*fvar(39)),-1-floor(6*( EnemyNear(Var(3)),vel Y)+(6*(6+1)/2)*fvar(39))]
triggerall = !enemy,numproj
trigger1 = random <= 100*var(10)

;////////////////////////////////
;対空
;////////////////////////////////

[State -3,立ち弱パンチ]
Type = ChangeState
value = ifelse(p2bodydist x > 18,200,205)
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X = [0+floor(2*( EnemyNear(Var(3)),vel X)),48+floor(2*( EnemyNear(Var(3)),vel X))]
TriggerAll=P2BodyDist Y = [-60-floor(2*( EnemyNear(Var(3)),vel Y)+(2*(2+1)/2)*fvar(39)),-1-floor(2*( EnemyNear(Var(3)),vel Y)+(2*(2+1)/2)*fvar(39))]
TriggerAll= EnemyNear(Var(3)),StateType=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||Var(10) > 10
Trigger1 = Random <= Var(10)*100

[State -3,しゃがみ強パンチ]
Type = ChangeState
value = 420
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X = [0+floor(6*( EnemyNear(Var(3)),vel X)),42+floor(6*( EnemyNear(Var(3)),vel X))]
TriggerAll=P2BodyDist Y = [-60-floor(6*( EnemyNear(Var(3)),vel Y)+(6*(6+1)/2)*fvar(39)),-1-floor(6*( EnemyNear(Var(3)),vel Y)+(6*(6+1)/2)*fvar(39))]
TriggerAll= EnemyNear(Var(3)),StateType=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll= EnemyNear(Var(3)),Time>=Var(20)||Var(10) > 10
Trigger1 = Random <= Var(10)*100

;////////////////////////////////
;下段
;////////////////////////////////

[State -3,しゃがみ弱キック]
Type = ChangeState
value = 410
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5+floor(5*( EnemyNear(Var(3)),vel X)),40+floor(5*( EnemyNear(Var(3)),vel X))]
TriggerAll= EnemyNear(Var(3)),StateType=S
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= Var(10)*70

[State -3,しゃがみ強キック]
Type = ChangeState
value = 430
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5+floor(6*( EnemyNear(Var(3)),vel X)),65+floor(6*( EnemyNear(Var(3)),vel X))]
TriggerAll= EnemyNear(Var(3)),StateType=S
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= Var(10)

;////////////////////////////////
;中段
;////////////////////////////////

[State -3,双掌打]
Type = ChangeState
value = 240
TriggerAll=Var(10)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[-5+floor(20*( EnemyNear(Var(3)),vel X)),60+floor(20*( EnemyNear(Var(3)),vel X))]
TriggerAll= EnemyNear(Var(3)),StateType=C
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= Var(10)*3

;////////////////////////////////
;牽制
;////////////////////////////////

[State -3,立ち弱パンチ]
Type = ChangeState
value = ifelse(p2bodydist x > 18,200,205)
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X = [-5+floor(2*( EnemyNear(Var(3)),vel X)),48+floor(2*( EnemyNear(Var(3)),vel X))]
TriggerAll=P2BodyDist Y >= -10-floor(2*( EnemyNear(Var(3)),vel Y)+(2*(2+1)/2)*fvar(39))
TriggerAll=( EnemyNear(Var(3)),StateNo != [120,159])|| EnemyNear(Var(3)),StateType=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= Var(10)*80

[State -3,立ち強パンチ]
Type = ChangeState
value = ifelse(p2bodydist x > 25,220,225)
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X = [-5+floor(8*( EnemyNear(Var(3)),vel X)),60+floor(8*( EnemyNear(Var(3)),vel X))]
TriggerAll=P2BodyDist Y >= -10-floor(8*( EnemyNear(Var(3)),vel Y)+(8*(8+1)/2)*fvar(39))
TriggerAll=( EnemyNear(Var(3)),StateNo != [120,159])|| EnemyNear(Var(3)),StateType=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= Var(10)

[State -3,立ち強キック]
Type = ChangeState
value = ifelse(p2bodydist x > 25,230,235)
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X = [-5+floor(7*( EnemyNear(Var(3)),vel X)),70+floor(7*( EnemyNear(Var(3)),vel X))]
TriggerAll=P2BodyDist Y >= -10-floor(7*( EnemyNear(Var(3)),vel Y)+(7*(7+1)/2)*fvar(39))
TriggerAll=( EnemyNear(Var(3)),StateNo != [120,159])|| EnemyNear(Var(3)),StateType=A
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
Trigger1 = Random <= floor(Var(10)/2)

;////////////////////////////////
;ぶっぱ
;////////////////////////////////

[State -3,閃里肘皇or氣多閃里]
Type = ChangeState
value = ifelse((GameTime%2)=0,1300,1350)
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll= EnemyNear(Var(3)),MoveType=A|| EnemyNear(Var(3)),Ctrl
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll=P2BodyDist X = [-15,110]
TriggerAll=P2BodyDist Y >= 0
Trigger1 = Var(10)<6
Trigger1 = Random<=300
Trigger2 = Var(10)=[5,9]
Trigger2 = Random<=(10-Var(10))*30
Trigger3 = Var(10)>9
Trigger3 = Random<=10

[State -3,万泊後宴]
Type = ChangeState
value = 1400
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll= EnemyNear(Var(3)),MoveType=A|| EnemyNear(Var(3)),Ctrl
TriggerAll=Ctrl || stateno = 19 || stateno = 21|| (stateno = [30,39]) || (stateno = 52 && animelem = 1, >= 1) || stateno = 101 || (stateno = [120,139])
TriggerAll=P2BodyDist X = [-5,45]
TriggerAll=P2BodyDist Y >= 0
Trigger1 = Var(10)<6
Trigger1 = Random<=100
Trigger2 = Var(10)=[5,9]
Trigger2 = Random<=(10-Var(10))*5
Trigger3 = Var(10)>9
Trigger3 = Random<=5

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空中
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,空中ふっ飛ばし]
Type = ChangeState
value = 650
TriggerAll=Var(9)
TriggerAll=RoundState = 2
TriggerAll=StateType=A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
triggerall = P2BodyDist X = [0+floor(11*( EnemyNear(Var(3)),vel X)+floor(11*vel X)),50+floor(11*( EnemyNear(Var(3)),vel X)+floor(11*vel X))]
triggerall = P2BodyDist Y = [-25-floor(11*( EnemyNear(Var(3)),vel Y)+(11*(11+1)/2)*fvar(39)-floor(11*vel Y)-(11*(11+1)/2)*0.47),43-floor(11*( EnemyNear(Var(3)),vel Y)+(11*(11+1)/2)*fvar(39)-floor(11*vel Y)-(11*(11+1)/2)*0.47)]
triggerall =  EnemyNear(Var(3)),statetype = A
TriggerAll=Ctrl || (stateno = [120,139])
Trigger1 = Random <= Var(10)*100

[State -3,空中強P]
Type = ChangeState
value = 620
TriggerAll=Var(9)
TriggerAll=Vel X = 0
TriggerAll=RoundState = 2
TriggerAll=StateType=A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
triggerall = P2BodyDist X = [0+floor(5*( EnemyNear(Var(3)),vel X)+floor(5*vel X)),30+floor(5*( EnemyNear(Var(3)),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [0-floor(5*( EnemyNear(Var(3)),vel Y)+(5*(5+1)/2)*fvar(39)-floor(5*vel Y)-(5*(5+1)/2)*0.47),43-floor(5*( EnemyNear(Var(3)),vel Y)+(5*(5+1)/2)*fvar(39)-floor(5*vel Y)-(5*(5+1)/2)*0.47)]
triggerall = ( EnemyNear(Var(3)),statetype != A && Vel Y >= 0)
TriggerAll=Ctrl || (stateno = [120,139])
Trigger1 = Random <= Var(10)*100

[State -3,空中弱K]
Type = ChangeState
value = 615
TriggerAll=Var(9)
TriggerAll=Vel X != 0
TriggerAll=RoundState = 2
TriggerAll=StateType=A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
triggerall = P2BodyDist X = [-30+floor(7*( EnemyNear(Var(3)),vel X)+floor(7*vel X)),20+floor(7*( EnemyNear(Var(3)),vel X)+floor(7*vel X))]
triggerall = P2BodyDist Y = [0-floor(7*( EnemyNear(Var(3)),vel Y)+(7*(7+1)/2)*fvar(39)-floor(7*vel Y)-(7*(7+1)/2)*0.47),43-floor(7*( EnemyNear(Var(3)),vel Y)+(7*(7+1)/2)*fvar(39)-floor(7*vel Y)-(7*(7+1)/2)*0.47)]
triggerall = ( EnemyNear(Var(3)),statetype != A && Vel Y >= 0)
TriggerAll=Ctrl || (stateno = [120,139])
Trigger1 = Random <= Var(10)*100

[State -3,空中強K]
Type = ChangeState
value = 635
TriggerAll=Var(9)
TriggerAll=Vel X != 0
TriggerAll=RoundState = 2
TriggerAll=StateType=A
TriggerAll= EnemyNear(Var(3)),StateType != L
TriggerAll= EnemyNear(Var(3)),MoveType != H
TriggerAll=!InGuardDist
triggerall = P2BodyDist X = [-30+floor(8*( EnemyNear(Var(3)),vel X)+floor(8*vel X)),50+floor(8*( EnemyNear(Var(3)),vel X)+floor(8*vel X))]
triggerall = P2BodyDist Y = [-10-floor(8*( EnemyNear(Var(3)),vel Y)+(8*(8+1)/2)*fvar(39)-floor(8*vel Y)-(8*(8+1)/2)*0.47),43-floor(8*( EnemyNear(Var(3)),vel Y)+(8*(8+1)/2)*fvar(39)-floor(8*vel Y)-(8*(8+1)/2)*0.47)]
triggerall = ( EnemyNear(Var(3)),statetype != A && Vel Y >= -3)
TriggerAll=Ctrl || (stateno = [120,139])
Trigger1 = Random <= Var(10)*100



;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用変数
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,行動確認]
type = varset
trigger1 = 1
var(6) = 0

[State -3, ai1]
type = Varset
triggerall = var(9) != 1
triggerall = RoundState != 3
trigger1 = command = "AI_1"
trigger2 = command = "AI_2"
trigger3 = command = "AI_3"
trigger4 = command = "AI_4"
trigger5 = command = "AI_5"
trigger6 = command = "AI_6"
trigger7 = command = "AI_7"
trigger8 = command = "AI_8"
trigger9 = command = "AI_9"
trigger10 = command = "AI_10"
var(9) = 1
ignorehitpause = 1

[State -3, ai1]
type = Varset
triggerall = var(9) != 1
triggerall = RoundState != 3
trigger1 = command = "AI_11"
trigger2 = command = "AI_12"
trigger3 = command = "AI_13"
trigger4 = command = "AI_14"
trigger5 = command = "AI_15"
trigger6 = command = "AI_16"
trigger7 = command = "AI_17"
trigger8 = command = "AI_18"
trigger9 = command = "AI_19"
trigger10 = command = "AI_20"
trigger11 = NumHelper(10000)
trigger11 = Helper(10000),var(9)
var(9) = 1
ignorehitpause = 1

[State -3, SetAI]
type = VarSet
triggerall = Alive && RoundState = 2
triggerall = IsHomeTeam && !IsHelper
trigger1 = TeamSide = 2
trigger2 = MatchNo > 1
var(9) = 1
ignorehitpause = 1

[State -1,死体に反応しないように]
Type = Varset
trigger1 = NumEnemy > 1
trigger1 = EnemyNear(0),Life > 0
trigger2 = NumEnemy = 1
V = 3
Value = 0

[State -1,死体に反応しないように]
Type = Varset
trigger1 = NumEnemy > 1
trigger1 = EnemyNear(0),Life <= 0
V = 3
Value = 1

[State -3,中段記憶]
Type = VarSet
triggerall = var(9)
triggerall = var(13) = 0
triggerall = roundstate = 2
triggerall = StateNo != [120,159]
trigger1 = Statetype = C
trigger1 =  EnemyNear(Var(3)),StateType != A
trigger1 = MoveType = H
teigger1 = StateNo = [5000,5011]
trigger1 = PrevStateNo=131||(PrevStateNo=[151,153])
V = 13
Value =  EnemyNear(Var(3)),StateNo

[State -3,中段記憶]
Type = VarSet
triggerall = var(9)
triggerall = roundstate = 2
trigger1 = Var(13) != 0
trigger1 =  EnemyNear(Var(3)),StateNo = Var(13)
V = 14
Value = 1

[State -3,中段記憶]
Type = VarSet
triggerall = var(9)
triggerall = roundstate = 2
trigger1 = Var(13) != 0
trigger1 =  EnemyNear(Var(3)),StateNo != Var(13)
V = 14
Value = 0

[State -3,VarRandom]
Type = VarRandom
trigger1 = Var(9) = 1||Var(6)=1
V = 17
Value = 0,999

[State -3]
Type = VarSet
trigger1 =  EnemyNear(Var(3)),BackEdgeBodyDist <= 50
trigger1 = Projhit1000 = 1
var(18) = 1

[State -3]
Type = VarSet
trigger1 =  EnemyNear(Var(3)),Ctrl
trigger2 = StateNo > 100 && StateNo != [1100,1105]
var(18) = 0

[State -3]
Type = VarSet
triggerall = Var(9) = 1
trigger1 = stateno != [200,445]
var(19) = 0

[State -3]
Type = VarSet
triggerall = Var(9) = 1
trigger1 = stateno = 200 && AnimElem = 2,>= 0
trigger2 = stateno = 205 && AnimElem = 3,>= 0
trigger3 = stateno = 215 && AnimElem = 4,>= 0
trigger4 = stateno = 225 && AnimElem = 4,>= 0
trigger5 = stateno = 235 && AnimElem = 5,>= 0
trigger6 = stateno = 400 && AnimElem = 3,>= 0
trigger7 = stateno = 410 && AnimElem = 3,>= 0
trigger8 = stateno = 420 && AnimElem = 4,>= 0
trigger9 = stateno = 430 && AnimElem = 3,>= 0
trigger10 = stateno = 300 && AnimElem = 8,>= 0
trigger11 = stateno = 245 && AnimElem = 6,>= 0
trigger12 = stateno = 255 && AnimElem = 8,>= 0
trigger13 = stateno = 445 && AnimElem = 5,>= 0
var(19) = 1


[State -3,反応]
Type = VarRandom
trigger1 = roundstate = 2
V = 20
Range = (20-Var(10)*2),(60-Var(10)*2)

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;重力計算
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[state -1, yaccel]
type = varset
trigger1 = fvar(39) !=  EnemyNear(Var(3)),const(movement.yaccel)
trigger1 =  EnemyNear(Var(3)),stateno != [5000,5210]
trigger1 =  EnemyNear(Var(3)),Vel Y != 0
FV = 39
value =  EnemyNear(Var(3)),const(movement.yaccel)
ignorehitpause = 1

[state -1, yaccel]
type = varset
trigger1 = fvar(39) !=  EnemyNear(Var(3)),GetHitVar(yaccel)
trigger1 =  EnemyNear(Var(3)),stateno = [5000,5210]
;trigger1 =  EnemyNear(Var(3)),Vel Y != 0
FV = 39
value =  EnemyNear(Var(3)),GetHitVar(yaccel)
ignorehitpause = 1

[state -1, yaccel]
type = varset
trigger1 = fvar(39) != 0
trigger1 =  EnemyNear(Var(3)),Vel Y = 0
FV = 39
value = 0
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;//////////////////////////////////////////////
;AI起動用
;//////////////////////////////////////////////

[State -3, AI起動用ヘルパー]
type=helper
trigger1=!IsHelper
trigger1=!NumHelper(10000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(9)!=1
Trigger1=(PrevStateNo=[190,199])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=10000
ID=10000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

;念のため↓も付けておく
[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(10000)
trigger1= stateno!=10000
value=10000

;//////////////////////////////////////////////
;相手仰け反り時間用
;//////////////////////////////////////////////

[State -3, 仰け反り時間確認ヘルパー]
type=helper
trigger1=!IsHelper
trigger1=!NumHelper(10001)
trigger1=roundstate=2
trigger1=alive
helpertype=normal
name="NOKEZORI"
stateno=10001
ID=10001
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

;念のため↓も付けておく
[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(10001)
trigger1= stateno!=10001
value=10001

;//////////////////////////////////////////////
;画面端用
;//////////////////////////////////////////////

[State -3, Right]
Type = Helper
Trigger1 = !NumHelper(21000+id) && !IsHelper && RoundState < 3 && alive
HelperType = Normal
Name = "Right"
PosType = left
StateNo = 21000
ID = 21000+id
PauseMoveTime = 0
facing = -1
pos=160,9999
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0
IgnoreHitPause = 1
KeyCtrl = 0
Ownpal = 0

[State -3, Left]
Type = Helper
Trigger1 = !NumHelper(21005+id) && !IsHelper && RoundState < 3 && alive
HelperType = Normal
Name = "Left"
PosType = left
StateNo = 21000
ID = 21005+id
PauseMoveTime = 0
pos=160,9999
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0
IgnoreHitPause = 1
KeyCtrl = 0
Ownpal = 0

[State -3]
type=changestate
trigger1= ishelper
trigger1= (ishelper(21000+root,id)||ishelper(21005+root,id)) && stateno !=21000
value=21000


;AI記述終了
;---------------------------------------------------------------------------------------------------------

;----------------------------------------------------------------
;サウンド

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5201
value = 350,0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 106
value = 0,2

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 105
value = 0,4

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1 && var(5) = 0
trigger1 = stateno = 50
trigger2 = stateno = 950
value = S0,0

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1 && var(5) = 1
trigger1 = stateno = 50
trigger2 = stateno = 950
value = S0,1

[State -2, 4]
type = VarRandom
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 4
range = 0,15

[State -2, 5]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [0,3]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,0

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [4,7]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,1

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [8,11]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,2

;-------------------------------------------------------------------
;ジャンプ無敵

[state -3,ジャンプ無敵]
type = nothitby
trigger1 = stateno = [30,40]
value = SCA

;-------------------------------------------------------------------
;リセット

[state -3, stance]
type = Varset
trigger1 = movetype = H
var(7) = 0

;-------------------------------------------------------------------
;1P2P判別 

[State -3]
type = varset
trigger1 = var(1) = 0 && facing = 1
v = 1
value = 1
ignorehitpause = 1

[State -3]
type = varset
trigger1 = var(1) = 0 && facing = -1
v = 1
value = 2
ignorehitpause = 1

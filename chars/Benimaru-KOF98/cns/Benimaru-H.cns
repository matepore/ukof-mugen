;---------------------------------------------------------------------------
; ここからは超必殺技のステート
;---------------------------------------------------------------------------
; 弱雷光拳

[Statedef 3000]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3000
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 3000, パワーゲージ消費]
type = poweradd
trigger1 = var(40) = 0
trigger1 = time = 0
value = -1000

[State 3000, パワーMAX解除]
type = VarSet
trigger1 = time = 0
v = 40
value = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(3) < 0
value = SCA

[State 3000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 28
time = 28
darken = 0
p2defmul = 1.0

[State 3000, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,28]
flag = NoFG
flag2 = NOBG
flag3 = GlobalNoShadow
ignorehitpause = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7000
pos = -28,-88
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7001
pos = -28,-88
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,20
channel = 10

[State 3000, Bolt]
type = Explod
trigger1 = AnimElem = 3,= 1
anim = 3002
sprpriority = 5
postype = p1
pos = -28,-88
bindtime = -1
supermove = 1

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 3,= 2
anim = 3001
sprpriority = 6
postype = p1
pos = -29,-89
bindtime = -1
supermove = 1

[State 3000, SFX]
type = PlaySnd
trigger1 = AnimElem = 6
value = s12,2

[State 3000, Lightning Ball]
type = Explod
trigger1 = AnimElem = 6
anim = 3005
ownpal = 1
sprpriority = 5
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
attr = S, HP
damage    = floor(ifelse(var(6),24,7)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -80
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -10-ifelse(var(40),1,0)
airguard.velocity = -4-ifelse(var(40),1,0),-1-ifelse(var(40),1,0)
air.type = High
air.velocity = -4.5-ifelse(var(40),1,0),-6.5-ifelse(var(40),1,0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 16
attr = S, HP
damage    = floor(ifelse(var(6),24,7)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -80
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -4,-8
air.type = High
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 1000, 電気攻撃エフェクト]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 6120
ID = 6120
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 強雷光拳

[Statedef 3010]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3010
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 3000, パワーゲージ消費]
type = poweradd
trigger1 = var(40) = 0
trigger1 = time = 0
value = -1000

[State 3000, パワーMAX解除]
type = VarSet
trigger1 = time = 0
v = 40
value = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(3) < 0
value = SCA

[State 3000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 28
time = 28
darken = 0
p2defmul = 1.0

[State 3000, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,28]
flag = NoFG
flag2 = NOBG
flag3 = GlobalNoShadow
ignorehitpause = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7000
pos = -28,-88
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7001
pos = -28,-88
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,20
channel = 10

[State 3000, Bolt]
type = Explod
trigger1 = AnimElem = 3,= 1
anim = 3002
sprpriority = 5
postype = p1
pos = -8,-88
bindtime = -1
supermove = 1

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 3,= 2
anim = 3001
sprpriority = 6
postype = p1
pos = -9,-89
bindtime = -1
supermove = 1

[State 3000, SFX]
type = PlaySnd
trigger1 = AnimElem = 6
value = s12,2

[State 3000, Lightning Ball]
type = Explod
trigger1 = AnimElem = 6
anim = 3005
ownpal = 1
sprpriority = 5
postype = p1
removeongethit = 1
pos = 61,-116
bindtime = -1

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
attr = S, HP
damage    = floor(ifelse(var(6),24,7)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -120
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -10-ifelse(var(40),1,0)
airguard.velocity = -4-ifelse(var(40),1,0),-1-ifelse(var(40),1,0)
air.type = High
air.velocity = -4.5-ifelse(var(40),1,0),-6.5-ifelse(var(40),1,0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 15
attr = S, HP
damage    = floor(ifelse(var(6),24,7)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -120
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -4,-9
air.type = High
air.velocity = -4,-9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 1000, 電気攻撃エフェクト]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 6120
ID = 6120
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX雷光拳

[Statedef 3050]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3050
ctrl     = 0
sprpriority = 2
poweradd = -1000
facep2 = 1

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 3000, パワーゲージ消費]
type = poweradd
trigger1 = var(40) = 0
trigger1 = time = 0
value = -2000

[State 3000, パワーMAX解除]
type = VarSet
trigger1 = time = 0
v = 40
value = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(4) < 0
value = SCA

[State 3000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 28
time = 28
darken = 0
p2defmul = 1.0

[State 3000, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,28]
flag = NoFG
flag2 = NOBG
flag3 = GlobalNoShadow
ignorehitpause = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7010
pos = -28,-88
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7011
pos = -28,-88
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,20
channel = 10

[State 3000, Bolt]
type = Explod
trigger1 = AnimElem = 3,= 1
anim = 3052
sprpriority = 5
postype = p1
pos = -28,-88
bindtime = -1
supermove = 1

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 3,= 2
anim = 3051
sprpriority = 6
postype = p1
pos = -29,-89
bindtime = -1
supermove = 1

[State 3500, SFX]
type = PlaySnd
trigger1  = AnimElem = 6
trigger2  = AnimElem = 7
trigger3  = AnimElem = 9
trigger4  = AnimElem = 11
trigger5  = AnimElem = 13
trigger6  = AnimElem = 15
trigger7  = AnimElem = 17
trigger8  = AnimElem = 19
trigger9  = AnimElem = 21
trigger10 = AnimElem = 23
value = s12,2

[State 3500, Lightning Ball1]
type = Explod
trigger1 = AnimElem = 6
anim = 3055
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 3500, Lightning Ball2]
type = Explod
trigger1 = AnimElem = 7
anim = 3055
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 63,-96
bindtime = -1

[State 3500, Lightning Ball3]
type = Explod
trigger1 = AnimElem = 9
anim = 3056
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 76,-56
bindtime = -1

[State 3500, Lightning Ball4]
type = Explod
trigger1 = AnimElem = 11
anim = 3055
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 56,-74
bindtime = -1

[State 3500, Lightning Ball5]
type = Explod
trigger1 = AnimElem = 13
anim = 3055
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 96,-88
bindtime = -1

[State 3500, Lightning Ball6]
type = Explod
trigger1 = AnimElem = 15
anim = 3056
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 78,-72
bindtime = -1

[State 3500, Lightning Ball7]
type = Explod
trigger1 = AnimElem = 17
anim = 3055
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball8]
type = Explod
trigger1 = AnimElem = 19
anim = 3056
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball9]
type = Explod
trigger1 = AnimElem = 21
anim = 3056
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 98,-76
bindtime = -1

[State 3500, Lightning Ball10]
type = Explod
trigger1 = AnimElem = 23
anim = 3057
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
trigger5 = AnimElem = 15
trigger6 = AnimElem = 17
trigger7 = AnimElem = 19
trigger8 = AnimElem = 21
trigger9 = AnimElem = 23
attr = S, HP
damage    = floor(ifelse(var(6),29,6)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -80
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -10-ifelse(var(40),1,0)
airguard.velocity = -4-ifelse(var(40),1,0),-1-ifelse(var(40),1,0)
air.type = High
air.velocity = -4.5-ifelse(var(40),1,0),-6.5-ifelse(var(40),1,0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 3000, ヒット定義]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 25
attr = S, HP
damage    = floor(ifelse(var(6),29,6)*fvar(7)),10
getpower  = 0
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag   = MAFP
priority  = 4, Hit
pausetime = 0,12+helper(40000),var(0)
sparkno = s6005
guard.sparkno = s6012
sparkxy = -30, -80
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -4,-8
air.type = High
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 0,10,50
palfx.mul = 240,240,240
palfx.sinadd = 100,100,100,5
palfx.invertall = 1
palfx.color = 0

[State 1000, 電気攻撃エフェクト]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 6120
ID = 6120
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;==============================================================================
; エレクトリッガー

[Statedef 3100]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3100
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 3000, パワーゲージ消費]
type = poweradd
trigger1 = var(40) = 0
trigger1 = time = 0
value = -1000

[State 3000, パワーMAX解除]
type = VarSet
trigger1 = time = 0
v = 40
value = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(5) < 0
value = SCA

[State 3000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 28
time = 28
darken = 0
p2defmul = 1.0

[State 3000, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,28]
flag = NoFG
flag2 = NOBG
flag3 = GlobalNoShadow
ignorehitpause = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7000
pos = -15,-82
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7001
pos = -15,-82
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,21
channel = 10

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = var(17) = 0 || p2movetype = H
triggerall = var(18) != 2
triggerall = p2stateNo != [150,155]
trigger1 = AnimElem = 4
trigger1 = p2bodydist X <= 30
attr = S, ST
hitflag = M
numhits = 0
priority = 1, Miss
sparkno = -1
sparkxy = -20,-80
p1sprpriority = 1     ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 0     ;攻撃が当たった時に相手の画像表示優先度を0にします
p2facing = 1
p1stateno = 3110
;p2stateno = 3120
guard.dist = 0
;fall = 1
numhits = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; エレクトリッガー・投げている（自分）

[Statedef 3110]
type    = S
movetype= A
physics = S
anim = 3110
sprpriority = 3

[State 3110, TargetState]
type = TargetState
Trigger1 = time = 0
value = 3120

[State 3210, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3210, Color]
type = EnvColor
trigger1 = timemod = 6, 1 && time > 25 && animelem = 6 < 0
value = 255, 255, 255
time = 1

[State 3210, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16

[State 3210, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 28,0

[State 3210, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 4,-20

[State 3210, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 0,0

[State 3210, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = 8,0

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -4,-45

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 7, >= 0 && animelem = 8, < 0
pos = -16,-44

[State 3210, Bind6]
type = TargetBind
trigger1 = animelem = 8, = 0
pos = 31,-39

[State 3210, Bolt]
type = Explod
trigger1 = time = 24
anim = 3111
id = 3111
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = time = 24
value = s12,6

[State 3210, KillBolt]
type = RemoveExplod
trigger1 = time = 76
id = 3111

[State 3210, Spark]
type = Explod
trigger1 = AnimElem = 8
anim = 3112
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110

[State 3210, Shock]
type = PalFX
trigger1 = timemod = 2, 1 && time >= 24 && animelem = 7 < 0
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3210, Spark]
type = Explod
trigger1 = timemod = 3, 1 && time >= 24 && animelem = 7 < 0
anim = 1612
id = 1612
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = AnimElem = 8
value = s12,7

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = AnimElem = 5,= 5
trigger2 = AnimElem = 5,= 10
trigger3 = AnimElem = 5,= 15
trigger4 = AnimElem = 5,= 20
trigger5 = AnimElem = 5,= 25
trigger6 = AnimElem = 5,= 30
trigger7 = AnimElem = 5,= 35
trigger8 = AnimElem = 5,= 40
trigger9 = AnimElem = 5,= 45
value = -floor((4*fvar(7))*fvar(0))
kill = 0

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = AnimElem = 8
value = -floor((4*fvar(7))*fvar(0))

[State 3210, Spark]
type = Explod
triggerall = random <= 800 && numexplod(1612) <= 1
trigger1 = time > 97
anim = 1612
id = 1612
postype = p2
pos = -10,-40
random = 70,20
bindtime = 1
sprpriority = 5

[State 3210, Move2]
type = PosAdd
trigger1 = animelem = 10
x = -14

[State 3210, Move3]
type = PosAdd
trigger1 = animelem = 11
x = -12

[State 3210, Move4]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animtime = 0
x = -16

[State 3000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; エレクトリッガー・投げられている（相手の動作）動作

[Statedef 3120]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3220, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3220, ScreenBound]
type = ScreenBound
trigger1 = time < 97
movecamera = 0, 0

[State 3120, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3120

[State 3220, Shock]
type = PalFX
trigger1 = timemod = 2, 1 && time >= 24
time = 1
add = 0,10,50
mul = 240,240,240
sinadd = 100,100,100,5
invertall = 1
color = 0

[State 3120, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 74
value = 3121

[State 3120, ChangeAnim]
type = ChangeAnim
trigger1 = time = 97
value = 5050

[State 3120, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(5060)
trigger1 = time = 102
value = 5060

[State 3220, FlyAway]
type = VelSet
trigger1 = time = 97
x = -6
y = -6

[State 3220, Gravity]
type = Veladd
trigger1 = time >= 97
y = .5

[State 3220, State]
type = Selfstate
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 0

;=============================================================================
; MAXエレクトリッガー

[Statedef 3150]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3100
ctrl     = 0
sprpriority = 2
poweradd = -1000
facep2 = 1

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 3000, 先行入力初期化]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 3000, パワーゲージ消費]
type = poweradd
trigger1 = var(40) = 0
trigger1 = time = 0
value = -2000

[State 3000, パワーMAX解除]
type = VarSet
trigger1 = time = 0
v = 40
value = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(5) < 0
value = SCA

[State 3000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 28
time = 28
darken = 0
p2defmul = 1.0

[State 3000, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,28]
flag = NoFG
flag2 = NOBG
flag3 = GlobalNoShadow
ignorehitpause = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7010
pos = -15,-82
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 超必殺技発動のエフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 7011
pos = -15,-82
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,21
channel = 10

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = var(17) = 0 || p2movetype = H
triggerall = var(18) != 2
triggerall = p2stateNo != [150,155]
trigger1 = AnimElem = 4
trigger1 = p2bodydist X <= 30
attr = S, ST
hitflag = M
numhits = 0
priority = 1, Miss
sparkno = -1
sparkxy = -20,-80
p1sprpriority = 1     ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 0     ;攻撃が当たった時に相手の画像表示優先度を0にします
p2facing = 1
p1stateno = 3160
;p2stateno = 3120
guard.dist = 0
;fall = 1
numhits = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
; エレクトリッガー・投げている（自分）

[Statedef 3160]
type    = S
movetype= A
physics = S
anim = 3110
sprpriority = 3

[State 3160, TargetState]
type = TargetState
Trigger1 = time = 0
value = 3120

[State 3210, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3210, Color]
type = EnvColor
trigger1 = timemod = 6, 1 && time > 25 && animelem = 6 < 0
value = 255, 255, 255
time = 1

[State 3210, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16

[State 3210, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 28,0

[State 3210, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 4,-20

[State 3210, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 0,0

[State 3210, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = 8,0

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -4,-45

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 7, >= 0 && animelem = 8, < 0
pos = -16,-44

[State 3210, Bind6]
type = TargetBind
trigger1 = animelem = 8, = 0
pos = 31,-39

[State 3210, Bolt]
type = Explod
trigger1 = time = 24
anim = 3165
id = 3111
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, Bolt]
type = Explod
trigger1 = time = 24
anim = 3166
id = 3111
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = time = 24
value = s12,6

[State 3210, KillBolt]
type = RemoveExplod
trigger1 = time = 76
id = 3111

[State 3210, Spark]
type = Explod
trigger1 = AnimElem = 8
anim = 3112
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110

[State 3210, Shock]
type = PalFX
trigger1 = timemod = 2, 1 && time >= 24 && animelem = 7 < 0
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3210, Spark]
type = Explod
trigger1 = timemod = 3, 1 && time >= 24 && animelem = 7 < 0
anim = 1612
id = 1612
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = AnimElem = 8
value = s12,7

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = AnimElem = 5,= 3
trigger2 = AnimElem = 5,= 6
trigger3 = AnimElem = 5,= 9
trigger4 = AnimElem = 5,= 12
trigger5 = AnimElem = 5,= 15
trigger6 = AnimElem = 5,= 18
trigger7 = AnimElem = 5,= 21
trigger8 = AnimElem = 5,= 24
trigger9 = AnimElem = 5,= 27
trigger10 = AnimElem = 5,= 30
trigger11 = AnimElem = 5,= 33
trigger12 = AnimElem = 5,= 36
trigger13 = AnimElem = 5,= 39
trigger14 = AnimElem = 5,= 42
trigger15 = AnimElem = 5,= 45
value = -floor((4*fvar(7))*fvar(0))
kill = 0

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = AnimElem = 8
value = -floor((4*fvar(7))*fvar(0))

[State 3210, Spark]
type = Explod
triggerall = random <= 800 && numexplod(1612) <= 1
trigger1 = time > 97
anim = 1612
id = 1612
postype = p2
pos = -10,-40
random = 70,20
bindtime = 1
sprpriority = 5

[State 3210, Move2]
type = PosAdd
trigger1 = animelem = 10
x = -14

[State 3210, Move3]
type = PosAdd
trigger1 = animelem = 11
x = -12

[State 3210, Move4]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animtime = 0
x = -16

[State 3000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;この下、一行以上空ける事。

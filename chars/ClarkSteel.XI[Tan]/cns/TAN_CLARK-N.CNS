
;var1         180
;var2         H»≠
;var3 1,2  just pal
;var30         PAU   :10
;var31         PAU   :12
;--------------------------------------
;var32         PAU   :13
;----------------------------------
;var12         ∆∆◊•
;--------------------------------------
;var8(1)  ◊∑1300
;---------------------------------
;var8(2)  ◊∑1300
;-----------------------------------
;var8(3)  ◊∑1300
; var(8) 5.6
 ;
;---------------------------------------
;var8(4)  ◊∑1300
;------------------------------------
;var8(7)  ◊∑1300
;----------------------------------
;var18         !∑¿Õ∂
;---------------------------------------------
;var7(1)       «∞ ‹…Ì
;---------------------------------
;var6       JD
;var13      JD
;var14    ’˝∑¥√Ê
;-----------------------------------
;var37    COUNTER
;var38    COUNTER
;var39
;var36    COUNTER ’˝∑¥√Ê
;--------------------------------------
;var15    JUMP
;var16    JUMP

;var(49)   400~215~301

;var(10)1,2,3   1100  grab up

;var(11)  var(17)

;var(20)   max x/y






[Data]

life = 3000
power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 50
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 5
IntPersistIndex = 60
FloatPersistIndex = 40

;-----------------------------------------

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 15
air.back = 12
air.front = 11
height = 48
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -96
mid.pos = 12, -56
shadowoffset = 0
draw.offset = 0,0

;-----------------------



;[Velocity]
;walk.fwd  = 2.6
;walk.back = -2.6
;run.fwd  = 6.7130434, 0
;run.back = -5.5,-2.1
;jump.neu = 0,-11.2
;jump.back = -3.55,1
;jump.fwd = 3.5,1
;runjump.back = -2.55,-8.1
;runjump.fwd = 4,-8.1
;airjump.neu = 0,-8.1
;airjump.back = -2.55
;airjump.fwd = 2.5

;[Velocity]
;walk.fwd  = 2.7
;walk.back = -2.7
;run.fwd  = 6.1,0;5.6, 0
;run.back = -5.5,-2.1;run.back = 0,0
;jump.neu = 0,-8.8;-10
;jump.back = -2.78
;jump.fwd = 3.1,1;2.78
;runjump.back = -2.55,-8.1
;runjump.fwd = 4,-8.1
;airjump.neu = 0,-8.1
;airjump.back = -2.55
;airjump.fwd = 2.5

[Velocity]
walk.fwd  = 2.48
walk.back = -2.48
run.fwd  = 5.76, 0
run.back = 0,0
jump.neu = 0,-7.75;-9.2
jump.back = -2.5;2
jump.fwd = 2.2,-7.75
runjump.back = -2.55,-9.1
runjump.fwd = 4,-9.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .434;.62
stand.friction = .842 	;.6
crouch.friction = .842


;-----------------let's get started!!!

[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, 3]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 40, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 40, 1] ; Play sound when jumping (normal)
type = PlaySnd
trigger1 = Time = 0
trigger1 = var(16) != -2
trigger1 = var(16) != 2
value = 40,0

[State 40, turn]
type = turn
trigger1 = time = 0 && P2dist X < 0

[State 40, Disable AI jump]
type = ChangeState
trigger1 = Var(58)
trigger1 = time = 0
trigger1 = Pos Y = 0
value = 105 + (BackEdgeDist < 50)*9939; hop back
ctrl = 1

[State 40, AI jump]
type = VarSet
trigger1 = stateno = 40
trigger1 = var(59) = 10
trigger1 = p2bodydist x = [0,55]
trigger1 = var(16) != 2
var(16) = 1

[State 40, AI long jump]
type = VarSet
triggerall = stateno = 40
trigger1 = var(59) = 10
trigger1 = p2bodydist x > 55;
trigger2 = PrevStateNo = 104
var(16) = 2

[State 40, AI long jump]
type = VarSet
triggerall = stateno = 40
triggerall = var(59) = 10
trigger1 = p2bodydist x = [-30,-1]
;trigger2 = backedgebodydist <= 100
var(16) = ifelse(random<=400,-2,-1)

[State 40, 0]
type = VarSet
trigger1 = Time = 0
var(16) = 0

[State 40, 1]
type = VarSet
triggerall = !var(59)
trigger1 = command = "holdfwd"
trigger1 = var(16) != 2
var(16) = 1

[State 40, 2]
type = VarSet
triggerall = !var(59)
trigger1 = command = "holdback"
trigger1 = var(16) != -2
var(16) = -1

[State 40, 3]
type = VarSet
triggerall = !var(59)
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100 ;RUN_FWD
var(16) = 2

[State 40, 4]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(16) = -2

[State 40, 5]
type = Afterimage
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
time = 15
length = 9
PalBright   =   1, 1, 1;0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 2;3
timegap = 2
Trans = Add1

[State 40, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(16) != 0
trigger1 = var(16) != 1
trigger1 = var(16) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 2041

[State 40, 7]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(16)=0, const(velocity.jump.neu.x), ifelse(var(16)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 50; + (var(59) = 1)*1991
ctrl = 1

;--------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 3]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 50, 2]
type = ChangeAnim
triggerall = anim != 41 && anim != 42 && anim != 43 && anim != 2042
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
triggerall = anim != 41 && anim != 42 && anim != 43 && anim != 2042
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; JUMP_UP (short)   ¡°«¡_æ˜ (≥∑¿∫)  2041 ¿‹ªÛ º“¡°«¡
[Statedef 2041]
type    = A
physics = N
velset = 0, -6.22
ctrl = 1

[State 105, 4]
type = VelAdd
trigger1 = 1
y = .46

[State 2041, 3]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

;[State 2041, 1] ; Play sound when jumping (normal)
;type = PlaySnd
;trigger1 = Time = 0
;trigger1 = var(16) != -2
;trigger1 = var(16) != 2
;value = 40,1


[State 2041, 2] ; Play sound when jumping (long)
type = PlaySnd
triggerall = Time = 0
trigger1 = var(16) = -2
trigger2 = var(16) = 2
value = 40,1

[State 2041, 3] ; Shadows
type = Afterimage
triggerall = Time = 0
trigger1 = var(16) = -2
trigger2 = var(16) = 2
time = 12
length = 9
PalBright   =   1, 1, 1;0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 2;3
timegap = 2
Trans = Add1

[State 2041, Afterimage]
type = AfterImagetime
triggerall = time%2 = 0 && time <=7
trigger1 = var(16) = -2
trigger2 = var(16) = 2
time = 2

[State 2041, 4] ; Shadows off
type = Afterimage
triggerall = Time = 14
trigger1 = var(16) = -2
trigger2 = var(16) = 2
time = 0

[State 2041, 6]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = 1
x = 2.66	;±◊≥… º“¡°«¡

[State 2041, 7]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = 2
x = 4.6;3.9	;¿‹ªÛº“¡°«¡

[State 2041, 8]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = -1
x = -2.66	;±◊≥… º“¡°«¡

[State 2041, 9]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = -2
x = -4.6;3.9	;¿‹ªÛº“¡°«¡

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X = 0
value = 2041

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X >  0
value = 2041

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X <  0
value = 2041

[State 2041, 10]
type = ChangeState
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 2045

[State 2041, 11] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command != "holdup"
value = 2041

[State 2041, 12]
type = ChangeState
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 2045

[State 2041, 13] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command != "holdup"
value = 2042

[State 2041, 12]
type = ChangeState
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 2045

[State 2041, 13] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command != "holdup"
value = 2043

[State 2041, 1.5]
type = null;veladd
trigger1 = anim = 2041		;[2041,2043]
trigger1 = Time >= 2
y = 0.02

[State 2041, 1.5]
type = null;veladd
trigger1 = Time >= 4
y = 0.43

[State 2041,1]
type = ChangeState
;trigger1 = Pos Y >= -8 && Vel Y > 0
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; JUMP_UP (short)   ¡°«¡_æ˜ (≥∑¿∫)   ;≥™ø° √ﬂ∞°    2045 ¿‹ªÛ ¥Î¡°«¡
[Statedef 2045]
type    = A
physics = A
velset = 0,-8.9
ctrl = 1

[State 105, 4]
type = VelAdd
trigger1 = time >= 5
trigger1 = 1
y = .12

[State 2045, 3]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X = 0
value = 2041

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X >  0
value = 2041

[State 2045, AI anim]
type = ChangeAnim
triggerall = var(59) = 10
trigger1 = Time = 0
trigger1 = Vel X <  0
value = 2041

[State 2045, 3] ; Shadows
type = Afterimage
triggerall = Time = 0
trigger1 = var(16) = -2
trigger2 = var(16) = 2
time = 12
length = 9
PalBright   =   1, 1, 1;0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 2;3
timegap = 2
Trans = Add1

[State 2045, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=7
time = 2

[State 2045, 4] ; Shadows off
type = Afterimage
trigger1 = Time = 14
time = 0

[State 2045, 6]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = 1
x = 3.76

[State 2045, 7]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = 2
x = 3.76

[State 2045, 8]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = -1
x = -3.76

[State 2045, 9]
type = VelSet
trigger1 = Time = 0
trigger1 = var(16) = -2
x = -3.76

[State 2045, 10]
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 2045, 11] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command != "holdup"
value = 2041

[State 2045, 12]
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 2045, 13] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command != "holdup"
value = 2041

[State 2045, 12]
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 43

[State 2045, 13] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command != "holdup"
value = 2041

[State 2045, 1.5]
type = null;veladd
trigger1 = anim = 2041		;[2041,2043]
trigger1 = Time >= 2
y = 0.03;0.02

;[State 2045, 1.5]
;type = null;veladd
;trigger1 = anim = 42
;trigger1 = Time >= 4
;y = 0.96;0.14

;---------------------------------------------------------------------------
; ¡°«¡ ¬¯¡ˆ
[Statedef 52]
type    = S
physics = S
anim = 47
ctrl = 0
velset = 0,0

[State 52, 3]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;Play sound when landing
[State 52, 3]
type = PlaySnd
trigger1 = Time = 0
value = 47,0

;[State 0, CtrlSet]
;type = CtrlSet
;trigger1 = time = 2
;value = 1
;ignorehitpause =
;persistent =


[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; œÚ∫ÛÕÀ
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
ctrl = 0
velset = 0, 0

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105,0
volume = -140

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = -5.16
y = -4.8

[State 105, 4]
type = VelAdd
trigger1 = AnimElem = 2, > 0
y = .52

[State 105,1]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 106

;---------------------------------------------------------------------------
; œÚ∫ÛÕÀ (◊≈¬Ω)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106
velset = 0, 0

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 47,0
volume = -160

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time >= 0
pos = -30, 0

[State 106, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1,2

[State 180, 2]
type = VarSet
trigger1 = Command = "holdx"
var(1) = 1

[State 180, 3]
type = VarSet
trigger1 = Command = "holdy"
var(1) = 2

[State 01]
type = ChangeState
trigger1 = var(1) = 1
value = 182

[State 01]
type = ChangeState
trigger1 = var(1) = 2
value = 181
;-------------

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 181]
type = A
ctrl = 0
anim = 181
velset = 0,0
physics = N

[State 00];Ç”Ç¡
type = PlaySnd
trigger1 = animelem = 6
value = 181,0
volume = 170

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 180, 2]
type = VarSet
trigger1 =  animelem = 1
var(1) = 0
;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 182]
type = A
ctrl = 0
anim = 182
velset = 0,0
physics = N

[State 00]
type = PlaySnd
trigger1 = animelem = 8
value = 182,0
volume = 170

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 00]
type = PlaySnd
trigger1 = time = 191
trigger1 = random < 600
value = 182,1
volume = -100

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,400]
flag = roundnotover

[State 180, 2]
type = VarSet
trigger1 =  animelem = 1
var(1) = 0
;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0
poweradd = 1500


[State 190,]
type = ChangeState
;trigger1 =  P2Name = "Ralf" || P4Name = "Ralf"
;trigger2 =  P2Name = "Ralf 2K2" || P4Name = "Ralf 2K2"
;trigger3 =  P2Name = "Ralf Jones" || P4Name = "Ralf Jones"
;trigger1 =  P2Name = "Leona" || P4Name = "Leona"
trigger1 =  P2Name = "Leona Heidern" || P4Name = "Leona Heidern"
trigger2 =  P2Name = "Whip" || P4Name = "Whip"
trigger3 =  P2Name = "Orochi Heidern" || P4Name = "Orochi Heidern"
trigger4 =  P2Name = "Heidern" || P4Name = "Heidern"
value = 192

[State 190,]
type = ChangeState
trigger1 =  P2Name = "Leona" || P4Name = "Leona"
;trigger2 =  P2Name = "Leona Heidern" || P4Name = "Leona Heidern"
value = 193

[State 190,]
type = ChangeState
trigger1 =  P2Name = "Ralf" || P4Name = "Ralf"
;trigger1 =  authorname = "zzzasd"
value = 196

[State 190,]
type = ChangeState
trigger1 = Time = 1
value = 191


;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;;;;;;;;;;;;;;;;;;;;;

[Statedef 196]
type = S
physics = N
ctrl = 0
anim = 196
velset = 0,0

[State 20, 1]
type = VelSet
trigger1 = time = 0
x = .8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -19

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 3,=9
value = 1971,1
channel = 1
volume = -100

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 7,=9
value = 1971,0
channel = 1
volume = -100

;[State 2100,3]
;type = VelSet
;trigger1 = AnimElem = 1;,>= 0 && AnimElem = 6,< 0
;x = 1


[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 197

;;;;;;;;;;;;;;;;;;

[Statedef 197]
type = S
physics = N
ctrl = 0
anim = 197
velset = 0,0
sprpriority = 2

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = time = 134
value = 1970,0
lowpriority = 1

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = time = 175
value = 1977

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1977]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1977
velset = 0,0
sprpriority = 2

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = time = 109
value = 1978

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1978]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1978
velset = 0,0
sprpriority = 2

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 1971

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1971]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1971
velset = 0,0
sprpriority = 1

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 1972

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1972]
type = S
physics = N
ctrl = 0
anim = 1972
velset = 0,0

[State 20, 1]
type = VelSet
trigger1 = time = 0
x = -.76

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=0
value = 1971,1
channel = 1
volume = -100

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 4,=8
value = 1971,0
channel = 1
volume = -100

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 8,=6
value = 1971,1
channel = 1
volume = -100

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8,=6
x = 1


[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 1973

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1973]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1973
velset = 0,0
sprpriority = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1;,=8
x = 1

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = time = [0,10]
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;

;MI2  Ãÿ ‚ø™≥°  VS Leona
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 191, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 6
value = 193,0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 15,=6
value = 193,1

[State 191, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;

;ÃÙ≤¶
[Statedef 195]
type     = S
movetype = I
physics  = S
anim     = 195
velset   = 0,0
poweradd = 400
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(59) = 10
trigger1 = time = 0
v = 19    ;fv =
value = 1
;ignorehitpause =
;persistent =


[State 195, ÉRÉìÉgÉçÅ[Éãâ¬î€]
type = CtrlSet
trigger1 = AnimElem = 8
value = 1

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 2
value = 195,0

[State 195, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;’æ¡¢«·»≠
[Statedef 200]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
ctrl     = 0
anim     = 200
poweradd = 20


[State 200, 1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = time = 0
persistent = 0
attr = S, NA
damage = 49
getpower = 100,100
givepower = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
guard.pausetime = 8,8
guard.slidetime = 10
guard.hittime  = 8
sparkno = s7000
guard.sparkno = s7010
sparkxy = -20, -87
hitsound = s200,0
guardsound = s200,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4
guard.ctrltime = 7
guard.velocity = -4.5
;airguard.velocity = -1.9,-.8
ground.cornerpush = 1
air.cornerpush = 1
air.velocity = -3.2,-6
yaccel = .49;yaccel= .5


[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4
;volume = -200

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3
;volume = -200

[State 200, ]
type = ChangeState
trigger1 = AnimTime = 0 ;ÉAÉjÉÅÅ[ÉVÉáÉìéûä‘Ç™ÇOÅAÇ¬Ç‹ÇËÉAÉjÉÅÇ™èIóπÇµÇΩéûÇ…óLå¯Ç…Ç»ÇËÇ‹Ç∑ÅB
value = 0
ctrl = 1


;---------------------------------------------------------------------------

;’æ¡¢«·»≠(Ω¸)
[Statedef 205]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
ctrl     = 0
anim     = 205
poweradd = 20
sprpriority = 1

[State 200, ]
type = HitDef
trigger1 = time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
persistent = 0
attr = S, NA
damage = 49
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
getpower = 100,100
givepower = 50,50
pausetime = 10,10;8,8;10, 12
guard.pausetime = 9, 9
guard.ctrltime = 6
guard.slidetime = 7
guard.hittime  = 8
sparkno = s7000
guard.sparkno = s7010
sparkxy = -20, -83
hitsound = s200,0
guardsound = s200,1
ground.type = High
ground.slidetime = 9;8
ground.hittime  = 10
;ground.velocity = -4.5,0
ground.velocity = -4;-5
guard.velocity = -4
air.velocity = -3.2,-6;-3.5, -4
ground.cornerpush = 1
air.cornerpush = 1
;airguard.velocity = -1.9,-.8
;air.velocity = -1.4,-3
;air.hittime = 12
air.juggle = 10
;ground.cornerpush.veloff = -10
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -10
;fall = 0
yaccel = .49;yaccel = .5

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3


[State 200, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------

;’æ¡¢÷ÿ»≠
[Statedef 210]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 210

[State 1000, Reversal]
type = ReversalDef
trigger1 = AnimElem = 2
attr = S, ST
reversal.attr = SCA, NA, SA
numhits = 0
pausetime = 11,12
sparkno = S7011
sparkxy = 16,-94
;hitsound = S1,22

[State 200, ]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = AnimElem = 3; && AnimElem = 4
attr = S, NA
damage = 100, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3;, Hit
pausetime = 14,14;10, 11
guard.pausetime = 9, 9
getpower = 100,100
givepower = 50,50
guard.ctrltime = 7
guard.slidetime = 8
guard.hittime  = 8
sparkno = s7001
guard.sparkno = s7011
sparkxy = -22, -78
hitsound = s210,0
guardsound = s210,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -12
airguard.velocity = -2.3,-1.8
guard.velocity = -7
air.juggle = 10
ground.cornerpush = 1
air.cornerpush = 1
;air.type = High
air.velocity = -2.5,-3
;air.hittime = 12
fall = 0
fall.recover = 0
yaccel = .5
;ground.cornerpush.veloff = -15
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -15

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

[State 210, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;’æ¡¢÷ÿ»≠(Ω¸)
[Statedef 215]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 215
sprpriority = 1

[State 200, 1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = AnimElem = 3
attr = S, NA
damage = 60, 0
animtype = Hard
guardflag = H
hitflag = MAF
priority = 4, Hit
pausetime = 12,14
getpower = 100,100
givepower = 50,50
sparkno = s7001
guard.sparkno = s7011
sparkxy = -22,-74
hitsound = s210,0
guardsound = s210,1
guard.pausetime = 11, 11
guard.ctrltime = 9
guard.slidetime = 10
guard.hittime  = 10
ground.type = High
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -8;-7.5
guard.velocity = -5
air.velocity = -3.5, -4
;air.hittime = 0
;air.type = High
;ground.cornerpush = 1
;air.cornerpush = 1
air.juggle = 10
;envshake.ampl = -2
;envshake.freq = 20
;envshake.time = 12
;air.animtype = Back
;ID = 215
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
;air.fall = 1
;fall.recover = 0
fall = 0
yaccel = .5


[State 200, 2]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = S, NA
damage = 45, 0
animtype = Hard
guardflag = M
;hitflag = MAF
priority = 4, Hit
pausetime = 13, 13
getpower = 200,20
givepower = 20,20
sparkno = s7001
guard.sparkno = s7011
;sprpriority = 1
sparkxy = -22,-49
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity =  -10
guard.pausetime = 12, 12
guard.velocity = -8
guard.ctrltime = 8
guard.slidetime = 8
;airguard.velocity = -2.3,-1.8
;air.type = Low
air.velocity = -3.5, -4
;air.velocity = -2.5,-3
;air.hittime = 0
ground.cornerpush = 1
air.cornerpush = 1
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
air.animtype = Back
fall = 0
fall.recover = 0
yaccel = .5


[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
channel = 3

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

;[State 400,]
;type = varset
;trigger1 = Time = 0
;var(49) = 0

;[State 1000, VarSet]
;type = VarSet
;triggerall = Animelem = 2,>0 && Animelem = 4,<=0
;triggerall = movecontact = 1
;trigger1 = command = "a"
;trigger1 = command = "holdfwd"
;var(49) = 3
;ignorehitpause = 1

;[State 1200, ChangeState]
;type = ChangeState
;trigger1 = var(49) = 3
;trigger1 = Animelem = 3,>= 1 && Animelem = 4,< 0
;value = 301
;ctrl = 0


[State 210, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;’æ¡¢«·Ω≈
[Statedef 230]
type     = S
movetype = A
physics  = S
juggle   = 5
poweradd = 22
ctrl     = 0
velset   = 0,0
anim     = 230
sprpriority = 1
facep2 = 1

[State 230, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
priority = 4;,Hit
damage = 49, 0
guardflag = MA
pausetime = 10,10
getpower = 100,100
givepower = 50,50
sparkno = s7000
guard.sparkno = s7010
sparkxy = -20, -50
hitsound = s230,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4
air.velocity = -2.5,-3.5
guard.pausetime = 8, 8
guard.ctrltime = 6
guard.slidetime = 8
guard.hittime  = 6
guard.velocity = -4.5
fall = 0
yaccel = .5
;ground.cornerpush.veloff = -10
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -10

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4

[State 0, TargetState]
type = TargetState
trigger1 = movehit= 1
trigger1 = var(25) > 300
value = 3360

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3

[State 230, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------
;’æ¡¢«·Ω≈(Ω¸)
[Statedef 235]
type     = S
movetype = A
physics  = S
juggle   = 5
poweradd = 22
ctrl     = 0
velset   = 0,0
anim     = 235
sprpriority = 1
facep2 = 1

[State 230, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
priority = 4
damage = 49, 0
guardflag = MA
pausetime = 10,10
getpower = 100,100
givepower = 50,50
sparkno = s7000
guard.sparkno = s7010
sparkxy = -20, -50
hitsound = s230,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4
air.velocity = -2.5,-3.5
guard.pausetime = 8, 8
guard.ctrltime = 7
guard.slidetime = 8
guard.hittime  = 6
guard.velocity = -4.5
fall = 0
yaccel = .5
;ground.cornerpush.veloff = -10
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -10

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3


[State 230, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----
;’æ¡¢÷ÿΩ≈

[Statedef 240]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 65
ctrl     = 0
velset   = 0,0
anim     = 240
sprpriority = 1
facep2 = 1

[State 240, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = Time = 0
;persistent = 0
attr = S, NA
animtype  = Hard
damage    = 106
guardflag = MA
pausetime = 14,14;10,11
priority = 4, Hit
sparkno = s7001
guard.sparkno = s7011
sparkxy = -10,-90
hitsound   = s240,0
guardsound = s200,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.pausetime = 9, 9
guard.ctrltime = 7
guard.slidetime = 8
ground.velocity = -12
guard.velocity = -8
air.velocity = -3.2,-4
ground.cornerpush = 1
air.cornerpush = 1
air.animtype = Back
fall.recover = 0
yaccel = .45
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15


[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3



[State 240, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------
;’æ¡¢÷ÿΩ≈(Ω¸)

[Statedef 245]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 65
ctrl     = 0
velset   = 0,0
anim     = 245
sprpriority = 1
facep2 = 1


[State 240, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 100
guardflag = MA
pausetime = 12,13;10,11
;sprpriority = 1
sparkno = s7001
guard.sparkno = s7011
sparkxy = -20,-48
hitsound   = s240,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
guard.pausetime = 9, 9
guard.ctrltime = 7
guard.slidetime = 8
ground.velocity = -8.4
air.velocity = -3.6,-3.4
guard.velocity = -7
ground.cornerpush = 1
air.cornerpush = 1
air.animtype = Back
fall.recover = 0
yaccel = .5
getpower = 100,100
givepower = 50,50
;ground.cornerpush.veloff = -10
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -10

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

[State 240, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----;----------
;’æ¡¢≥¨÷ÿª˜

[Statedef 250]
type     = S
movetype = A
physics  = S
juggle   = 15
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 250
sprpriority = 2
facep2 = 1

[State 250, posadd]
type = posadd
trigger1 = AnimElem = 2
x = 6

[State 250, posadd]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
x = 8

[State 300 , 1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 120
priority = 5
pausetime = 13,14
sparkno = s7002
guard.sparkno = s7011
sparkxy = -20,-75
;sprpriority = 1
hitsound   = s240,0
guardsound = s200,1
hitflag = MAF
guardflag = MA
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.pausetime = 10, 10
guard.ctrltime = 8
guard.slidetime = 9
ground.velocity = -5,-5
air.velocity = -5,-5
air.animtype = Back
fall = 1
guard.velocity = -4
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
kill = 1

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 250,0
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

[State 300, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------
;’æ¡¢≥¨÷ÿª˜

[Statedef 260]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = -1000
ctrl     = 0
velset   = 0,0
anim     = 260
sprpriority = 2
facep2 = 1

[State 250, posadd]
type = posadd
trigger1 = AnimElem = 2
x = 6

[State 250, posadd]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
x = 8


[State 260,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 13

;[State 260,1]
;type = HitBy
;trigger1 = AnimElem = 1
;value = SCA, NT, ST, HT
;time = 13

[State 260,1]
type = HitBy
trigger1 = AnimElem = 8
value = , HT
time = 9



[State 300,]
type = palfx
trigger1 = time = 0
time = 5
add = 220,220,220;230,230,230
mul = 190,190,228
sinadd = 190,190,228,-100

[State 300 , 1]
type = HitDef
;trigger1 = prevstateno = [150,151]
trigger1 = time = 0
attr = S, NA
animtype  = Diagup
damage    = 60
priority = 6
pausetime = 16,18
sparkno = s7002
guard.sparkno = s7011
sparkxy = -20,-75
;sprpriority = 1
;hitflag = MAF
;guardflag = MA
hitsound   = s240,0
guardsound = s200,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 18
;guard.pausetime = 10, 10
;guard.ctrltime = 8
;guard.slidetime = 9
ground.velocity = -5,-5
air.velocity = -5,-5
air.animtype = Back
fall = 1
fall.recover = 0
;guard.velocity = -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 1

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 250,0
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

[State 300, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----
;∂œÃﬂ

[Statedef 300]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
juggle = 8
velset = 0,0
anim= 300
facep2 = 1

[State 3360, Width]
type = width
trigger1 = 1
value = 10,0

[State 300, 2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage = 60
hitflag = MA
guardflag = M
getpower = 191,91
pausetime = 12,14
guard.pausetime = 11,11
sparkno = s7001
guard.sparkno = s7011
sparkxy = -23,-47
;sprpriority = 1
hitsound = s200,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -10
air.velocity = -4.5,-4.5
airguard.velocity = -3.6,-2
guard.slidetime = 15
guard.hittime  = 15
guard.ctrltime = 13
air.type = Low
air.fall = 1
fall.recover = 0
yaccel = .5
guard.velocity = -10
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 500
value = 300,0

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3

[State 210, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
triggerall = prevstateno = [200,440]
trigger1 = time = 0
value = 301

[State 300, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;
;∂œÃﬂ

[Statedef 301]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
juggle = 8
velset = 0,0
anim= 300
facep2 = 1

[State 3360, Width]
type = width
trigger1 = prevstateno != 215
value = 10,0

[State 3360, Width]
type = width
trigger1 = prevstateno = 215
value = 20,0

[State 300, 2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage = 60
hitflag = MA
guardflag = M
getpower = 191,91
pausetime = 12,13;12,13
guard.pausetime = 11,11
sparkno = s7001
guard.sparkno = s7011
sparkxy = -23,-47
;sprpriority = 1
hitsound = s200,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18;19
ground.velocity = -10
air.velocity = -4.5,-4.5
airguard.velocity = -3.6,-2
guard.slidetime = 15
guard.hittime  = 15
guard.ctrltime = 13
getpower = 100,100
givepower = 50,50
air.type = Low
air.fall = 1
fall.recover = 0
yaccel = .5
guard.velocity = -10
ground.cornerpush.veloff = ifelse(prevstateno = 215,-20,-14)
air.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(prevstateno = 215,-20,-14)
ID = 301

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 400
value = 300,0

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3

[State 400,]
type = varset
trigger1 = Time = 0
var(49) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 5,<0
trigger1 = command = "1100"
var(49) = 1
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
trigger1 = var(49) = 1
trigger1 = Animelem = 4,= 4
value = 1100
ctrl = 0



[State 300, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;

;œ¬∂◊«·»≠

[Statedef 400]
type     = C
movetype = A
physics  = C
juggle   = 8
poweradd = 15
ctrl     = 0
anim     = 400
sprpriority = 2
facep2 = 1

[State 400, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = C, NA
damage    = 49
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = M
pausetime = 10,10
guard.pausetime = 8,8
sparkno = s7000
guard.sparkno = s7010
sparkxy = -10,-48
hitsound = s200,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4
guard.ctrltime = 6
guard.slidetime = 7
guard.hittime  = 8
p2facing = 1
guard.velocity = -4.5
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.velocity = -3.2,-6
yaccel = .49

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4
;volume = -200

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3
;volume = -200

[State 400,]
type = varset
trigger1 = Time = 0
var(2) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 2,>0 && Animelem = 2,<=7
trigger1 = command = "y"
var(2) = 1
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
triggerall = !var(59)
trigger1 = Var(2) = 1
trigger1 = Animelem = 3,<0 && movecontact
value = 215
ctrl = 0

[State 1200, ChangeState]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelem = 3,<0 && movecontact
trigger1 = random <= 800
value = 215
ctrl = 0


[State 400, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;------
;œ¬∂◊÷ÿ»≠

[Statedef 410]
type     = C
movetype = A
physics  = C
juggle   = 8
poweradd = 50
ctrl     = 0
anim     = 410
sprpriority = 2
facep2 = 1


[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = C, NA
damage = 80, 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 14,14;10, 11
sparkno = s7001
guard.sparkno = s7011
sparkxy = -10,-48
hitsound = s210,0
guardsound = s210,1
ground.type = High
ground.slidetime = 18;21
ground.hittime  = 18;22
guard.pausetime = 10, 10
guard.ctrltime = 7
guard.slidetime = 10
guard.hittime  = 10
ground.velocity = -12;-7.6
airguard.velocity = -2.3,-1.8
guard.velocity = -9
air.velocity = -2.5,-3
ground.cornerpush = 1
air.cornerpush = 1
getpower = 100,100
givepower = 50,50
;ground.cornerpush.veloff = -5
;air.cornerpush.veloff = 0
;guard.cornerpush.veloff = -5
air.velocity = -3.2,-6
yaccel = .49

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3


[State 410, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;œ¬∂◊«·Ω≈


[Statedef 430]
type     = C
movetype = A
physics  = C
juggle   = 8
poweradd = 22
ctrl     = 0
anim     = 430
sprpriority = 2
facep2 = 1


[State 430, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = Time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = C, NA
damage    = 49
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,10;9,9
sparkno = s7000
guard.sparkno = s7010
sparkxy = -10,ifelse(P2statetype = A,-12,ifelse(P2statetype = C,-12,-12));-10,-8
hitsound = s230,0
guardsound = s200,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4;-5.5
guard.pausetime = 8, 8
guard.ctrltime = 6
guard.slidetime = 7
p2facing = 1
guard.velocity = -4.5
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.velocity = -3.2,-6
yaccel = .49

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 200,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3


[State 430, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;------------
;œ¬∂◊÷ÿΩ≈

[Statedef 440]
type     = C
movetype = A
physics  = C
juggle   = 15
poweradd = 70
ctrl     = 0
anim     = 440
sprpriority = 2


[State 440, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = Time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = C, NA
damage    = 80
hitflag = MAF
guardflag = L
pausetime = 12,12;10,11
sparkno = s7001
guard.sparkno = s7011
sparkxy = -20,-10
hitsound   = s240,0
guardsound = s200,1
ground.type = Trip
ground.slidetime = 17;13
ground.hittime  = 17;15
guard.pausetime = 12,15;9, 9
guard.ctrltime = 7
guard.slidetime = 8
ground.velocity = -1.5,-8;ground.velocity = -3.5,-3.5
air.velocity = -1.5,-9
guard.velocity = -11
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
fall = 1
yaccel = .6

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3


[State 440, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;;;;;;;;;;;;;;;
;Ã¯‘æ«·»≠


[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 15;8
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2


[State 600, 2]
type = HitDef
trigger1 = time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = A, NA
damage    = 49
priority = 6, Hit
getpower = 181,81
guardflag = HA
hitflag = MAF
pausetime = 10,12
sparkno = s7000
sparkxy = -10,-64
guard.sparkno = s7010
hitsound = s200,0
guardsound = s200,1
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
guard.pausetime = 8, 8
guard.ctrltime = 7
guard.slidetime = 7
;ground.velocity = -4
guard.velocity = -4
ground.velocity = -4.5
air.velocity = -3.2,-6
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
air.cornerpush.veloff =-5
;airguard.velocity = -4,-3
;air.type = low
yaccel = .5


[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 400
value = 200,2
;channel = 4
;volume = -200

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3
;volume = -200

;---------
;Ã¯‘æ÷ÿ»≠

[Statedef 610]
type     = A
movetype = A
physics  = A
juggle   = 15
poweradd = 65
ctrl     = 0
anim     = 610
sprpriority = 2


[State 610, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = Time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = A, NA
damage = 80
guardflag = HA
priority = 3, Hit
pausetime = 9,12
sparkno = s7001
guard.sparkno = s7011
sparkxy = -20,-80
hitsound = s210,0
guardsound = s210,1
animtype = Medium
ground.type = High
ground.slidetime = 16
ground.hittime  = 17
guard.pausetime = 11, 11
guard.ctrltime = 7
guard.slidetime = 8
ground.velocity = -4.8
air.velocity = -3.2,-6;air.velocity = -3,-4
guard.velocity = -4
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
air.cornerpush.veloff =-5
yaccel = .49


[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 400
value = 210,2
;channel = 4


[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3
;--------
;Ã¯‘æ«·Ω≈

[Statedef 630]
type     = A
movetype = A
physics  = A
juggle   = 15
poweradd = 20
ctrl     = 0
anim     = 630
sprpriority = 2


[State 630, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = Time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = A, NA
damage = 49
guardflag = HA
hitflag = MAF
priority = 3,hit
pausetime = 10,11
sparkno = s7000
guard.sparkno = s7010
sparkxy = -20,-80
hitsound = s200,0
guardsound = s200,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
guard.pausetime = 8, 8
guard.ctrltime = 6
guard.slidetime = 7
ground.velocity = -4.5
air.velocity = -3.2,-6
guard.velocity = -3
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
air.cornerpush.veloff =-5
yaccel = .49

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 400
value = 200,2
;channel = 4
;volume = -200

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 200,3
;volume = -200

;--------
;Ã¯‘æ÷ÿΩ≈

[Statedef 640]
type     = A
movetype = A
physics  = A
juggle   = 15
poweradd = 65
ctrl     = 0
anim     = 640
sprpriority = 2


[State 640, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = Time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
persistent = 0
attr = A, NA
damage    = 90
guardflag = HA
priority = 3, Hit
pausetime = 9,12
sparkno = s7001
guard.sparkno = s7011
sparkxy = -25,-70
hitsound = s210,0
guardsound = s210,1
animtype = MEDIUM
ground.type = LOW
ground.slidetime = 16
ground.hittime  = 17
guard.pausetime = 8, 10
guard.ctrltime = 7
guard.slidetime = 8
ground.velocity = -4.8
guard.velocity = -4
air.velocity = -3.2,-6
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
air.cornerpush.veloff =-5
yaccel = .49

[State 200, ]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 400
value = 210,2
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

;--------
;Ã¯‘æ≥¨÷ÿª˜

[Statedef 650]
type     = A
movetype = A
physics  = A
juggle   = 15
poweradd = 0
ctrl     = 0
anim     = 650
sprpriority = 3

[State 240 , 1]
type = HitDef
trigger1 = time = 0
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
attr = A, NA
animtype  = Hard
damage    = 110
priority = 6,hit
pausetime = 14,14
sparkno = s7002
guard.sparkno = s7011
sparkxy = -5,-60
hitsound   = s240,0
guardsound = s200,1
hitflag = MAF
guardflag = MA
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.pausetime = 13,13;9, 9
;guard.ctrltime = 8
;guard.slidetime = 8
ground.velocity = -6,-8.5;-5,-5
guard.velocity = -11
air.velocity = -6,-8.5;-5,-5
getpower = 100,100
givepower = 50,50
ground.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
air.cornerpush.veloff =-5
airguard.velocity = -6,-3
air.type = low
yaccel = .6;yaccel = .5
fall = 1
fall.recover = 0
ID = 650

[State 200, ]
type = PlaySnd
trigger1 = time = 1
value = 250,0
;channel = 4

[State 200, ]
type = PlaySnd
trigger1 = time = 2
value = 210,3

;------------
;…¡±‹

[Statedef 700]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 700
ctrl     = 0
sprpriority = -2

[State 700,]
type = Poweradd
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
value = -1000

[State 700,]
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
time = 5
add = 220,220,220;230,230,230
mul = 190,190,228
sinadd = 190,190,228,-100

[State 2100,1]
type = AfterImage
trigger1 = AnimElem = 2
time = 27
length = 6
timegap = 2
framegap = 2
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 700,2
;volume = 0

[State 910,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 22

[State 910,1]
type = HitBy
trigger1 = Time = 0
value = SC, NT, ST, HT
time = 22

[State 2100,3]
type = VelSet
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 4.5


[State 2100,5]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0; && AnimElemTime(7) < 0
value = 0

[State 2100,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;…¡±‹

[Statedef 710]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 710
ctrl     = 0
sprpriority = -2

[State 700,]
type = Poweradd
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
value = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 700,2
;volume = 0

[State 700,]
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
time = 5
add = 220,220,220;230,230,230
mul = 190,190,228
sinadd = 190,190,228,-100

[State 2110,1]
type = AfterImage
trigger1 = AnimElem = 2
time = 27
length = 6
timeGap = 2
frameGap = 2
palBright = 0, 0, 0
palContrast = 128, 128, 128
palAdd = 0, 0, 0
palMul = 1, 1, 1
trans = Add1

[State 910,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 910,1]
type = HitBy
trigger1 = Time = 0
value = SC, NT, ST, HT
time = 25

[State 2110,3]
type = VelSet
trigger1 = AnimElemTime(2) > 0 && AnimElemTime(7) < 0
x = -5

[State 2110,4]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 2110,5]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0; && AnimElemTime(7) < 0
value = 0

[State 2110, èIóπ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;
;Ω◊÷À˛Ô±

[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd= 0
anim = 800
ctrl = 0
facep2 = 1

[State 800, 1]
type = HitDef
trigger1 = time = 0
trigger1 =  p2movetype != H
trigger1 = P2StateNo != [40,52]
trigger1 = P2StateNo != [5000,5110]
attr = S, NT
hitflag = M-
priority = 3, miss
p2facing = 1
sparkno = -1
sprpriority = 3
p1stateno = 801
p2stateno = 821
p2getp1state = 1
hitonce = 1
numhits = 0

[State 170, ]
type = NotHitBy
trigger1 = 1
value = SCA


[State 2000, 3]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1


;-----------------------
;æÕœµÖÓÔ±

[Statedef 801]
type = S
movetype= A
physics = N
anim = 801
poweradd = 60

[State 3360, Width]
type = width
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 7
edge = 42,0

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 7080
anim = 7080
pos = 46,-60
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
removetime = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =6;,=4
value = 801,2
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =3;,=4
value = 801,3
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =9,=10
value = 801,4
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=7
value = 40,1
volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =13,=1
value = 801,1
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13,=2
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =13
value = 801,5
;volume = -100

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = 3

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 50, 0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = 2

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, 0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =3
value = 3

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 30,-65

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =4
value = -1

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 20, -65

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =5
value = -1

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 7, -86

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =6
value = -1

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 7, -84

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =7
value = -1

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 2, -119

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =8
value = 2

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 1, -111

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =9
value = 2

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -5, -119
;time=7

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =10
value = 2

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = 8, -116
;time=7

[State 1360, 4]
type = targetlifeadd
trigger1 = AnimElem = 13     ;;;;;;;
value = -110
kill = 1


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =13
id = 7031
anim = 7032
pos = 7,-4;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =13
id = 7031
anim = 7031
pos = 6,-6
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =13
id = 7002
anim = 7002
pos = 11,-9
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 10


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =14
anim = 8013
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 17


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =15
anim = 8014
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =11
value = 2

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = 11,-110;38, 0
;time=7

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 13
freq = 100
phase = 90
time = 20
ampl = -6

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =12
value = 2

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 12
pos = 12,-91;38,0;25, 0
;time=17

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =13
value = -1;2

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 13
pos = 25,0;38, 0
time=7

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =14
value = -1

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 14
pos = 25,0;38,0;25, 0
time=17

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =15
value = -1

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 15
pos = 25,0;38,0 ;25, 0
time=8

[State 810, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 810, Cancel Var]
type = varset
Triggerall = Time = [0,18]
trigger1 = target, command = "x"
trigger2 = target, command = "y"
trigger3 = target, command = "z"
var(12) = 1

[State 810, Cancel]
type = changestate
Trigger1 = Time = [5,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 810, Cancel]
type = targetstate
Trigger1 = Time = [5,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 860, 2]
type = posadd
trigger1 = time = 118
x = -12

[State 860, 2]
type = posadd
trigger1 = time = 122
x = -8

[State 860, 2]
type = posadd
trigger1 = time = 127
x = -7

[State 860, 2]
type = posadd
trigger1 = time = 132
x = -3

[State 810, Throw]
type = TargetState
trigger1 = AnimElem = 16, = 2
value = 822

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 821]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 821



;;;;;;;;;;;;;;;

[Statedef 822]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

;[State 3367, 2]
;type = PosSet
;trigger1 = Time = 0
;y = 0

[State 3367,0]
type = NotHitBy
trigger1 = 1
value = SCA


[State 3367,SelfState]
type = SelfState
trigger1 = Time = 0
value = 5100

;;;;;;;;;;;;;;;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;

[Statedef 811]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 811
ctrl = 0

[State 821,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 821, 0]
type = Envcolor
trigger1 = Time = 9
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 1
under = 1
supermove = 1

[State 821]
type = posadd
trigger1 = time = 9
x = -12

[State 821]
type = posadd
trigger1 = time = 10
x = -9

[State 821]
type = posadd
trigger1 = time = 11
x = -7

[State 821]
type = posadd
trigger1 = time = 12
x = -5

[State 821]
type = posadd
trigger1 = time = 13
x = -4

[State 821]
type = posadd
trigger1 = time = 14
x = -3

[State 821]
type = posadd
trigger1 = time = [15,16]
x = -2

[State 821]
type = posadd
trigger1 = time = [17,18]
trigger2 = time = 20
trigger3 = time = 22
x = -1

[State 821, Cancel]
type = targetstate
Trigger1 = time = 0
value = 812

[State 821, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 821, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 821, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------

[Statedef 812]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0

[State 822, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 822, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 210,1


[State 822]
type = VelSet
trigger1 = time = 0
x = -12

[State 822]
type = VelSet
trigger1 = time = 1
x = -9

[State 822]
type = VelSet
trigger1 = time = 2
x = -7

[State 822]
type = VelSet
trigger1 = time = 3
x = -5

[State 822]
type = VelSet
trigger1 = time = 4
x = -4

[State 822]
type = VelSet
trigger1 = time = 5
x = -3

[State 822]
type = VelSet
trigger1 = time = [6,7]
x = -2

[State 822]
type = VelSet
trigger1 = time = [8,9]
trigger2 = time = 11
trigger3 = time = 13
x = -1

[State 822, ANIM1]
type = changeanim
trigger1 = selfanimexist(812)
Trigger1 = time = 0
value = 812

[State 822, ANIM2]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 822, ANIM3]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 822, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;
;œµﬂÌœµ∂ºÔ±


[Statedef 860]
type = S
movetype = A
physics = S
velset = 0,0
poweradd= 0
anim = 800
ctrl = 0
facep2 = 1

[State 800, 1]
type = HitDef
trigger1 = time = 0
trigger1 =  p2movetype != H
trigger1 = P2StateNo != [40,52]
attr = S, NT
hitflag = M-
priority = 3, miss
p2facing = 1
sparkno = -1
sprpriority = 3
p1stateno = 861
p2stateno = 862
p2getp1state = 1
hitonce = 1
numhits = 0

[State 170, ñ≥ìG]
type = NotHitBy
trigger1 = 1
value = SCA


[State 2000, 3]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 861]
type    = S
physics = N
movetype= A
anim = 860
ctrl = 0
velset = 0,0

[State 2101, 1.1]
type = Width
trigger1 = time <= 96
edge = 30,30

[State 2101, 1.2]
type = Width
trigger1 = time >= 97
edge = 0,20

[State 2101, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 19
value = 3

[State 2101, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger1 = time >= 20
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =2
value = 801,0
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =2,=1
value = 210,2
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =10
value = 801,6
;volume = -200

[State 2101, 3.1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 49,0
time = 3

[State 2101, 3.2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 20,-61
time = 17

[State 2101, 3.3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 30,-75
time = 7


[State 2101, 3.4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 13,-94
time = 11

[State 2101, 3.5]
type = TargetBind
trigger1 = AnimElem = 5
pos = -9,-106
time = 10

[State 2101, 3.6]
type = TargetBind
trigger1 = AnimElem = 6
pos = -14,-107
time = 9

[State 2101, 3.7]
type = TargetBind
trigger1 = AnimElem = 7
pos = -16,-102
time = 8

[State 2101, 3.8]
type = TargetBind
trigger1 = AnimElem = 8
pos = -24,-91
time = 2

[State 2101, 3.9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -24,-74
time = 2

[State 2101, 3.10]
type = TargetBind
trigger1 = AnimElem = 10
pos = -17,-32
time = 4

[State 2101, 3.11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -28,-10;0
time = 9

;[State 2101, 3.12]
;type = TargetBind
;trigger1 = AnimElem = 12
;pos = -41,0
;time = 6

[State 2101, 4.1]
type = posadd
trigger1 = time = 92
x = -20

[State 2101, 4.1]
type = posadd
trigger1 = time = 97
x = -15

[State 2101, 4.1]
type = posadd
trigger1 = time = 103
x = -13

[State 2101, 4.2]
type = posadd
trigger1 = time = 106
x = 0

[State 1010, GrabSpark]
type = Explod
trigger1 = animelem = 2
id = 7080
anim = 7081
pos = 8,-61
sprpriority = 1
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 860, GrabSpark]   ;ground
type = Explod
trigger1 = animelem = 10
id = 7030
anim = 7032
pos = -26,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =10
id = 7031
anim = 7031
pos = -27,-2
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = animelem = 10
id = 7002
anim = 7002
pos = -20,-9
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 860, Cancel Var]
type = varset
Triggerall = Time = [0,14]
trigger1 = target, command = "a"
trigger2 = target, command = "b"
trigger3 = target, command = "c"
var(12) = 1

[State 860, Cancel]
type = changestate
Trigger1 = Time = [7,19]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 860, Cancel]
type = targetstate
Trigger1 = Time = [7,19]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 860, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 2101, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------
[Statedef 862]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2120, 1]
type = Changeanim2
trigger1 = time = 0
value = 861

[State 2120, 2]
type = sprpriority
trigger1 = 1
value = 0

[State 2120, 3]
type = ScreenBound
trigger1 = time <= 83
value = 1

[State 2120, 4]
type = Envshake
trigger1 = time = 73
time = 15
freq = 50
ampl = -3

[State 2120, 6]
type = lifeadd
trigger1 = time = 73
value = -110
absolute = 1

[State 2120, 7]
type = Width
trigger1 = time <= 83
value = -30,-30

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 867
ctrl = 0

;;;;


;;;;;;;;;;;
[Statedef 867]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 871, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1630

[State 871, 1]
type = ChangeState
trigger1 = time = 6
value = 868

;;;;;

[Statedef 868]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 3

[State 875,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 875]
type = VelSet
trigger1 = time = 0
x = 4.2
y = -6.6

[State 875, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5160

[State 875,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .523

[State 875, ANIM2]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100


;----------------------------------------------

[Statedef 2121]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 3,-3

[State 2121, 1.2]
type = Changeanim2
trigger1 = time = 0
value = 862

[State 2121, 2.1]
type = posset
trigger1 = time = 0
y = -10

[State 2121, 2.4]
type = Veladd
trigger1 = time >= 0
y = .5

[State 2121, 3]
type = ChangeState
trigger1 = time >= 1
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2122

;------------------------------------------------

[Statedef 2122]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2122, 1]
type = Changeanim2
trigger1 = time = 0
value = 863

[State 2122, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2122, 3.1]
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2122, 3.2]
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;;;;;;;;;;;;;;;;;;;;;
;Ã¯»ÎÀ¿Õˆ∫˛


[Statedef 870]
type    = A
physics = A
movetype= A
anim = 870
ctrl = 0
juggle = 15
facep2 = 1

[State 2200, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2200, 2]
type = Hitdef
trigger1 = p2bodydist X < 6 && p2bodydist Y = (-20,20)
trigger1 = AnimElem = 1
attr = A, NT
Hitflag = A-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 871
p2stateno = 875
p2getp1state = 1
hitonce = 1
numhits = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 871]
type = A
movetype = A
physics = N
anim = 871
ctrl = 0
velset = 0,0
sprpriority = 2

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 7081
anim = 7081
pos = -4,-120
sprpriority = 1
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1
value = 801,0
volume = -220

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =2
value = 801,4;210,2
volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =3,=1
value = 801,6
volume = -200

[State 882, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 2, <= 4
edge = 40,40

[State 882,PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 2,<=4

[State 882 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 0,-116
time = -1

[State 882 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 2,-116
time = -1

[State 882 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 38,12

[State 2201, 4]
type = Velset
trigger1 = time = 25
x = 3

[State 2201, 4]
type = Gravity
trigger1 = time >= 25

[State 882 , 3]
type = ChangeState
trigger1 = Pos Y >= -5 && Vel Y > 0
value = 872
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 872]
type    = S
physics = N
movetype= I
anim = 872
ctrl = 0
velset = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1201, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1201, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;

[Statedef 875]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 885,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 885, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 875

[State 1545, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 876

;;;;;;;;;;;;;;;;;;;;

[Statedef 876]
type = A
movetype = H
physics = N
velset = 0, 0

[State 886,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 5050

[State 886,VelSet]
type = VelSet
trigger1 = Time = 0
x = -14
y = 12

[State 886,SelfState]
type = lifeadd
trigger1 = Pos Y >= -12 && Vel Y > 0
value = -110
kill = 1

[State 860, GrabSpark]
type = Explod
trigger1 = Pos Y >= -12 && Vel Y > 0
id = 7030
anim = 7030
postype = p2
pos = 110,90
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18


[State 886,SelfState]
type = ChangeState
trigger1 = Pos Y >= -12 && Vel Y > 0
value = 1034


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;∞¢∏˘Õ¢±≥À§


[Statedef 1000]
type    = S
physics = S
movetype= A
poweradd = 61
ctrl = 0
anim = 1000
velset = 0,0
facep2 = 1


[State 1000 , 1]
type = HitDef
trigger1= AnimElem = 1
trigger1 = P2StateNo != [120,152];[150,155]
trigger1 = P2StateNo != [40,52]
trigger1 = p2statetype != A
trigger1 = movetype != H
ignorehitpause = 1
numhits = 0
attr = S, ST
getpower = 160,160
hitflag = M
guard.dist = 0
priority = 4, miss
hitsound   = -1;s801,0
sparkno = -1
p2facing = 1
;nochainid = 301
p1stateno = 1001
p2stateno = 1011
p2getp1state = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 110
;ignorehitpause =
;persistent =


[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = random < 700
value = 200,2

;[State 170, ]
;type = NotHitBy
;trigger1 = time = [0,4]
;value = SCA

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1










[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1001
facep2 = 0
SprPriority = 2

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1
ignorehitpause = 1
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,0
volume = 200

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 3,=9
value = 1000,0
;volume = -160


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1
;volume = -240



[State 1010, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 6
edge = 50,17

;[State 1010, Width]
;type = width
;trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 17
;edge = 0,17

[State 1010,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 3
id = 7081
anim = 7081
pos = 46,-55
sprpriority = 1
ownpal = 1
removeongethit = 0
bindtime = 1
removetime = 11
ignorehitpause = 1

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 32,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 40,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 25,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 50,-46

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1020

;;;;;;;;;;;;;;;;;;


[Statedef 1011]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1011

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;;;;;;;;;;;;;

[Statedef 1050]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1050]
type = turn
trigger1 = time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA


[State 1050,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 1050

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1050,VelSet]
type = VelSet
trigger1 = Time = 1
x = 0
y = -16.1		;-13.8

[State 1050,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .6		;.523

;[State 1050, 4]
;type = lifeadd
;trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
;value = -142
;kill = 1

[State 1050,SelfState]
type = ChangeState
trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 1060


;;;;;;;


[Statedef 1060]
type = A
movetype = H
physics = N
velset = 0, 0

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1060, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -6

[State 1060,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1060, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1060,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100

[State 1040,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1065


;;;;;;;;;;;;;;


[Statedef 1065]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1065,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1060,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 1060,VelSet]
type = VelSet
trigger1 = Time = 0
x = 1
y = -7.4

[State 1050,VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 1050,SelfState]
type = SelfState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5110



;;;;;;;;;;;;;;;;



[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1020
facep2 = 0
SprPriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =4
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =5
value = 801,6

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 40
phase = 90
time = 9
ampl = -4


[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 5
freq = 80
phase = 70
time = 22
ampl = 5

[State 1020, Width]
type = width
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
edge = 60,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 8, <= 6
edge = 60,30


[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

;[State 860, GrabSpark]
;type = Explod
;trigger1 = AnimElem =5,=1
;id = 7030
;anim = 7032
;pos = 89,0
;sprpriority = 0
;ownpal = 1
;removeongethit = 1
;removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =5,=1
id = 7030
anim = 7030
pos = 89,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -75
kill = 0

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 5,=1
value = -85
kill = 1

[State 1020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1020,0]
type = turn
trigger1 = time = 0

[State 1020, 4]
type = targetstate
trigger1 = TIME = 0
value = 1025

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = -7,-68

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = -7,-88

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 17,-50;-50

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 44,-78;-44

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 5,=0
pos = 109,-16;62,-8

[State 1020, 4]
type = targetstate
trigger1 = animelem = 5,=1
value = 1034

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(1) >= 4 && Animelemtime(5) <= 10
trigger1 = command = "26xy"
var(8) = 1

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = var(59) = 10
triggerall = p2life > 0
trigger1 = Animelemtime(1) >= 4 && Animelemtime(5) <= 10
var(8) = 1

;[State 1020, ChangeState]
;type = ChangeState
;triggerall = var(59) = 10
;triggerall = Animelemtime(5) > 2 && Animelemtime(5) <= 20
;trigger1 = life <= 1100 && p2life > 200
;trigger1 = random < 800
;trigger2 = p2life = (0,200]
;value = 1300
;ctrl = 0

[State 1020,1300]
type = ChangeState
triggerall = var(59) = 10
triggerall = p2life > 0
trigger1 = Animelemtime(5) >= 2 && Animelemtime(5) <= 20
;trigger2 = p2life >= 300 && random <= 400
value = 1300
ctrl = 0

;[State 1020, 4]
;type = ChangeState
;triggerall = var(59) = 10
;triggerall = AnimElem = 5,>=1 && AnimElem = 5,<=2
;triggerall = p2life <= 0
;triggerall = random >= 500
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1


[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 1
triggerall = Animelemtime(5) >= 2 && Animelemtime(5) <= 20
value = 1300
ctrl = 0

[State 1020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;;;;;;;;;;;;;;;




[Statedef 1025]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 3

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA


[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1025

;;;;;;;;;;;;

[Statedef 1033]
type = A
movetype = H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 8

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = -2.4;-4.12
y = -3.6

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1630

[State 1520 1]
type = ChangeAnim          ;tan
trigger1 = Anim = 1630
trigger1 = AnimTime = 0
value = 5090;5160

[State 1375, 0]
type = changeState
;trigger1 = Pos Y >= -6 && Vel Y > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 3311

;----------

[Statedef 1034]
type = L
movetype = H
physics = N
ctrl = 0


[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1630

[State 1375, 0]
type = changestate;SelfState
trigger1 = AnimTime = 0
value = 1035

;-------

[Statedef 1035]
type = A
movetype = H
physics = N
ctrl = 0

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = time = 0
x = -2.4
y = -2.1

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .34


[State 1520 1]
type = ChangeAnim          ;tan
trigger1 = time = 0
value = 5160

[State 1375, 0]
type = changestate;SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 10355;5100

;------

[Statedef 10355]
type    = L
movetype= H
physics = N
ctrl = 0

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 5100

[State 1375, Vel]
type = Velset
trigger1 = time = 0
y = 0

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, 0]
type = changeState
trigger1 = time = 6;AnimTime = 0
value = 1036;5101

;;-------------

[Statedef 1036]
type    = L
movetype= H
physics = N
ctrl = 0

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
y = -1

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .3

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1 = time = 0
value = 5160


[State 1375, 0]
type = changeState
trigger1 = Pos Y >= 8 && Vel Y > 0
value = 3313

;;;;;;;;;;;;;;;;;;;;;


[Statedef 1100]
type = S
movetype = A
physics = N
anim = 1100
ctrl = 0
facep2 = 1
velset = 0, 0

[State 100]
type = PlaySnd
trigger1 = AnimElem = 2
;volume = -200
value = 1100,0

[State 100]
type = PlaySnd
trigger1 = AnimElem = 3
volume = -200
value = 100,0
channel = 4

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 110

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 3
x = Const(velocity.run.fwd.x)+1.8


[State 1400, 4]
type = ChangeState
triggerall = time = [7,34]
trigger1 = P2Dist X < 82;72
value = 1101

[State 400,]
type = varset
trigger1 = Time = 0
var(11) = 0

[State 1000, VarSet]
type = VarSet
triggerall = time = [7,34]
trigger1 = command = "3000"
var(11) = 1
ignorehitpause = 1

[State 1500 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;

[Statedef 1101]
type    = S
physics = N
movetype= A
anim = 1101
ctrl = 0
juggle = 15
velset = const(velocity.run.fwd.x)+1.4;.5

[State 1301, 1]
type = Hitdef
trigger1 = time = 0
animtype = back
air.animtype = back
attr = S, ST
hitflag = MAF
guardflag = M
pausetime = 0,0;ifelse ((var(11)= 1 || var(17)= 1 || var(59) =10),15,0)
guard.pausetime = 2,10
priority = 3,hit
sparkno = s7003
sparkxy = -16,-58
ground.type = high
guard.sparkno = s7010
sparkxy = -16,-58
sprpriority = 3
p2facing = 1
hitsound = s210,0
guardsound = s210,1
;p1stateno = 1110
;p2stateno = 1115
;p2getp1state = 1
;id = 1300
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10.8
guard.cornerpush.veloff = 18

[State 1301, 2]
type = Velset
trigger1 = time = 13
trigger2 = moveguarded
x = 0


[State 400,]
type = varset
trigger1 = Time = 0
var(17) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 2,<= 9
trigger1 = command = "3000"
var(17) = 1
ignorehitpause = 1

[State 1510,ChangeState]
type = changestate
triggerall = !var(59)
trigger1 = moveguarded
value = ifelse (var(17) = 1,3000,1111)
ignorehitpause = 1
persistent = 0

[State 1510,ChangeState]
type = changestate
triggerall = var(59) = 10
trigger1 = moveguarded
value = 1111
ignorehitpause = 1
persistent = 0

[State 1510,ChangeState]
type = changestate
triggerall = var(59) = 10
triggerall = power >= 1000
trigger1 = movehit
trigger1 = Animelem = 2,=1
value = 3000;ifelse((random <=799),3000,1110)
ignorehitpause = 1
persistent = 0

[State 1510,ChangeState]
type = changestate
triggerall = var(59) = 10
triggerall = power >= 1000
trigger1 = moveguarded
trigger1 = Animelem = 2,=1
value = 3000
ignorehitpause = 1
persistent = 0

[State 1510,ChangeState]
type = changestate
triggerall = var(59) = 10
triggerall = power < 1000
trigger1 = movehit
value = 1110
ignorehitpause = 1
persistent = 0

[State 3000, 4]
type = changestate
triggerall = !var(59)
trigger1 = movehit
value = ifelse ((var(11)= 1 || var(17)= 1),3000, 1110)
ignorehitpause = 1
persistent = 0

[State 0, TargetState]
type = TargetState
triggerall = !var(59)
triggerall = var(11)= 1 || var(17)= 1
trigger1 = movehit
trigger1 = time = 0
value = 1116
;;ID = -1
;;ignorehitpause =
;persistent =
[State 0, TargetState]
type = TargetState
triggerall = var(59) = 10
trigger1 = movehit
trigger1 = time = 0
value = 1116

[State 1301, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1111]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1109
velset = 0,0
facep2 = 0

[State 1515, VelSet]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4
x = 16

[State 1515 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;

[Statedef 1110]
type    = S
physics = N
movetype= A
anim = 1102
ctrl = 0
velset = const(velocity.run.fwd.x)+1.6

[State 0, TargetState]
type = TargetState
;triggerall = !var(11)
;triggerall = !var(17)
trigger1 = time = 0
value = 1115
;ID = -1
;ignorehitpause =
;persistent =

;[State 0, TargetState]
;type = TargetState
;triggerall = var(11)= 1 || var(17)= 1
;trigger1 = time = 0
;value = 1116

;[State 0, ChangeState]
;type = ChangeState
;triggerall = var(11)= 1 || var(17)= 1
;trigger1 = time = 0
;value = 3000
;ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5,=1
value = 801,7
volume = -160

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 801,1
volume = -160

[State 1520, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 20,0
time = 1

[State 1520, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 30,-44
time = 4

[State 1520, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 28,-38
time = 5

[State 1520, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 16,0
time = 6

[State 1520, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 4,0
time = 46

[State 1303, 5]
type = Veladd
trigger1 = vel x > 0
trigger1 = Animelemtime(6) <= 8
x = -.2;-.17

[State 0, VelSet]
type = VelSet
trigger1 = animelem >= 7
x = 0
y = 0
;ignorehitpause =
;persistent =


[State 400,]
type = varset
trigger1 = Time = 0
var(10) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 3,>0 && Animelem = 5,<= 32
trigger1 = command = "grab up 1"
var(10) = 1
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
triggerall= !var(59)
trigger1 = Var(10) = 1
trigger1 = Animelem = 5,= 32
value = 1120
ctrl = 0

[State 400,]
type = varset
trigger1 = Time = 0
var(10) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 3,>0 && Animelem = 5,<= 32
trigger1 = command = "grab up 2"
var(10) = 2
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
triggerall= !var(59)
trigger1 = Var(10) = 2
trigger1 = Animelem = 5,= 32
value = 1270
ctrl = 0

[State 400,]
type = varset
trigger1 = Time = 0
var(10) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 3,>0 && Animelem = 5,<= 32
trigger1 = command = "grab up 3"
var(10) = 3
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
triggerall= !var(59)
trigger1 = Var(10) = 3
trigger1 = Animelem = 5,= 32
value = 1200
ctrl = 0

[State 1200, ChangeState]
type = ChangeState
triggerall= var(59) = 10
trigger1 = Animelem = 5,= 32
value = ifelse(random < 300,1120,ifelse(random <500,1270,1200))
ctrl = 0

[State 1301, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1115]
type = A
movetype = H
physics = N
ctrl = 0

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = P2Name != "TAN_CLARK"
trigger1 = p2stateno != 3000
value = SCA
time = 10

[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1115

[State 1525, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1116]
type = A
movetype = H
physics = N
ctrl = 0

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = P2Name != "TAN_CLARK"
trigger1 = p2stateno != 3000
value = SCA
time = 12

[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1116

[State 1525, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1120]
type    = S
physics = N
movetype= A
anim = 1110
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1,=6
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = 1110,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13,=1
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13
value = 801,1

[State 1010, GrabSpark]
type = Explod
trigger1 = animelem = 2
id = 7080
anim = 7081
pos = 10,0
sprpriority = 5
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1010, GrabSpark]
type = Explod
trigger1 = animelem = 3
id = 1111
anim = 1111
pos = 0,0
SprPriority = 4
ownpal = 1
bindtime = 1
ignorehitpause = 1
removetime = 36

[State 1400, 1]
type = Width
trigger1 = time <= 70
edge = 30,30

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 2
value = 1125
;ignorehitpause =
;persistent =


[State 1400, 3.2]
type = TargetBind
trigger1 = animelem = 1
pos = 0,0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 32, -8

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 16, -2

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 17, -26

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 1, -31

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 22, -56

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 6, -72

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = -1, -78

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =9
value = 2

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -17, -85

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =10
value = 2

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = -40, -86

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =11
value = 2

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 11
pos = -40, -86

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12
pos = -58, -69

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 13
pos = -80, -16

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 13,=1
pos = -94, 0

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 13,=1
id = 7030
anim = 7030
pos = -94,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1060, Shake]
type = EnvShake
trigger1 = AnimElem = 13,=1
time = 8
ampl = -6

[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 13,=1
value = 1135
;ignorehitpause =
;persistent =

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1125]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 2

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = AnimElem = 12
value = -120
kill = 1
;ignorehitpause =
;persistent =


[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1150

;;;;;;;;;;;;;;;

[Statedef 1135]
type = A
movetype = H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 7;8;10;20

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = 3;-4.12
y = -4.6;-6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .423;.523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1630

[State 1520 1]
type = ChangeAnim
trigger1 = Anim = 1630
trigger1 = AnimTime = 0
value = 5160

[State 1375, 0]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1200]
type    = S
physics = N
movetype= A
anim = 1200
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=6
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8,=6
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1110,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10,=1
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,1

[State 1010, GrabSpark]
type = Explod
trigger1 = animelem = 2
id = 7080
anim = 7081
pos = 10,0
sprpriority = 4
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1010, GrabSpark]
type = Explod
trigger1 = animelem = 3
id = 1111
anim = 1111
pos = 0,0
SprPriority = 3
ownpal = 1
bindtime = 1
ignorehitpause = 1
removetime = 19

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 10
value = 1
ignorehitpause = 1

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 10
value = -130
kill = 1

[State 1400, 1]
type = Width
trigger1 = time <= 70
edge = 30,30

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 2
value = 1205

[State 1400, 3.2]
type = TargetBind
trigger1 = animelem = 1
pos = 0,0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 27, -7
;time = 6

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 31, -18
;time = 6

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 18, -31
;time = 6

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 17, -38
;time = 6

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =6
value = 2

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 15, 4
;time = 6

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =7
value = 2

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 13, 0
;time = 6

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 36, -72
;time = 6

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =9
value = 2

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = 8, -69
;time = 4

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =10
value = 2

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = -30, -6

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10,=5
pos = -30, 0

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 10,=5
value = 1235

[State 860, GrabSpark]
type = Explod
trigger1 = animelem = 10
id = 7030
anim = 7030
pos = -59,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(7) >= 0 && Animelemtime(11) <= 8
trigger1 = command = "26xy"
var(8) = 6

[State 1020, VarSet]
type = VarSet
triggerall = var(59) = 10
trigger1 = Time = 0
var(8) = 6

[State 1020, ChangeState]
type = ChangeState
triggerall = !var(59)
trigger1 = Var(8) = 6
triggerall = Animelemtime(11) > 8 && Animelemtime(11) <= 16
value = 1300
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelemtime(11) > 8 && Animelemtime(11) <= 16
trigger1 = random < 400
value = 1300
ctrl = 0

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;

;;;;;;;;;;;;;;;

[Statedef 1235]
type = A
movetype = H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 26;8;10;20

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
;x = 3;-4.12
y = -4.6;-6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .423;.523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1640;1630

[State 1520 1]
type = ChangeAnim
trigger1 = Anim = 1640
trigger1 = AnimTime = 0
value = 5090;5160

[State 1375, 0]
type = changeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 3311;5100

;;;;;;;;;;;;;;;;;;;;;;;;;;;

;;;;;;;;;;;;;;;;;;


[Statedef 1205]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1205


;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1270]
type    = S
movetype= A
physics = S
poweradd = 152
ctrl = 0
anim = 1270
velset = 0,0
facep2 = 0
sprpriority = 3

[State 1540, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 2, <= 7
edge = 14,32

[State 1540, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 28, <= 3
edge = 50,32

[State 1540, Width]
type = width
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 3
edge = 73,32

[State 1560, 2]
type = PlaySnd
trigger1 = time = 1
value = 801,0

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1110,2

;[State 1540, 2]
;type = PlaySnd
;trigger1 = time = 2
;value = 1010,2

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29
value = 801,1

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 18 || AnimElem = 28
value = 801,7
volume = -160

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 28
value = 40,1

[State 1560, 4]
type = targetlifeadd
trigger1 = AnimElem = 9 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 28
value = -23
kill = 0

[State 1560, 4]
type = targetlifeadd
trigger1 = AnimElem = 29
value = -36
kill = 1

[State 1560, 4]
type = SprPriority
trigger1 = animelem = 11
trigger2 = animelem = 21
value = -2

[State 1560, 4]
type = SprPriority
trigger1 = animelem = 12
trigger2 = animelem = 22
value = 3

[State 1560, GrabSpark]
type = Explod
trigger1 = AnimElem = 9 || AnimElem = 13 || AnimElem = 19 || AnimElem = 23
id = 7030
anim = 7030
pos = 0,0
sprpriority = -3
ownpal = 1

[State 1560, GrabSpark]
type = Explod
trigger1 = AnimElem = 29
id = 7030
anim = 7030
pos = 48,0
sprpriority = -3
ownpal = 1

[State 1560, Shake]
type = EnvShake
trigger1 = AnimElem = 9 || AnimElem = 13 || AnimElem = 19 || AnimElem = 23 || AnimElem = 29
time = 12
ampl = -6

[State 1560,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1560, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 7081
anim = 7081
pos = 33,-79
sprpriority = 1
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1560,0]
type = posadd
trigger1 = time = [24,95]
x = -2.5

;[State 1560, 1]
;type = turn
;trigger1 = time = 0

[State 1560, 4]
type = targetstate
trigger1 = time = 0
value = 1275

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 17, 0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 7, 0

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 10, 2

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 0, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = -17, 0



[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
trigger2 = AnimElem = 16
trigger3 = AnimElem = 25
pos = -8, -33
time = 2

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
trigger2 = AnimElem = 17
trigger3 = AnimElem = 26
pos = -2, -33
time = 4

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
trigger2 = AnimElem = 18
pos = 2, -43
time = 3

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
pos = 4, -35
time = 3

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
trigger3 = AnimElem = 20
pos = 10, -10
time = 4

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
trigger2 = AnimElem = 21
pos = 24, -27
time = 3

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12
trigger2 = AnimElem = 22
pos = 26, -44
time = 3


[State 810, Bind 15]
type = TargetBind
trigger1 = AnimElem = 15
trigger2 = AnimElem = 24
pos = 14, -30
time = 4

[State 810, Bind 27]
type = TargetBind
trigger1 = AnimElem = 27
pos = -4, -50

[State 810, Bind 28]
type = TargetBind
trigger1 = AnimElem = 28
pos = -24, -61


[State 810, Bind 29]
type = TargetBind
trigger1 = AnimElem = 29
pos = -39, 0

[State 1560, 4]
type = targetstate
trigger1 = AnimElem = 29
value = 1276

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(20) >= 0 && Animelemtime(30) <= 6
trigger1 = command = "26xy"
var(8) = 8

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 8
triggerall = Animelemtime(30) > 6 && Animelemtime(31) <= 6
value = 13001
ctrl = 0

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1275]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

;[State 1560, 1]
;type = turn
;trigger1 = AnimElem = 2,=7

[State 1565, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1275

;[State 1566, 5]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 1276

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1276]
type    = S
movetype= H
physics = S
;velset = 0,0

[State 1566, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1276
;elem = 1
;ignorehitpause =
;persistent =


[State 1566, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1277

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1277]
type = A
movetype = H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 7;8;10;20

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = 3;-4.12
y = -4.6;-6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .423;.523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1640

[State 1520 1]
type = ChangeAnim
trigger1 = Anim = 1640
trigger1 = AnimTime = 0
value = 5090;5160

[State 1375, 0]
type = changeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 3311;5100


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1300]
type    = S
physics = S
movetype= I
anim = 1290
ctrl = 0
velset = 1
facep2 = 1

[State 0, Width]
type = Width
trigger1 = 1
edge = 30,0


[State 100]
type = PlaySnd
trigger1 = time = 0
volume = -200
value = 100,0
channel = 4



[State 900, 1.1]
type = VelSet
trigger1 = AnimElem = 1, >= 0
trigger1 = FrontEdgeDist >= 20
x = const(velocity.run.fwd.x)+0.7

[State 900, 1.2]
type = VelSet
trigger1 = FrontEdgeDist < 20
x = 2;0


[State 900, 4.1]      ;tan
type = ChangeState
triggerall = var(8) = 1
;trigger1 = (P2bodydist X < 50 && p2statetype = L && p2statetype = A)
trigger1 = FrontEdgeDist <= 44; && p2statetype = L)
trigger2 = time = 19;(P2bodydist X <= 90 && p2statetype = L);(P2bodydist X < 20 && p2statetype = L)
;trigger2 = time = 1
;trigger2 = (FrontEdgeDist < 20 && p2statetype = L)
value = 1301

[State 900, 4.1]      ;tan
type = ChangeState
triggerall = var(8) = 1
triggerall = var(59) = 10
trigger1 = FrontEdgeDist <= 44; && p2statetype = L)
trigger2 = time = 19;(P2bodydist X <= 90 && p2statetype = L);(P2bodydist X < 20 && p2statetype = L)
value = 1301

[State 900, 4.1]     ;tan
type = ChangeState
triggerall = var(8) = 6
;trigger1 = (P2bodydist X < 50 && p2statetype = L && p2statetype = A)
trigger1 = FrontEdgeDist <= 34; && p2statetype = L)
trigger2 = time = 2;(P2bodydist X < 20 && p2statetype = L)
;trigger2 = time = 1
;trigger2 = (FrontEdgeDist < 20 && p2statetype = L)
value = 1301

[State 900, 4.1]     ;tan
type = ChangeState
triggerall = var(8) = 6
triggerall = var(59) = 10
trigger1 = FrontEdgeDist <= 34; && p2statetype = L)
trigger2 = time = 2;(P2bodydist X < 20 && p2statetype = L)
value = 1301

[State 900, 4.1]       ;tan
type = ChangeState
triggerall = Var(8) = 5 || var(8) = 13
trigger1 = time = 6;(P2bodydist X <= 80 && p2statetype = L);(P2bodydist X <= 16 && p2statetype = L)
trigger2 = FrontEdgeDist <= 20; && p2statetype = L)
;trigger2 = time = 1
value = 1301

[State 900, 4.1]       ;tan
type = ChangeState
triggerall = Var(8) = 5 || var(8) = 13
triggerall = var(59) = 10
trigger1 = time = 6;(P2bodydist X <= 80 && p2statetype = L);(P2bodydist X <= 16 && p2statetype = L)
trigger2 = FrontEdgeDist <= 20; && p2statetype = L)
value = 1301

;[State 900, 4.1]
;type = ChangeState
;triggerall = var(8) != 3
;;trigger1 = (P2bodydist X < 50 && p2statetype = L && p2statetype = A)
;trigger1 = FrontEdgeDist <= 34; && p2statetype = L)
;trigger2 = time = 11;(P2bodydist X <= 90 && p2statetype = L);(P2bodydist X < 20 && p2statetype = L)
;;trigger2 = time = 1
;;trigger2 = (FrontEdgeDist < 20 && p2statetype = L)
;value = 1301

[State 900, 4.2]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;;;;;;;;;;;;
[Statedef 13001]
type    = S
physics = S
movetype= I
anim = 1290
ctrl = 0
velset = 1
facep2 = 1

[State 0, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 100]
type = PlaySnd
trigger1 = time = 0
volume = -200
value = 100,0
channel = 4

[State 900, 1.1]
type = VelSet
trigger1 = AnimElem = 1, >= 0
trigger1 = FrontEdgeDist >= 20
x = const(velocity.run.fwd.x)+0.4

[State 900, 1.2]
type = VelSet
;trigger1 = var(8) = 2
trigger1 = FrontEdgeDist < 20
x = 2

[State 900, 4.1]       ;tan
type = ChangeState
triggerall = var(8) = 8
trigger1 = time = 7;(P2bodydist X <= 18 && p2statetype = L)
trigger2 = FrontEdgeDist <= 40; && p2statetype = L)
value = 1302

[State 900, 4.1]
type = ChangeState
triggerall = var(8) = 3; || var(8) = 8
trigger1 = time = 6;(P2bodydist X <= 80 && p2statetype = L);(P2bodydist X <= 18 && p2statetype = L)
trigger2 = FrontEdgeDist <= 40; && p2statetype = L)
value = 1302

[State 900, 4.1]
type = ChangeState
triggerall = var(8) = 2; || var(8) = 8
trigger1 = time = 17;(P2bodydist X <= 80 && p2statetype = L)
trigger2 = FrontEdgeDist <= 40; && p2statetype = L)
value = 1302

[State 900, 4.1]       ;tan
type = ChangeState
triggerall = Var(8) = 5 || var(8) = 13
trigger1 = time = 6;(P2bodydist X <= 80 && p2statetype = L);(P2bodydist X <= 16 && p2statetype = L)
trigger2 = FrontEdgeDist <= 20; && p2statetype = L)
;trigger2 = time = 1
value = 1302

[State 900, 4.1]       ;tan
type = ChangeState
triggerall = Var(8) = 5 || var(8) = 13
triggerall = var(59) = 10
trigger1 = time = 6;(P2bodydist X <= 80 && p2statetype = L);(P2bodydist X <= 16 && p2statetype = L)
trigger2 = FrontEdgeDist <= 20; && p2statetype = L)
value = 1302

[State 900, 4.2]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;;;;;;;;;;;;;;;;

[Statedef 1301]
type    = A
physics = N
movetype= A
anim = 1300
ctrl = 0
velset = ifelse (var(8)=6,0,3)
facep2 = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =4
value = 1000,2
;volume = 0

[State 0, VelSet]
type = Velset
triggerall = var(8) != 6
trigger1 = AnimElem =11
x = 1.8


[state a]
type = veladd
triggerall = var(8) != 6
trigger1 = AnimElem =11,=6
trigger1 = vel x > 0
x = -0.3

[state a]
type = veladd
triggerall = var(8) != 6
trigger1 = AnimElem =11,=12
trigger1 = vel x > 0
x = -0.4

[state a]
type = veladd
triggerall = var(8) != 6
trigger1 = AnimElem =11,=18
trigger1 = vel x > 0
x = -0.6

[state a]
type = velset
trigger1 = vel x <= 0
trigger2 = AnimElem =12
x = 0

;[State 1610, 1]
;type = Pause
;;triggerall = MoveHit > 0
;trigger1 = AnimElem = 11,=3
;time = 1
;persistent = 0
;ignorehitpause = 1

;[State 0, PosFreeze]
;type = PosFreeze
;trigger1 = time >= 15
;trigger1 = time <= 25
;value = 1
;;;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 210,0

[State 0, Explod]
type = Explod
trigger1 =  AnimElem = 11
anim = 7002
ID = 7002
pos = 17,-3
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = 10



[State 11400]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype  = hard
damage    = 50
getpower = 110,80
givepower = 80,65
guardflag = M
priority = 7,Hit
hitflag = FD
pausetime = 10,25
sparkno = -1;s7002
guard.sparkno = -1
sparkxy = 17,-3
hitsound = s801,1
guardsound = s801,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -5
air.velocity = -4,-2
getpower = 220,10
givepower = 20,10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
down.hittime = 17
down.velocity = 0,0
yaccel = .4
fall = 1
fall.recover = 0
envshake.time = 25
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 90
p2stateno = ifelse ((var(8)=6 || var(8)=5),1322,1312)


;[State -3, 5]
;type = AfterImage
;trigger1 = time = 1
;time = 37;30
;trans = add
;timegap = 1
;framegap = 2
;length = 10
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11
id = 7031
anim = 7031
pos = 24,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11
id = 7031
anim = 7032
pos = 25,-1;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24


[State 901, 8.1]
type = Playerpush
trigger1 = 1
value = 0

[State 901, 8.2]
type = NotHitBy
trigger1 = time <= 51
value = SCA

[State 901, 5]
type = ChangeState
triggerall = var(59) = 10
trigger1 = animtime = 0
trigger1 = random > 800
trigger1 = p2life <= 0
;trigger2 = random >= 800
;trigger2 = life >= 300
value = 195

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;

[Statedef 1302]
type    = A
physics = N
movetype= A
anim = 1300
ctrl = 0
velset = 3.7
facep2 = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = ifelse(var(8)=2,30,10),0

;[State 900, 1.1]
;type = VelSet
;trigger1 = AnimElem = 1, >= 0
;x = 1.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =4
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 210,0

[State 0, VelSet]
type = Velset
trigger1 = AnimElem =11
x = 2


[state a]
type = veladd
trigger1 = AnimElem =11
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
trigger1 = vel x <= 0
trigger2 = AnimElem =12
x = 0


;[State 1610, 1]
;type = Pause
;;triggerall = MoveHit > 0
;trigger1 = AnimElem = 11,=3
;time = 2
;persistent = 0
;ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 =  AnimElem = 11; && movehit
anim = 7002
ID = 7002
pos = 17,-3
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = 10

[State 11400]
type = HitDef
trigger1 = p2stateno != 5120
trigger1 = AnimElem = 11
attr = S, SA
animtype  = hard
damage    = 50
getpower = 110,80
givepower = 80,65
guardflag = M
priority = 7,Hit
hitflag = FD
pausetime = 10,25
sparkno = -1;s7002
guard.sparkno = -1
sparkxy = 17,-3
hitsound = s801,1
guardsound = s801,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -5
air.velocity = -4,10
getpower = 220,10
givepower = 20,10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
down.hittime = 17
down.velocity = 0,0
envshake.time = 25
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 90
yaccel = .4
fall = 1
fall.recover = 0
p2stateno = ifelse(var(8)=5,1312,1322)

;[State -3, 5]
;type = AfterImage
;trigger1 = time = 1
;time = 36
;trans = add
;timegap = 1
;framegap = 2
;length = 10
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1

[State 860, GrabSpark]
type = Explod
trigger1 =  AnimElem = 11; && movehit
id = 7031
anim = 7031
pos = 24,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 =  AnimElem = 11; && movehit
id = 7031
anim = 7032
pos = 25,-1;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24


[State 901, 8.1]
type = Playerpush
trigger1 = 1
value = 0

[State 901, 8.2]
type = NotHitBy
trigger1 = time <= 51
value = SCA

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;

[Statedef 1322]
type = L
movetype = H
physics = N
velset = 0, 0

[State 1620,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1620, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1620,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100;5080

[State 1620,ChangeState]
type = ChangeState
trigger1 = hitshakeover
;trigger1 = time = 18;8;4
value = 1323

;;;;;;;;;

[Statedef 1323]
type = A
movetype = H
physics = N
velset = 0, 0
;facep2 = 1

[State 1625,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160;5090

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = 3.36
y = -3.6
;x = 3;-4.12
;y = -4.6;-6.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .54;.8

;[State 1625,SelfState]
;type = ChangeState
;trigger1 = Pos Y >= -4 && Vel Y > 0
;value = 1324

[State 1625,SelfState]
type = SelfState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;
[Statedef 1324]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1625,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 1314	;5090

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -1.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .4

[State 1625,SelfState]
type = SelfState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 5100

;;;;;;;;

[Statedef 1312]
type = L
movetype = H
physics = N
velset = 0, 0

[State 1620,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1620, 2]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1620,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100

[State 1620,ChangeState]
type = ChangeState
trigger1 = hitshakeover
;trigger1 = time = 18;8;4
value = 1313

;;;;;;;;;

[Statedef 1313]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1625,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160;5090

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = -3.36
y = -3.6
;x = -3;-4.12
;y = -4.6;-6.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .54;.8

;[State 1625,SelfState]
;type = ChangeState
;trigger1 = Pos Y >= -4 && Vel Y > 0
;value = 1314

[State 1625,SelfState]
type = SelfState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;
[Statedef 1314]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1625,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 1314	;5090

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -1.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .4

[State 1625,SelfState]
type = SelfState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 5100

;;;;;;;;;;

[Statedef 1400]
type    = S
physics = S
movetype= A
anim = 1400
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3;,=1
value = 1400,0

[State 300,]
type = NotHitBy
trigger1 = time = 0;11
value = SCA
time = 22

[State 300,]
type = HitBy
trigger1 = time = 12;11
value = SC,NT,ST,HT
time = 10

[State 1000, 2]
type = Hitdef
trigger1 = animelem = 3
;trigger1= P2Dist x <= 70
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,52]
;trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
trigger1 = var(18) = 0
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1401
p2stateno = 1405
p2getp1state = 1
guard.dist = 0
numhits = 0
givepower = 144
hitonce = 1
persistent = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 110

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 1401]
type    = S
physics = S
movetype= A
anim = 1401
ctrl = 0
velset = 0,0
facep2 = 0
SprPriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 40,1
volume = -160

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=1
value = 801,7
volume = -160

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9,=25
value = 1401,0

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = 1400,0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
value = 1
ignorehitpause = 1

[State 1020, Width]
type = nothitby
trigger1 = time <= 115
value = SCA

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 7
freq = 100
;phase = 90
time = 11
ampl = -8

[State 1020, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 3
edge = 70,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 9, <= 20
edge = 90,30

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 7081
anim = 7081
pos = 25,-42
sprpriority = 2
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =7,=0
id = 7030
anim = 7030
pos = -89,-2
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

;[State 860, GrabSpark]
;type = Explod
;trigger1 = AnimElem =7,=1
;id = 7030
;anim = 7032
;pos = -89,0
;sprpriority = 0
;ownpal = 1
;removeongethit = 1
;removetime = 26

[State 1001, 1.1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = 16,54,head

[State 1001, 1.2]
type = TargetBind
trigger1 = AnimElem = 5
pos = -20,-78

[State 1001, 1.2]
type = TargetBind
trigger1 = AnimElem = 6
pos = -33,-83

[State 1001, 1.2]
type = TargetBind
trigger1 = AnimElem = 7
pos = -71,0

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 7
value = -160
kill = 1

[State 1210, 2]
type = PosSet
trigger1 = AnimElem = 5
y = 0

[State 1210, 2]
type = Posadd
trigger1 = AnimElem = 6 || AnimElem = 7
x = -16

[State 1210, 2]
type = Posadd
trigger1 = AnimElem = 8
x = -32

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = var(59) = 10
trigger1 = Animelemtime(4) >= 0 && Animelemtime(8) <= 4
var(8) = 2

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(4) >= 0 && Animelemtime(8) <= 4
trigger1 = command = "26xy"
var(8) = 2

[State 1020, ChangeState]
type = ChangeState
triggerall = Var(8) = 2
triggerall = !var(59)
trigger1 = Animelemtime(8) > 4 && Animelemtime(8) <= 7
value = 13001
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) =10
trigger1 = Animelemtime(8) > 4 && Animelemtime(8) <= 7
trigger1 = random >400
value = 13001
ctrl = 0

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;

;;;;;;;;;;

[Statedef 1450]
type    = S
physics = S
movetype= A
anim = 1450
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 300,]
type = NotHitBy
trigger1 = time = 0;11
value = SCA
time = 28

[State 300,]
type = HitBy
trigger1 = time = 18;11
value = SC,NT,ST,HT
time = 10

[State 1000, 2]
type = Hitdef
trigger1 = animelem = 3
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,52]
;trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
trigger1 = var(18) = 0
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1401
p2stateno = 1405
p2getp1state = 1
numhits = 0
givepower = 144
hitonce = 1
persistent = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 110

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1405]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 0
sprpriority = 1

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1370, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1405

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1406
ctrl = 0

;;;;;;;;;;;;

[Statedef 1406]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 14

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = 4.12
y = -6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1620

[State 1520 1]
type = ChangeAnim
trigger1 = Anim = 1620
trigger1 = AnimTime = 0
value = 5160

[State 1375, 0]
type = changeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1407

;---
[Statedef 1407]
type    = L
movetype= H
physics = N
ctrl = 0

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 5100

[State 1375, Vel]
type = Velset
trigger1 = time = 0
y = 0

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, 0]
type = changestate;SelfState
trigger1 = AnimTime = 0
value = 1408

;-------

[Statedef 1408]
type    = L
movetype= H
physics = N
ctrl = 0

;[State 1375, 2]
;type = Posadd
;trigger1 = Time = 0
;x = 9

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = 2
y = -2.4

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .47

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 1375, 0]
type = changeState
trigger1 = Pos Y >= 8 && Vel Y > 0
value = 3313

;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 1500]
type    = S
movetype= A
physics = N
poweradd = 103
ctrl = 0
juggle = 14
anim = 1500
velset = 0,0
facep2 = 1

[State 1202, 1]
type = Width
trigger1 = 1
edge = 30,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =3 || AnimElem = 9
value = 210,3

type = NotHitBy
trigger1 = Time = 2
value =  SCA, NA, SA, HA
time = 8

[State 1100, 3.1]
type = Hitdef
trigger1 = animelem = 4
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 60, 5
pausetime = 6, 15
guard.pausetime = 6, 15
sparkno = S7002
guard.sparkno = S7012
sparkxy = -20, -87
hitsound = S210, 0
guardsound = S210, 1
ground.type = High
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 200, 140
givepower = 150, 260

[State 1100, 3.2]
type = Hitdef
trigger1 = animelem = 10
trigger2 = animelem = 11
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 65, 5
pausetime = 6, 8
guard.pausetime = 6, 12
sparkno = S7002
guard.sparkno = S7012
sparkxy = 8, -60
hitsound = S210, 0
guardsound = S210, 1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
ground.hittime = 19
ground.velocity = -1.5, -9.6
guard.ctrltime = 15
guard.velocity = -12
air.velocity = -1.5, -9.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
id = 1500
nochainID = 1500
sprpriority = 1
getpower = 200, 140
givepower = 150, 260
fall = 1
yaccel = .5

[State 1101, 4.1]
type = Posadd
trigger1 = animelem = 14
x = 7

[State 1101, 4.1]
type = Posadd
trigger1 = animelem = 16
x = 9

[State 1101, 4.1]
type = Posadd
trigger1 = animelem = 14
x = 15

[State 1101, 4.2]
type = Velset
trigger1 = animelem = 2
x = 4;6.5

;[State 1101, 4.3]
;type = Velset
;trigger1 = animelem = 5
;x = 3

[State 1101, 4.4]
type = Velset
trigger1 = animelem = 10
x = 0

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(3) >= 0 && Animelemtime(11) <= 3
trigger1 = command = "1700"
var(8) = 3

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelemtime(11) > 2 && Animelemtime(12) <= 3
triggerall = animelem = 10,>=0 && movehit
;trigger1 = random > 200
value = 1700
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 3
triggerall = Animelemtime(11) > 2 && Animelemtime(12) <= 3
trigger1 = movecontact
value = 1700
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
triggerall = animelem = 10>= 0 && movehit
trigger1 = Animelemtime(10) > 10 && Animelemtime(12) <= 3
trigger1 = random <= 400
value = 3500
ctrl = 0

[State 1100, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;;;;;;;;;;;;;;;





[Statedef 1501]
type    = S
physics = N
movetype= A
anim = 1501
ctrl = 0
velset = 0,0
juggle = 14
facep2 = 1
poweradd = 80

[State 1202, 1]
type = Width
trigger1 = 1
edge = 30,30

[State 1202, 1]
type = Width
trigger1 = 1
player = 4,4

type = NotHitBy
trigger1 = Time = 2
value =  SCA, NA, SA;, HA
time = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =3 || AnimElem = 9
value = 210,3

[State 1101, 3.1]
type = Hitdef
trigger1 = animelem = 4
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 60, 5
pausetime = 7, 15
guard.pausetime = 6, 15
sparkno = S7002
guard.sparkno = S7012
sparkxy = 6, -87
hitsound = S210, 0
guardsound = S210, 1
ground.type = High
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 200, 140
givepower = 150, 260

[State 1101, 3.2]
type = Hitdef
trigger1 = animelem = 9
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 50, 5
pausetime = 9, 13
guard.pausetime = 9, 11
sparkno = S7002
guard.sparkno = S7012
sparkxy = 8, -60
hitsound = S210, 0
guardsound = S210, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4.64,-7.99
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 16
guard.velocity = -7
yaccel = 0.523
fall = 0
air.fall = 1
air.type = High
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
getpower = 200, 140
givepower = 150, 260
;yaccel = .5;gravity


[State 1100, 3.2]
type = Hitdef
trigger1 = animelem = 10
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 50, 5
pausetime = 12,13
guard.pausetime = 12,11
sparkno = S7002
guard.sparkno = S7012
sparkxy = 8, -60
hitsound = S210, 0
guardsound = S210, 1
ground.type=High
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = -1.64,-11.09
air.velocity = -2.64,-9.09
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 16
guard.velocity = -12
yaccel = 0.523
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
id = 1500
nochainID = 1500
sprpriority = 1
getpower = 200, 140
givepower = 150, 260

[State 1101, 4.1]
type = Posadd
trigger1 = animelem = 14
x = 24

[State 1101, 4.2]
type = Velset
trigger1 = animelem = 2
x = 6.5

[State 1101, 4.3]
type = Velset
trigger1 = animelem = 5
x = 3

[State 1101, 4.4]
type = Velset
trigger1 = animelem = 10
x = 0

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(3) >= 0 && Animelemtime(11) <= 3
trigger1 = command = "1700"
var(8) = 4

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 4
triggerall = Animelemtime(10) > 8 && Animelemtime(11) <= 3
trigger1 = movecontact
value = 1700
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelemtime(10) > 8 && Animelemtime(11) <= 3
triggerall = animelem = 10 && movehit
;trigger1 = random < 500
value = 1700
ctrl = 0

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(4) >= 0 && Animelemtime(11) <= 2
trigger1 = command = "3500"
var(8) = 7

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 7
triggerall = Animelemtime(10) > 10 && Animelemtime(12) <= 3
trigger1 = movecontact
value = 3500
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
triggerall = animelem = 10 && movehit
trigger1 = Animelemtime(10) > 10 && Animelemtime(12) <= 3
trigger1 = random <= 400
value = 3500
ctrl = 0

[State 1101, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;


[Statedef 1502]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,-10
;facep2 = 1

[State 1102, 1]
type = changeanim
trigger1 = time >= 0
trigger1 = time <= 7
value = 5070

[State 1102, 2]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 7

[State 1102, 3.1]
type = Hitby
trigger1 = 1;time >= 8
;trigger1 = time <= 22
value = SCA,ST,HT

;[State 1102, 3.2]
;type = nothitby
;trigger1 = time >= 22
;value = SCA

[State 1102, 4.1]
type = veladd
trigger1 = time >= 8
y = .5

[State 1102, 4.2]
type = velset
trigger1 = time = 0
x = -1.5

[State 1102, 4.3]
type = velset
trigger1 = p2dist x < 1
trigger1 = time = 0
x = 1.5

[State 1102, 5]
type = Selfstate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100


;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1600]
type = S
movetype = A
physics = N
juggle  = 2
ctrl = 0
anim = 1600
poweradd= 100
velset = -1.5, 0
facep2 = 1

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 2,>=0
x = Const(velocity.run.fwd.x)

[State 1500,1]
type = Hitdef
trigger1 = Time = [0,20]
;trigger1 = P2StateNo != [120,155]
persistent = 0
attr = S, NT
priority = 6,Dodge
getpower = 120
givepower = 60
hitflag = M
guardflag = MA
numhits = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -30, -75
;hitsound = S900, 0
;guardsound = S0, 1
p1facing = 1
p2facing = 1
;guard.slidetime = 10
;guard.velocity = 1
;guard.hittime = 12
;guard.pausetime = 0, 15
;guard.ctrltime = 12
p1stateno = 1601
p2stateno = 1610
guard.dist = 0
p2getp1state = 1
fall = 1
fall.recover = 0
;snap = 20,0

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add1
timegap = 1
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1500,4]
type = ChangeState
trigger1 = time >=30
;trigger1 = movecontact = 0
value = 1604
ctrl = 0

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
;trigger1 = P2bodydist X <= 10 ;&& p2statetype = S)
;trigger1 = (P2bodydist X <= 10 && p2statetype = C)
value = 1603
ctrl = 0


;;;;;;;;;

[Statedef 1601]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1601
velset = 0,0
facep2 = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=6
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1600,0
volume = -180

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1600,1
volume = -80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,3
volume = -80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=7
value = 1600,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =12;,=1
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =12,=1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =12
value = 801,5

;[State 1020, Width]
;type = width
;trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
;edge = 18,0

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 74
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1020, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 6
edge = 20,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 13, >= 0 && AnimElem = 18, <= 3
edge = 40,0

[State 810 explod]
type = Explod
trigger1 = AnimElem = 5
id = 7081
anim = 7081
pos = -17,-73
sprpriority = 1
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =12
id = 7031
anim = 7031
pos = 36,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =12
id = 7031
anim = 7032
pos = 37,-1;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =12
id = 7002
anim = 7002
pos = 31,-4
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 1360, 0]
type = EnvShake
trigger1 = AnimElem = 12
time = 11
ampl = -8

[State 1360, 4]
type = targetlifeadd
trigger1 = AnimElem = 12
value = -165
kill = 1

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = 11,0

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 2
pos = 10,0
;;;;;;;;;;;;
[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 2
pos = 9,0

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 3
pos = -32,0

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 4
pos = -40,0

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 6
pos = -13,-71   ;;;;;-26,-68

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 7
pos =   -6,-92        ;1,-99

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 8
pos = 1,-104

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 9
pos = 9,-100

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 10
pos = 61,-41

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 11
pos = 74,-4


[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 12
pos = 68,-9;-32
time = 15

[State 860, 2]
type = posadd
trigger1 = AnimElem = 10,=0
x = 13

[State 860, 2]
type = posadd
trigger1 = AnimElem = 12,=0
x = 28

[State 860, 2]
type = posadd
trigger1 = time = 85
x = 20

[State 860, 2]
type = posadd
trigger1 = time = 90
x = 15

[State 860, 2]
type = posadd
trigger1 = time = 96
x = 10

[State 860, 2]
type = posadd
trigger1 = time = 99
x = 0

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;

[Statedef 1610]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1370, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1610

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1620
ctrl = 0



;;;;;;;;;;;;;;



[Statedef 1620]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 20

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = -4.12
y = -6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5160

;[State 1520 1]
;type = ChangeAnim
;trigger1 = Anim = 1620
;trigger1 = AnimTime = 0
;value = 5160

[State 1375, 0]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100


;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1603]   ;;;ting
type    = S
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 1603
sprpriority = 2
facep2 = 1

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 14
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;[State 1604]
;type = PlayerPush
;trigger1 = 1
;value = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 20
;guard.pausetime = 0, 7
;guard.ctrltime = 7
sparkno = s7010
guard.sparkno = s7011
sparkxy = 21, -44
hitsound = s200, 1
guardsound = s200, 1
ground.type = High
ground.slidetime = 5
;guard.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
;airguard.velocity = -1.9,-.8
;air.type = High
;air.velocity = -1.4,-3
;air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 6
;guard.pausetime = 0, 6
;guard.ctrltime = 6
sparkno = s7010
guard.sparkno = -1
sparkxy = 21, -44
;hitsound = s200, 1
;guardsound = s200, 1
ground.type = High
ground.slidetime = 5
;guard.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12


[State 200, 1]
type = HitDef
trigger1 = animelem = 3||animelem = 4||animelem = 5
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 6
;guard.pausetime = 0, 12
;guard.ctrltime = 10
sparkno = s7010
guard.sparkno = s7011
sparkxy = 21, -44
hitsound = s200, 1
guardsound = s200, 1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 810, Bind 1]
type = velset
trigger1 = time = 0
y = -1
x = 0

[State 105, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 16033

;;;;;;;;

[Statedef 16033]
type    = A
movetype= A
physics = N
anim = 16033
poweradd = 60
velset=0,0

[State 200, ]
type = PlaySnd
trigger1 = time = 0
value = 40,2

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 15
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 810, Bind 1]
type = velset
trigger1 = time = [1,4]
y = -5
x= -3.5

[State 810, Bind 1]
type = veladd
trigger1 = time > 1
y = .45

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 16034

;;;;;;;;

[Statedef 16034]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 47
poweradd = 20
sprpriority = 2

[State 9523, Super B]
type = posset
trigger1 = time = 0
y=0

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 47,0
volume = -200

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl=1

;-------------------
[Statedef 1604]   ;;;ting
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1604

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 1600,0
volume = -100

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 40
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1604]
type = PlayerPush
trigger1 = 1
value = 1

[State 3360, Width]
type = width
trigger1 = 1
value = 20,0

[State 106, 3]
type = MakeDust
trigger1 = AnimElemtime(4) = 20
pos = 30,-2
spacing = 1

[State 1510,VelMul]
type = VelMul
trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(4) <= 20
x = 0.85

[State 3000, ]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 8
x = 3

[State 3000, ]
type = VelSet
trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(4) <= 20
x = 2

[State 3000,]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 1510,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;


[Statedef 1650]
type = S
movetype = A
physics = N
juggle  = 2
ctrl = 0
anim = 1600
poweradd= 100
velset = -1.5, 0

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 2,>=0
x = Const(velocity.run.fwd.x)

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1500,1]
type = Hitdef
trigger1 = Time = [0,30]
;trigger1 = P2StateNo != [120,155]
persistent = 0
attr = S, NT
priority = 6,Dodge
getpower = 120
givepower = 60
hitflag = M
guardflag = MA
numhits = 0
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 1651
p2stateno = 1652
guard.dist = 0
p2getp1state = 1
fall = 1
fall.recover = 0
;snap = 20,0

[State 1500,4]
type = ChangeState
trigger1 = time >=38
;trigger1 = movecontact = 0
value = 1604
ctrl = 0

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
;trigger1 = P2bodydist X <= 10 ;&& p2statetype = S)
;trigger1 = (P2bodydist X <= 10 && p2statetype = C)
value = 1603
ctrl = 0

;;;;;;;;;;;;;;;


[Statedef 1651]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1650
velset = 0,0
facep2 = 0
sprpriority = 2

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 64
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1020, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 10
edge = 20,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 6
edge = 30,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
edge = 40,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 4
edge = 50,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 7
edge = 60,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 4
edge = 70,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 12, >= 0 && AnimElem = 12, <= 4
edge = 80,0

[State 810 explod]
type = Explod
trigger1 = AnimElem = 5
id = 7081
anim = 7081
pos = -28,-84
sprpriority = 1
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =10
id = 7031
anim = 7031
pos = 70,-1
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =10
id = 7002
anim = 7002
pos = 75,-1
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 10

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 4,=5
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=8
value = 210,3
volume = -80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1600,1
volume = -80

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1650,0

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 8,=5
value = 40,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 210,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =10,=1
value = 1690,0

[State 1360, 0]
type = EnvShake
trigger1 = AnimElem = 10
time = 11
ampl = -8

[State 1360, 4]
type = targetlifeadd
trigger1 = AnimElem = 10
value = -165
kill = 1

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = 10,0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = -1

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 2
pos = -22,0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
value = -1

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 3
pos = -30,0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem = 4
value = -1

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 4
pos = -34,0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =5
value = 2

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 5
pos = -34, 0


[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =6
value = 2

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 6
pos = -36, -56

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =7
value = 2

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 7
pos = -28, -63

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =8
value = 2

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 8
pos = -6, -69

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =9
value = 2

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 9
pos = 46, -67

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =10
value = 2

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 10
pos = 67, -38

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;


[Statedef 1652]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1370, 2]
type = nothitby
trigger1 = 1
value = SCA

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1370, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1651

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1620
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 1680]
type = S
movetype = A
physics = N
juggle  = 2
ctrl = 0
anim = 1600
poweradd= 100
velset = -1.5, 0
facep2 = 1

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 2,>=0
x = Const(velocity.run.fwd.x)

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1500,1]
type = Hitdef
trigger1 = Time = [0,30]
;trigger1 = P2StateNo != [120,155]
persistent = 0
attr = S, NT
priority = 6,Dodge
getpower = 120
givepower = 120
hitflag = M
guardflag = MA
numhits = 0
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 1681
p2stateno = 1682
guard.dist = 0
p2getp1state = 1
fall = 1
fall.recover = 0
;snap = 20,0

[State 1500,4]
type = ChangeState
trigger1 = time >=35
;trigger1 = movecontact = 0
value = 1604
ctrl = 0

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
;trigger1 = P2bodydist X <= 10 ;&& p2statetype = S)
;trigger1 = (P2bodydist X <= 10 && p2statetype = C)
value = 1603
ctrl = 0

;;;;;;;;;;;;;;


[Statedef 1681]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1680
velset = 0,0
facep2 = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 40,2
volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
value = 801,5

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 7081
anim = 7081
pos = 46,-55
sprpriority = 2
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 12
freq = 100
;phase = 90
time = 6
ampl = -7

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 12
id = 7002
anim = 7002
pos = -27,-46
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 12
id = 7030
anim = 7030
pos = -26,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 12
value = -140
kill = 1

[State 932, 1]
type = Width
Trigger1 = Time >= 0
Trigger1 = Time <= 38
value = 10, -10

[State 932, 1]
type = Width
Trigger1 = Time >= 39
Trigger1 = Time <= 68
value = -30, 30

[State 932, 1]
type = Width
Trigger1 = Time >= 69
Trigger1 = Time <= 97
value = 70, -70

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = 3

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 50, 0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = 2

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, 0

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =3
value = 0

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 30,-65

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =4
value = 0

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 20, -65

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =5
value = 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 7, -86

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =6
value = 0

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 7, -84

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =7
value = 0

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 2, -117

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =8
value = 2

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 1, -111

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =9
value = -1

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -8, -94

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =10
value = -1

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = -15, -87

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =11
value = -1

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -28, -62

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =12
value = -1

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12,=0
pos = -31, -44

;[State 810, Bind 12]
;type = TargetBind
;trigger1 = AnimElem = 12,=12
;pos = -21, -14

[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 12,=12
value = 1683
;ignorehitpause =
;persistent =


[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(8) >= 4 && Animelemtime(13) <= 2
trigger1 = command = "26xy"
var(8) = 3

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 3
triggerall = Animelemtime(13) > 2 && Animelemtime(13) <= 4
value = 13001
ctrl = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = var(59) = 10
trigger1 = Animelemtime(8) >= 4 && Animelemtime(13) <= 2
var(8) = 3

[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
triggerall = Animelemtime(13) >= 4 && Animelemtime(13) <= 6
trigger1 = p2life = (0,200]
;trigger1 = random <= 800
trigger2 = life <= 1100 || p2life > 200
trigger2 = random > 800
value = 13001
ctrl = 0

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;


;;;;;;;;;;;

[Statedef 1682]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
sprpriority = 1

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;[State 2120, 3]
;type = ScreenBound
;trigger1 = 1
;value = 0

[State 1370, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1682

;[State 1370,6]
;type = ChangeState
;trigger1 = anim = 1682
;trigger1 = AnimTime = 0
;value = 1683
;ctrl = 0

;;;;;;;;;

; HITA_SHAKE
[Statedef 3307]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 3308

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 3308]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 3310 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3309 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 3309]
type    = A
movetype= H
physics = N

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 3310 ;HITA_FALL

;------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3310]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 3311 ;HIT_BOUNCE

;---------------------------------------------------------------------------
;HIT_BOUNCE (hit ground)
[Statedef 3311]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
;value = 61
;pos = 0, 0
;under = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3312

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 3312]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 3313
;---------------------------------------------------------------------------

; HIT_LIEDOWN
[Statedef 3313]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
triggerall = time = 50
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 170, 1]
type = notHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 5101, 6] ;Hit ground
trigger1 = time = 50
type = ChangeState
value = 5120
ctrl = 0

;;;;;;;;;;;;;;;;;;;
[Statedef 1683]
type    = L
movetype= H
physics = N
sprpriority = 2
ctrl = 0

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = -3.6
y = -3

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .4

[State 0, Turn]
type = Turn
trigger1 = time = 0
;ignorehitpause =
;persistent =


;[State 803, Facing]
;type = Turn
;trigger1 = Time = 0

[State 803, Animation]
type = ChangeAnim
Trigger1 = Time = 0
value = 5090

[State 803, StateChange]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -4
value = 3309;5100
;ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1685]
type = S
movetype = A
physics = N
juggle  = 2
ctrl = 0
anim = 1600
poweradd= 100
velset = -1.5, 0
facep2 = 1

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 2,>=0
x = Const(velocity.run.fwd.x)

[State 1500,1]
type = Hitdef
trigger1 = Time = [0,25]
;trigger1 = P2StateNo != [120,155]
persistent = 0
attr = S, NT
priority = 6,Dodge
getpower = 120
givepower = 120
hitflag = M
guardflag = MA
numhits = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -30, -75
;hitsound = S900, 0
;guardsound = S0, 1
p1facing = 1
p2facing = 1
;guard.slidetime = 10
;guard.velocity = 1
;guard.hittime = 12
;guard.pausetime = 0, 15
;guard.ctrltime = 12
p1stateno = 1686
p2stateno = 1687
guard.dist = 0
p2getp1state = 1
fall = 1
fall.recover = 0
;snap = 20,0

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1500,4]
type = ChangeState
trigger1 = time >=30
;trigger1 = movecontact = 0
value = 1604
ctrl = 0

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
;trigger1 = P2bodydist X <= 10 ;&& p2statetype = S)
;trigger1 = (P2bodydist X <= 10 && p2statetype = C)
value = 1603
ctrl = 0


;;;;;;;;;;;;;;;;;;

[Statedef 1686]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1686
velset = 0,0
facep2 = 0
sprpriority = 0

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 7081
anim = 7081
pos = -5,-57
sprpriority = 2
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 801,0

[State 2000, 6]
type = PlaySnd
trigger1 = AnimElem = 1,=8
value = 40,2
volume = -60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,1
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 801,5

[State 1530, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 1685
ID = 1685
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 8
id = 7031
anim = 7032
pos = -10,-4;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 8
id = 7031
anim = 7031
pos = -11,-6
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 1360 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = -24,0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 0, -63


[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = -12, -81


[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = -20, -88


[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = -9, -99

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = -16, -83

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = -17, -73

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 8
pos = -12, 0


[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 9
pos = -12, -3

[State 1020, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 12, <= 4
edge = 30,30

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem = 1
value = -1

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem = 2
value = -1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 8
value = -110
kill = 1
absolute = 0

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 8
freq = 30
phase = 60
time = 10
ampl = -7

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(4) >= 4 && Animelemtime(9) <= 9
trigger1 = command = "26ab"
var(8) = 1


[State 1020, ChangeState]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelemtime(9) >= 5 && Animelemtime(9) <= 9
value = 1330
ctrl = 0


[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 1
triggerall = Animelemtime(9) >= 5 && Animelemtime(9) <= 9
value = 1330
ctrl = 0

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------

[Statedef 1330]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1330
velset = 0,0
facep2 = 0
sprpriority = 0

[State 1020, Width]
type = width
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
edge = 70,0

[State 1020, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 8, <= 20
edge = 90,30

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = -20

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = -5

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = -33

[State 2000, 6]
type = PlaySnd
trigger1 = AnimElem = 4,=5
value = 40,1
volume = -60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 801,4

[State 11400]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype  = hard
damage    = 50
getpower = 110,80
givepower = 80,65
guardflag = M
priority = 7,Hit
hitflag = FD
pausetime = 10,12
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20,-3
hitsound = s801,1
guardsound = s801,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = 0
getpower = 220,10
givepower = 20,10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
envshake.time = 15
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 90
p2stateno = 1335

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 6
id = 7030
anim = 7030
pos = -31,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(4) >= 0 && Animelemtime(7) <= 10
trigger1 = command = "26xy"
var(8) = 5

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = var(59) = 10
trigger1 = Animelemtime(4) >= 0 && Animelemtime(7) <= 10
var(8) = 5

[State 1020,1300]
type = ChangeState
triggerall = var(59) = 10
trigger1 = Animelemtime(7) > 9 && Animelemtime(7) <= 10
value = 1300
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
triggerall = Var(8) = 5
trigger1 = Animelemtime(7) > 9 && Animelemtime(7) <= 10
value = 1300
ctrl = 0

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------

[Statedef 1335]
type = L;A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 1340, 2]       ;tan
type = PosSet
trigger1 = Time = 0
y = 0

[State 1335, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5080

[State 0, ChangeState]
type = ChangeState
trigger1 = hitshakeover;time = 20
value = 1336

;;;;;;;;;;;;;;;;;;;;;

[Statedef 1336]
type = A
movetype = H
physics = N
velset = 0, 0
;facep2 = 1

;[State 1340, 2]       ;tan
;type = PosSet
;trigger1 = Time = 0
;y = 0

;[State 1625,0]
;type = NotHitBy
;trigger1 = 1
;value = SCA

[State 170, 1]
type = NotHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA
;time = 20

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 10
;ignorehitpause =
;persistent =


[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5090 ;1313

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = 3;-4.12
y = -6.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .523

;[State 1625,SelfState]
;type = ChangeState
;trigger1 = Pos Y >= -6 && Vel Y > 0
;value = 1737

[State 1340,SelfState]
type = changeState
trigger1 = time > 10
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 3311

;;;;;;;;;;;;;;

[Statedef 1687]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1370, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1687

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1277
ctrl = 0

;----------------

[Statedef 1690]
type = S
movetype = A
physics = N
juggle  = 2
ctrl = 0
anim = 1600
poweradd= 100
velset = -1.5, 0
facep2 = 1

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1500,0]
type = VelSet
trigger1 = AnimElem = 2,>=0
x = Const(velocity.run.fwd.x)

[State 1500,1]
type = Hitdef
trigger1 = Time = [0,25]
;trigger1 = P2StateNo != [120,155]
persistent = 0
attr = S, NT
priority = 6,Dodge
getpower = 120
givepower = 120
hitflag = M
guardflag = MA
numhits = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -30, -75
;hitsound = S900, 0
;guardsound = S0, 1
p1facing = 1
p2facing = 1
;guard.slidetime = 10
;guard.velocity = 1
;guard.hittime = 12
;guard.pausetime = 0, 15
;guard.ctrltime = 12
p1stateno = 1691
p2stateno = 1695
guard.dist = 0
p2getp1state = 1
fall = 1
fall.recover = 0
;snap = 20,0

[State -3, 5]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1500,4]
type = ChangeState
trigger1 = time >=30
;trigger1 = movecontact = 0
value = 1604
ctrl = 0

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
;trigger1 = P2bodydist X <= 10 ;&& p2statetype = S)
;trigger1 = (P2bodydist X <= 10 && p2statetype = C)
value = 1603
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1691]
type    = S
movetype= A
physics = S
poweradd = 61
ctrl = 0
anim = 1690
velset = 0,0
facep2 = 0
sprpriority = 0

;[State 1500,0]
;type = VelSet
;trigger1 = time = [6,44]
;x = .5

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1
x = 20;14

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 60;43

[State 0, PosAdd]
type = PosAdd
trigger1 = time = [6,22]
x = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = [23,44]
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1600,1
volume = -80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,= 2
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,= 7
;trigger1 = random < 500
value = 210,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 801,1
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9,=1
value = 1690,0

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 3
id = 7081
anim = 7081
pos = -35,-92
sprpriority = 1
ownpal = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 9
id = 7002
anim = 7003
pos = -30,-2
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 9
id = 7030
anim = 7030
pos = -31,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 1530, 1]
type = Explod
trigger1 = AnimElem = 3
anim = 1691
ID = 1691
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 1020, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 12, <= 4
edge = 30,30

[State 0, PosSet]
type = PosSet
trigger1 = AnimElem = 9, >= 0 && AnimElem = 10, <= 9
;x = 0
y = 0
;ignorehitpause =
;persistent =

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = 2

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 15,0
time = 3

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = -1

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = -41,0
time = 2

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
value = -1

[State 1360 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = -54,0
time = 3

[State 1001, 1.1]
type = TargetBind
trigger1 = AnimElem = 4
pos = -33, -99
time = 8

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = -34, -98
time = 6

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 6
pos = -28, -83
time = 5

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 7
pos = -27, -83
time = 4


[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 8
pos = -24, -50;-8
;time = 2

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 9
pos = -24, -13
time = 11

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
value = 1
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -165
kill = 1
absolute = 0

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 9
freq = 30
phase = 60
time = 10
ampl = -7

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1695]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2

[State 1370, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 20,0


[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1695
;elem = 1
;ignorehitpause =
;persistent =


[State 1370, 2]
type = nothitby
trigger1 = 1
value = SCA

[State 1370,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1370,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1698
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1698]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 10

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 0, Turn]
;type = Turn
;trigger1 = time = 0

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = 3.2;-4.12
y = -6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5160

;[State 1520 1]
;type = ChangeAnim
;trigger1 = Anim = 1620
;trigger1 = AnimTime = 0
;value = 5160

[State 1375, 0]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1700]
type    = S
movetype= A
physics = N
poweradd = 91
juggle = ifelse((prevstateno = [1500,1501]),0,8)
ctrl = 0
anim = 1700
velset = 0,0
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=2
value = 40,2
volume = -100

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 2
;ignorehitpause =
;persistent =


[State 1300,1]
type = HitBy
trigger1 = AnimElem = 1
value = SAC,AT
time = 2


[State 1200, 2]
type = Hitdef
trigger1 = animelem = 5
attr = A, ST
hitflag = AF
priority = 3, Dodge
sparkno = s7081
sparkxy = 20,-84
sprpriority = 2
p2facing = 1
hitsound = s801,0
guardsound = s801,0
p1stateno = 1720
p2stateno = 1721
p2getp1state = 1
id = 801
getpower = 340
givepower = 244

[State 1200, 4.1]
type = Velset
trigger1 = animelem = 2,=0
x = 2.8
y = -10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2,=1
statetype = A       ;S,A,C,L


[State 1200, 4.2]
type = Gravity
trigger1 = 1

[State 1200, 6]
type = ChangeState
trigger1 = time > 2
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 1701

;;;;;;;;;;;;

[Statedef 1701]
type    = S
physics = N
movetype= I
anim = 1701
ctrl = 0
velset = 0,0

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 47,0
volume = -200

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1201, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1201, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;


[Statedef 1720]
type    = A
physics = N
movetype= A
anim = 1710
ctrl = 0
sprpriority = 2

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 1710,0
channel = 0
lowpriority = 1

[State 1202, 1]
type = Width
trigger1 = 1
edge = 20,20

;[State 1200, 4.2]
;type = Gravity
;trigger1 = 1

[State 1320,VelAdd]
type = VelAdd
trigger1 = 1;
y = .424;.524

[State 1320, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 11, -72
time = 3


[State 1320, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 2, -83
time = 4


[State 1320, 4]
type = TargetBind
trigger1 = animelem = 3
pos = -3, -81
time = 4


[State 1320, 4]
type = TargetBind
trigger1 = animelem = 4
pos = -6, -48
time = 5

[State 1202, 7.1]
type = ChangeState
trigger1 = Pos y < -12
trigger1 = time = 16
value = 1720

[State 1202, 7.2]
type = ChangeState
trigger1 = Pos y >= -12
trigger1 = Vel y > 0
value = 1730

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
;triggerall = Animelemtime(1) >= 0 && Animelemtime(3) <= 6
trigger1 = command = "26xy"
var(8) = 13
;;;;;;;

[Statedef 1721]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 1

[State 1325, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1721

;;;;;;;;;;;;;


[Statedef 1730]
type    = S
physics = N
movetype= A
anim = 1720
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time  = 0
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = 1690,0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -100
kill = 1

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem = 1,=1
id = 7032
anim = 7032
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 24

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem =1,=1
id = 7031
anim = 7031
pos = 0,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 1203, 1]
type = Width
trigger1 = 1
edge = 10,10

[State 1203, 1]
type = targetstate
trigger1 = time = 0
value = 1735

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1201, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1203, 4.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 9
pos = 0,0

;[State 0, TargetState]
;type = TargetState
;trigger1 = time = 10
;value =  1736



[State 1330,2]
type = PlayerPush
trigger1 = AnimElem = 9, <= 0
value = 0

[State 1330, 2]
type = Posadd
trigger1 = Time = 19 || Time = 21 || Time = 23 || Time = 25 || Time = 27 || Time = 29 || Time = 31 || Time = 33 || Time = 35
x = -3

[State 1330, 2]
type = Posadd
trigger1 = Time = 20 || Time = 22 || Time = 24 || Time = 26 || Time = 28 || Time = 30 || Time = 32 || Time = 34
x = -2

[State 1020, VarSet]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = Animelemtime(1) >= 0 && Animelemtime(3) <= 6
trigger1 = command = "26xy"
var(8) = 5

[State 1020, VarSet]
type = VarSet
triggerall = var(8) = 0
triggerall = var(59) = 10
trigger1 = Animelemtime(1) >= 0 && Animelemtime(3) <= 6
var(8) = 5

[State 1020,1300]
type = ChangeState
triggerall = var(59) = 10
triggerall = Animelemtime(3) > 2 && Animelemtime(3) <= 6
trigger1 = p2life = (0,300]
trigger2 = p2life <= 0 && random < 400
value = 13001
ctrl = 0

[State 1020, ChangeState]
type = ChangeState
trigger1 = Var(8) = 5 || var(8) = 13
triggerall = Animelemtime(3) > 2 && Animelemtime(3) <= 6
value = 13001
ctrl = 0

[State 1204, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;

[Statedef 1735]
type = L;A
movetype = H
physics = N
;velset = 0
sprpriority = 0

[State 1340, 2]       ;tan
type = PosSet
trigger1 = Time = 0
y = 0

[State 1335, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5080

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 1736
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;

[Statedef 1736]
type = A
movetype = H
physics = N
velset = 0, 0
;facep2 = 1

;[State 1340, 2]       ;tan
;type = PosSet
;trigger1 = Time = 0
;y = 0

;[State 1625,0]
;type = NotHitBy
;trigger1 = 1
;value = SCA

[State 170, 1]
type = NotHitBy
trigger1 = P2Name != "TAN_CLARK"
value = SCA
;time = 20

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 10
;ignorehitpause =
;persistent =


[State 1625,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5090 ;1313

[State 1625,VelSet]
type = VelSet
trigger1 = Time = 0
x = -3;-4.12
y = -6.6

[State 1625,VelAdd]
type = VelAdd
trigger1 = 1
y = .523

;[State 1625,SelfState]
;type = ChangeState
;trigger1 = Pos Y >= -6 && Vel Y > 0
;value = 1737

[State 1340,SelfState]
type = changeState
trigger1 = time > 10
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 3311

;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1800]
type    = S
physics = S
movetype= I
anim = 1800
ctrl = 0
velset = 0
facep2 = 1

[State 1300, 1]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 1300, 2]
type = VelSet
trigger1 = time >= 7
trigger1 = time <= 27
x = const(velocity.run.fwd.x)+2

[State 3000,]
type = VelSet
trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(10) <= 8
x = 3

[State 3000, ]
type = VelSet
trigger1 = AnimElemtime(11) >= 0 && AnimElemtime(11) <= 20
x = 2

[State 3000, ]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 1400, 4]
type = ChangeState
triggerall = time = [7,27]
trigger1 = P2Dist X < 72
value = 1810

[State 1510,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;

[Statedef 1810]
type    = S
physics = N
movetype= A
anim = 1801
ctrl = 0
juggle = 15
velset = const(velocity.run.fwd.x)+2

[State 1301, 1]
type = Hitdef
trigger1 = time = 1
attr = S, ST
hitflag = MA
guardflag = M
guard.pausetime = 2,20
priority = 3,hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1802
p2stateno = 1820
p2getp1state = 1
id = 1800
guard.sparkno = S8060
sparkxy = 10, -77
guardsound = S0, 26
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10.8
guard.cornerpush.veloff = 18
getpower = 340
givepower = 244

[State 1500,4]
type = ChangeState
trigger1 = moveguarded
value = 1803
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1900]
type    = S
movetype= I
physics = S
poweradd = 76
ctrl = 0
anim = 1900
velset = 0,0
facep2 = 1

[State 100]
type = PlaySnd
trigger1 = time = 1
volume = -200
value = 100,0
channel = 4

[State 1400, VelSet]
type = posadd
trigger1 = AnimElem = 2,>=0
x = 6.5

[State 1400, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = P2Dist X < 38 && AnimElem = 2,>=0 && (P2statetype != C || (P2stateno = [140,159]))
value = 1910

[State 1400, 4]
type = ChangeState
triggerall = (P2stateno != [140,159])
trigger1 = P2Dist X < 38 && AnimElem = 2,>=0 && P2statetype = C
value = 1920

;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 1910]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 1910
velset = 0,0
facep2 = 0

[State 1410, VelSet]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 8

[State 1410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;

[Statedef 1920]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1920
velset = 0,0
facep2 = 0

[State 100]
type = PlaySnd
trigger1 = AnimElem = 2
;volume = -200
value = 1900,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10,=1
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,1

[State 100]
type = PlaySnd
trigger1 = AnimElem = 15,=1
trigger1 = random < 500
value = 1900,1
volume = -100

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem = 9,=2
id = 7032
anim = 7032
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 24

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem =9,=2
id = 7031
anim = 7031
pos = 0,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=0
x = -2
y = -2

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=1
x = -3
y = -1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=2
x = -2
y = -1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=3
x = -3
y = -1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=4
x = -2
y = 0

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=5
x = -3
y = 1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=6
x = -2
y = 1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=7
x = -3
y = 1

[State 1420, VelSet]
type = posadd
trigger1 = AnimElem = 10,=8
x = -2
y = 2

[State 1420, 4]
type = HitDef
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
persistent = 0
attr = S, SA
animtype = Hard
guardflag = H
damage = 66,10
fall = 0
air.fall = 1
air.type = Low
ground.type=Low
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = 0
air.velocity = 8,9
airguard.velocity = -3.6,-2
hitsound = s210,0
guardsound = s210,0
sparkno = s7002
guard.sparkno = s7012
sparkxy = 7,-34
guard.slidetime = 18
guard.hittime  = 32
guard.velocity = 0
yaccel = 0.523
pausetime = 6,13
guard.pausetime = 6,11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0


[State 1420, 4]
type = HitDef
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 5
persistent = 0
attr = S, SA
animtype = diagup;Hard
guardflag = H
damage = 66,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = 3,-45
getpower = 0,0
pausetime = 12,13
guard.pausetime = 12,11
hitsound = s210,0
guardsound = s210,0
ground.type=Low
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = -5,-6
air.velocity = -5,-6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 32
guard.velocity = 0
yaccel = 0.523
fall = 1
air.fall = 1
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;;;;;;;;;;;

[Statedef 2000]
type    = S
movetype= A
physics = N
juggle  =  ifelse(p2life <= 0,0,8)
poweradd= -500
velset = 0,0
anim = 2000
sprpriority = 3
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 2000,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 200,3
volume = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 801,6

[State 1000, Reversal]
type = ReversalDef
trigger1 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = S, ST
reversal.attr = SCA, NA, SA, HA
numhits = 0
hitflag = M-
priority = 6, miss
pausetime = 1,11
sparkno = S(ifelse((EnemyNear, HitDefAttr = SCA, SA, HA), 7012, 7011))
;sparkxy = 16,-94
;hitsound = S1,22

;[State 300,]
;type = PowerAdd
;trigger1 = AnimElem = 9 && movecontact
;value = -400

;[State 300,]
;type = PowerAdd
;trigger1 = AnimElem = 10 && movecontact
;value = -400

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 10
freq = 100
phase = 90
time = 10
ampl = -6

[State 2101, 5.2]     ;tan
type = Explod
trigger1 = AnimElem = 10
anim = 1644
pos = 50,0
;postype = p1
bindtime = 1
ontop = 0
ownpal = 1
scale = .8,.8

[State 1]
type = NotHitBy
trigger1 = animelem = 5,<0
value = SCA,NA

[State 1]
type = NotHitBy
trigger1 = animelem = 5,>=0 && animelem = 8,<=0
value = SCA,NA,SA

[State -3, 5]
type = AfterImage
trigger1 = animelem = 1
time = 31
trans = add
timegap = 1
framegap = 2
length = 10
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0,0,0

;[State 250, posadd]
;type = posset
;trigger1 = AnimElem = 9
;x = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 9
attr = S, SA
animtype  = hard
damage    = 115,20
priority = 5, Hit
getpower = 181,81
hitflag = MAF
guardflag = M
pausetime = 4,5
guard.pausetime = 1,5
sparkno = s7002
sparkxy = -15,-73
hitsound   = s801,6
guard.sparkno = s7012
guardsound = s210,1
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
;ground.velocity = -10
ground.velocity = -7,-5
air.velocity = -3,-5
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
fall = 1
fall.recover = 0
;nochainID = 9999
p2stateno = 2111
p2facing = 1
getpower = 180,80
givepower = 50,50

[State 240, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, SA
animtype  = hard
damage    = 120,20
priority = 6, Hit
getpower = 181,81
hitflag = MFD
guardflag = M
pausetime = 5,6
sparkno = s7002
sparkxy = -15,-73
hitsound   = s801,6
guard.sparkno = s7012
guardsound = s210,1
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -7,-5
;air.velocity = -3,-5
ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
;nochainID = 9999
p2stateno = 2111
p2facing = 1
getpower = 180,80
givepower = 50,50

;[State 1000, 1]
;type = Helper
;trigger1 = AnimElem = 8 || AnimElem = 9 || AnimElem = 10
;name = "override"
;stateno = 2001
;ID = 2000
;helpertype = normal
;sparkno = -1
;pos = 0,0
;postype = p1
;facing = 1
;keyctrl = 0
;ownpal = 0
;sprpriority = 2

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;

[Statedef 2001]
type     = A
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
anim     = 2001
sprpriority = 5
velset   = 0,0

[State 1001, ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1201, ]
type = BindToParent
trigger1 = 1
pos = 0,0

;[state a]
;type = nothitby
;trigger1 = 1
;value = SCA
;time = -1

[State 2100, ]
type = HitBy
trigger1 = 1
sparkno = -1
value = SCA, AP , NP, SP
time = -1

[State 701, ]
type = HitOverRide
trigger1 = 1
attr = SCA, AP , NP, SP
sparkno = -1
stateno = 2002
ignorehitpause = 0

[State 1001,]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = animtime = 0
trigger3 = prevstateno = 2001

;;;;;;;;

[Statedef 2002]
type = A
ctrl = 0
anim = 2001
velset = 0,0
movetype = A
physics = N
sprpriority = 0

[State 1010, GrabSpark]
type = Explod
trigger1 = time = 0;AnimElem = 2
id = 2000
anim = 462
scale = .8,.8
pos = 60,-70
SprPriority = 10
ownpal = 1
bindtime = 1
ignorehitpause = 1
removetime = 20

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 0,0


[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = destroyself
trigger1 = animtime = 0;time = 0

;;;;;;;;;;;;;;;;

[Statedef 2111]
type    = A
movetype= H
physics = N
;velset = 0,-4.5
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
;x = -16
y = -4.5

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
;y = 1
;ignorehitpause =
;persistent =


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2112

;[State 803, Gravity]
;type = Gravity
;trigger1 = animelem = 2

[State 821, 1]
type = VelAdd
Trigger1 = 1;animelem = 2
y = .3

;[State 1]
;type = screenbound
;trigger1 = 1
;value = 1
;movecamera = 0,1

;[state a]
;type = changestate
;triggerall = animelem = 2,>=0
;trigger1 = backEdgebodydist <=10
;trigger2 = time >=100
;value = 2113

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2222

;;;;;;;;;;;;

[Statedef 2222]
type    = A
movetype= H
physics = N
velset = -4.5,-6
sprpriority = 2
ctrl = 0

[State 803, Gravity]
type = Gravity
trigger1 = 1

;[State 803, Facing]
;type = Turn
;trigger1 = Time = 0

;[State 803, Animation]
;type = ChangeAnim
;Trigger1 = Time = 0
;value = ifelse (SelfAnimExist(5101), 5101, ifelse(SelfAnimExist(5102), 5102, 5100))

[State 803, Animation]
type = ChangeAnim
Trigger1 = Time = 0;3
value = ifelse (SelfAnimExist(5161), 5161, ifelse(SelfAnimExist(5162), 5162, 5160))

[State 803, Animation]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = ifelse (SelfAnimExist(5051), 5051, ifelse(SelfAnimExist(5052), 5052, 5050))

[State 803, StateChange]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
ctrl = 0

;;;;;;;;


[Statedef 2113]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 5
ampl = -8
freq = 95
phase = 95

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2113

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state a]
type = changestate
trigger1 = animtime = 0
value = 2114


;;;;;;;;;;;;;;


[Statedef 2114]
type    = A
movetype= H
physics = N
velset = 0,-2
sprpriority = 1

[state a]
type = null;turn
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 2114

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 821, 1]
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 3]
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3000]
type    = S
movetype= A
physics = s
anim = 3000
sprpriority = 2
juggle = 2
velset = 0,0
ctrl = 0

[State -3,]
type = AfterImage
trigger1 = AnimElem = 2
time = 84
length = 4
timegap = 2
framegap = 2
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3000, 6]
type = Envcolor
trigger1 = animelem = 1, = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
;supermove = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,32]
flag = noBG
flag2 = noFG
;flag3 = roundnotover
;ignorehitpause =
;persistent =
;-----------------------
;flag = nobardisplay
;flag = noBG
;flag = noFG
;flag = nostandguard
;flag = nocrouchguard
;flag = noairguard
;flag = noautoturn
;flag = nojugglecheck
;flag = nokosnd
;flag = nokoslow
;flag = noshadow
;flag = globalnoshadow
;flag = nomusic
;flag = nowalk
;flag = timerfreeze
;flag = unguardable

[State 3000, PalFX]
type = PalFX
trigger1 = (PrevStateNo = [1100, 1550]) && Time < 30
time = 1
color = 12+(time*3)
add = 173-(time*3),157-(time*3),239-(time*3)
ignorehitpause = 1

;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1100 || prevstateno = 1101 || prevstateno = 1110 || prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999

;[State 3000, 4]
;type = Explod
;trigger1 = prevstateno = 1100 || prevstateno = 1101 || prevstateno = 1110 || prevstateno = 1500 || prevstateno = 1501
;trigger1 = time = 0
;anim =  f8000  ;SUPER CANCEL
;pos = 150,105
;postype = Left
;bindtime = -1
;supermove = 1
;removetime = 37
;sprpriority = 9998
;ownpal = 1
;ignorehitpause = 1
;persistent = 1

[State 3000, 12]
type = Helper
triggerall = prevstateno = 1100 || prevstateno = 1101 || prevstateno = 1110 || prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 32


[State 3000, 1]
type = SuperPause
trigger1 = animelem = 1, = 0
time = 32
movetime = 32
poweradd = -1000
p2defmul = 1
darken = 0
anim = -1

[State 3000,]
type = Explod
trigger1 = animelem = 1, = 0
anim = 8080
sprpriority = -1
pos = -6,-95
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3000, ]
type = Explod
trigger1 = animelem = 1, = 5
anim = 6001
sprpriority = 3
pos = -6,-95
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,2

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 30, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, miss
pausetime = 10,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -6,-74
hitsound = s210,0
guardsound = s210,1
;forcestand = 1
guard.pausetime = 10, 10
guard.ctrltime = 5
guard.slidetime = 5
ground.type = High
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -3.5;-5.5
guard.velocity = -5
air.velocity = -3.5, -4
air.hittime = 0
air.type = High
;ID = 3000
p2stateno = 3001
p2getp1state = 1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.fall = 1
fall.recover = 0


[State 200, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage = 30, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, miss
pausetime = 9, 10
sparkno = s7002
guard.sparkno = s7012
;sprpriority = 1
;forcestand = 1
sparkxy = -6,-49
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -5;-7; -9
guard.pausetime = 8, 10
guard.velocity = -6
guard.ctrltime = 8
guard.slidetime = 9
p2stateno = 3001
p2getp1state = 1
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -3.5, -4
;air.velocity = -2.5,-3
air.hittime = 0
;chainid = 3000
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.fall = 1
fall.recover = 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HA
damage = 25, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 5, 5
sparkno = s7001
guard.sparkno = s7012
;sprpriority = 1
;forcestand = 1
sparkxy = -2,-69
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -3; -9
guard.pausetime = 4, 4
guard.velocity = -2.5
guard.ctrltime = 3
guard.slidetime = 3
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -3.5, -4
;air.velocity = -2.5,-3
air.hittime = 0
;chainid = 3000
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0

[State 1610, 1]
type = Pause
triggerall = MoveHit > 0
;trigger1 = AnimElem = 8,=1
trigger1 = AnimElem = 10,=1
time = 1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
damage = 55, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 13
sparkno = s7002
guard.sparkno = s7012
;forcestand = 1
;sprpriority = 1
sparkxy = -2,-89
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity =  1
guard.pausetime = 12, 12
guard.velocity = -4
guard.ctrltime = 8
guard.slidetime = 9
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -3.5, -4
;air.velocity = -2.5,-3
air.hittime = 0
;chainid = 3000
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.fall = 1
fall.recover = 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
damage = 35, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 13
sparkno = s7002
guard.sparkno = s7012
;forcestand = 1
;sprpriority = 1
sparkxy = -2,-49
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 19
ground.velocity =  4
guard.pausetime = 12, 12
guard.velocity = -5
guard.ctrltime = 8
guard.slidetime = 9
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -3.5, -4
;air.velocity = -2.5,-3
air.hittime = 0
;chainid = 3000
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
air.fall = 1
fall.recover = 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
hitflag = MAF
animtype  = diagup
guardflag = M
priority = 5,Hit
damage = 60, 13
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = S7002
guard.sparkno = S7012
sparkxy = -1, -75
hitsound = s210,0
guardsound = s210,1
ground.type = high
guard.slidetime = 18
guard.hittime = 19
ground.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
guard.cornerpush.veloff = -10
getpower = 170, 100
givepower = 120, 150
ground.velocity = -3.5,-9.5
air.velocity = -3.5,-9.5
fall = 1
yaccel = 0.49
air.type = Low
fall.envshake.time = 10
fall.recover = 0


[State 1100, 1]
type = posadd
trigger1 = time = [33,56]
x = 3

[State 1101, 4.2]
type = Velset
trigger1 = time = [33,38]
x = .2

[State 1101, 4.2]
type = Velset
trigger1 = time = [39,48]
x = .151

[State 1101, 4.4]
type = Velset
trigger1 = time = [49,52]
x = .053

[State 1101, 4.4]
type = Velset
trigger1 = time = [52,56]
x = 0

;[State 1101, 4.4]
;type = Velset
;trigger1 = time = 47
;x = .023

;[State 1101, 4.4]
;type = Velset
;trigger1 = time = 49
;x = 0

[State 1100, 1]
type = posadd
trigger1 = time = [58,81]
x = 4

;[State 1101, 4.2]
;type = Velset
;trigger1 = time = 51
;x = .02

[State 1101, 4.2]
type = Velset
trigger1 = time = 58
x = .2

[State 1101, 4.4]
type = Velset
trigger1 = time = 71
x = .111

[State 1101, 4.4]
type = Velset
trigger1 = time = 79
x = .051



[State 1100, 1]
type = posadd
trigger1 = animelem = 16
x = 3

[State 1100, 1]
type = posadd
trigger1 = animelem = 20
x = 8

[State 1100, 1]
type = posadd
trigger1 = animelem = 21
x = 1

[State 1100, 1]
type = posadd
trigger1 = animelem = 22
x = 8

[State 1100, 1]
type = posadd
trigger1 = animelem = 23
x = 15

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;;;;;;;;;;;;;;;;



[Statedef 3001]
type = S
movetype = H
physics = S
velset = 0, 0
ctrl = 0
facep2 = 1

[State 170, 1]
type = NotHitBy
trigger1 = P2Name != "TAN_CLARK"
trigger1 = p2stateno != 3000
value = SCA
time = 70

[State 3240, 5]
type = hitfallset
trigger1 = time = 0
value = 0

[State 3240,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3001

[State 3240,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3240,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3240]
type = changestate
Triggerall = P2StateNo != 3000
trigger1 = Time = 1
value = 0
ctrl = 1

;;;;;;;;;;

;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3010]
type    = S
movetype= A
physics = s
anim = 3000
sprpriority = 2
juggle = 2
velset = 0,0
ctrl = 0

[State -3,]
type = AfterImage
trigger1 = AnimElem = 2
time = 84
length = 4
timegap = 2
framegap = 2
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3000, 6]
type = Envcolor
trigger1 = animelem = 1, = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,32]
flag = noBG
flag2 = noFG
;flag3 = roundnotover
;ignorehitpause =
;persistent =
;-----------------------
;flag = nobardisplay
;flag = noBG
;flag = noFG
;flag = nostandguard
;flag = nocrouchguard
;flag = noairguard
;flag = noautoturn
;flag = nojugglecheck
;flag = nokosnd
;flag = nokoslow
;flag = noshadow
;flag = globalnoshadow
;flag = nomusic
;flag = nowalk
;flag = timerfreeze
;flag = unguardable

[State 3000, PalFX]
type = PalFX
trigger1 = (PrevStateNo = [1100, 1550]) && Time < 30
time = 1
color = 12+(time*3)
add = 173-(time*3),157-(time*3),239-(time*3)
ignorehitpause = 1

;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1100 || prevstateno = 1101 || prevstateno = 1110 || prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999

[State 3000, 12]
type = Helper
triggerall = prevstateno = 1100 || prevstateno = 1101 || prevstateno = 1110 || prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 32


[State 3000, 1]
type = SuperPause
trigger1 = animelem = 1, = 0
time = 32
movetime = 32
poweradd = -1000
p2defmul = 1
darken = 0
anim = -1

[State 3000,]
type = Explod
trigger1 = animelem = 1, = 0
anim = 8080
sprpriority = -1
pos = -6,-95
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3000, ]
type = Explod
trigger1 = animelem = 1, = 5
anim = 6001
sprpriority = 3
pos = -6,-95
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,2

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 35, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, miss
pausetime = 10,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -6,-74
hitsound = s210,0
guardsound = s210,1
getpower = 170, 100
givepower = 120, 150
guard.pausetime = 8,9
guard.ctrltime = 5
guard.slidetime = 18
guard.hittime  = 10
ground.type = High
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -3.5;-5.5
guard.velocity = -5
air.velocity = -4.04,-7.09
air.type = High
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
yaccel = 0.523
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage = 40, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, miss
pausetime = 9, 10
sparkno = s7002
guard.sparkno = s7012
getpower = 170, 100
givepower = 120, 150
sparkxy = -6,-49
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -5;-7; -9
guard.pausetime = 8, 10
guard.velocity = -6
guard.ctrltime = 8
guard.slidetime = 9
air.velocity = -4.04,-7.09
forcestand = 1
air.type = Low
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
yaccel = 0.523
fall = 0
air.fall = 1
fall.recover = 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HA
damage = 30, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 5, 5
sparkno = s7001
guard.sparkno = s7012
;sprpriority = 1
forcestand = 1
sparkxy = -2,-69
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -3; -9
guard.pausetime = 4, 4
guard.velocity = -2.5
guard.ctrltime = 3
guard.slidetime = 3
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -4.04,-7.09
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.523
fall = 0
air.fall = 1
fall.recover = 0
getpower = 170, 100
givepower = 120, 150

[State 1610, 1]
type = Pause
triggerall = MoveHit > 0
;trigger1 = AnimElem = 8,=1
trigger1 = AnimElem = 10,=1
time = 1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
damage = 60, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 13
sparkno = s7002
guard.sparkno = s7012
forcestand = 1
;sprpriority = 1
sparkxy = -2,-89
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity =  1
guard.pausetime = 12, 12
guard.velocity = -4
guard.ctrltime = 8
guard.slidetime = 9
;airguard.velocity = -2.3,-1.8
air.type = Low
air.velocity = -4.04,-7.09
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
yaccel = 0.523
fall = 0
air.fall = 1
fall.recover = 0
getpower = 170, 100
givepower = 120, 150

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
damage = 30, 8
animtype = Hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 13
sparkno = s7002
guard.sparkno = s7012
forcestand = 1
;sprpriority = 1
sparkxy = -2,-49
hitsound = s210,0
guardsound = s210,1
ground.type = high
ground.slidetime = 18
ground.hittime  = 19
ground.velocity =  4
guard.pausetime = 12, 12
guard.velocity = -5
guard.ctrltime = 8
guard.slidetime = 9
;airguard.velocity = -2.3,-1.8
air.type = Low
getpower = 170, 100
givepower = 120, 150
air.velocity = -4.04,-7.09
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
yaccel = 0.523
fall = 0
air.fall = 1
fall.recover = 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
hitflag = MAF
animtype  = diagup
guardflag = M
priority = 5,Hit
damage = 50, 13
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = S7002
guard.sparkno = S7012
sparkxy = -1, -75
hitsound = s210,0
guardsound = s210,1
ground.type = high
guard.slidetime = 18
guard.hittime = 19
ground.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
guard.cornerpush.veloff = -10
getpower = 170, 100
givepower = 120, 150
ground.velocity = -3.5,-9.5
air.velocity = -3.5,-9.5
fall = 1
yaccel = 0.49
air.type = Low
fall.envshake.time = 10
fall.recover = 0


[State 1100, 1]
type = posadd
trigger1 = time = [33,56]
x = 3

[State 1101, 4.2]
type = Velset
trigger1 = time = [33,38]
x = .2

[State 1101, 4.2]
type = Velset
trigger1 = time = [39,48]
x = .151

[State 1101, 4.4]
type = Velset
trigger1 = time = [49,52]
x = .053

[State 1101, 4.4]
type = Velset
trigger1 = time = [52,56]
x = 0

;[State 1101, 4.4]
;type = Velset
;trigger1 = time = 47
;x = .023

;[State 1101, 4.4]
;type = Velset
;trigger1 = time = 49
;x = 0

[State 1100, 1]
type = posadd
trigger1 = time = [58,81]
x = 4

;[State 1101, 4.2]
;type = Velset
;trigger1 = time = 51
;x = .02

[State 1101, 4.2]
type = Velset
trigger1 = time = 58
x = .2

[State 1101, 4.4]
type = Velset
trigger1 = time = 71
x = .111

[State 1101, 4.4]
type = Velset
trigger1 = time = 79
x = .051



[State 1100, 1]
type = posadd
trigger1 = animelem = 16
x = 3

[State 1100, 1]
type = posadd
trigger1 = animelem = 20
x = 8

[State 1100, 1]
type = posadd
trigger1 = animelem = 21
x = 1

[State 1100, 1]
type = posadd
trigger1 = animelem = 22
x = 8

[State 1100, 1]
type = posadd
trigger1 = animelem = 23
x = 15

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3100]
type    = S
movetype= A
physics = s
anim = 3100
poweradd = -1000
sprpriority = 2
juggle = 2
velset = 0,0
ctrl = 0
facep2 = 1

[State 3000, PalFX]
type = PalFX
trigger1 = (PrevStateNo = [1500, 1550]); && Time < 30
trigger1 = Time = 0
time = 10
add = 173,157,239
mul = 150,150,150;200,200,200
sinadd = 100,90,150,20;50,40,60,20
color = 0
;invertall = 0;1
ignorehitpause = 1

;[State 0, PalFX]
;type = PalFX
;trigger1 = time = 0
;triggerall = prevstateno = 1500 || prevstateno = 1501
;time = 20
;add = 149,131,239
;mul = 150,150,150;200,200,200
;sinadd = 100,90,150,20;50,40,60,20
;color = 0
;invertall = 0;1
;ignorehitpause = 1
;;;;;;;;;;;;;;;add = 247,82,0
;;;sinadd = 190,190,228,-100
;;;;;;mul = 200,42,20
;;;;;;;invertall = 0
;;;;color = 256
;;;;mul = 200,200,200
;;;;sinadd = 166,56,106,36;150,40,90,20
;;;;color = 0
;;;invertall = 0
;;;ignorehitpause = 1


;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999


[State 3000, 12]
type = Helper
triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1


[State 3000, 6]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,32]
flag = noBG
flag2 = noFG

[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 32

[State 3000, 1]
type = SuperPause
trigger1 = time = 1;0
time = 32
movetime = 32
p2defmul = 1
darken = 0
anim = -1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 0
anim = 8080
sprpriority = -1
pos = -6,-95;-10,-99
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 5
anim = 6001
sprpriority = 3
pos = -6,-95;-10,-99
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,7

[State 3000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 2,=1
movetype = I

[State 1000, 2]
type = Hitdef
trigger1= AnimElem = 1
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,52]
trigger1 = p2statetype != A
;trigger1 = var(18) = 0
numhits = 0
attr = S, HT
getpower = 116,16
hitflag = M
;guard.dist = 0
priority = 4, Miss
;hitsound   = s801,0
sparkno = -1
p2facing = 1
;ID = 3100
p1stateno = 3101
p2stateno = 3103
p2getp1state = 1

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;;;;;;;;;;;;;;;;;;;;



[Statedef 3101]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3101
facep2 = 0
SprPriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=7
value = 1401,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 3140, 2]
type = ChangeState
trigger1 = Time = 0
trigger1 = random < 500
value = 3102

[State 3000, 6]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,32]
flag = noBG
flag2 = noFG

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1
ignorehitpause = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = AnimElem = 1,=5
anim = 6001
sprpriority = 3
pos = -6,-95
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 32

[State 1010, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 5
edge = 50,0

[State 1010, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 17
edge = 0,17


[State 1010,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 3
id = 7081
anim = 7081
pos = 46,-55
sprpriority = 1
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 32,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 40,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 24,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 61,-46

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 5
pos = -8,-165

;[State 1010, 4]
;type = TargetBind
;trigger1 = animelem = 6
;pos = -8,-165

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3105

;;;;;;;;;;;;;;;;;;

[Statedef 3102]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3102
facep2 = 0
SprPriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=3
value = 3100,1
volume = -210

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1600,2

[State 3000, 6]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1
ignorehitpause = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = AnimElem = 1,=5
anim = 6001
sprpriority = 3
pos = -6,-95
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 32

[State 1010, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 5
edge = 50,0

[State 1010, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 17
edge = 0,17


[State 1010,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 3
id = 7081
anim = 7081
pos = 46,-55
sprpriority = 1
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 32,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 40,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 24,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 61,-46

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 5
pos = -8,-165

;[State 1010, 4]
;type = TargetBind
;trigger1 = animelem = 6
;pos = -8,-165

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3105

;;;;;;;;;;;;;;;;;;


[Statedef 3103]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3103

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3105]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0
SprPriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 100
phase = 90
time = 10
ampl = -7

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 3020, Width]
type = width
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 5
edge = 69,0

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -75
kill = 0

[State 3020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3020, 4]
type = targetstate
trigger1 = TIME = 0
value = 3115

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 7,-68

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 7,-88;-7,-96

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 36,-62

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 32,-92;32,-100

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[State 3020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3107 ;;;;;;;;;;;;;


;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3115]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 2

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3115

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050


;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3107]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3107
facep2 = 0
SprPriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 100
phase = 90
time = 10
ampl = -7

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 3020, Width]
type = width
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 5
edge = 69,0

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -70
kill = 0

[State 3020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3020, 4]
type = targetstate
trigger1 = TIME = 0
value = 3117

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 7,-68

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 7,-88;-7,-96

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 36,-62

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 32,-92;32,-100

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[State 3020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3106 ;;;;;;;;;;;;;

;;;;;;;;;;;;;;;;;;;

[Statedef 3117]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 2

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3117

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3106]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3106
facep2 = 0
SprPriority = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 210,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =11,=1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 40,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3100,2

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 11
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 100
phase = 90
time = 10
ampl = -7

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 11
freq = 85
;phase = 90
time = 17
ampl = -9

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11;,=1
id = 7030
anim = 7032
pos = -50,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11;,=1
id = 7030
anim = 7030
pos = -50,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11
id = 7002
anim = 7002
pos = -40,-4
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 10

[State 3020, Width]
type = width
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 10
edge = 30,30

[State 3020, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 10
edge = 30,30

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -40
kill = 0

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 11
value = -65
kill = 1

[State 3020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3020, 4]
type = targetstate
trigger1 = TIME = 0
value = 3116

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = -17, -93                                 ;00

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = -16, -103    ;11


[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = -15, -117                              ;22


[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = -17, -114                         ;32


[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = -16, -94                           ;43


[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = -16, -104                          ;53


[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = -24, -120                             ;64


[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = -19, -115                  ;75

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -22, -106               ;85


[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = -24, -70                ;95

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -24, -2          ;10 6


[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 12
pos = -22, -5                    ;11  7


[State 0, Turn]
type = Turn
trigger1 = AnimElem = 14
ignorehitpause = 1
;persistent =



[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3116]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 2

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3116

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3118

;;;;;;;;;;;;;;;;;;;;;

;;;;;

[Statedef 3118]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 3

[State 875,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 875]
type = VelSet
trigger1 = time = 0
x = -4.2
y = -6.6

[State 875, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5160

[State 875,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .523

[State 875, ANIM2]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3200]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3200
ctrl = 0
facep2 = 1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 5
value = 3000,7

[State 100]
type = PlaySnd
trigger1 = AnimElem = 6
volume = -200
value = 100,0
channel = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 15
channel = 4


[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = ifelse(random < 250,37,40)

[State 3200,0]
type = NotHitBy
trigger1 = Time = 37
value = SCA,NT,ST
time = 7

[State 3000, PalFX]
type = PalFX
trigger1 = (PrevStateNo = [1500, 1550]) && Time < 30
time = 1
color = 0;12+(time*3)
add = 173-(time*3),157-(time*3),239-(time*3)
ignorehitpause = 1

;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999

[State 3000, 12]
type = Helper
triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = AnimElem = 6
;time = 35
;length = 8
;palcolor = 256
;palinvertall = 0
;palbright = 30,30,40;20,20,30
;palcontrast = 100,100,220;120,120,240;100,100,220
;palpostbright = 30,30,40;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 1
;framegap = 2
;trans = add1

[State 3200,AfterImage]
type = AfterImage
trigger1 = AnimElem = 6
time = 32
length = 8
palcolor = 256
PalBright   =   1, 1, 1;0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 2;3
timegap = 1
Trans = Add1

[State 3000, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 44
under = 1
supermove = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [5,44]
flag = noBG
flag2 = noFG

[State 3000, 1]
type = SuperPause
trigger1 = Time = 5
time = 32;41
movetime = 32;41
poweradd = -1000
p2defmul = 1
darken = 0
anim = -1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 5
anim = 8080
sprpriority = -1
pos = 3,-90
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 10
anim = 6001
sprpriority = 33
pos = 5,-90    ;3
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6, = 1
movetype = A        ;I,A,H



[State 3200,PosFreeze]
type = PosFreeze
trigger1 = Time >= 5 && Time <= 37

[State 900, 1.1]
type = VelSet
trigger1 = AnimElem = 6, >= 0 && AnimElem = 16, < 0
x = const(velocity.run.fwd.x)+1.4


[State 4100, 2.2]
type = Velset
trigger1 = animelem = 16
x = 0

[State 3200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3200, 4]
type = ChangeState
trigger1 = p2bodydist x <= 25 && AnimElem = 6,>=0
value = 3201

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3201]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3201
velset = 0,0
facep2 = 0

[State 1000, 2]
type = Hitdef
trigger1= P2Dist x <= 70 && AnimElem = 1
trigger1= AnimElem = 1,<=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,52]
trigger1 = p2statetype != A
trigger1 = movetype != H
numhits = 0
attr = S, HT
getpower = 116,16
hitflag = M
;guard.dist = 0
priority = 4, Miss
;hitsound   = s1000,2222
sparkno = -1
p2facing = 1
;ID = 3100
p1stateno = 3203
p2stateno = 3213
p2getp1state = 1

[State 3200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3203]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3203
velset = 0,0
facep2 = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3200,0

[State 100]
type = PlaySnd
trigger1 = AnimElem = 14
volume = -200
value = 100,0
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 19,=4
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 19,=4
value = 40,1



[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 2
value = 1
ignorehitpause = 1

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 7081
anim = 7081
pos = 46,-60
sprpriority = 2
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1


[State 3220, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 3
edge = 0,21

[State 3220, Width]
type = width
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
edge = 0,8

[State 3220, Width]
type = width
trigger1 = AnimElem = 14, >= 0; && AnimElem = 19, <= 4
edge = 38,36

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 7

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 40,0

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 3
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 30,-65

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 4
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 18,-74

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 12,-86

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -2,-92

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 7
pos = -2,-120

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 8
value = 3

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 8
pos = -12,-120

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 9
pos = -10,-107    ;;;;;;;;;;;;;;;;;;;;;;;;;;

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 10
pos = 0,-109

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 11
pos = 4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 12
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 13
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 14
pos = -6,-115
time = 5

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 15
pos = -6,-113
time = 6

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 16
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 17
pos = 20,-105
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 18
pos = 15,-99
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 19
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 20
pos = 20,-126
time = 9

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 21
pos = 20,-125
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 22
pos = 20,-101
time = -1

[State 3220, 4]
type = posadd
trigger1 = animelem = 9 || animelem = 10 || animelem = 11
x = -16

[State 3220, 4]
type = posadd
trigger1 = time = 87 || time = 89 || time = 91
x = 1

[State 3220, 4]
type = posadd
trigger1 = time = 90
trigger2 = time = [92,94]
trigger3 = time = 96
x = 2

[State 3220, 4]
type = posadd
trigger1 = time = 95 || time = 97 || time = 99
x = 3

[State 3220, 4]
type = posadd
trigger1 = time = 98
x = 4

[State 3220, 4]
type = posadd
trigger1 = time = [100,105]
x = 5

[State 100]
type = VelSet
trigger1 = time = [100,105]
x = .7

[State 3220, 4]
type = posadd
trigger1 = time = [106,110]
x = 7

[State 100]
type = VelSet
trigger1 = time = [106,110]
x = .8

[State 3220, 4]
type = posadd
trigger1 = time = 111
x = 9;7

[State 3220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 20,=1
statetype = A
physics = N

[State 3350,VelSet]
type = VelSet
trigger1 = AnimElem = 20,=1
x = 6.7
y = -7.7

[State 3350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 20, >= 1
y = .464


[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

[state a]
type = varadd
triggerall = !var(59)
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "x"
trigger4 = command = "y"
v = 20
value = 1

[State 3020, 4]
type = ChangeState
triggerall = var(20) = [0,8)
trigger1 = Pos y >= -4 ;0
trigger1 = Vel y > 0
value = 3207

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 10
trigger1 = time = 0
v = 20    ;fv = 10
value = ifelse((p2life<= 200 || (p2life<= 200 && life < 400) || life >= 400),0,8)


;[State 0, VarRandom]
;type = VarRandom
;trigger1 = time = 0
;triggerall = var(59) = 10
;v = 20
;range = 5,10


[State 3020, 4]
type = ChangeState
triggerall = var(20) >= 8
trigger1 = Pos y >= -4 ;0
trigger1 = Vel y > 0
value = 3204

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3213]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3213

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3204]
type    = S
physics = N
movetype= A
anim = 3204
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 23
value = 3200,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1,=1
value = 801,1
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=2
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1
value = 801,5
;volume = -100

[State 100]
type = PlaySnd
trigger1 = AnimElem = 17
volume = -200
value = 100,0
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 22,=4
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=7
value = 40,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 22,=4
value = 40,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13,=3
value = 1401,0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3214
;ignorehitpause =
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -60
kill = 0
absolute = 1


[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 30
phase = 60
time = 30
ampl = -8

[State 0, Turn]
type = Turn
trigger1 = animelem = 10
;ignorehitpause =
;persistent =

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7031
anim = 7031
pos = 24,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7031
anim = 7032
pos = 25,-1;25,0
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7002
anim = 7003
pos = 37,-9
;sprpriority = 3
ontop =1
ownpal = 1
removeongethit = 1
removetime = 25

[State 4103, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4103, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 65,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 1
trigger1 = animelem = 2
trigger1 = animelem = 4
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 50,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 3
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 50,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 5
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 25,-10

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 6
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 6
pos = 30,-65

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 7
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 18,-74

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 8
pos = 12,-86

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 9
pos = -2,-92

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 10
pos = -2,-120

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 11
value = 3

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 11
pos = -12,-120

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 12
pos = -10,-107

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 13
pos = 0,-109

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 14
pos = 4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 15
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 16
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 17
pos = -6,-115
time = 5

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 18
pos = -6,-103
time = 6

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 19
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 20
pos = 20,-105
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 21
pos = 15,-99
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 22
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 23
pos = 20,-126
time = 9

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 24
pos = 20,-125
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 25
pos = 20,-101
time = -1

[State 3220, 4]
type = posadd
trigger1 = animelem = 12 || animelem = 13 || animelem = 14
x = -16

[State 3220, 4]
type = posadd
trigger1 = time = 109 || time = 111 || time = 113
x = 1

[State 3220, 4]
type = posadd
trigger1 = time = 112
trigger2 = time = [114,116]
trigger3 = time = 118
x = 2

[State 3220, 4]
type = posadd
trigger1 = time = 117 || time = 119 || time = 121
x = 3

[State 3220, 4]
type = posadd
trigger1 = time = 120
x = 4

[State 3220, 4]
type = posadd
trigger1 = time = [122,127]
x = 5

[State 100]
type = VelSet
trigger1 = time = [122,127]
x = .7

[State 3220, 4]
type = posadd
trigger1 = time = [128,132]
x = 7

[State 100]
type = VelSet
trigger1 = time = [128,132]
x = .8

[State 3220, 4]
type = posadd
trigger1 = time = 133
x = 9;7

[State 3220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 23,=1
statetype = A
physics = N

[State 3350,VelSet]
type = VelSet
trigger1 = AnimElem = 23,=1
x = 6.7
y = -7.7

[State 3350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 23, >= 1
y = .464


[State 1200, 6]
type = ChangeState
trigger1 = Pos y >= -4 ;0
trigger1 = Vel y > 0
value = 3205

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3214]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3214

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3205]
type    = S
physics = N
movetype= A
anim = 3204
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 23
value = 3200,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1,=1
value = 801,1
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=2
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1
value = 801,5
;volume = -100

[State 100]
type = PlaySnd
trigger1 = AnimElem = 17
volume = -200
value = 100,0
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 22,=4
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=7
value = 40,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 22,=4
value = 40,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13,=3
value = 1401,0


[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3215
;ignorehitpause =
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -60
kill = 0
absolute = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 30
phase = 60
time = 30
ampl = -8

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7031
anim = 7031
pos = 24,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7031
anim = 7032
pos = 25,-1
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7002
anim = 7003
pos = 37,-9
;sprpriority = 3
ontop =1
ownpal = 1
removeongethit = 1
removetime = 25

[State 0, Turn]
type = Turn
trigger1 = animelem = 10
;ignorehitpause =
;persistent =


[State 4103, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4103, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15



[State 3220, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 65,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 1
trigger1 = animelem = 2
trigger1 = animelem = 4
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 50,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 3
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 50,0
time = -1

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 5
value = 2

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 25,-10

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 6
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 6
pos = 30,-65

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 7
value = 0

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 18,-74

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 8
pos = 12,-86

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 9
pos = -2,-92

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 10
pos = -2,-120

[State 3220, 4]
type = SprPriority
trigger1 = animelem = 11
value = 3

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 11
pos = -12,-120

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 12
pos = -10,-107

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 13
pos = 0,-109

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 14
pos = 4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 15
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 16
pos = -4,-105

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 17
pos = -6,-115
time = 5

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 18
pos = -6,-103
time = 6

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 19
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 20
pos = 20,-105
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 21
pos = 15,-99
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 22
pos = 8,-101
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 23
pos = 20,-126
time = 9

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 24
pos = 12,-125
time = 4

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 25
pos = 12,-101
time = -1

[State 3220, 4]
type = posadd
trigger1 = animelem = 12 || animelem = 13 || animelem = 14
x = -16

[State 3220, 4]
type = posadd
trigger1 = time = 109 || time = 111 || time = 113
x = 1

[State 3220, 4]
type = posadd
trigger1 = time = 112
trigger2 = time = [114,116]
trigger3 = time = 118
x = 2

[State 3220, 4]
type = posadd
trigger1 = time = 117 || time = 119 || time = 121
x = 3

[State 3220, 4]
type = posadd
trigger1 = time = 120
x = 4

[State 3220, 4]
type = posadd
trigger1 = time = [122,127]
x = 5

[State 100]
type = VelSet
trigger1 = time = [122,127]
x = .7

[State 3220, 4]
type = posadd
trigger1 = time = [128,132]
x = 7

[State 100]
type = VelSet
trigger1 = time = [128,132]
x = .8

[State 3220, 4]
type = posadd
trigger1 = time = 133
x = 9;7

[State 3220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 23,=1
statetype = A
physics = N

[State 3350,VelSet]
type = VelSet
trigger1 = AnimElem = 23,=1
x = 6.7
y = -7.7

[State 3350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 23, >= 1
y = .464


[State 1200, 6]
type = ChangeState
trigger1 = Pos y >= -4 ;0
trigger1 = Vel y > 0
value = 3207

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3215]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3215

;;;;;;;;;;;;;;;;;;;;

[Statedef 3207]
type    = S
physics = N
movetype= A
anim = 3207
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1,=1
value = 801,1
;volume = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=2
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =1
value = 801,5
;volume = -100

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = ifelse((var(20)<8),-200,-100)
kill = 1
absolute = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 30
phase = 60
time = 30
ampl = -8

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7030
anim = 7032
pos = 25,-1
sprpriority = 9
ownpal = 1
removeongethit = 1
removetime = 24

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem =1;,=1
id = 7031
anim = 7031
pos = 24,-3
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7030
anim = 7030
pos = 26,0
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7002
anim = 7003
pos = 37,-9
;sprpriority = 3
ontop =1
ownpal = 1
removeongethit = 1
removetime = 25

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3217
;ignorehitpause =
;persistent =

[State 4103, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4103, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 3220, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 65,0

[State 0, TargetState]
type = TargetState
trigger1 = time = 30
value = 3227

[State 3200,End]
type=ChangeState
trigger1=AnimTime=0
value= 0
ctrl = 1

;;;;;;;;;;;;;;;;;

[Statedef 3217]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3217

;[State 1370,6]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 3227
;ctrl = 0

;;;;;;;;;;;;;;;;;;

[Statedef 3227]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1375, 2]
type = Posadd
trigger1 = Time = 0
x = 20

[State 1375, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1375, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 1375, Vel]
type = Velset
trigger1 = Time = 0
x = -4.12
y = -6.6

[State 1375, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5160

;[State 1520 1]
;type = ChangeAnim
;trigger1 = Anim = 1620
;trigger1 = AnimTime = 0
;value = 5160

[State 1375, 0]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;;;;;;;

[Statedef 3500]
type    = S
movetype= A
physics = N
poweradd = -1500
anim = 3480
sprpriority = 2
;juggle = 0
velset = 0,0
ctrl = 0


;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999

[State 3000, 12]
type = Helper
triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 75
;time = 20
;length = 10
;palcolor = 256
;palinvertall = 0
;palbright = 50,50,50;20,20,30
;palcontrast = 187,10,253;100,100,220;120,120,240;100,100,220
;palpostbright = 50,50,50;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 2
;framegap = 3
;trans = add1

[State 3200,AfterImage]
type = AfterImage
trigger1 = time = 75
time = 20
palmul = 1,1,1
palcontrast = 160,120,200
palbright = 60,20,100
PalAdd = 15,10,30
length = 9
framegap = 3
timegap = 2
trans = add1
sprpriority = 1

;[State explod]
;type = Explod
;trigger1 = time = 0
;anim = 7112
;id = 7112
;sprpriority = 0
;postype = p1
;pos = 0,0
;supermove = 1
;bindtime = -1
;persistent = 0
;ignorehitpause = 0
;under = 0

[State S_Can]
type = Helper
trigger1 = time = 0
id = 7112
stateno = 7112
postype = p1
pos = 0,0
helpertype = normal
ownpal = 1
sprpriority = 0
bindtime = -1
ignorehitpause = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

;[State 3020, Super G]
;type = explod
;trigger1 = Time = 1
;anim = 2220;7111
;postype = p1
;pos = -10,-90
;sprpriority = 0
;ownpal = 1
;supermove = 1
;bindtime = -1
;persistent = 0

;[State -2, 1]
;type = PalFX
;trigger1 = time= 32
;time = 17;21;26
;add = 248,216,56;149,131,239
;mul = 200,200,200
;sinadd = 166,56,106,36;150,40,90,20
;color = 0
;invertall = 0
;ignorehitpause = 1

;[State 3000, PalFX]
;type = PalFX
;trigger1 = Time < 32
;time = 1
;color = 12+(time*3)
;add = 248-(time*3),216-(time*3),56-(time*3)
;ignorehitpause = 1


[State 3020, Super F]
type = explod
trigger1 = Time = 30;20;11
anim = 9005;7090
postype = left;
pos = 157,120
sprpriority = -7
scale = 1.09,1.09
ownpal = 1
bindtime = -1
supermovetime = 34

[State 3020, 1]
type = SuperPause
trigger1 = Time = 0
time = 93
movetime = 93
anim = -1
darken = 0
persistent = 0

[State 0,]
type = SuperPause
;triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = [93,96]
trigger1 = Gametime%3 = 0
time = 1
anim = -1
darken = 0
p2defmul = 1

[State 0,]
type = SuperPause
triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = [76,93]
trigger1 = Gametime%3 = 0
time = 1
anim = -1
darken = 0
p2defmul = 1

[State 3020, 2]
type = EnvColor
trigger1 = Time = [0,75]
time = 1
value = 0,0,0
under = 1
supermove = 1

;[State 3020, Super G]
;type = explod
;trigger1 = Time = 1
;anim = 2220;7111
;postype = p1
;pos = -10,-90
;sprpriority = -1
;ownpal = 1
;supermove = 1
;bindtime = -1
;persistent = 0

;[State 2000, 6]
;type = PlaySnd
;trigger1 = Time = 32
;value = 3000,8

;[State 2000, 6]
;type = PlaySnd
;trigger1 = Time = 32
;value = 3000,2

;[State 2000, 6]
;type = PlaySnd
;trigger1 = Time = 44
;value = 3000,5

;[State 2000, 6]
;type = PlaySnd
;trigger1 = Time = 1
;value = 3000,4

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 32
;value = 3000,8
value = 3700,IfElse(Random<400,10,IfElse(Random<700,20,30))
channel = 1

;[State 2000, 6]
;type = PlaySnd
;trigger1 = Time = 32
;value = 3000,2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 44
value = 3000,5

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,4

[State 2000, 6]
type = PlaySnd
trigger1 = AnimElem = 4,=3
value = 40,2

[State 3020, Super G]
type = explod
trigger1 = Time = 0
anim = 7100
postype = p1
pos = 26,-112;-61
sprpriority = -1
ownpal = 1
supermove = 1
bindtime = -1
persistent = 0

[State 3020, Super H]
type = explod
trigger1 = Time = 0
anim = 7110
postype = p1
pos = 26,-112;-61
sprpriority = 999
ownpal = 1
supermove = 1
bindtime = -1
persistent = 0


[State 3200, Muteki]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 75

[State 3200,End]
type=ChangeState
trigger1=AnimTime=0
value=3501

;;;;;;;;;;;;;;;;;;;;;

[Statedef 3485]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 3485
sprpriority = -2

[State 13005]
type = Bindtoparent
trigger1 = 1
pos = 0,0

[State 13005]
type = PalFX
trigger1 = 1
time = 1
invertall = 1

[State 13005]
type = NotHitBy
trigger1 = 1
value = SCA

[State 13005]
type = DestroySelf
trigger1 = root,AnimElem = 3 || root,stateno != 3500
trigger2 = Time = 1


;;;;;;;;;;;;;;;;;

[Statedef 3501]
type=A
movetype=A
physics=N
velset = 3.6,-8.4
anim=3500
sprpriority = 2


[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .547




;[State 0, PlayerPush]
;type = PlayerPush
;trigger1 = 1
;value = 0


;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 0
;time = 13
;length = 10
;palcolor = 256
;palinvertall = 0
;palbright = 50,50,50;20,20,30
;palcontrast = 187,10,253;100,100,220;120,120,240;100,100,220
;palpostbright = 50,50,50;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 2
;framegap = 3
;trans = add1

[State 0, Width]
type = Width
trigger1 = 1
edge = 28,18

[State 3200,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 13
palmul = 1,1,1
palcontrast = 160,120,200
palbright = 60,20,100
PalAdd = 15,10,30
length = 9
framegap = 3
timegap = 2
trans = add1
sprpriority = 1


[State 1200, 2]
type = Hitdef
trigger1 = !MoveGuarded
trigger1 = animelem = 1
trigger1 = movetype != H
attr = A, HT
hitflag = AF
priority = 7, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 3504
p2stateno = 3510
p2getp1state = 1
;chainID = 1501
;id = 801
getpower = 340
givepower = 244

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 1,=8
value = 3500,0
channel = 0

[State 3200,End]
type=ChangeState
trigger1=vel y >= 0;AnimTime=0
value=3599

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3599]
type=A
movetype=I
physics=N
anim=3501
velset=3.5,0.3;0.5
sprpriority = 2


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 6

[State 1200, 4.2]
type = Gravity
trigger1 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =


[State 3200,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
palmul = 1,1,1
palcontrast = 160,120,200
palbright = 60,20,100
PalAdd = 15,10,30
length = 9
framegap = 3
timegap = 2
trans = add1
sprpriority = 1


[State 1200, 6]
type = ChangeState
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 3502

;;;;;;;;;;;;


[Statedef 3502]
type    = S
physics = N
movetype= I
anim = 3502
ctrl = 0
velset = 0,0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = 0,-2
spacing = 1

[State 191,]
type = PlaySnd
trigger1 = Time = 0
value = 47,0
;volume = -200

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1201, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1201, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3504]
type    = A
movetype= A
physics = N
anim = 3503
sprpriority = 0
ctrl = 0
velset= 2,-4;5

[State 0, Width]
type = Width
trigger1 = 1
edge = 28,18

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 1,=5
value = 3500,0
channel = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 3, -122
time = 5


[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = 2

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 15, -114
time = 6

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =3
value = 2

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = -2, -110
time = 5

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =4
value = 2

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 6, -116
time = 4

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 14, -115
time = 999


[State 3203,5]
type=VelAdd
trigger1=time>=0
y=0.4;35

[State 3203,End]
type=ChangeState
trigger1=Pos Y>=0
trigger1=Vel Y>0
value=3556

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


 [Statedef 3556]
type    = S
movetype= I
physics = N
anim = 3505
sprpriority = 0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = 0,-2
spacing = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=6
value = 3500,1

[State 2000, 6]
type = PlaySnd
trigger1 = AnimElem = 4,=6
trigger2 = AnimElem = 8,=5
trigger3 = AnimElem = 11,=4
trigger4 = AnimElem = 15,=1
;trigger5 = AnimElem = 14,=3
value = 40,2
volume = -160

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = time = 0
freq = 100
phase = 90
time = 18
ampl = -6


[State 1360, 4]
type = targetlifeadd
trigger1 = time = 0
value = -90
kill = 0

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18


[State 3100 , 8]
type = VelSet
;trigger1 = Anim = 3505
trigger1 = time = [0,16]
X = 0
Y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 0
;time = 75
;palmul = 1,1,1
;palcontrast = 160,120,200
;palbright = 60,20,100
;PalAdd = 15,10,30
;length = 9
;framegap = 3
;timegap = 2
;trans = add1
;sprpriority = 1

;[State -3, 5]
;type = AfterImage
;trigger1 = time = 23
;time = 57
;trans = add1
;timegap = 2
;framegap = 2
;length = 5;9
;palbright = 12,12,12
;palcontrast = 187,10,253
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1


;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 23
;time = 57
;length = 8;5
;palcolor = 256
;palinvertall = 0
;palbright = 50,50,50;20,20,30
;palcontrast = 187,10,253;100,100,220;120,120,240;100,100,220
;palpostbright = 50,50,50;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 2
;framegap = 3
;trans = add1


;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 20
;time = 57
;palmul = 1,1,1
;palcontrast = 160,120,200
;palbright = 60,20,100
;PalAdd = 15,10,30
;length = 6
;framegap = 3
;timegap = 2
;trans = add1


[State 3201, StateChange]
type = TargetState
trigger1 = time = 0;Anim = 3505
value = 3512

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =3
anim = 8015
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 2

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =4
anim = 3558
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 6

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =11
anim = 3558
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =5
anim = 8017
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 7

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =6
anim = 8018
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =13
anim = 8018
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 3

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =8
anim = 8019
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 5

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =15
anim = 8019
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 3

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =12
anim = 8017
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 3

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =7
anim = 8020
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =14
anim = 8020
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 3

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 8, -81

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 3, -101

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = -2, -108

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 9, -100

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 0, -101

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = -4, -101

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 0, -99

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 1, -97

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -3, -101

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElem = 10
pos = 1, -106

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = 3, -103

[State 810, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12
pos = 5, -102

[State 810, Bind 13]
type = TargetBind
trigger1 = AnimElem = 13
pos = -9, -102

[State 810, Bind 14]
type = TargetBind
trigger1 = AnimElem = 14
pos = -2, -100

[State 810, Bind 15]
type = TargetBind
trigger1 = AnimElem = 15
pos = 0, -98


[State 0, Width]
type = Width
trigger1 = 1
edge = 28,18

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 19
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 3
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 9
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 20
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 7
x = 6
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 9
x = 19
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10
x = 11
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 11
x = 6
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 12
x = 10
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 13
x = 12
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 14
x = 8
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 15
x = 8
y = 0

;[State 3100 , 7]
;type = VelSet
;trigger1 = AnimElem = 3
;X = 2
;Y = 0


;[State 3100 , 8]
;type = VelSet
;trigger1 = AnimElem = 9
;X = 2.2;1.7

;[State 3100 , 8]
;type = VelSet
;trigger1 = AnimElem = 14
;X = 2.1
;Y = 0

;[State 3100 , 8]
;type = VelSet
;trigger1 = AnimElem = 15
;X = 0
;Y = 0

;[State 860, 2]
;type = posadd
;trigger1 = time = 28
;x = 10


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3506
ctrl = 0


;;;;;;;;;;;;;;;;;;;;


 [Statedef 3506]
type    = S
movetype= I
physics = N
anim = 3506
sprpriority = 0
ctrl = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = 28,18


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 3500,2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=4
value = 40,1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA;,NA,SA,HA,NP,SP,HP,NT,ST,HT



;[State -3, 5]
;type = AfterImage
;trigger1 = time = 0
;time = 35
;trans = add1
;timegap = 2
;framegap = 2
;length = 5;9
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1


;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 0
;time = 35
;length = 5
;palcolor = 256
;palinvertall = 0
;palbright = 50,50,50;20,20,30
;palcontrast = 187,10,253;100,100,220;120,120,240;100,100,220
;palpostbright = 50,50,50;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 2
;framegap = 2
;trans = add1

;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 0
;time = 35
;length = 8;5
;palcolor = 256
;palinvertall = 0
;palbright = 50,50,50;20,20,30
;palcontrast = 187,10,253;100,100,220;120,120,240;100,100,220
;palpostbright = 50,50,50;20, 20, 20
;paladd = 10,10,45
;palmul = .65,.65,.85
;timegap = 2
;framegap = 3
;trans = add1

;[State 3200,AfterImage]
;type = AfterImage
;trigger1 = time = 0
;time = 45
;palmul = 1,1,1
;palcontrast = 160,120,200
;palbright = 60,20,100
;PalAdd = 15,10,30
;length = 9
;framegap = 3
;timegap = 2
;trans = add1

[State 3350, 4]
type = posadd
trigger1 = time = 0
x = 15

[State 3350, 4]
type = targetstate
trigger1 = TIME = 0
value = 3516

[State 3350, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 15, -121
time = -1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 2
value = 2

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 3
value = 0

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
anim = 8024
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =3
anim = 8022
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 5

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =4
anim = 8023
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
removeongethit = 1
bindtime = 31



[State 3350, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 29, -114
time = -1

[State 3350, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 34, -108
time = -1

[State 3350, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 37, -101
time = -1

[State 3350,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2,=1
statetype = A
physics = N

[State 3350,VelSet]
type = VelSet
trigger1 = AnimElem = 1,=1
x = 0.8;2.7;7.7
y = -2.1;-8.7

[State 3350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 1, >= 1
y = .163



[State 1200, 6]
type = ChangeState
trigger1 = Pos y >= 0 ;0
trigger1 = Vel y > 0
value = 3507




;;;;;;;;;;;;;;;;;;;;



[Statedef 3507]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3507
velset = 0,0
facep2 = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 3360, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 4
edge = 42,0

[State 1360, 4]
type = targetlifeadd
trigger1 = time = 0     ;;;;;;;
value = -150
kill = 1

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7031
anim = 7031
pos = 26,-6
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7002
pos = 31,-9
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =1
anim = 8016
postype = p1
pos = 5,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 7

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =2
anim = 8013
postype = p1
pos = 5,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 17


[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem =3
anim = 8014
postype = p1
pos = 5,0
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 4

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = -1

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = -1

[State 810, SprPriority]
type = SprPriority
trigger1 = AnimElem =3
value = -1



;[State 1612, Shake]
;type = EnvShake
;trigger1 = time = 0
;freq = 100
;phase = 90
;time = 20
;ampl = -6

[State 1610, Shake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -6
ignorehitpause = 1

;[State -3, 5]
;type = AfterImage
;trigger1 = time = 0
;time = 28
;trans = add1
;timegap = 2
;framegap = 2
;length = 9
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1

;[State -3, 5]
;type = AfterImage
;trigger1 = time = 0
;time = 28
;palmul = 1,1,1
;palcontrast = 160,120,200
;palbright = 60,20,100
;PalAdd = 15,10,30
;length = 9
;framegap = 3
;trans = add1
;sprpriority = 1

[State 3360,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 51, -6

[State 3360, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 51,-6

[State 3360, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 51,-6

[State 3360, 4]
type = targetstate
trigger1 = TIME = 0
value = 3517

[State 3360, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3360, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3360, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3516]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3516

;;;;;;;;;;;;;;;;


[Statedef 3517]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3517

[State 3360, 4]
type = changestate
trigger1 = anim = 3517
trigger1 = AnimTime = 0
value = 3575
;;;;;;;;;;;;;;;;;;;;;


[Statedef 3575]
type    = A
movetype= H
physics = N
velset = -4.5,-6
ctrl = 0

[State 803, Gravity]
type = Gravity
trigger1 = 1

[State 803, Animation]
type = ChangeAnim
Trigger1 = Time = 0;3
value = ifelse (SelfAnimExist(5161), 5161, ifelse(SelfAnimExist(5162), 5162, 5160))

[State 803, Animation]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = ifelse (SelfAnimExist(5051), 5051, ifelse(SelfAnimExist(5052), 5052, 5050))

[State 803, StateChange]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
ctrl = 0


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3510]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

;[State 3204,0]
;type=VelSet
;trigger1=Time=0
;x=-2
;y=-4

[State 3204,0]
type=ChangeAnim2
trigger1=Time=0
value=3510

;[State 3204,1]
;type=VelAdd
;trigger1=time>=0
;y=0.4;35

;[State 3204,10]
;type=ChangeState
;trigger1=P2StateNo=3559
;value=3512


;;;;;;;;;;

;[Statedef 3511]
;type = A
;movetype = H
;physics = N
;velset = 0,0
;ctrl = 0

;[State 3206, Anim]
;type = Changeanim2
;trigger1 = Time = 0
;value = 3511

;;;;;;;;;;;;;;;;;

[Statedef 3512]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 3206, Anim]
type = Changeanim2
trigger1 = Time = 0
value = 3522

;;;;;;;;;;;;;;;;;;;;;;;

;TAN CLARK
[Statedef 3700]
type    = S
movetype= A
physics = s
anim = 3100
sprpriority = 2
poweradd = -2000
juggle = 2
velset = 0,0
ctrl = 0
facep2 = 1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,6

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 10
value = 3000,7

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 32
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0


[State 3000, 6]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 3000, PalFX]
type = PalFX
trigger1 = (prevstateno = 1500 || prevstateno = 1501 || prevstateno = 3000 || prevstateno = 3010); && Time < 30
trigger1 = Time =0
time = 10
add = 238,90,131
mul = 150,150,150;200,200,200
sinadd = 100,90,150,20;50,40,60,20
color = 0
;invertall = 0;1
ignorehitpause = 1

;[State 3000, PalFX]
;type = PalFX
;trigger1 = prevstateno = 3000
;trigger1 = Time < 32
;time = 1
;color = 12+(time*3)
;add = 222-(time*3),173-(time*3),189-(time*3)
;ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = prevstateno = [3000,3010]
trigger1 = Time =0
time = 15
add = 238,90,131
mul = 150,150,150;200,200,200
sinadd = 100,90,150,20;50,40,60,20
color = 0
;invertall = 0;1
ignorehitpause = 1
;;;;add = 247,82,0
;;;;sinadd = 190,190,228,-100
;;;;mul = 200,42,20
;;;;invertall = 0
;;;;color = 256
;;;;mul = 200,200,200
;;;;;sinadd = 166,56,106,36;150,40,90,20
;;;;color = 0
;;;;invertall = 0
;;;;ignorehitpause = 1


;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 1500 || prevstateno = 1501
;id = 9090
;stateno = 9090
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999

[State 3000, 12]
type = Helper
triggerall = prevstateno = 1500 || prevstateno = 1501
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3998
stateno = 3998
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

;[State S_Can]
;type = Helper
;trigger1 = time = 0
;trigger1 = prevstateno = 3000
;id = 9091
;stateno = 9091
;postype = left
;pos = 0,75
;helpertype = normal
;ownpal = 1
;ontop = 1
;bindtime = -1
;ignorehitpause = 1
;persistent = 0
;supermovetime = 99999
;pausemovetime = 99999


[State 3000, 12]
type = Helper
trigger1 = prevstateno = [3000,3010]
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3999
stateno = 3999
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA

[State 3000, 1]
type = SuperPause
trigger1 = time = 1;0
time = 32
movetime = 32
p2defmul = 1
darken = 0
anim = -1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 0
anim = 8090
sprpriority = -1
pos = 26,-95;-10,-99
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 5
anim = 6002
sprpriority = 3
pos = 26,-95;-10,-99
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 2,=1
movetype = I

[State 1000, 2]
type = Hitdef
trigger1= AnimElem = 1
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,52]
trigger1 = p2statetype != A
trigger1 = movetype != H
numhits = 0
attr = S, HT
getpower = 116,16
hitflag = M
;guard.dist = 0
priority = 4, Miss
;hitsound   = s1000,2222
sparkno = -1
p2facing = 1
;ID = 3100
p1stateno = 3701
p2stateno = 3703
p2getp1state = 1

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;;;;;;;;;;;;;;;;;;;;



[Statedef 3701]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3101
facep2 = 0
SprPriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 801,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=7
value = 1401,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 122
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 3000, 6]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 32
under = 1
supermove = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1
ignorehitpause = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = AnimElem = 1,=5
anim = 6002
sprpriority = 3
pos = 26,-95
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 32

[State 1010, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 5
edge = 50,0

[State 1010, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 17
edge = 0,17


[State 1010,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 3
id = 7081
anim = 7081
pos = 46,-55
sprpriority = 1
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 32,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 40,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 24,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 61,-46

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 5
pos = -8,-165

;[State 1010, 4]
;type = TargetBind
;trigger1 = animelem = 6
;pos = -8,-165

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3705


;;;;;;;;;;;;;;;;;;


[Statedef 3703]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3103

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3705]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0
SprPriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 860, GrabSpark]  ;tan
type = Explod
trigger1 = time = 34
trigger1 = random < 600
id = 3777
anim = 3777
pos = -30,0
sprpriority = -5
ownpal = 1
removeongethit = 1
removetime = 88



[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 92
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 100
phase = 90
time = 10
ampl = -7

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 3020, Width]
type = width
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 5
edge = 69,0

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -80
kill = 0

[State 3020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3020, 4]
type = targetstate
trigger1 = TIME = 0
value = 3715

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 7,-68

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 7,-88;-7,-96

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 36,-62

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 32,-92;32,-100

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[State 3020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3707

;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3715]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 2

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3115

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3707]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3108
facep2 = 0
SprPriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1690,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 801,5

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 51
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 1
value = 1
ignorehitpause = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 1
freq = 100
phase = 90
time = 10
ampl = -7

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7002
anim = 7003
pos = -1,-86
sprpriority = 5
ownpal = 1
removeongethit = 1
removetime = 10

[State 860, GrabSpark]
type = Explod
trigger1 = time = 0
id = 7030
anim = 7030
pos = -1,-1
sprpriority = 0
ownpal = 1
removeongethit = 1
removetime = 18

[State 3020, Width]
type = width
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 5
edge = 69,0

[State 3020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -80
kill = 0

[State 3020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3020, 4]
type = targetstate
trigger1 = TIME = 0
value = 3117

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 7,-68

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 7,-88;-7,-96

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 36,-62

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 32,-92;32,-100

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 3020, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

[state a]
type = varadd
triggerall = !var(59)
trigger1 = command = "x"
trigger2 = command = "y"
v = 20
value = 1

[state a]
type = varset
triggerall = !var(59)
trigger1 = command = "a"
trigger2 = command = "b"
v = 20
value = 0

[State 3020, 4]
type = ChangeState
triggerall = var(20) = 0
trigger1 = AnimTime = 0
value = 3800

[State 0, VarRandom]
type = VarRandom
triggerall = var(59) = 10
trigger1 = time = 0
v = 20
range = 1,6
;ignorehitpause =
;persistent =



[State 3020, 4]
type = ChangeState
triggerall = var(20) = (0,4)
trigger1 = AnimTime = 0
value = 3860

[State 3020, 4]
type = ChangeState
triggerall = var(20) >= 4
trigger1 = AnimTime = 0
value = 3800
 ;;;;;;;;;;;;;

;;;;;;;;;;;;;;;;;;;

[Statedef 3717]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 2

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3117

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3775

;;;;;;;;;;;;;;;;

[Statedef 3775]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1050]
type = turn
trigger1 = time = 0

[State 1050,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 1050

[State 2120, 3]
type = ScreenBound
trigger1 = 1
value = 0

[State 1050,VelSet]
type = VelSet
trigger1 = Time = 1
x = 0
y = -32;-26;-16.1		;-13.8

[State 1050,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .523

;[State 1050, 4]
;type = lifeadd
;trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
;value = -142
;kill = 1

[State 1050,SelfState]
type = ChangeState
trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 1060

;;;;;;;;;;;;;;;;;;;;;

[Statedef 3800]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3800
facep2 = 0
SprPriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,2


[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 110
trans = add1
timegap = 1
framegap = 2
length = 10
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 3805, 1]
type = Explod
trigger1 = AnimElem = 11
anim = 3805
ID = 3805
sprpriority = -1
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 3140, GrabSpark]
type = Explod
trigger1 = AnimElem = 8,=1
id = 7081
anim = 7081
pos = -8,-76
facing = 1
sprpriority = 2
ownpal = 1
bindtime = 1
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 3140,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3170, 4]
type = TargetBind
trigger1 = AnimElem = 8
pos = 12,-112
time = 4

[State 3170, 4]
type = TargetBind
trigger1 = AnimElem = 9
pos = 0,-112
time = 16

[State 3170, 4]
type = TargetBind
trigger1 = AnimElem = 11
pos = 0,-139
time = -1

[State 3140, 4]
type = targetstate
trigger1 = AnimElem = 7,=7
value = 3850


[State 3140,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0
y = -18.5;-16.5;-11.2
;ignorehitpause =
;persistent =

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 6, >= 0 && Time < 33
y = .64;.48
;ignorehitpause =
;persistent =

[State 3140,PosFreeze]
type = PosFreeze
trigger1 = Time >= 33 && Time <= 54;6;79

;[State 3140,VelAdd]
;type = VelAdd
;trigger1 = Time > 63;79
;y = .48

[State 0, VelSet]
type = VelSet
trigger1 = Time > 54;6
x = 0
y = 5.5

[State 3140,VelAdd]
type = Gravity
trigger1 = Time > 54;6

[State 3140 , 3]
type = ChangeState
trigger1 = Pos Y >= -10 && Vel Y > 0
value = 3810
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3850]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 1
velset = 0,0

;[State 3175, 1]
;type = turn
;trigger1 = time = 0

[State 3175, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3850

;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3810]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3810
velset = 0,0
facep2 = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 801,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 801,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=5
value = 3810,0

[State 191,]
type = PlaySnd
trigger1 = AnimElem = 9
value = 47,0
volume = -100

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 70
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 3180, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 3820
ID = 3820
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = -2

[State 3180, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3805


[State 3180, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 5
edge = 0,17

[State 3180,3]
type = posadd
trigger1 = time = [44,63]
x = -6

[State 3180, 4]
type = targetlifeadd
trigger1 = AnimElem = 1,=2
value = -270
kill = 1

[State 3180, 1]
type = EnvColor
trigger1 = AnimElem = 1,=6
value = 255, 255, 255
time = 1
under = 1

[State 3180, Shake]
type = EnvShake
trigger1 = AnimElem = 1,=5
time = 20
ampl = -8

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem = 1,=2
id = 7032
anim = 7032
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 24

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem =1,=2
id = 7031
anim = 7031
pos = 0,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26

[State 3180, 4]
type = targetstate
trigger1 = Time = 0
value = 3855

[State 3180, 4]
type = targetstate
trigger1 = time = 30
value = 3856

[State 3180, 4]
type = targetstate
triggerall = var(59) = 10
trigger1 = time = 30
value = 3856

[State 3180,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3180, 4]
type = TargetBind
trigger1 = AnimElem = 1
pos = -9,-99;-76

[State 3180, 4]
type = TargetBind
trigger1 = AnimElem = 2
pos = -8,-100;-78

[State 3180, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3180, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3180, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3855]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 1
velset = 0,0

[State 871, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3855

[State 3185, 5]
type = ChangeState
triggerall = !var(59)
trigger1 = AnimTime = 0;time >= 30
value = 3856

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3856]
type    = L
movetype= H
physics = N
velset = 0,0

[State 3189, 1]
type = PosSet
trigger1 = Time = 0
y = -78

[State 3189, 1]
type = ChangeAnim
trigger1= time = 0
value = 5160

[State 3189,VelSet]
type = VelSet
trigger1 = Time = 0
x = 4.2
y = -6.6

[State 3189, 5]
type = VelAdd
trigger1 = 1
y = .523

[State 3189,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3189,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 33189, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5100

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3860]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3860
facep2 = 0
SprPriority = 3



[State 3140, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 3140, 2]
type = PlaySnd
trigger1 = AnimElem = 8,=1
value = 801,0

[State 3140, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 3810,0

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 110
trans = add1
timegap = 1
framegap = 2
length = 10
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 3140, 4]
type = targetlifeadd
trigger1 = AnimElem = 8,=1
value = -71
kill = 0

[State 3140, 1]
type = EnvColor
trigger1 = AnimElem = 8,=1
value = 255, 255, 255
time = 1
under = 1

[State 3140, 6]
type = Envcolor
trigger1 = AnimElem = 8,=3
value = 0, 0, 0
time = 1
under = 1

[State 3140, GrabSpark]
type = Explod
trigger1 = AnimElem = 8,=1
id = 7081
anim = 7081
pos = -8,-76
ownpal = 1
facing = 1
bindtime = 1
sprpriority = 2
removeongethit = 0
removetime = 11
ignorehitpause = 1

[State 3140,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 8,=2
pos = 12,-92
time = 6

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 9
pos = 4,-80
time = 19

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 10
pos = -12,-36
time = 5

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 11
pos = -12,-36
time = 5

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 12
pos = -8,-38
time = 5

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 13
pos = 0,-42
time = 5

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 14
pos = 0,-42
time = 25

[State 3140, 4]
type = TargetBind
trigger1 = AnimElem = 15
pos = -4,-12
time = -1

[State 3140, 4]
type = targetstate
trigger1 = AnimElem = 8,=2
value = 3865

[State 3140,PosFreeze]
type = PosFreeze
trigger1 = Time >= 33 && Time <= 74

[State 3140,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3140,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 0
y = -16.5;-11.2

[State 3140,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0 && Time < 33
y = .48

;[State 3140,VelAdd]
;type = VelAdd
;trigger1 = Time > 82
;y = .48

[State 0, VelSet]
type = VelSet
trigger1 = Time > 74
x = 0
y = 5.5

[State 3140,VelAdd]
type = Gravity
trigger1 = Time > 74


[State 3140 , 3]
type = ChangeState
trigger1 = Pos Y >= -10 && Vel Y > 0
value = 3870
ctrl = 0

;;;;;;;;;;;;;;;;;;;;;;;


[Statedef 3865]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 1
velset = 0,0

;[State 3145, 1]
;type = turn
;trigger1 = time = 0

[State 3145, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3865


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 3870]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3870
velset = 0,0
facep2 = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 801,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 801,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 801,1

[State 3280]
type = AfterImage
trigger1 = AnimElem = 1
time = 65
trans = add1
timegap = 1
framegap = 2
length = 10
palbright = 50,50,50
palcontrast = 100,100,100
palpostbright = 10,0,0
paladd = 10,0,0;8
palmul = 1,1,1
ignorehitpause = 0

[State 3150, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 5
edge = 0,17

[State 3150, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -272
kill = 1

[State 3150, 1]
type = EnvColor
trigger1 = AnimElem = 1,=1
value = 255, 255, 255
time = 1
under = 1

[State 3150, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -8

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 7032
anim = 7032
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 24

[State 3180, GrabSpark]
type = Explod
trigger1 = AnimElem =1
id = 7031
anim = 7031
pos = 0,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 26



[State 3150, 4]
type = targetstate
trigger1 = Time = 0
value = 3875

[State 3150,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3150, 4]
type = TargetBind
trigger1 = AnimElem = 1
pos = 5,0

[State 3150, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3150, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3150,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3150,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = -2.56
y = -8.5

[State 3150,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .5

[State 3150 , 3]
type = ChangeState
trigger1 = Pos Y >= -10 && Vel Y > 0
value = 3880
ctrl = 0

;--------------------------------------------------------------

[Statedef 3875]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 1
velset = 0,0

[State 3155, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3875

[State 1566, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3890

;---------------------------------------------------------------------------

[Statedef 3890]
type    = L
movetype= H
physics = N
velset = 0,0

[State 3159, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3159, 1]
type = ChangeAnim
trigger1= time = 0
value = 5160

[State 3150,VelSet]
type = VelSet
trigger1 = Time = 0
x = 4.2
y = -6.6

[State 3159, 5]
type = VelAdd
trigger1 = 1
y = .523

[State 3159,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3159,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 3159, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------

[Statedef 3880]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3895
velset = 0,0
facep2 = 0

;[State 3160, 2]
;type = PlaySnd
;trigger1 = Time = 0
;value = 47,1

[State 3160, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3160, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3160, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;

[Statedef 3998]
type    = S
movetype= I
physics = S
anim = 9999
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3500, 1]
type = Explod
trigger1 = time = 10
anim = 8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 2]
type = Explod
trigger1 = time = 0
anim = 8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 3]
type = Explod
trigger1 = time = 0
anim = 8510
ID = 8510
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
;trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 6]
type = DestroySelf
trigger1 = time = 65

;-----------------------------------------------------------------------------------------
; Dream Cancel States
;-----------------------------------------------------------------------------------------
[Statedef 3999]
type    = S
movetype= I
physics = S
anim = 9999
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3500, 1]
type = Explod
trigger1 = time = 10
anim = 8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 2]
type = Explod
trigger1 = time = 0
anim = 8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 3]
type = Explod
trigger1 = time = 0
anim = 8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
;trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3500, 6]
type = DestroySelf
trigger1 = time = 65

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 52000]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 750;710;5200
ctrl     = 0
sprpriority = 2

[State 5200]
type = Posset
trigger1 = time = 0
y = 0

[State 200, âπÇñ¬ÇÁÇ∑]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,1
;channel = 4

[State 2110, ñ≥ìG]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2110, ]
type = Varset
trigger1 = time = 0
trigger1 = command = "holdfwd"
var(7) = 1

[State 2110, ]
type = Varset
trigger1 = Animtime = 0
var(7) = 0

[State 2110,]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(7) <= 0
x = -4.5

[state 300,]
type = Veladd
triggerall = var(7) = 0
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(7) <= 0
x = .021

[State 2110,]
type = VelSet
triggerall = var(7) = 1
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(8) <= 0
x = 6

[State 2110, ]
type = ChangeAnim
triggerall = var(7) = 1
trigger1 = time = 0
value = 751;700

[State 2110,]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 2110,]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 2110,]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef 5400]
type = S
movetype = H
physics = N
velset = 0, 0
anim = 5400

[State 5400, 1]
type = posset
trigger1 = time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 124,0
lowpriority = 1


[State 5400, 1]
type = Width
trigger1 = 1
player = 20,20

[State 5100, 1]
type = Null
trigger1 = time = 0
time = 0

[State 5400, nothitby]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause=1

[State 5400, changestate]
type = changestate
Trigger1 = AnimTime=0
value = 5110

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[StateDef 9090]
Type = A
movetype = I
Physics = N
Anim = 9999
SprPriority = -2
VelSet = 0,0

[State 9090]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f364
pos = 94,75
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = 1,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f365
pos = -114,107
postype = right
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = 1,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f370
pos = 156,80;76
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
trans = add1
shadow = 75,220,232
persistent = 0
scale = .8,.8
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f371
pos = -158,80;76
postype = right
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
trans = add1
shadow = 75,220,232
persistent = 0
scale = .8,.8
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
Type = DestroySelf
Trigger1 = Time = 46

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[StateDef 9091]
Type = A
movetype = I
Physics = N
Anim = 9999
SprPriority = -2
VelSet = 0,0

[State 9090]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f366
pos = 94,75
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = 1,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f367
pos = -114,107
postype = right
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = 1,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f372
pos = 150,80
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
trans = add1
shadow = 75,220,232
persistent = 0
scale = .8,.8
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = Time = 0
anim = f373
pos = -159,80
postype = right
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
trans = add1
shadow = 75,220,232
persistent = 0
scale = .8,.8
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
Type = DestroySelf
Trigger1 = Time = 46

;;;;;;;;;;;;;;;;;;;;;;;;;;;

[StateDef 7112]
Type = A
movetype = I
Physics = N
Anim = 9999
SprPriority = -2
VelSet = 0,0

[State 9090]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1

[State 9090]
type = Explod
trigger1 = Time = 0
anim = 7112
pos = 0,0
postype = p1
sprpriority = 0
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
Type = DestroySelf
Trigger1 = Time = 26

;--------

[Statedef 5511]
type    = A
movetype= H
physics = N
anim = 5030
velset = 0,0


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5556

;=====================================
; HITA_FALL (knocked up, falling)
[Statedef 3360]
type    = A
movetype= H
;anim = 5050
velset = -4,-3
physics = N

[State 1520 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5030

[State 1520 1]
type = ChangeAnim
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value = 5050

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = time >=0
y = .47


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0,]
type = SuperPause
trigger1 = time >= 0
trigger1 = Gametime%7 = 0
time = 1
anim = -1
darken = 0
p2defmul = 1

[State 5050, 6]
type = ChangeState
trigger1 = time > 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3361

;----

;--------

; hit ground
[Statedef 3361]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5110


[State 180, 2]
type = Explod
trigger1 = time = 0
id = 61
anim = F61
pos = 0,5
sprpriority = -1
ownpal = 1
removeongethit = 1
removetime = 14

[State 5050, 6]
type = posset
trigger1 = time >= 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 5050, 6]
;type = ChangeState
;trigger1 = life > 0
;trigger1 = time = 30
;value = 5558
;ctrl = 0
[State 5050, 6]
type = ChangeState
trigger1 = life > 0
trigger1 = AnimTime = 0
value = 3362
ctrl = 0

;----------

[Statedef 3362]
type    = L
movetype= H
physics = N
anim = 5160

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 5101, 3]
;type = HitFallVel
;trigger1 = Time = 0


[State 5030, 2]
type = VelSet
trigger1 = Time = 0
x = -2
y = -1.6

;[State 5101, 4]
;type = PosSet
;trigger1 = Time = 0
;y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
value = 3363

;---------

; hit ground
[Statedef 3363]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 5110


[State 180, 2]
type = Explod
trigger1 = time = 0
id = 61
anim = F61
pos = 0,5
sprpriority = -1
ownpal = 1
removeongethit = 1
removetime = 14

[State 5050, 6]
type = posset
trigger1 = time >= 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5050, 6]
type = ChangeState
trigger1 = life > 0
trigger1 = time = 30
value = 3364
ctrl = 0

[State 5050, 6]
type = ChangeState
trigger1 = life <= 0
value = 5110
ctrl = 0

;--------

[Statedef 3364]
type    = S
movetype= H
physics = N
anim = 5120


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5050, 6]
type = ChangeState
trigger1 = animtime = 0
value = 3365
ctrl = 0
;-----------------------------------------------

;P2 dizzy
[Statedef 3365]
type = S
physics = N
movetype = I
anim = 5300
velset = 0,0
sprpriority = 2
ctrl = 0

[State 5050, 6]
type = posset
trigger1 = time >= 0
y = 0

[State 2103, 3]
type = assertspecial
trigger1 = time >=0
flag = nowalk

[State 2103, 3]
type = selfstate
trigger1 = time = 200
trigger2 = p2life = 0
value = 0
ctrl = 1

;---------

[Statedef 99999]
ctrl = 0

[State 9999, 0]
type = Turn
trigger1 = facing != parent, facing

[State 9999, ¶€∞ ®M©wA.I.¨Oß_∂}±“]
type = ParentVarSet
triggerall = var(43) != 1
trigger1 = (parent, command = "CPU_1")&&(command != "CPU_1")
trigger2 = (parent, command = "CPU_2")&&(command != "CPU_2")
trigger3 = (parent, command = "CPU_3")&&(command != "CPU_3")
trigger4 = (parent, command = "CPU_4")&&(command != "CPU_4")
;trigger7 = (parent, command = "justfwd")&&(command != "justfwd")
;trigger8 = (parent, command = "justback")&&(command != "justback")
;trigger9 = (parent, command = "justup")&&(command != "justup")
;trigger10 = (parent, command = "justdown")&&(command != "justdown")
var(59) = 10

[State 9999, 1]
type = VarSet
triggerall = var(43) != 1
trigger1 = parent, command = "a"
trigger2 = parent, command = "b"
trigger3 = parent, command = "x"
trigger4 = parent, command = "y"
trigger5 = parent, command = "z"
trigger6 = parent, command = "c"
;trigger7 = parent, command = "justfwd"
;trigger8 = parent, command = "justback"
;trigger9 = parent, command = "justup"
;trigger10 = parent, command = "justdown"
var(43) = 1

[State AI user]
type = ParentVarSet
;trigger1 = RoundState != 2;Æî“ª round ÕÍΩYïrÍPÈ] ai
trigger1 = var(43) = 1
var(34) = 1

[State 2000, Destroy]                  
type = DestroySelf 
trigger1 = p2life = 0
trigger2 = (Parent,var(59) = 10)
trigger3 = var(43) = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Statedef -2]



[State -2, Width]
type = width
trigger1 = 1
ignorehitpause=1
edge = 8,0


[State 0, ChangeState]
type = ChangeState
triggerall = p2life <= 0 && var(59) = 10
trigger1 = stateno = 2000
trigger1 = !movecontact
value = 0
ctrl = 0

[State -2, 1] ; ATIVAR
type = Helper
;trigger1 = roundstate = 1
trigger1 = NumHelper(99999) = 0
trigger1 = var(59) != 10
trigger1 = var(34) != 1
helpertype	= Normal
name = "?????????????"
id = 99999
pos = 10000,10000
postype = p1
facing = 0
stateno = 99999
keyctrl = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 100]
type = StopSnd
trigger1 = stateno !=[100,101]
;trigger2 = statetype != H
trigger1 = stateno !=1100
trigger1 = stateno !=1300
trigger1 = stateno !=13001
trigger1 = stateno !=1600
trigger1 = stateno !=1650
trigger1 = stateno !=1680
trigger1 = stateno !=1690
trigger1 = stateno !=1900
trigger1 = stateno !=3200
trigger1 = stateno !=1685
channel = 4

;[State -2, 2]
;type = PlaySnd
;trigger1 = stateno != 5400 && stateno != 5110 && stateno != 5150
;trigger1 = loseko
;trigger1 = time = 1
;value = 123,0
;channel = 1
;lowpriority = 1


[State -2, 1]
type = PlaySnd
triggerall = Time = 5
triggerall = stateno = 5000 && life !=0
triggerall = random < 450
trigger1 = anim = 5000
trigger2 = anim = 5010
value = 5000,0+ifelse(random>500,0,1)
channel = 1

[State -2, 1]
type = PlaySnd
triggerall = Time = 10
triggerall = stateno = 5000 && life !=0
triggerall = random < 450
trigger1 = anim != 5000
trigger1 = anim != 5010
value = 5000,2+ifelse(random>500,0,2)
channel = 1

[State -2, 1]
type = PlaySnd
triggerall = Time = 10
triggerall = stateno = 5010 && life !=0
triggerall = random < 450
trigger1 = anim != 5020
value = 5000,2+ifelse(random>500,0,2)
channel = 1

[State -2, 1]
type = PlaySnd
triggerall = time = 16
triggerall = anim != [5110,5122]
triggerall = (stateno != [5000,5300]) && (life !=0) && (stateno != [120,200])
triggerall = random < 450
trigger1 = movetype = H
value = 5000,0+ifelse(random>500,0,1)
channel = 1

[state -2, 1]
type = playsnd
triggerall = Time = 5
trigger1 = random < 450
trigger1 = stateno = 5070 && life !=0
value = 5000,3
channel = 1

[state -2, 1]
type = playsnd
triggerall = Time = 1
trigger1 = random < 450
trigger1 = stateno = 5010 && life !=0
trigger1 = anim = 5020
value = 5000,0+ifelse(random>500,0,1)
channel = 1

[state -2, a]
type = varset
trigger1 = palno = 3
v = 3
value = 3

[state -2, a]
type = varset
trigger1 = palno = 4
v = 3
value = 2

[state -2, a]
type = varset
trigger1 = palno = 1
v = 3
value = 1

[state -2, a]
type = varset
trigger1 = palno = 2
v = 3
value = 0


[State -2, Guard Var]
type = VarSet
trigger1 = stateno = [200,330]
trigger1 = moveguarded > 0
trigger2 = stateno = [400,620]
trigger2 = movecontact > 0
trigger3 = stateno = 3100
trigger3 = movecontact > 0
trigger4 = stateno = 3500
trigger4 = movecontact > 0
v = 18
value = ifelse(statetype = A,18,25) ;30
ignorehitpause = 1
persistent = 0

[State -2, Guard Var 2]
type = VarAdd
trigger1 = var(18) > 0
var(18) = -1
ignorehitpause = 1

[State -2, Guard Var 3]
type = VarSet
trigger1 = var(18) < 0
var(18) = 0
persistent = 0
ignorehitpause = 1

[State -2, 46]
type = VarSet
trigger1 = command = "back"
trigger2 = command = "upback"
trigger3 = command = "downback"
v = 6
value = 0

;---------------------------------------------------------------------------
; Add to var(6)
[State -2, 47]
type = VarAdd
trigger1 = Var(6) >= 0
v = 6
value = 1
;ignorehitpause = 1


;---------------------------------------------------------------------------
; "Just defend" spark
[State -2, 48]
type = Explod
triggerall = Var(3) = 0 || Var(3) = 2
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154
anim = 8105
ID = 9900
sprpriority = 4
postype = p1
pos = 25,-64
bindtime = 1
supermove = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(3) = 0
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger1 = anim = 8105
value = 8105,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(3) = 2
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger1 = anim = 8105
value = 8105,2

[State -2, 48]
type = Explod
triggerall = Var(3) = 1 || Var(3) = 3
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154
anim = 9900
ID = 9900
sprpriority = 4
postype = p1
pos = 19,-70
bindtime = 1
supermove = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(3) = 1
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger1 = anim = 9900
value = 8105,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(3) = 3
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger1 = anim = 9900
value = s8105,1

;---------------------------------------------------------------------------
; "Just defend" flash
[State -2, 50]
type = PalFX
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154
time = 26
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

;---------------------------------------------------------------------------
; "Just defend" life add
[State -2, 51]
type = LifeAdd
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154
value = 10

[State -2, 39]
type = Explod
triggerall = Time = 0
triggerall = Var(6) < 10
triggerall = Var(14) = 1
triggerall = numexplod(9990) <= 0
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154 ; ø’
anim = 9990
ID = 9990
pos = 40,65
postype = left
supermove = 1
bindtime = -1
sprpriority = -2
ownpal = 1
ontop = 1

[State -2, 39]
type = Explod
triggerall = Time = 0
triggerall = Var(6) < 10
triggerall = Var(14) = 2
triggerall = numexplod(9991) <= 0
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154    ;ø’
anim = 9991
ID = 9991
pos = -43,65
postype = right
supermove = 1
bindtime = -1
sprpriority = -2
ownpal = 1
ontop = 1

;---------------------------------------------------------------------------
; "Just defend" Varset
[State -2, 51]
type = Varset
triggerall = Time = 0
triggerall = Var(6) < 10
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger3 = stateno = 154
v = 13
value = 1

;---------------------------------------------------------------------------
; "Just defend" VarReset
[State -2, 51]
type = Varset
triggerall = Time = 0
trigger1 = stateno != 150
trigger1 = stateno != 152
;trigger1 = stateno != 154
trigger1 = stateno != 800
v = 13
value = 0

;;;;;;;;;;;;



[State -2, Player 1 Setting]
type = VarSet
trigger1 = Facing = 1 && roundstate = 0
var(36) = 1

[State -2, Player 2 Setting]
type = VarSet
trigger1 = Facing = -1 && roundstate = 0
var(36) = 2

[State -2, Counter Hit Envcolor]
type = EnvColor
trigger1 = NumExplod(7800) = 0 && !Win = 1 && var(38) = 1 && MoveHit
value = 255,255,255
persistent = 0
time = 1
ignorehitpause = 1
under = 1

[State -2, Counter hit Logo (Player 1)]
type = Explod
triggerall = var(36) = 1 && NumExplod(7800) = 0 && !Win = 1 && var(38) = 1
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
;trigger3 = projhittime(1090) >= 0 && projhittime(1090) <= 10
;trigger4 = projhittime(3290) >= 0 && projhittime(3290) <= 10
;trigger5 = projhittime(1020) >= 0 && projhittime(1020) <= 10
anim = f7800
ID = 7800
pos = 20,85
postype = left
sprpriority = 5
supermove = 1
scale = 0.8,0.8
ontop = 1
shadow = 0,0,0
facing = 1
ownpal = 1
bindtime = -1
ignorehitpause = 1
persistent = 0

[State -2, Counter hit Logo (Player 2)]
type = Explod
triggerall = var(36) = 2 && NumExplod(7800) = 0 && !Win = 1 && var(38) = 1
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
anim = f7801
ID = 7800
pos = -110,85
postype = right
sprpriority = 5
supermove = 1
scale = 0.8,0.8
ontop = 1
shadow = 0,0,0
facing = 1
ownpal = 1
bindtime = -1
ignorehitpause = 1
persistent = 0

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(37) != -1 && !win = 1 && p2life != 0
var(37) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(38) != -1 && !win = 1 && p2life != 0
var(38) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = NumExplod(7800) = 1
;trigger3 = var(38) = 1 && movehit > 0
var(38) = 0
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
;trigger3 = var(37) > 0 && movehit > 0
var(37) = 0
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(39) != -1 && !win = 1 && p2life != 0
var(39) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype != A && var(39) != -1
trigger2 = NumExplod(7800) = 1
var(39) = 0
ignorehitpause = 1

[State -2, 15]
type = AttackMulSet
trigger1 = var(39) = 1
value = 0.9

[State -2, COUNTER Available]
type = AssertSpecial
trigger1 = var(39) = 1
flag = NoJuggleCheck


[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "[author=Emeric TAN][version7.0 date=10072007]"
ignorehitpause = 1
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[Statedef -3]

;;;;;;;;;;;;;;

[State -3, AIswitch2]
type = Varset
triggerall = movetype != H
trigger1 = command = "CPU_1"
trigger2 = command = "CPU_2"
trigger3 = command = "CPU_3"
trigger4 = command = "CPU_4"
trigger5 = command = "CPU_5"
trigger6 = command = "CPU_6"
trigger7 = command = "CPU_7"
trigger8 = command = "CPU_8"
trigger9 = command = "CPU_9"
trigger10 = command = "CPU_10"
trigger11 = command = "CPU_11"
trigger12 = command = "CPU_12"
trigger13 = command = "CPU_13"
trigger14 = command = "CPU_14"
trigger15 = command = "CPU_15"
trigger16 = command = "CPU_16"
trigger17 = command = "CPU_17"
trigger18 = command = "CPU_18"
trigger19 = command = "CPU_19"
trigger20 = command = "CPU_20"
trigger21 = command = "CPU_21"
trigger22 = command = "CPU_22"
trigger23 = command = "CPU_23"
trigger24 = command = "CPU_24"
trigger25 = command = "CPU_25"
trigger26 = command = "CPU_26"
trigger27 = command = "CPU_27"
trigger28 = command = "CPU_28"
trigger29 = command = "CPU_29"
trigger30 = command = "CPU_30"
trigger31 = command = "CPU_31"
trigger32 = command = "CPU_32"
trigger33 = command = "CPU_33"
trigger34 = command = "CPU_34"
trigger35 = command = "CPU_35"
var(59) = 10

;-------------------------------------

[State -3, Turns Mode Intro]
type = ChangeState
triggerall = teammode = turns
triggerall = roundno > 1
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted >= 0
trigger1 =  P2Name = "Ralf" || P4Name = "Ralf"
trigger2 =  P2Name = "Ralf 2K2" || P4Name = "Ralf 2K2"
trigger3 =  P2Name = "Ralf Jones" || P4Name = "Ralf Jones"
;trigger4 =  P2Name = "Leona" || P4Name = "Leona"
trigger4 =  P2Name = "Leona Heidern" || P4Name = "Leona Heidern"
trigger5 =  P2Name = "Whip" || P4Name = "Whip"
trigger6 =  P2Name = "Orochi Heidern" || P4Name = "Orochi Heidern"
trigger7 =  P2Name = "Heidern" || P4Name = "Heidern"
value = 192

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[State -3,1]
type = ChangeState
triggerall = Alive && GetHitVar(hitcount)=1
triggerall = Statetype != A && GetHitVar(Damage) >= Life
triggerall = (stateno=5000 && PrevStateNo=[120,159]) && HitOver!
trigger1 = enemy,movetype=A && enemy,stateno>=1000
trigger2 = enemy(1),movetype=A && enemy(1),stateno>=1000
;trigger3 = 1
value = 5400
ignorehitpause = 1


[State -3,1]
type = ChangeState
triggerall = Alive && GetHitVar(hitcount)=1
triggerall = Statetype != A && GetHitVar(Damage) >= Life
triggerall = stateno=5000 && HitOver!
trigger1 = enemy,movetype=A && ((enemy,stateno =[200,239]) || (enemy,stateno =[400,439]))
trigger2 = enemy(1),movetype=A && ((enemy(1),stateno =[200,239]) || (enemy(1),stateno =[400,439]))
;trigger3 = 1
value = 5400
ignorehitpause = 1

;triggerall = var(59) = 10
;triggerall = Animelemtime(5) > 2 && Animelemtime(5) <= 20
;trigger1 = life <= 1100 && p2life > 200
;trigger1 = random < 800
;trigger2 = p2life = (0,200]
;value = 1300
;ctrl = 0

[State -3, 2.1]
type = Varadd
trigger1 = var(25) > 0
var(25) = -1
ignorehitpause = 1

[State -3, 2.2]
type = Varadd
triggerall = movehit
trigger1 = (stateno = [200,205]) && movehit = 1
trigger2 = stateno = 230 && movehit = 6
;trigger3 = stateno = 230 && movehit
var(25) = 30
ignorehitpause = 1

[State -2, PlaySnd]
type = PlaySnd
triggerall = Time = 0
triggerall = anim = 5950
trigger1 = 1
value = 124,0
channel = 1
lowpriority = 1


;triggerall = P2Dist x <= 100 && p2statetype != A && (p2movetype = I || (p2stateno = [300,900]));||


[state -1]
type = VarAdd;Œ“ÇÉ¨F‘⁄”√ varadd ∂¯∑« varset trigger1 = PrevStateNo = 1000;“‘’– Ω stateno 1000 ûÈ¿˝.
trigger1 = PrevStateNo = 700; &&
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 1
trigger2 = (PrevStateNo = 40 || (PrevStateNo = [2041,2045]) || (PrevStateNo = [600,650])) ; &&
trigger2 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger2 = Time = 1
trigger3 = PrevStateNo = [3200,3201]; &&
trigger3 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger3 = Time = 1
ignorehitpause = 1
persistent = 0
var(50) = 300

[state -1]
type = VarAdd;Œ“ÇÉ¨F‘⁄”√ varadd ∂¯∑« varset trigger1 = PrevStateNo = 1000;“‘’– Ω stateno 1000 ûÈ¿˝.
trigger1 = (PrevStateNo = 40 || (PrevStateNo = [2041,2045]) || (PrevStateNo = [600,650])) ; &&
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 1
trigger2 = PrevStateNo = 104; &&
trigger2 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger2 = Time = 1
ignorehitpause = 1
persistent = 0
var(51) = 800

[state -1]
type = VarAdd;Œ“ÇÉ¨F‘⁄”√ varadd ∂¯∑« varset trigger1 = PrevStateNo = 1000;“‘’– Ω stateno 1000 ûÈ¿˝.
trigger1 = PrevStateNo = [1600,1690]; &&
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 1
ignorehitpause = 1
persistent = 0
var(51) = -800

[state -1]
type = Varadd;Œ“ÇÉ¨F‘⁄”√ varadd ∂¯∑« varset trigger1 = PrevStateNo = 1000;“‘’– Ω stateno 1000 ûÈ¿˝.
trigger1 = PrevStateNo = [400,440]
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 1
ignorehitpause = 1
persistent = 0
var(52) = 600

[state -1]
type = VarAdd
trigger1 = Var(51) > 0
var(51) = -1

[state -1]
type = VarAdd
trigger1 = Var(52) > 0
var(52) = -1

[state -1]
type = VarAdd
trigger1 = Var(50) > 0
var(50) = -1

[State 0, VarSet]
type = VarSet
trigger1 = PrevStateNo = [1600,1690]
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 0
ignorehitpause = 1
persistent = 0
var(50) = 0

[State 0, VarSet]
type = VarSet
trigger1 = PrevStateNo = [1600,1690]
trigger1 = MoveType = H;’– Ω π≥ˆ··æÕ±ª»À counter:(
trigger1 = Time = 0
ignorehitpause = 1
persistent = 0
var(46) = 0

[State 0, VarSet]
type = VarSet
trigger1 = (stateno = [600,640]) && movehit
var(45) = 1

[State 0, VarSet]
type = VarSet
trigger1 = (stateno = 400 || stateno = 215) && movehit
trigger2 = stateno = [5000,5999]
trigger3 = time > 20
var(45) = 0

;---------------------------------------------------------------------------
[State -2, 43]
type = VarSet
triggerall = Var(14) != 1
triggerall = Var(14) != 2
trigger1 = Facing = 1
v = 14
value = 1

[State -2, 44]
type = VarSet
triggerall = Var(14) != 1
triggerall = Var(14) != 2
trigger1 = Facing = -1
v = 14
value = 2
















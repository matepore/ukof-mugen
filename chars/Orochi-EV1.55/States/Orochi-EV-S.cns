;===========================================================================================================================
;Orochi Eagrose Version, original char by Orochi Herman, re-written by Eagrose
;CNS file part: Special Moves
;===========================================================================================================================
;-------------------------------------------------------------------------------
; Lightning Strike A
[Statedef 1000]
type = S
ctrl = 0
anim = 1000
velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd = floor(125*fvar(10))

;[State 1000, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[state 1000, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[state 1000, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[state 1000, varset]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[state 1000, velset]
type = velset
trigger1 = prevstateno != [200,460]
x = 0
y = 0

[state 1000, changeanim]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2 ;12;18
value = 1001
ignorehitpause =1

[state 1000, playsnd]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1,1
value = s0,25
pan = 48

[state 1000, EnvShake]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1,1
trigger2 = ProjHit1000 = 1
time = 15
ampl = -4
freq = 120
phase = 120

[state 1000, EnvColor]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1,1
trigger2 = ProjHit1000 = 1
value    = 255,255,255
time     = 1
under    = 1

[state 1000, assertspecial]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1,1
flag = nobg
flag2 = nofg

[state 1000, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1,1
anim  = 1006
postype = p1
pos = ceil(48 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[state 1000, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(48 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1000, removeexplod]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1,1
id = 18101

[state 1000, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1,1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1000
pos = ceil(48*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1


[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(48*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1000, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1000
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(48*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity =    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1000, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1000
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(48*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag =      ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = high      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity =     ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[state 1000, PlaySnd]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
;triggerall = numhelper(1105) = 1
trigger1 = Projhit1000 = 1
value = s0,5
channel = 3
;persistent = 0
pan = ceil(target, p2dist X)
ignorehitpause = 1

[state 1000, PlaySnd]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
;triggerall = numhelper(1105) = 1
trigger1 = Projguarded1000 = 1
value = s0,21
channel = 3
;persistent = 0
pan = ceil(target, p2dist X)
ignorehitpause = 1

[state 1000, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1000 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1000 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(61 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1000, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1000 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1000 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1000, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike B
[Statedef 1001]
type = S
ctrl = 0
anim = 1000
velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd = floor(125*fvar(10))

;[state 1001, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[state 1001, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[state 1001, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[state 1001]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[state 1001]
type = velset
trigger1 = prevstateno != [200,460]
x = 0
y = 0

[state 1001]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2 ;21
value = 1001
ignorehitpause = 1

[state 1001]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1, =1
value = s0,25
pan = 96

[state 1001]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1, =1
time = 15
ampl = -4
freq = 120
phase = 120

[state 1001]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1001 = 1
value    = 255,255,255
time     = 1
under    = 1

[state 1001]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1001 = 1
flag = nobg
flag2 = nofg

[state 1001, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1, =1
anim  = 1006
postype = p1
pos = ceil(96 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[state 1001, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(96 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1001]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1, =1
id = 18101

[state 1001, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1, =1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1001
pos = ceil(96*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1

[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(96*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1001, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1001
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(96*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower =  floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1001, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1001
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(96*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower =  floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5   ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[state 1001]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projhit1001 = 1
value = s0,5
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[state 1001]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projguarded1001 = 1
value = s0,21
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[state 1001, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1001 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1001 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(109 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1001, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1001 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1001 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1001, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike C
[Statedef 1002]
type = S
ctrl = 0
anim = 1000
;velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd = floor(125*fvar(10))

;[state 1002, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[state 1002, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[state 1002, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[state 1002]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[state 1002]
type = velset
trigger1 = prevstateno != [200,460]
x = 0
y = 0

[state 1002]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2;25
value = 1001
ignorehitpause =1

[state haha]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1, =1
value = s0,25
pan = 144

[state 1002]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1, =1
time = 15
ampl = -4
freq = 120
phase = 120

[state 1002, Black]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1002 = 1
value    = 255,255,255
time     = 1
under    = 1

[state 1002]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1002 = 1
flag = nobg
flag2 = nofg

[state 1002, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1, =1
anim  = 1006
postype = p1
pos = ceil(144 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[state 1002, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(144 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1002]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1, =1
id = 18101

[state 1002, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1, =1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1002
pos = ceil(144*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1

[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(144*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1002, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1002
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(144*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =


[State 1002, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1002
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(144*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[state 1002]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projhit1002 = 1
value = s0,5
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[state 1002]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projguarded1002 = 1
value = s0,21
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[state 1002, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1002 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1002 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(157 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1002, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1002 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1002 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1002, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike D
[Statedef 1003]
type = S
ctrl = 0
anim = 1000
;velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd = floor(125*fvar(10))

;[State 1003, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1003, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[State 1003, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[State 1003]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[State 1003]
type = velset
trigger1 = prevstateno != [200,460]
x = 0
y = 0

[State 1003]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2;29
value = 1001
ignorehitpause =1

[State 1003]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1, =1
value = s0,25
pan = 192

[State 1003]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1, =1
time = 15
ampl = -4
freq = 120
phase = 120

[State 1003, Black]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1003 = 1
value    = 255,255,255
time     = 1
under    = 1

[State 1003]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1003 = 1
flag = nobg
flag2 = nofg

[State 1003, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1, =1
anim  = 1006
postype = p1
pos = ceil(192 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[State 1003, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(192 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1003]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1, =1
id = 18101

[State 1003, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1, =1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1003
pos = ceil(192*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1

[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(192*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1003, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1003
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(192*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1003, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1003
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(192*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1003]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projhit1003 = 1
value = s0,5
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1003]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projguarded1003 = 1
value = s0,21
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1003, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1003 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1003 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(205 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[State 1003, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1003 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1003 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1003, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike E
[Statedef 1004]
type = S
ctrl = 0
anim = 1000
;velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd =  floor(125*fvar(10))

;[State 1004, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[state 1004, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[state 1004, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[state 1004]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[state 1004]
type = velset
trigger1 = prevstateno != [200,460]
x = 0
y = 0

[state 1004]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2;33
value = 1001
ignorehitpause =1

[state 1004]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1, =1
value = s0,25
pan = 240

[State 1004]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1, =1
time = 15
ampl = -4
freq = 120
phase = 120

[State 1004, Black]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1004 = 1
value    = 255,255,255
time     = 1
under    = 1

[state 1004]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1004 = 1
flag = nobg
flag2 = nofg

[State 1004, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1, =1
anim  = 1006
postype = p1
pos = ceil(240 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[State 1004, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(240 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1004]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1, =1
id = 18101

[State 1004, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1, =1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1004
pos = ceil(240*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1

[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(240*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1004, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1004
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(240*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1004, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1004
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(240*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1004]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projhit1004 = 1
value = s0,5
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1004]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projguarded1004 = 1
value = s0,21
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1004, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1004 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1004 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(253 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[State 1004, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1004 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1004 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1004, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike F
[Statedef 1005]
type = S
ctrl = 0
anim = 1000
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(125*fvar(10))

;[State 1005, HitBy]
;type = HitBy
;trigger1 = 1
;value = SCA, AA,AT
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[state 1005, trans]
;type = Trans
;trigger1 = time <= 25
;trans = addalpha
;alpha = 10*time, 256-10*time

;[state 1005, trans]
;type = Trans
;trigger1 = time > 25
;trigger1 = time <= 50
;trans = addalpha
;alpha = 256-10*(time-25),10*(time-25)

[state 1005]
type = varset
trigger1 = time = 0
var(26) = 11
ignorehitpause = 1

[state 1005]
type = changeanim
trigger1 = anim = 1000
trigger1 = animelem = 5, =2;37
value = 1001
ignorehitpause =1

[state 1005]
type = playsnd
triggerall = anim = 1001
trigger1 = animelem = 1, =1
value = s0,25
pan = 288

[state 1005]
type = EnvShake
triggerall = anim = 1001
trigger1 = animelem = 1, =1
time = 15
ampl = -4
freq = 120
phase = 120

[state 1005, Black]
type     = EnvColor
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1005 = 1
value    = 255,255,255
time     = 1
under    = 1

[state 1005]
type = assertspecial
triggerall = anim = 1001
trigger1 = animelem = 1, =1
trigger2 = ProjHit1005 = 1
flag = nobg
flag2 = nofg

[State 1005, Explod]
type = null;Explod
triggerall = anim = 1001
trigger1 = animelem = 1, =1
anim  = 1006
postype = p1
pos = ceil(288 * const(size.xscale)),0
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = const(size.xscale), const(size.yscale)

[State 1005, Explod]
type = Explod
triggerall = var(32) != [1,4]
trigger1 = time = 0
anim  = 18101
id = 18101
postype = p1
pos = ceil(288 * const(size.xscale)),0 ;6
ignorehitpause = 1
ownpal = 1
removetime = -1
sprpriority = -3
bindtime = -1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[state 1005]
type = removeexplod
triggerall = var(32) != [1,4]
triggerall = anim = 1001
trigger1 = animelem = 1, =1
id = 18101

[State 1005, Lightning Strike physical attack Reversal helper]
type = Helper
triggerall = anim = 1001
trigger1 = animelem = 1, =1
helpertype = normal
name = "Lightning Strike physical attack Reversal helper"
ID = 1005
pos = ceil(288*const(size.xscale)),0
postype = p1
stateno = 1006
keyctrl = 0
ownpal = 1
scale = 1,1
bindtime = 1
supermovetime = 5
ignorehitpause = 1

[State 1000, Projectile]; ---- visual helper
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
;ProjID = 1000
projanim = 1006   ;Defaults to 0 if omitted.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 27    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(288*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = N    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = 0,0
priority = 1,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = 0,0
sparkno = -1
guard.sparkno = -1
sprpriority = 1
numhits = 0
;(afterimage winmugen only)
afterimage.time = 25
afterimage.length = 12
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.palbright = 0,0,0
afterimage.palcontrast = 250, 250, 250
;afterimage.palpostbright =0,0,0
afterimage.paladd =  15,0,15
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add
;ignorehitpause =
;persistent =

[State 1005, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1005
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(288*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 25    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-8.5
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1005, Projectile]
type = Projectile
triggerall = anim = 1001
trigger1 = animelem = 1, =1
ProjID = 1005
projanim = 1011   ;Defaults to 0 if omitted.
projhitanim = 1011   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = 1011   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = 1011   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 24    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = -1,-1,-1   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 5    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = ceil(288*const(size.xscale)),0
postype = p1         ;p2,front,back,left,right
supermovetime = 5    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = floor(125*fvar(10)), floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = heavy    ;light,medium,hard,back,up,diagup
air.animtype = heavy    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(90*fvar(3)),floor(9*fvar(3))
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 10    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 20    ;Defaults to guard.hittime
ground.hittime = 25    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 27        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 20    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddistyaccel = 0.5    ;y acceleration
ground.velocity = -2.25,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -2.25,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1007
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = -2,-2    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1005]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projhit1005 = 1
value = s0,5
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1005]
type = PlaySnd
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = Projguarded1005 = 1
value = s0,21
channel = 3
;persistent = 0
ignorehitpause = 1
pan = ceil(target, p2dist X)

[State 1005, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1005 = 1
trigger1 = target, statetype != A
anim  = F0 + 3 + ((projguarded1005 = 1) * 39)
postype = p1 ;2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
pos = ceil(301 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = 1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[State 1005, Explod]
type = Explod
triggerall = numtarget >= 1
triggerall = anim = 1001
trigger1 = animelem = 1 >= 1
trigger1 = ProjContact1005 = 1
trigger1 = target, statetype = A
anim  = F0 + 3 + ((projguarded1005 = 1) * 39)
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)),
pos = 0, (target, const(size.mid.pos.y))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 4
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[state 1005, changestate]
type = changestate
triggerall = anim = 1001
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Lightning Strike physical attack Reversal helper
[Statedef 1006]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1012

[state 1006, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = IsHelper(1000)
trigger2 = !root,NumProjID(1000)
trigger3 = IsHelper(1001)
trigger3 = !root,NumProjID(1001)
trigger4 = IsHelper(1002)
trigger4 = !root,NumProjID(1002)
trigger5 = IsHelper(1003)
trigger5 = !root,NumProjID(1003)
trigger6 = IsHelper(1004)
trigger6 = !root,NumProjID(1004)
trigger7 = IsHelper(1005)
trigger7 = !root,NumProjID(1005)

[state 1006, hitby]
type = hitby
trigger1 = 1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1006, Override]
type = HitOverride
trigger1 = 1
attr = SCA, NA,SA,HA,NT,ST,HT,NP,SP,HP,AA,AT,AP
slot = 0
stateno = 1006 ;2502
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1006]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

;[state 1006, reversaldef]
;type = ReversalDef
;trigger1 = 1
;reversal.attr = SCA, NA,SA,NT,ST
;pausetime = 0,5
;priority = 999, hit
;sparkno = -1
;sparkxy = 100, -100
;fall.xvelocity = -3.27;272725105286
;fall.yvelocity = -3.25;555985694885
;p2stateno = 2006

;-------------------------------------------------------------------------------
;down bounce P2STATENO
;code from "orochi98um" by Zelgadis
[Statedef 1007]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5050, 1]
type = ChangeAnim2
trigger1 = 1
trigger1 = !selfAnimExist(5160)
trigger1 = !selfAnimExist(5170)
value = 1002

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5110
trigger1 = selfAnimExist(5160)
value = 5160
elem = animelemno(-1)

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5170
trigger1 = selfAnimExist(5170)
value = 5170
elem = animelemno(-1)

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5111
trigger1 = selfAnimExist(5171)
value = 5171
elem = animelemno(-1)

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5111
trigger1 = selfAnimExist(5111)
trigger1 = !selfAnimExist(5161)
value = 5111
elem = animelemno(-1)

[State 5050, 1];DEBUG
type = ChangeAnim2
trigger1 = anim != 1002
trigger1 = anim != 5160
trigger1 = anim != 5170
trigger1 = anim != 5171
trigger1 = anim != 5111
value = 1002

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .4

[State 821, 1]
type = Velset
Trigger1 = time = 0
x = -3
y = -5.5

[State 5050, 6]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 25
value = 1008

;-------------------------------------------------------------------------------
;down bounce P2STATENO 2
;code from "orochi98um" by Zelgadis
[Statedef 1008]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 107, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 191, 1]
type = NULL;playsnd
;trigger1 = p2stateno = 2403
trigger1 = Time = 1
value = F7,0
persistent = 0

[State 5050, 1]
type = ChangeAnim2
trigger1 = !selfAnimExist(5110)
value = 1003

[State 5050, 1]
type = ChangeAnim
;trigger1 = time = 0
trigger1 = anim = 5160 || anim = 5170
trigger1 = selfAnimExist(5110)
value = 5110
;elem = animelemno(-1)

[State 5050, 1]
type = ChangeAnim
;trigger1 = time = 0
trigger1 = anim = 5161 || anim = 5171 || anim = 5162
trigger1 = selfAnimExist(5111)
value = 5111
;elem = animelemno(-1)

[State 5050, 1];DEBUG
type = ChangeAnim2
trigger1 = anim != 1003
trigger1 = anim != 5110
trigger1 = anim != 5111
value = 1003

[State 5050, 1]
type = selfstate
trigger1 = time = 25
trigger1 = alive
value = 5120

[State 610, 4]
type = SelfState
trigger1 = life = 0
trigger1 = Time = 25
value = 5150

;===============================================================================
; Black Surge ---- made by Orochi Herman
; Known bugs : the first Black Surge disappear before reach edge when casting a second Black Surge
; but the first Black Surge 's damage is added to the second

;[Statedef 1100]
;type = S
;ctrl = 0
;anim = 1100
;velset = 0,0
;movetype = A
;physics = S
;sprpriority = 2
;poweradd = floor(500*fvar(10))

;[state haha]
;type = varset
;trigger1 = time = 0
;var(14) = 0

;[state haha]
;type = posadd
;trigger1 = animelem = 10
;trigger2 = animelem = 11
;trigger3 = animelem = 12
;x = -8

;[State , Helper0]
;type = Helper
;trigger1 = animelem = 8,1
;helpertype = normal
;name = "Surges"
;ID = 1105
;pos = ceil(32 * const(size.xscale)), ceil(-108 * const(size.yscale))
;postype = P1
;;facing = 1
;stateno = 1105
;keyctrl = 0
;ownpal = 1
;supermovetime = 9999
;;pausemovetime = 0

;[state haha];Black Surge Timer
;type = varset
;trigger1 = animelem = 1
;var(4) = 0
;ignorehitpause = 1

;[state haha];Black Surge Pos Multiplier
;type = varset
;trigger1 = animelem = 1
;var(5) = 0
;ignorehitpause = 1

;[state haha];Black Surge Pos Recorder
;type = varset
;trigger1 = animelem = 8,1
;var(6) = backedgedist + 32
;ignorehitpause = 1

;[state haha];Black Surge Secondary Timer
;type = varset
;trigger1 = animelem = 1
;var(7) = 0
;ignorehitpause = 1

;[state haha]
;type = varset
;trigger1 = animelem = 8,1
;var(4) = 1
;ignorehitpause = 1

;[state haha]
;type = varset
;trigger1 = animelem = 8,1
;var(5) = 1
;ignorehitpause = 1

;[state haha]
;type = changestate
;trigger1 = animtime = 0
;value = 0
;ctrl = 1

;-------------------------------------------------------------------------------
; Black Surge Projectile
;[Statedef 1105]
;type = A
;ctrl = 0
;anim = 6005
;velset = 0,0
;movetype = A
;physics = N
;sprpriority = 2

;[state haha]
;type = varset
;trigger1 = time = 0
;var(1) = 0
;ignorehitpause = 1

;[state haha]
;type = varadd
;trigger1 = time = 17
;trigger2 = time = 23
;trigger3 = time = 29
;trigger4 = time = 35
;trigger5 = time = 41
;trigger6 = time = 47
;trigger7 = time = 53
;trigger8 = time = 59
;trigger9 = time = 65
;trigger10 = time = 71
;var(1) = 1
;ignorehitpause = 1

;[state haha]
;type = playsnd
;trigger1 = time = 0
;trigger2 = time = 2
;value = s0,22
;abspan = -255 * ifelse(time = 2, -1, 1)

;[state haha]
;type = destroyself
;trigger1 = time >= 80

;===============================================================================
; Black Surge Modified version
;(CNS related from original Orochi made by Gonzo-, modified by Eagrose)
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = floor(250*fvar(10))
;ifelse(prevstateno != 1102,floor(650*fvar(10)),0)
;--------made for "Black Surge HitOverRide against proj", but now disabled for balance

[State 1100, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1100, ChangeAnim]
type = ChangeAnim
triggerall = prevstateno != 1102
trigger1 = Time = 0
value = 1100

;[State 1100, 7];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
;type = ChangeAnim
;triggerall = prevstateno = 1102
;trigger1 = Time = 0
;value = 1100
;elem = var(19)

;[State 1100, 7];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
;type = varset
;trigger1 = 1
;var(19) = AnimElemNo(0)

;[state 1100, HitOverRide];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
;type = HitOverRide
;trigger1 = animelem = 1, >=0
;trigger1 = animelem = 11, <0
;time = 2
;slot = 0
;attr = SCA, NP,SP
;Stateno = 1102
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

[State 1100, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1

[State 1100, posadd]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
x = -4

[State 1100, Helper]
type = Helper
trigger1 = animelem = 8, =1
ID = 1103
name = "force"
postype = p1
pos =  33*const(Size.xscale),-107*const(Size.yscale) ;35,-115
sprpriority = 2
stateno = 1103
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
supermovetime = 10

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Black Surge Modified version force Helper
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 110003 ;9999
ctrl = 0
sprpriority = 2
poweradd = 0

[State 1103, notHitby]
type = notHitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1103, force Afterimage]
type = null;Afterimage
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  35
length  = 10
TimeGap = 1
FrameGap = 1

[State 1103, envcolor]
type = NULL;envcolor
trigger1 = root,projhit1103 = 1
value = 255,255,255
time = 1
;persistent = 0
ignorehitpause = 1
under = 1

[State 1103, Explod]
type = null;Explod
trigger1 = time = 0
anim  = 110001
postype = p1
pos = 0,0 ;35,-115
;Ceil((16 + (32 * var(5))) * Const(size.xscale)), Ceil(-108 * Const(size.yscale))-pos Y
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 2
bindtime = 1
scale = Const(size.xscale), Const(size.yscale)

[State 1103, Projectile]
type = Projectile
trigger1 = 1
ProjID = 1103
projanim = 110002   ;Defaults to 0 if omitted.
projhitanim = -1   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = -1   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = -1   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 22    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 7    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,SP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*root,fvar(10)),floor(50*root,fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Hard    ;light,medium,hard,back,up,diagup
air.animtype = Hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 7,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(40*root,fvar(3)),floor(4*root,fvar(3))
pausetime = 0,8
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,20
hitsound = S2,51
guardsound = S2,70
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 30    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 30    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 15        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
;yaccel = 0.5    ;y acceleration
ground.velocity = -9,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -4,-4    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
id = 1103
;chainID = -1
nochainID = 1103
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 10
envshake.freq = 120
envshake.ampl = -4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
persistent = 0

[State 1103, Helper]
type = Helper
;trigger1 = root,stateno = 1100
trigger1 = time = 10
ID = 1101
name = "black surge proj"
postype = p1
pos = 33*const(Size.xscale),0 ;70,-115
sprpriority = 2
stateno = 1101
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1103, Helper]
type = Helper
;trigger1 = root,stateno = 1100
trigger1 = time = 10
ID = 1104
name = "black surge hitoverride to NP,SP"
postype = p1
pos = 33*const(Size.xscale),0 ;70,-115
sprpriority = 2
stateno = 1104
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1103, PlaySnd]
type = PlaySnd
trigger1 = time = 8
trigger2 = time = 10
value = s0,22
abspan = -255 * ifelse(time = 7, -1, 1)

[State 1103, VarSet]; ---- root,var(1) Trans changing
type = VarSet
trigger1 = 1
var(19) = 256
persistent = 0

[State 1103, VarSet]; ---- root,var(1) Trans changing
type = VarAdd
triggerall = var(19) > 0
trigger1 = 1
var(19) = -10

[State 1103, VarSet]; ---- root,var(1) Trans changing
type = VarSet
trigger1 = var(19) <= 0
var(19) = 0

[State 1103, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(19),256
ignorehitpause =  1
;persistent =

[State 1103, AngleDraw]
type = AngleDraw
trigger1 = 1
;value =  (winmugen only)
scale = (0.25+(256-var(19))*0.00032),(0.8+(256-var(19))*0.001)
ignorehitpause = 1
;persistent =

[State 1103, destroyself]
type = destroyself
trigger1 = time >= 25
;time >= 26

;-------------------------------------------------------------------------------
; Black Surge Modified version proj Helper
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 110005
ctrl = 0
sprpriority = 2

[state 1101, notHitby]
type = notHitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1101, varset]
type = varset
trigger1 = time = 0
var(17) = 0

[state 1101, varset]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(17) = 130

[state 1101, varset]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(17) = -150 - (-150 - p2bodydist y)

[state 1101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 1101, Helper]
type = Helper
trigger1 = time = 6
ID = 1101
name = "black surge proj"
postype = p1
pos =  28,0
sprpriority = 2
stateno = 1101
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[state 1101, Reversal enemy's unhittable physical attack]; ---- disabled for balance
type = null;ReversalDef
trigger1 = time = [1,8]
reversal.attr = SCA, NA,SA
hitflag = MAF
pausetime = 0,0
priority = 999, hit
sparkno = -1
sparkxy = 100, -100
fall.xvelocity = -3.27
fall.yvelocity = -3.25
p2stateno = 2006

[state 1101, ReversalDef]
type = NULL;ReversalDef
trigger1 = time = [1,8]
reversal.attr = SCA, NP,SP
hitflag = MA
pausetime = 0,0
priority = 999, hit
sparkno = -1
sparkxy = 0,0
p2stateno = 2006

[state 1101, Explod]; ---- black surge
type = Explod
trigger1 = time = 0
anim  = 1105
postype = p1
pos = 0,0
;Ceil((16 + (32 * var(5))) * Const(size.xscale)), Ceil(-108 * Const(size.yscale))-pos Y
ignorehitpause = 1
ownpal = 1
;removetime = -1
sprpriority = 3
bindtime = 1
scale = 1,1

[state 1101, Explod]; ---- black surge aura 1
type = Explod
trigger1 = time = 0
anim = 1112
id = 1112
sprpriority = 2
postype = p1
velset = 0,0
pos = 0,0
bindtime = 1
supermove = 0
;persistent = 0
scale = 0.18, 0.67 ;0.2, 0.72
ignorehitpause = 1
under = 0
ownpal = 1

[state 1101, Explod]; ---- black surge aura 2
type = Explod
trigger1 = time = 4
anim = 1113
id = 1113
sprpriority = 2
postype = p1
velset = 0,0
pos = 0,0
bindtime = 1
supermove = 0
;persistent = 0
scale = 0.14, 0.54 ;0.16, 0.54
ignorehitpause = 1
under = 0
ownpal = 1

[state 1101, Explod]; ---- black surge aura 3
type = Explod
trigger1 = time = 8
anim = 1114
id = 1114
sprpriority = 2
postype = p1
velset = 0,0
pos = 0,0
bindtime = 1
supermove = 0
;persistent = 0
scale = 0.112,0.36 ;0.112,0.36
ignorehitpause = 1
under = 0
ownpal = 1

[State 1101, Projectile]
type = Projectile
trigger1 = 1
ProjID = 1101
projanim = 1111   ;Defaults to 0 if omitted.
projhitanim = -1   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = -1   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = -1   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 9    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 9999999    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*root,fvar(10)),floor(50*root,fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 999,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(40*root,fvar(3)),floor(4*root,fvar(3))
pausetime = 0,12
guard.pausetime = 0,10
sparkno = 2
guard.sparkno = 40
sparkxy = 0,(-70 + var(17))
hitsound = S2,51
guardsound = S2,70
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -6,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -4,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 23
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
persistent = 0

[state 1101, destroyself]
type = destroyself
trigger1 = time >= 10
trigger2 = FrontEdgeBodyDist < -35

;------------------------------------------------------------------------------
;Black Surge HitOverRide
;--------made for "Black Surge HitOverRide against proj", but now disabled for balance
[Statedef 1102]
type    = U
movetype= H
physics = U
juggle  = 0
velset = 0,0
sprpriority = 2
ctrl = 0

[State 240, 4]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 0

[State 1000, 7]
type = PosFreeze
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, 7]
type = null;nothitby
trigger1 = 1
time = 2
value = SCA

[state -2, HitOverRide]
type = HitOverRide
trigger1 = 1
slot = 1
attr = SCA, NP,SP
Stateno = 1102
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000, 7]
type = ChangeAnim
trigger1 = 1
value = 1100
elem = var(19)

[State 0, 4] ;Are you dead?
type = PosFreeze
trigger1 = 1

[State 0, 4] ;Are you dead?
type = lifeset
trigger1 = life < 1
value = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = life < 1
trigger2 = !alive
value = 5050

[state haha]
type = playsnd
trigger1 = time = 0
value = s8,10
ignorehitpause = 1

[State 1000, Explod] ;Super Cancel Effect
type = Explod
trigger1 = time = 0
anim = F40
pos = 13,-115
postype = P1
facing = 1
removetime = -2
bindtime = -1
pausemove = 1
supermove = 1
sprpriority = 3
ownpal = 1

[State 0, 4] ;Are you dead?
type = ChangeState
triggerALL = alive
trigger1 = Time = Floor(GetHitVar(hittime))
trigger2 = Time = 30
value = 1100

;-------------------------------------------------------------------------------
; black surge hitoverride to NP,SP Helper
[Statedef 1104]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 4.66,0
anim = 110005
ctrl = 0
sprpriority = 2

[State 1104, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA,NP,SP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1104
time = -1
ignorehitpause = 1
persistent = 0

[state 1104, HitBy]
type = Hitby
trigger1 = 1
time = -1
value = SCA,NP,SP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1104, NotHitby]
type = NotHitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1104, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
priority = 99999, hit
hitflag = HLMAFD
numhits = 0
sparkno = -1
;hitsound =
;p1stateno =
p2stateno = 2006
ignorehitpause =  1
;persistent =

[State 1104, VelSet]
type = VelSet
trigger1 = Vel X != 4.66
x = 4.66
y = 0
ignorehitpause = 1

[state 1104, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 1104, destroyself]
type = destroyself
;trigger1 = time >= 10
trigger1 = FrontEdgeBodyDist < -35

;===============================================================================
; Shattering Mirror (forward)
[Statedef 1200]
type = S
ctrl = 0
anim = 1200
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(300*fvar(10))

[state 1200]
type = PosFreeze
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 16, <0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, HitBy] ;---- Shattering Mirror start invincible
type = HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 6, <0
value = SCA, HA,NP,SP,HP,ST,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, HitBy] ;---- Shattering Mirror invincible
type = HitBy
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
value = SCA, NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1200, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

;Shattering Mirrow start "ring"
[state 1200]
type = playsnd
trigger1 = animelem = 5,=2
value = s8,8
channel = 4
ignorehitpause = 1

[state 1200]
type = Envshake
trigger1 = animelem = 7
time = 10
ampl = -4
freq = 120
phase = 120

[state 1200]
type = varset
trigger1 = time = 0
var(8) = 0

[state 1200]
type = varset
trigger1 = time = 0
var(9) = 0

[State 1200, HitDef]
type = HitDef
trigger1 = AnimElem = 6
;trigger1 = AnimElem = 6, >=0
;trigger1 = AnimElem = 17, <0
;trigger2 = moveguarded >= 2
;trigger2 = AnimElem = 6, >=0
;trigger2 = AnimElem = 17, <0
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = H    ;MHLA
getpower = floor(300*fvar(10)),floor(150*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Back    ;light,medium,hard,back,up,diagup
air.animtype = Back    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*fvar(3)),floor(5*fvar(3))
pausetime = 10,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
;sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 18    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 28    ;Defaults to guard.hittime
ground.hittime = 18    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 30        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -20,-9.5
guard.velocity = -12    ;Defaults to x_velocity of ground.velocity
air.velocity = -20,-9.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -12    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 1201
p2stateno = 1205
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = floor(100*fvar(3))
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
id = 1200
;chainID = -1
nochainID = 81200
;hitonce = 1
kill = 0
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 36
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.freq = 120
fall.envshake.ampl = -5
fall.envshake.phase = 120
;ignorehitpause =
;persistent =


[State 1200, Projectile]; ---- first hit guardded -> guard-break proj
type = NULL;Projectile
triggerall = moveguarded
TriggerAll = !numprojID(1020)
;trigger1 = AnimElem = 6, >=0
;trigger1 = AnimElem = 17, <0
trigger1 = (-animtime-29) > 0
ProjID = 1020
offset = 0,0
id = 81200    ; ---- DO NOT change this!
nochainid = 81200
attr = S, HA
guardflag = N    ; ---- break guard
hitflag = MA    ; ---- affect only those that was not gethit
numhits = 0
projanim = 1203
projpriority = 4
priority = 7,miss
sparkno = -1
p2stateno = 1208
projremovetime = (-animtime-29)
p2facing = 1
palfx.time = 35
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
ignorehitpause = 1
persistent = 0


; ---- Reversal function Removed. Given to Shattering Mirror of Betrayer (statedef 1400)
[state 1200, Repel]
type = null;ReversalDef
;triggerall = var(8) = 0
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
;trigger1 = ifelse((p2movetype = A),(time % 4 = [0,2]),(time % 2 = 0))
reversal.attr = SCA, NA,SA
priority = 6,hit
pausetime = 0,0
;hitsound = 0,7
fall.damage = 200;210
getpower = floor(500*fvar(10))
givepower = 15, 0
air.juggle = 0
numhits = 0
sparkno = -1
sparkxy = 100, -100
ground.velocity = -20, -9.5
air.velocity = -20, -9.5
guard.cornerpush.veloff = -10
guard.velocity = -10
fall.xvelocity = -3.27;272725105286
fall.yvelocity = -3.25;555985694885
yaccel = .51
;p1stateno = 1201
p2stateno = 1205
p2facing = 1
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0


; ---- Unused, use hitdef instead of proj
[state 1200, 1]
type = null;Projectile
;triggerall = var(8) = 0
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
trigger1 = time%2=0
attr = S, SA
fall.damage = 200;210
animtype = Back
getpower = floor(500*fvar(10)),0
givepower = 15, 0
priority = 6,hit
air.juggle = 0;30
guardflag = H
hitflag = MAF
sparkno = -1
guard.sparkno = -1
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -20, -9.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
guard.velocity = -10
yaccel = .51
air.velocity = -20, -9.5
p2stateno = 1205
p2facing = 1
fall = 1
fall.xvelocity = -3.27;272725105286
fall.yvelocity = -3.25;555985694885
fall.recover = 0
projID = 1203
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projpriority = 999
projanim = 1203
offset = 0,0
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0

;-------------------------------
; ---- Afterimage helper for mirrors
[state 1200,1]
type = Helper
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <1
trigger1 = movecontact
ID = 1202
name = "mirror"
postype = p1
pos = 0,0
sprpriority = 3
stateno = 1202
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

; ---- Unused, use helper instead of explod
[state 1200, Explod]
type = null;Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <1
trigger1 = var(8) = 1
anim  = 1201
postype = p1
pos = 0,0
ignorehitpause = 1
ownpal = 1
sprpriority = 3
bindtime = 1
scale = const(size.xscale), const(size.yscale)
;---------------------------------

;hit sound
[state 1200]
type = playsnd
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <=1
trigger1 = movehit = 1
value=s0,11
channel = 3
persistent = 0
ignorehitpause = 1

[state 1200, Pause]
type = Pause
trigger1 = movehit = [1,10]
trigger1 = time%2=0
time = 1
movetime = 0
unhittable = 1
ignorehitpause = 0

;hit spark when target's not in air
[state 1200, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <=1
trigger1 = movehit
trigger1 = target, statetype != A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), (-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y))))
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
persistent = 0

;hit spark when target's in air
[state 1200, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <=1
trigger1 = movehit
trigger1 = target, statetype = A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
persistent = 0

;guard spark
[state 1200, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 17, <=1
trigger1 = moveguarded
anim  = F40
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))  
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
persistent = 0

;[state 1200]
;type = changestate
;trigger1 = movehit
;value = 1201
;persistent = 0
;ignorehitpause = 1

[State 3000] ;Super Cancel from Shattering Mirror, targetstate
type = targetstate
triggerall = fvar(6) = 1
triggerall = movecontact
trigger1 = stateno = 1200
trigger1 = target,StateNo = 1205
trigger2 = stateno = 1210
trigger2 = target,StateNo = 1205
trigger3 = stateno = 1220
trigger3 = target,StateNo = 1225
trigger4 = stateno = 1220
trigger4 = target,StateNo = 1226
trigger5 = stateno = 1401
trigger5 = target,StateNo = 1205
value = 2003

[state 1200, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; unused ---- Shattering Mirror Reversal success P1STATENO
[Statedef 1201]
type = U
ctrl = 0
velset = 0,0
movetype = U
physics = U
juggle = 0;ifelse(var(32) = 0, 0, 30)

[State 1201]
type = varrandom
trigger1 = var(8) = 1
v = 1
range = 0,2
ignorehitpause = 1

[State 1201, Explod]
type = Explod
triggerall = time = 0
trigger1 = target, statetype != A
anim  = F3
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), ceil(-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y)))) 
;pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y)))
;pos = ceil(61 * const(size.xscale)), ceil(-20 * const(size.xscale)) ; x axis + 13, then scale
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 5
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[State 1201, Explod]
type = Explod
triggerall = time = 0
trigger1 = target, statetype = A
anim  = F3
postype = p2
;pos = ceil(target, const(size.head.pos.x)), ceil(target, const(size.head.pos.y))
;pos = ceil(61 * const(size.xscale)), ceil((target, const(size.yscale)) * ((target, pos y) + (target, const(size.mid.pos.y))))   ; x axis + 13, then scale
;pos = ((61 * const(size.xscale)) - (target, p2dist x)), 
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
; (target, const(size.air.front))
ignorehitpause = 1
facing = -1
ownpal = 1
;removetime = -1
sprpriority = 5
bindtime = 1
;scale = const(size.xscale), const(size.yscale)

[State 1201, Black]
type     = EnvColor
Trigger1 = time = 8
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1

[State 1201]
type = assertspecial
trigger1 = time = 8
flag = nobg
flag2 = nofg
ignorehitpause = 1

[State 1201]
type = varset
trigger1 = time = 0
var(8) = 1
persistent = 0
ignorehitpause = 1

[State 1201]
type = varset
trigger1 = time = 0
var(9) = 1
ignorehitpause = 1

[State 1201]
type = playsnd
trigger1 = var(8) = 1
;value = s0,2 + (19 * moveguarded)
;value = s0 + ifelse((var(40) = [1,6]), 2, 0),ifelse((var(40) = [1,6]), 1 + (50 * (var(40) = [2,6])), 2) + ((19 + (2 * (var(40) = [1,6])) + (-50 * (var(40) = [2,6]))) * moveguarded)
;value = s0 + IfElse((var(40) = [1,6]), 2, 0),IfElse((var(40) = [1,6]), 1 + (50 * (var(40) = [2,6])), 11) + ((10 + (11 * (var(40) = [1,6])) + (-50 * (var(40) = [2,6]))) * moveguarded)
;value=s0+ifelse((var(40) = [1,6]),2,0),ifelse((var(40) = [1,6]),(1+((50+((20+(10*var(1)))*((random >= 500) && (movehit)&&(var(40) = 6)))) * (var(40) = [2,6]))), 2) + ((19+(2*(var(40) = [1,6]))+(-50 * (var(40) = [2,6])))*moveguarded)
value=s0,11
;value = s2,81
channel = 3
persistent = 0
ignorehitpause = 1

;------------------------------
[State 1201, 1]
type = Helper
trigger1 = var(8) = 1
trigger1 = anim = 1200
ID = 1202
name = "mirror"
postype = p1
pos = 0,0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 1202
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1201, 1]
type = Helper
trigger1 = var(8) = 1
trigger1 = anim = 1210
ID = 1203
name = "mirror"
postype = p1
pos = 0,0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 1203
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1201, 1]
type = Helper
trigger1 = var(8) = 1
trigger1 = target, statetype = A
trigger1 = anim = 1220
ID = 1204
name = "mirror"
postype = p1
pos = ifelse((anim = 1220 && (target, statetype != A)), 70, 0),0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 1204
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1201, 1]
type = Helper
trigger1 = var(8) = 1
trigger1 = target, statetype != A
trigger1 = anim = 1220
ID = 1204
name = "mirror"
postype = p1
pos = ifelse((anim = 1220 && (target, statetype != A)), 70, 0),0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 12040
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1201, Explod]
type = null;Explod
trigger1 = var(8) = 1
anim  = anim + 1 + ifelse((anim = 1220 && (target, statetype != A)), 1, 0)
postype = p1
ID = anim + 1 + ifelse((anim = 1220 && (target, statetype != A)), 1, 0)
pos = ifelse((anim = 1220 && (target, statetype != A)), 70, 0),0
ignorehitpause = 1
ownpal = 1
sprpriority = 3;ifelse((anim = 1220 && (target, statetype != A)), -3, 3)
bindtime = 1
scale = const(size.xscale), const(size.yscale)
;--------------------------------

[State 1201]
type = varadd
trigger1 = var(8) >= 1
var(8) = 1
ignorehitpause = 1

[State 1201]
type = playsnd
trigger1 = var(8) = 11
value = s0,14
persistent = 0
ignorehitpause = 1

[State 1201, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Shattering Mirror Forward - Explod afterimage helper
[Statedef 1202]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1201
sprpriority = 3

[State 1202, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 1202, Black]
type     = EnvColor
Trigger1 = time = 9
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1

[State 1202]
type = assertspecial
trigger1 = time = 9
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[State 1202]
type = playsnd
trigger1 = time = 10
value = s0,14
ignorehitpause = 1

[State 1202, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Shattering Mirror up - Explod afterimage helper
[Statedef 1203]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1211
sprpriority = 3

[State 1203, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 1203, Black]
type     = EnvColor
Trigger1 = time = 9
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1

[State 1203]
type = assertspecial
trigger1 = time = 9
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[State 1203]
type = playsnd
trigger1 = time = 10
value = s0,14
ignorehitpause = 1

[State 1203, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Shattering Mirror down when p2's in air - Explod afterimage helper
[Statedef 1204]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1221
sprpriority = 3

[State 1204, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 1204, Black]
type     = EnvColor
Trigger1 = time = 9
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1

[State 1204]
type = assertspecial
trigger1 = time = 9
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[State 1204]
type = playsnd
trigger1 = time = 10
value = s0,14
ignorehitpause = 1

[State 1204, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Shattering Mirror down when p2's not in air - Explod afterimage helper
[Statedef 12040]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1222
sprpriority = -3

[State 12040, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 12040, Black]
type     = EnvColor
Trigger1 = time = 9
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1

[State 12040]
type = assertspecial
trigger1 = time = 9
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[State 12040]
type = playsnd
trigger1 = time = 10
value = s0,14
ignorehitpause = 1

[State 12040, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Shattering Mirror Victim - P2STATENO
[Statedef 1205]
type = A
ctrl = 0
velset = 0,0
movetype = H
physics = N

[state haha]  ;target is ishelper, debug
type = nothitby
trigger1 = ishelper
value = SCA
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1205, Destroyself]; ---- unused, if ishelper debug
type = Destroyself
triggerall = isHelper
trigger1 = 1
ignorehitpause = 1

[state 1205, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1205, changeanim2]
type = changeanim2
trigger1 = 1
value = 1205
persistent = 0
ignorehitpause = 1

[state 1205, posfreeze]
type = posfreeze
trigger1 = anim = 1205
trigger1 = animelemno(0) = 1
ignorehitpause = 1

[state 1205, posadd]
type = posadd
trigger1 = animelem = 1,13
trigger2 = animelem = 1,26
x = -2
y = -4 + (animelem = 1,26)

[state 1205, VelAdd]
type = VelAdd;Gravity
trigger1 = animelemno(0) >= 2;3
y = GetHitVar(yaccel)

[state 1205, HitVelSet]
type = HitVelSet
trigger1 = anim = 1205
trigger1 = animelem = 2
;x = 1
;y = 1

[state 1205, VelSet]
type = VelSet
trigger1 = anim = 1205
trigger1 = animelem = 2
x = -20
y = -9.5

[state 1205, VelAdd]
type = VelAdd;Gravity
trigger1 = animelemno(0) >= 2 && animelemno(8) <= 3
trigger1 = vel X < -3
x = 1.4 ;52

[state 1205, velset]
type = velset
trigger1 = animelem = 3, 9
x = -3

[state 1205, changestate]
type = changestate
trigger1 = anim = 1205
;rigger1 = animelem >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 1206

;-------------------------------------------------------------------------------
; Shattering Mirror Victim (liedown) - P2STATENO
; HIT_BOUNCE (hit ground)
[Statedef 1206]
type    = L
movetype= H
physics = N

[state haha]  ;target is ishelper, debug
type = nothitby
trigger1 = ishelper
value = SCA
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1206, Destroyself]; ---- unused, if ishelper debug
type = Destroyself
triggerall = isHelper
trigger1 = 1
ignorehitpause = 1

[state 1206, nothitby]
type = nothitby
trigger1 = time = [0,1]
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1206, VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 0

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime >= 0
value = 1207 ;5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air) - P2STATENO
[Statedef 1207]
type    = L
movetype= H
physics = N

[state haha]  ;target is ishelper, debug
type = nothitby
trigger1 = ishelper
value = SCA
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1207, Destroyself]; ---- unused, if ishelper debug
type = Destroyself
triggerall = isHelper
trigger1 = 1
ignorehitpause = 1

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;Shattering Mirror guard-break P2STATENO ----------------------------------------
; (also the Global ReversalDef common used P2STATENO)
[Statedef 1208]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1207, NotHitBy]; ---- Reversaled helper debug
type = NotHitBy
trigger1 = isHelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1207, RemoveExplod]; ---- Reversaled helper debug
type = RemoveExplod
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1207, DestroySelf]; ---- Reversaled helper debug
type = DestroySelf
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1207, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1208
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1207, ChangeAnim2]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
triggerall = pos Y < 0
trigger1 = time = 0
value = 5030
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1207, PosSet]
type = PosSet
trigger1 = pos Y >= 0
;x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 1207, PosAdd]
type = PosAdd
Trigger1 = time = [17,29]
x = -2.7 ;-3
ignorehitpause = 1

[State 1207, HitFallSet]
type = HitFallSet
trigger1 = pos Y < 0
value = 1
;xvel =
yvel = -4.5
ignorehitpause = 1
persistent = 0

[State 1207, SelfState]
type = SelfState
trigger1 = pos Y < 0
trigger1 = Time >= 35
value = 5030

[State 1207, SelfState]
type = SelfState
trigger1 = Time >= 35
value = 0
ctrl = 1

;===============================================================================
; Shattering Mirror (up)
[Statedef 1210]
type = S
ctrl = 0
anim = 1210
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(300*fvar(10))

[State 1210, HitBy] ;---- Shattering Mirror start invincible
type = HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 7, <0
value = SC, HA,NP,SP,HP,ST,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1210, HitBy] ;---- Shattering Mirror  invincible
type = HitBy
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <0
value = SC, NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1210]
type = PosFreeze
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 16, <0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1210, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

;Shattering Mirrow start "ring"
[State 1210]
type = playsnd
trigger1 = animelem = 6,=3
value = s8,8
channel = 4
ignorehitpause = 1

[State 1210]
type = Envshake
trigger1 = animelem = 8
time = 10
ampl = -5
freq = 120
phase = 120

[State 1210]
type = varset
trigger1 = time = 0
var(8) = 0

[State 1210]
type = varset
trigger1 = time = 0
var(9) = 0

[State 1210, HitDef]
type = HitDef
trigger1 = AnimElem = 7
;trigger2 = moveguarded >= 2
;trigger2 = AnimElem = 7, >=0
;trigger2 = AnimElem = 17, <0
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = AF    ;HLAFDP+-
guardflag = N    ;MHLA
getpower = floor(300*fvar(10)),floor(150*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Back    ;light,medium,hard,back,up,diagup
air.animtype = Back    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*fvar(3)),floor(5*fvar(3))
pausetime = 10,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
;sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 18    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 28    ;Defaults to guard.hittime
ground.hittime = 18    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 30        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -20,-9.5
guard.velocity = -12    ;Defaults to x_velocity of ground.velocity
air.velocity = -20,-9.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -12    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 1201
p2stateno = 1205
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = floor(100*fvar(3))
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 0
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 36
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.freq = 120
fall.envshake.ampl = -5
fall.envshake.phase = 120
;ignorehitpause =
;persistent =

;----Reversal function Removed. Given to Shattering Mirror of Betrayer (statedef 1400)
[State 1210, Repel]
type = null;ReversalDef
;triggerall = var(8) = 0
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <0
;trigger1 = ifelse((p2movetype = A),(time % 4 = [0,2]),(time % 2 = 0))
reversal.attr = A, NA, SA
priority = 6,hit
pausetime = 0,0
getpower = floor(500*fvar(10)),0
givepower = 15, 0
air.juggle = ifelse(var(32) = 0, 0, 30)
fall.damage = 200 ;210
numhits = 0
sparkno = -1
sparkxy = 100, -100
ground.velocity = -20, -9.5
air.velocity = -20, -9.5
guard.cornerpush.veloff = -10
guard.velocity = -10
fall.xvelocity = -3.272;72725105286
fall.yvelocity = -3.255;55985694885
yaccel = .51
p1stateno = 1201
p2stateno = 1205
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0

;----Unused, use hitdef instead of proj
[State 1210, 1]
type = null;Projectile
;triggerall = var(8) = 0
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <0
trigger1 = time%2=0
attr = A, SA
fall.damage = 200 ;210
animtype = Back
getpower = floor(500*fvar(10)),0
givepower = 15, 0
air.juggle = 0;30
priority = 6,hit
guardflag =
hitflag = SA
sparkno = -1
guard.sparkno = -1
pausetime = 0,0
sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -20, -9.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
guard.velocity = -10
yaccel = .51
air.velocity = -20, -9.5
p2stateno = 1205
p2facing = 1
fall = 1
fall.xvelocity = -3.272;72725105286
fall.yvelocity = -3.255;55985694885
fall.recover = 0
projID = 1212
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projpriority = 999
projanim = 1212
offset = 0,0
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0

;--------------------------
;Afterimage helper for mirrors
[State 1210, 1]
type = Helper
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
trigger1 = movecontact
ID = 1203
name = "mirror"
postype = p1
pos = 0,0
sprpriority = 3
stateno = 1203
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;Unused, use helper instead of explod
[State 1210, Explod]
type = null;Explod
trigger1 = var(8) = 1
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
anim  = 1211
postype = p1
pos = 0,0
ignorehitpause = 1
ownpal = 1
sprpriority = 3
bindtime = 1
scale = const(size.xscale), const(size.yscale)
;-----------------------------------

;hit sound
[State 1210]
type = playsnd
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
trigger1 = movehit
value=s0,11
channel = 3
persistent = 0
ignorehitpause = 1

[State 1210, Pause]
type = Pause
trigger1 = movehit = [1,10]
trigger1 = time%2=0
time = 1
movetime = 0
unhittable = 1
ignorehitpause = 0

;hit spark when target's not in air
[State 1210, Explod]
type = Explod
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
trigger1 = movehit
trigger1 = target, statetype != A
anim  = F3
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), (-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y))))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;hit spark when target's in air
[State 1210, Explod]
type = Explod
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
trigger1 = movehit
trigger1 = target, statetype = A
anim  = F3
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;guard spark
[State 1210, Explod]
type = Explod
trigger1 = AnimElem = 7, >=0
trigger1 = AnimElem = 16, <1
trigger1 = moveguarded
anim  = F42
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;[State 1210]
;type = changestate
;trigger1 = movehit
;value = 1201
;persistent = 0
;ignorehitpause = 1

[State 3000] ;Super Cancel from Shattering Mirror, targetstate
type = targetstate
triggerall = fvar(6) = 1
triggerall = movecontact
trigger1 = stateno = 1200
trigger1 = target,StateNo = 1205
trigger2 = stateno = 1210
trigger2 = target,StateNo = 1205
trigger3 = stateno = 1220
trigger3 = target,StateNo = 1225
trigger4 = stateno = 1220
trigger4 = target,StateNo = 1226
trigger5 = stateno = 1401
trigger5 = target,StateNo = 1205
value = 2003

[State 1210, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;===============================================================================
; Shattering Mirror (down)
[Statedef 1220]
type = S
ctrl = 0
anim = 1220
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(300*fvar(10))

[State 1200, HitBy] ;---- Shattering Mirror start invincible
type = HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 6, <0
value = SA, HA,NP,SP,HP,ST,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, HitBy] ;---- Shattering Mirror  invincible
type = HitBy
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
value = SA, NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1220]
type = PosFreeze
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 16, <0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1220, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

;Shattering Mirrow start "ring"
[State 1220]
type = playsnd
trigger1 = animelem = 5,=3
value = s8,8
channel = 4
ignorehitpause = 1

[State 1220]
type = Envshake
trigger1 = animelem = 6
time = 10
ampl = -5
freq = 120
phase = 120

[State 1220]
type = varset
trigger1 = time = 0
var(8) = 0

[State 1220]
type = varset
trigger1 = time = 0
var(9) = 0

[State 1220, HitDef]
type = HitDef
trigger1 = AnimElem = 6
;trigger2 = moveguarded >= 2
;trigger2 = AnimElem = 6, >=0
;trigger2 = AnimElem = 17, <0
attr = C,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA    ;HLAFDP+-
guardflag = L    ;MHLA
getpower = floor(300*fvar(10)),floor(150*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Back    ;light,medium,hard,back,up,diagup
air.animtype = Back    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*fvar(3)),floor(5*fvar(3))
pausetime = 10,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
;sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 18    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 28    ;Defaults to guard.hittime
ground.hittime = 18    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 30        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -20,-9.5
guard.velocity = -12    ;Defaults to x_velocity of ground.velocity
air.velocity = -20,-9.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -12    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 1201
p2stateno = 1225 + (EnemyNear(floor(fvar(36))),statetype != A)
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = floor(100*fvar(3))
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 0
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 36
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.freq = 120
fall.envshake.ampl = -5
fall.envshake.phase = 120
;ignorehitpause =
;persistent =

;----Reversal function Removed. Given to Shattering Mirror of Betrayer (statedef 1400)
[State 1220, Repel]
type = null;ReversalDef
;triggerall = var(8) = 0
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
;trigger1 = ifelse((p2movetype = A),(time % 4 = [0,2]),(time % 2 = 0))
reversal.attr = C, NA, SA
priority = 6,hit
pausetime = 0,0
getpower = floor(500*fvar(10)),0
givepower = 15, 0
air.juggle = ifelse(var(32) = 0, 0, 30)
fall.damage = 200 ;210
numhits = 0
sparkno = -1
sparkxy = 100, -100
ground.velocity = -20, -9.5
guard.cornerpush.veloff = -10
guard.velocity = -10
air.velocity = -20, -9.5
fall.xvelocity = -3.272;72725105286
fall.yvelocity = -3.255;55985694885
yaccel = .51
p1stateno = 1201
;p2stateno = 1205 + (20 * (enemy, statetype = A))
p2stateno = 1225 + (EnemyNear(floor(fvar(36))), statetype != A)
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0

;----Unused, use hitdef instead of proj
[State 1220, 1]
type = null;Projectile
;triggerall = var(8) = 0
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <0
trigger1 = time%2=0
attr = S, SA
fall.damage = 200 ;210
animtype = Back
getpower = floor(500*fvar(10)),0
givepower = 15, 0
priority = 6,hit
air.juggle = 0;30
guardflag = L
hitflag = MA
sparkno = -1
guard.sparkno = -1
pausetime = 0,0
sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -20, -9.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
guard.velocity = -10
yaccel = .51
air.velocity = -20, -9.5
p2stateno = 1225 + (EnemyNear(floor(fvar(36))), statetype != A)
p2facing = 1
fall = 1
fall.xvelocity = -3.272;72725105286
fall.yvelocity = -3.255;55985694885
fall.recover = 0
projID = 1223
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projpriority = 999
projanim = 1223
offset = 0,0
fall.envshake.time = 10
fall.envshake.freq = 60
fall.envshake.ampl = -6
fall.envshake.phase = 0

;--------------------------
;Afterimage helper for mirrors
[State 1220,1]
type = Helper
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = movecontact
trigger1 = target, stateno = 1225
;trigger1 = target, statetype = A
ID = 1204
name = "mirror"
postype = p1
pos = ifelse((target, statetype != A), 70, 0),0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 1204
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;Afterimage helper for mirrors
[State 1220,1]
type = Helper
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = movecontact
trigger1 = target, stateno != 1225
;trigger1 = target, statetype != A
ID = 1204
name = "mirror"
postype = p1
pos = ifelse((target, statetype != A), 70, 0),0
sprpriority = ifelse((target, statetype != A), -3, 3)
stateno = 12040
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;Unused, use helper instead of explod
[State 1220, Explod]
type = null;Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = var(8) = 1
anim  = 1221 + (target, statetype != A)
postype = p1
pos = ifelse((target, statetype != A), 70, 0),0
ignorehitpause = 1
ownpal = 1
sprpriority = ifelse((target, statetype != A), -3, 3)
bindtime = 1
scale = const(size.xscale), const(size.yscale)
;--------------------------------

;hit sound
[State 1220]
type = playsnd
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = movehit
value=s0,11
channel = 3
persistent = 0
ignorehitpause = 1

[State 1220, Pause]
type = Pause
trigger1 = movehit = [1,10]
trigger1 = time%2=0
time = 1
movetime = 0
unhittable = 1
ignorehitpause = 0

;hit spark when target's not in air
[State 1220, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = movehit
trigger1 = target, statetype != A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), (-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y))))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;hit spark when target's in air
[State 1220, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = movehit
trigger1 = target, statetype = A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;guard spark
[State 1220, Explod]
type = Explod
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 16, <=1
trigger1 = moveguarded
anim  = F40
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;[State 1220]
;type = changestate
;trigger1 = movehit
;value = 1201
;persistent = 0
;ignorehitpause = 1

[State 3000] ;Super Cancel from Shattering Mirror, targetstate
type = targetstate
triggerall = fvar(6) = 1
triggerall = movecontact
trigger1 = stateno = 1200
trigger1 = target,StateNo = 1205
trigger2 = stateno = 1210
trigger2 = target,StateNo = 1205
trigger3 = stateno = 1220
trigger3 = target,StateNo = 1225
trigger4 = stateno = 1220
trigger4 = target,StateNo = 1226
trigger5 = stateno = 1401
trigger5 = target,StateNo = 1205
value = 2003

[State 1220]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Shattering Mirror Victim For Lower Version
[Statedef 1225]
type = A
ctrl = 0
velset = 0,0
movetype = H
physics = N

[state 1225, Destroyself]; ---- unused, if ishelper debug
type = NULL;Destroyself
triggerall = isHelper
trigger1 = 1
ignorehitpause = 1

[state 1225, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1225]
type = changeanim2
trigger1 = 1
value = 1205
persistent = 0
ignorehitpause = 1

[state 1225]
type = posfreeze
trigger1 = anim = 1205
trigger1 = animelemno(0) = 1
ignorehitpause = 1

[state 1225]
type = posadd
trigger1 = animelem = 1,13
trigger2 = animelem = 1,26
x = -2
y = 4 + (animelem = 1,26)

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = animelemno(0) >= 2;3
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = anim = 1205
trigger1 = animelem = 2
;x = 1
;y = 1

[State 5030, 2]
type = VelSet
trigger1 = anim = 1205
trigger1 = animelem = 2
x = -20
y = 15.5

;[State 5030, 1]
;type = VelAdd;Gravity
;trigger1 = animelemno(0) >= 2 && animelemno(8) <= 3
;trigger1 = vel X < -3
;x = 1.4 ;52

;[state 1225]
;type = velset
;trigger1 = animelem = 3, 9
;x = -3

[state 1225, EnvShake]
type = EnvShake
trigger1 = anim = 1205
;rigger1 = animelem >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
time = 15
ampl = -4
freq = 120
phase = 120

[state 1225, changestate]
type = changestate
trigger1 = anim = 1205
;rigger1 = animelem >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 1206

;-------------------------------------------------------------------------------
; Shattering Mirror Victim (Upwards)
[Statedef 1226]
type = A
ctrl = 0
velset = 0,0
movetype = H
physics = N

[state 1226, Destroyself]; ---- unused, if ishelper debug
type = NULL;Destroyself
triggerall = isHelper
trigger1 = 1
ignorehitpause = 1

[state 1226, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1226]
type = changeanim2
trigger1 = 1
value = 1206
persistent = 0
ignorehitpause = 1

[state 1226]
type = posfreeze
trigger1 = anim = 1206
trigger1 = animelemno(0) = 1
ignorehitpause = 1

[state 1226]
type = posadd
trigger1 = animelem = 1,13
trigger2 = animelem = 1,26
x = -2
y = -4 + (animelem = 1,26)

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = animelemno(0) >= 3
y = .745 ;GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = anim = 1206
trigger1 = animelem = 3
;x = 1
;y = 1

[State 5030, 2]
type = VelSet
trigger1 = anim = 1206
trigger1 = animelem = 3
x = -1.2 ;20
y = -12 ;15.5

;[State 5030, 1]
;type = VelAdd;Gravity
;trigger1 = animelemno(0) >= 2 && animelemno(8) <= 3
;trigger1 = vel X < -3
;x = 1.4 ;52

;[state 1226]
;type = velset
;trigger1 = animelem = 3, 9
;x = -3

[state 1226, EnvShake]
type = EnvShake
trigger1 = anim = 1206
;rigger1 = animelem >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
time = 15
ampl = -4
freq = 120
phase = 120

[state 1226, changestate]
type = changestate
trigger1 = anim = 1206
;rigger1 = animelem >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 1206


;===============================================================================
; Reflector
[Statedef 1300]
type = S
ctrl = 0
anim = 1300  ;1300 + (2 * (var(32) != [1,2]))
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(125*fvar(10))

[State 1300, HitBy]
type = HitBy
trigger1 = time = [0,1]
value = SCA,AA,AT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1300, HitBy]
type = HitBy
trigger1 = time > 1
value = SCA,AA,AT,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1300, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

[state 1300, Reflector Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
id = 1310
name = "Reflector Helper"
pos = 0,0 ;ceil(66 * const(size.xscale)),0
postype = p1
stateno = 1310
facing = 1
keyctrl = 0
ownpal = 1

[state 1300, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------------------------
; Reflector Helper
[Statedef 1310]
type = S
ctrl = 0
anim = 1312
velset = 0,0
movetype = A
physics = S
sprpriority = 2

[State 1310, Override]
type = HitOverride
trigger1 = 1
attr = SCA, NA,SA,HA,NT,ST,HT,NP,SP,HP,AA,AT,AP
slot = 0
stateno = 1314
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1310, HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1310, playsnd]
type = playsnd
;trigger1 = var(32) != [1,6]
trigger1 = time = 0
value = s8,1 ;s8,14 s0,35
channel = 6

[State 1310, ReversalDef against hitdef]; ---- disabled for balance, using hitoverride against hitdef
type  = ReversalDef
trigger1 = 1
reversal.attr = SCA, NP,SP
hitflag = HLMAFDP  ;<--------DO NOT change this, otherwise it will cause BUG !!
pausetime     = 0,2 ;30 ;  60
getpower = 0,0
givepower = 0,0
p1stateno     = 1314
p2stateno     = 1316
priority = 999, hit
numhits = 0
sparkno = -1
ignorehitpause = 1
;trigger1 = ifelse(time < 15, ((root, var(32) != [1,8]) && Time % 1 = 0), 1)
;trigger1 = root, var(32) = [1,8]


[State 1310, Destroyself]
type = Destroyself
trigger1 = animtime = 0
;trigger2 = root, movetype = H
;trigger2 = root, stateno != [120, 159]

;-------------------------------------------------------------------------------
; Success Reflecting, Summons Reflector Helper React State, P1STATENO
[Statedef 1314]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = A
physics = N
sprpriority = -9
poweradd = floor(125*(root,fvar(10)))

[State 1314, notHitBy]
type = notHitBy
trigger1 = 1
value = SCA, AA,AT,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1314, Reflector Helper React]
type = Helper
trigger1 = 1
helpertype = normal
id = 1315
name = "Reflector Helper React"
pos = 0,0 ;ceil(66 * const(size.xscale)),0
postype = p1
stateno = 1315
facing = 1
keyctrl = 0
ownpal = 1
persistent = 0

[State 1314, Destroyself]
type = Destroyself
trigger1 = time >= 3

;-------------------------------------------------------------------------------
; Reflector Helper React State
[Statedef 1315]
type = S
ctrl = 0
anim = 1315
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[State 1315, notHitBy]
type = notHitBy
trigger1 = 1
value = SCA, AA,AT,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1315, bindtoparent]
type = bindtoparent
triggerall = parent,ishelper
trigger1 = time = 0
time = 1
;facing = 0
pos = 0,0
ignorehitpause = 1

[State 1315, Reflector Helper React Recreate]
type = Helper
triggerall = NumHelper(1315)+NumHelper(1320)<=2
;triggerall = NumHelper(1315)+NumProjID(1315)<=2
trigger1 = time = 0
helpertype = normal
id = 1310
name = "Reflector Helper React Recreate"
pos = 0,0 ;ceil(66 * const(size.xscale)),0
postype = p1
stateno = 1310
facing = 1
keyctrl = 0
ownpal = 1

[State 1315, parentvarset]; ---- here should actually be "root-varset" but no this function
type = NULL;parentvarset
trigger1 = time = 0
var(26) = 13
ignorehitpause = 1

[State 1315, assertspecial]
type = assertspecial
trigger1 = animelem = 2, 0
flag = nobg
flag2 = nofg

[State 1315, EnvColor]
type     = EnvColor
Trigger1 = animelem = 2, 0
value    = 255,255,255
time     = 3
under    = 1

[State 1315]
type = playsnd
trigger1 = animelem = 2,0
value = s0,24
channel = 3

[State 1315]
type = playsnd
trigger1 = animelem = 17,0
value = s0,31
channel = 3

[State 1315, velset]
type = velset
trigger1 = animelem = 17,3
x = 7

[State 1315, Reflector Proj]
type = Helper
trigger1 = animelem = 17,3
helpertype = normal
id = 1320
name = "Reflector Proj"
stateno = 1320
pos = ceil(66 * const(size.xscale)),0
postype = p1
ownpal = 1
sprpriority = 3
ignorehitpause = 1

[state 1315, destroyself]
type = destroyself
trigger1 = frontedgedist < -100
trigger2 = time >= 55
;trigger1 = animtime = 0 ;animelem = 18 && numproj = 0 ;&& numtarget = 0;time = 0
;trigger2 = animelem = 18 && numproj = 0 && numtarget = 1;time = 0
;trigger2 = root, movetype = H && root, var(32) != 0
;trigger2 = (root, stateno != [120, 159]) && root, var(32) != 0

;-------------------------------------------------------------------------------
; Reflector Victim P2STATENO
[Statedef 1316]
type = A
ctrl = 0
velset = 0,0
movetype = I
physics = S

[state 1316]; ---- blank
type = changeanim2
trigger1 = time = 0
value = 9998
ignorehitpause = 1

[state 1316, nothitby]; ---- Reversaled helper debug
type = nothitby
trigger1 = isHelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1316, RemoveExplod]; ---- Reversaled helper debug
type = RemoveExplod
trigger1 = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1316, destroyself]; ---- Reversaled helper debug
type = destroyself
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1316, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1
ignorehitpause = 1
persistent = 0

[state 1316, selfstate]
type = selfstate
trigger1 = !isHelper
value = 5030
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

;-------------------------------------------------------------------------------
; Reflector negate
[Statedef 1317]
type = U
ctrl = 0
velset = 0,0
movetype = U
physics = U
sprpriority = 2

[state 1317, destroyself]
type = destroyself
trigger1 = 1 ;animtime = 0

;*******************************************************************************
;Reflector Proj helper
[Statedef 1320]
type    = A
physics = N
movetype= A
anim = 1320
ctrl = 0
velset = 12,0
juggle = 0
sprpriority = 3

[state 1320, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1320, Override]
type = HitOverride
trigger1 = 1
attr = SCA, NA,SA,HA,NT,ST,HT,NP,SP,HP,AA,AT,AP
slot = 0
stateno = 2502
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[state 1320, HitDef]
type = HitDef
trigger1 = time >= 0
trigger1 = !movecontact
attr = S, HP
damage = floor(50*root,fvar(3)),floor(5*root,fvar(3))
priority = 7, hit
animtype = DiagUp
getpower = floor(200*root,fvar(10)),0
givepower = 15, 0
hitflag = MAF
guardflag = M
pausetime = 0,13
guard.pausetime = 0,13
sparkno = 3
guard.sparkno = 42
sparkxy = ceil(14 * const(size.xscale)), ceil(-78 * const(size.yscale))
hitsound = s0,5
guardsound = s0,21
ground.type = high
ground.slidetime = 10
guard.slidetime = 20
ground.hittime = 25
ground.velocity = -6,-9
id = 1320
air.velocity = -6,-9
air.juggle = 2
fall = 1
fall.xvelocity = -3.27;272725105286
fall.yvelocity = -3.25;555985694885
fall.recover = 0
air.fall = 1
air.fall.recover = 0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 0

[State 1320, explod]
type = explod
trigger1 = movehit
trigger2 = moveguarded
pos = 0,0
anim = 1326;1325
sprpriority = 7
velocity = 0,0
ignorehitpause = 1
ownpal = 1
persistent = 0

[State 1320, Destroyself]
type = Destroyself
trigger1 = FrontEdgeDist < -50
trigger2 = movehit
trigger3 = moveguarded

;===============================================================================
; Shattering Mirror of Betrayer
[Statedef 1400]
type = S
ctrl = 0
anim = 1400
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(300*fvar(10))

[State 1400, HitBy]
type = NULL;HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 3, <0
value = SCA,NA,SA,HA,AA,NT,ST,HT,AT,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1400, HitBy]; ---- completely invincible to physical attacks
type = HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 6, <0
value = SCA,NT,ST,HT,AT,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1400, Helper]; ---- Shattering Mirror of Betrayer physical reversaldef helper
type = null;Helper
trigger1 = Animelem = 1
ID = 1405
name = "Shattering Mirror of Betrayer physical reversaldef helper"
postype = p1
pos = 0,0
;attar = S,SP
facing = 1
sprpriority = 1
stateno = 1405
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1400, ReversalDef]
type = ReversalDef
trigger1 = animelem = 1, >=0
trigger1 = animelem = 6, <0
reversal.attr = SCA, NA,SA,HA
hitflag =  HLMAFD
getpower = floor(500*fvar(10)),0
pausetime = 0,5
sparkno = -1
;sparkxy = 23,-59
hitsound = S0,21
priority = 999,hit
numhits = 0
p1stateno = 1401
p2stateno = 1404
ignorehitpause = 1

[State 1400, VarSet]
type = VarSet
trigger1 = time = [0,8]
v = 6
value = 250-time*18
ignorehitpause = 1

[State 1400, VarSet]
type = VarSet
trigger1 = time = [9,28]
v = 6
value = 105
ignorehitpause = 1

[State 1400, VarSet]
type = VarSet
triggerall = 105+(time-28)*18 <= 256
trigger1 = time = [29,38]
v = 6
value = 105+(time-28)*18
ignorehitpause = 1

[State 1400, BGPalFX]
Type = BGPalFX
trigger1 = 1
Mul = var(6),var(6),var(6)
Time = 1
ignorehitpause = 1

;[State 1400, BGPalFX]
;Type = BGPalFX
;trigger1 = time = [0,8]
;Mul = 250-time*18,250-time*18,250-time*18
;Time = 1

;[State 1400, BGPalFX]
;Type = BGPalFX
;trigger1 = time = [9,28]
;Mul = 105,105,105
;Time = 1

;[State 1400, BGPalFX]
;Type = BGPalFX
;triggerall = 105+(time-28)*18 <= 256
;trigger1 = time = [29,38]
;Mul = 105+(time-28)*18,105+(time-28)*18,105+(time-28)*18
;Time = 1

[State 1400, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Shattering Mirror of Betrayer (forward)
[Statedef 1401]
type = S
ctrl = 0
anim = 1401
velset = 0,0
movetype = A
physics = S
sprpriority = 2
poweradd = floor(300*fvar(10))

[state 1401, hitby]
type = hitby
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <0
value = SCA,NT,ST,HT,AT,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1401, PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1401, Pause]
type = Pause
trigger1 = projhit1401 = 1, <=10
trigger1 = time%2=0
time = 1
movetime = 0
unhittable = 1
ignorehitpause = 1

[State 1401, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

[State 1400, ReversalDef]
type = ReversalDef
trigger1 = animelem = 1, >=0
trigger1 = animelem = 10, <0
reversal.attr = SCA, NA,SA,HA
hitflag =  HLMAFD
getpower = floor(500*fvar(10)),0
pausetime = 0,5
sparkno = -1
;sparkxy = 23,-59
hitsound = S0,21
priority = 999,hit
numhits = 0
;p1stateno = 1401
p2stateno = 1404
ignorehitpause = 1

[State 1401, Projectile]
type = Projectile
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <0
trigger1 = time%5=0
attr = S, SA
damage = floor(50*fvar(3)),floor(5*fvar(3))
fall.damage = floor(100*fvar(3))
kill = 0
fall.kill = 1
animtype = Back
getpower = floor(100*fvar(10)),floor(50*fvar(10))
;givepower =
priority = 6,hit
air.juggle = 0;30
guardflag = M
hitflag = MAF
sparkno = -1
guard.sparkno = -1
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -20, -9.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
guard.velocity = -10
yaccel = .5
air.velocity = -20, -9.5
p2stateno = 1205
p2facing = 1
fall = 1
fall.xvelocity = -3.27;272725105286
fall.yvelocity = -3.25;555985694885
fall.recover = 0
id = 1401
nochainID = 1405
projID = 1401
projremove = 0
Projremovetime = 5
projhits = 1
projremanim = -1
projpriority = 5
projanim = 1402
offset = 0,0
palfx.time = 36
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 5
envshake.ampl = -5
envshake.freq = 120
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.ampl = -5
fall.envshake.freq = 120
fall.envshake.phase = 120

;-------------------------------
;Afterimage helper for mirrors
[State 1401, Helper]
type = Helper
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projcontact1401 = 1
ID = 1402
name = "mirror"
postype = p1
pos = 0,55
sprpriority = 3
stateno = 1402
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;Afterimage helper for mirrors
[State 1401, Helper]
type = Helper
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projcontact1401 = 1
ID = 1403
name = "mirror"
postype = p1
pos = 0,-55
sprpriority = 3
stateno = 1403
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;---------------------------------

;hit sound
[State 1401, playsnd]
type = playsnd
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projhit1401 = 1
value=s0,11
channel = 3

;hit spark when target's not in air
[State 1401, Explod]
type = Explod
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projhit1401 = 1
trigger1 = target, statetype != A
anim  = F3
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), (-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y))))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1

;hit spark when target's in air
[State 1401, Explod]
type = Explod
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projhit1401 = 1
trigger1 = target, statetype = A
anim  = F3
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1

;guard spark
[State 1401, Explod]
type = Explod
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 12, <1
trigger1 = projguarded1401 = 1
anim  = F42
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1

[State 3000] ;Super Cancel from Shattering Mirror, targetstate
type = targetstate
triggerall = fvar(6) = 1
triggerall = movecontact
trigger1 = stateno = 1200
trigger1 = target,StateNo = 1205
trigger2 = stateno = 1210
trigger2 = target,StateNo = 1205
trigger3 = stateno = 1220
trigger3 = target,StateNo = 1225
trigger4 = stateno = 1220
trigger4 = target,StateNo = 1226
trigger5 = stateno = 1401
trigger5 = target,StateNo = 1205
value = 2003

[State 1401, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Shattering Mirror up - Explod afterimage helper
[Statedef 1402]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1403
sprpriority = 3

[State 1402, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 1401, BGPalFX]
type = BGPalFX
trigger1 = time = [1,12]
Mul = 50,50,50
time = 1
ignorehitpause = 1

[State 1043, EnvColor]
type = EnvColor
trigger1 = time = 13
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[state 1402, assertspecial]
type = assertspecial
trigger1 = time = 14
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[state 1402, playsnd]
type = playsnd
trigger1 = time = 13
value = s0,14
ignorehitpause = 1

[state 1402, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Shattering Mirror down when p2's not in air - Explod afterimage helper
[Statedef 1403]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = N
anim = 1404
sprpriority = 3

[State 1403, explod Afterimage]
type = Afterimage
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 1401, BGPalFX]
type = BGPalFX
trigger1 = time = [1,12]
Mul = 50,50,50
time = 1
ignorehitpause = 1

[State 1043, EnvColor]
type = EnvColor
trigger1 = time = 13
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[state 1402, assertspecial]
type = assertspecial
trigger1 = time = 14
flag = nobg
flag2 = nofg
ignorehitpause = 1

;Mirrow shattering sound
[state 1402, playsnd]
type = playsnd
trigger1 = time = 13
value = s0,14
ignorehitpause = 1

[state 1403, destroyself]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Reflector Victim, destroy enemy's any hitdef helpers/explod (shared by lv1 and lv2)
[Statedef 1404]
type = U
ctrl = 0
velset = 0,0
movetype = H
physics = U

[state 1404, nothitby]; ---- reversaled target is ishelper, debug
type = nothitby
trigger1 = ishelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1404, RemoveExplod]; ---- reversaled target is ishelper, debug
type = RemoveExplod
triggerall = ishelper
trigger1 = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[state 1404, destroyself]; ---- reversaled target is ishelper, debug
type = destroyself
triggerall = ishelper
trigger1 = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1404, PosAdd]; ---- Let the Reversal Mirror of Betrayer successfully hit
type = PosAdd
trigger1 = p2bodydist X > 20
x = p2bodydist X - 20
ignorehitpause = 1
persistent = 1

[State 1404, Changestate]
type = Changestate
trigger1 = !ishelper
value = 1406
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

;-------------------------------------------------------------------------------
; Shattering Mirror of Betrayer physical reversaldef helper
[Statedef 1405]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1405
sprpriority = 1

[State 1405, ReversalDef]; ---- counter all physical moves
type = ReversalDef
trigger1 = parent,movetype=H
reversal.attr = SCA,NA,SA,HA   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = MA  ;HLMAFDP
numhits = 0
sparkno = -1 ;40
;sparkxy = 23,0
hitsound = S8,10
;p1stateno =
p2stateno = 1406
;p2facing =
guard.dist = 0
ignorehitpause = 1
;persistent =
pausetime = 0,0
palfx.time = 14
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
id = 1405
getpower = 0,0

[State 1405, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 1400
trigger1 = parent,animelem = 3, >=1
;*********************
trigger2 = parent,stateno != 1400
trigger2 = time >= 6

;Shattering Mirror of Betrayer reversal fail P2STATENO -------------------------
[Statedef 1406]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1406, EnvColor]
type     = EnvColor
Trigger1 = 1
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1
persistent = 0

[State 1406, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1406
ignorehitpause = 1

[State 1406, ChangeAnim2]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
triggerall = pos Y < 0
trigger1 = time = 0
value = 5030
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1406, NotHitBy]; ---- Reversaled helper debug
type = NotHitBy
trigger1 = isHelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1406, RemoveExplod]; ---- Reversaled helper debug
type = RemoveExplod
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1406, DestroySelf]; ---- Reversaled helper debug
type = DestroySelf
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1406, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos Y >= 0
y = 0
ignorehitpause = 1

[State 1406, PosAdd]
type = PosAdd
Trigger1 = time = [2,12]
x = -2
ignorehitpause = 1

[State 1406, HitFallSet]
type = NULL;HitFallSet
trigger1 = time = 0
trigger1 = pos Y < 0
value = 1
;xvel =
yvel = -4.5
ignorehitpause = 1
persistent = 0

[State 1406, SelfState]
type = SelfState
trigger1 = pos Y < 0
trigger1 = Time >= 16
value = 5030

[State 1406, SelfState]
type = SelfState
trigger1 = Time >= 16
value = 0
ctrl = 1

;===============================================================================
; Fakeout ???
;[Statedef 1500]
;type = S
;ctrl = 0
;anim = 1500
;velset = 0,0
;movetype = A
;physics = S
;sprpriority = 2

;[state haha]
;type = changestate
;trigger1 = animtime = 0
;value = 0
;ctrl = 1


;===============================================================================
; Ultimate Striker Summon (The Hakkesshu)

;-------------------------------------------------------------------------------
; Striker Summon - Chris
[Statedef 1600]
type    = S
physics = S
movetype = I
anim = 1600
velset = 0,0
ctrl = 0

[State 1600, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, Afterimage]
type = NULL;Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1600, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1600, VarSet]; ---- fvar(11) Trans changing
type = VarSet
trigger1 = 1
fvar(11) = 256
persistent = 0

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
triggerall = floor(fvar(11)) = [0,256]
triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
fvar(11) = -8

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
;triggerall = floor(fvar(11)) = [0,256]
;triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
fvar(11) = 5

[State 1600, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(11)),256-floor(fvar(11))
ignorehitpause = 1
;persistent =

[State 1600, Helper]; ---- Chris
type = Helper
triggerall = !numhelper(1610)
trigger1 = animelem = 14
ID = 1610
name = "Chris"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1610
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;********************************time stop all summon in one call start
[State 1600, Helper]; ---- Chris
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1610)
trigger1 = animelem = 14
ID = 1610
name = "Chris"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1610
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1601, Helper]; ---- Shermie
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1630)
trigger1 = animelem = 9
ID = 1630
name = "Shermie"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1630
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1602, Helper]; ---- Yashiro
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1650)
trigger1 = animelem = 9
ID = 1650
name = "Yashiro"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1650
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1603, Helper]; ---- Goenitz
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1670)
trigger1 = animelem = 9
ID = 1670
name = "Goenitz"
sprpriority = 3
pos = -330,0
postype = p2 ;back
facing = 1
stateno = 1670
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;********************************time stop all summon in one call end


[State 1600, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,8
channel = 0

[State 1600, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Striker Summon - Shermie
[Statedef 1601]
type    = S
physics = S
movetype = I
anim = 1600
velset = 0,0
ctrl = 0

[State 1600, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1601, Afterimage]
type = null;Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1601, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1600, VarSet]; ---- fvar(11) Trans changing
type = VarSet
trigger1 = 1
fvar(11) = 256
persistent = 0

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
triggerall = floor(fvar(11)) = [0,256]
triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
fvar(11) = -8

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
;triggerall = floor(fvar(11)) = [0,256]
;triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
fvar(11) = 5

[State 1600, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(11)),256-floor(fvar(11))
ignorehitpause = 1
;persistent =

[State 1601, Helper]; ---- Shermie
type = Helper
triggerall = !numhelper(1630)
trigger1 = animelem = 9
ID = 1630
name = "Shermie"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1630
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;********************************time stop all summon in one call start
[State 1600, Helper]; ---- Chris
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1610)
trigger1 = animelem = 14
ID = 1610
name = "Chris"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1610
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1601, Helper]; ---- Shermie
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1630)
trigger1 = animelem = 9
ID = 1630
name = "Shermie"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1630
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1602, Helper]; ---- Yashiro
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1650)
trigger1 = animelem = 9
ID = 1650
name = "Yashiro"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1650
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1603, Helper]; ---- Goenitz
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1670)
trigger1 = animelem = 9
ID = 1670
name = "Goenitz"
sprpriority = 3
pos = -330,0
postype = p2 ;back
facing = 1
stateno = 1670
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;********************************time stop all summon in one call end

[State 1601, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,8
channel = 0

[State 1601, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
; Striker Summon - Yashiro
[Statedef 1602]
type    = S
physics = S
movetype = I
anim = 1600
velset = 0,0
ctrl = 0

[State 1600, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1602, Afterimage]
type = null;Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1602, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1600, VarSet]; ---- fvar(11) Trans changing
type = VarSet
trigger1 = 1
fvar(11) = 256
persistent = 0

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
triggerall = floor(fvar(11)) = [0,256]
triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
fvar(11) = -8

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
;triggerall = floor(fvar(11)) = [0,256]
;triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
fvar(11) = 5

[State 1600, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(11)),256-floor(fvar(11))
ignorehitpause = 1
;persistent =

[State 1602, Helper]; ---- Yashiro
type = Helper
triggerall = !numhelper(1650)
trigger1 = animelem = 9
ID = 1650
name = "Yashiro"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1650
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;********************************time stop all summon in one call start
[State 1600, Helper]; ---- Chris
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1610)
trigger1 = animelem = 14
ID = 1610
name = "Chris"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1610
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1601, Helper]; ---- Shermie
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1630)
trigger1 = animelem = 9
ID = 1630
name = "Shermie"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1630
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1602, Helper]; ---- Yashiro
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1650)
trigger1 = animelem = 9
ID = 1650
name = "Yashiro"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1650
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1603, Helper]; ---- Goenitz
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1670)
trigger1 = animelem = 9
ID = 1670
name = "Goenitz"
sprpriority = 3
pos = -330,0
postype = p2 ;back
facing = 1
stateno = 1670
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;********************************time stop all summon in one call end

[State 1602, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,8
channel = 0

[State 1602, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Striker Summon - Goenitz
[Statedef 1603]
type    = S
physics = S
movetype = I
anim = 1600
velset = 0,0
ctrl = 0

[State 1600, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1600, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1603, Afterimage]
type = NULL;Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1603, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1600
trigger2 = stateno = 1601
trigger3 = stateno = 1602
trigger4 = stateno = 1603
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1600, VarSet]; ---- fvar(11) Trans changing
type = VarSet
trigger1 = 1
fvar(11) = 256
persistent = 0

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
triggerall = floor(fvar(11)) = [0,256]
triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
fvar(11) = -8

[State 1600, VarAdd]; ---- fvar(11) Trans changing
type = VarAdd
;triggerall = floor(fvar(11)) = [0,256]
;triggerall = (256-floor(fvar(11))) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
fvar(11) = 5

[State 1600, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(11)),256-floor(fvar(11))
ignorehitpause = 1
;persistent =

[State 1603, Helper]; ---- Goenitz
type = Helper
triggerall = !numhelper(1670)
trigger1 = animelem = 9
ID = 1670
name = "Goenitz"
sprpriority = 3
pos = -330,0
postype = p2 ;back
facing = 1
stateno = 1670
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

;********************************time stop all summon in one call start
[State 1600, Helper]; ---- Chris
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1610)
trigger1 = animelem = 14
ID = 1610
name = "Chris"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1610
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1601, Helper]; ---- Shermie
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1630)
trigger1 = animelem = 9
ID = 1630
name = "Shermie"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1630
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1602, Helper]; ---- Yashiro
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1650)
trigger1 = animelem = 9
ID = 1650
name = "Yashiro"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1650
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1603, Helper]; ---- Goenitz
type = Helper
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = fvar(6) = 1
triggerall = !numhelper(1670)
trigger1 = animelem = 9
ID = 1670
name = "Goenitz"
sprpriority = 3
pos = -330,0
postype = p2 ;back
facing = 1
stateno = 1670
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;********************************time stop all summon in one call end

[State 1603, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,8
channel = 0

[State 1603, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;===============================================================================
;Daichi o Harau Gouka
;Striker Chris jump down ---------------------------------------------------
[Statedef 1610]
type = A
movetype = A
physics = N
anim = 1610
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1618
ignorehitpause =  1
persistent = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = 12
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1611

;Striker Chris land --------------------------------------------------------
[Statedef 1611]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1611

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1618
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1611, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1611, ChangeState];turn if necessary
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1622

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1612

;Striker Chris land turn if necessary-------------------------------------------
[Statedef 1622]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1609

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1618
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1612

;Striker Chris attack ------------------------------------------------------
[Statedef 1612]
type = S
movetype = A
physics = S
anim = 1612
velset = 0
sprpriority = 2
ctrl = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1618
ignorehitpause =  1
persistent = 0

[State 1232, HitBy]; ---- start invincible
type = HitBy
trigger1 = 1
value = SCA,SA,HA,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 8000, 6]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3,0
channel = 20

[State 8000, 8]
type = PosAdd
trigger1 = AnimElem = 4
x = 8

[State 8000, 9]
type = Explod
trigger1 = AnimElem = 5,=1
anim = 1620
id = 1620
sprpriority = 3
postype = p1
pos = 0,0
bindtime = 1

[State 8000, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 1613

;Striker Chris attack dash-----------------------------------------------------
;DM Daichi o harau gouka (slide)
[Statedef 1613]
type = S
movetype = A
physics = S
anim = 1613
sprpriority = 2

[State 1610, NotHitBy]
type = HitBy
trigger1 = time < 17
value = SCA,SA,HA,AA,NT,ST,HT,AT,HP
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = time >= 17
value = SCA
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1618
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 8005, 1]
type = VelSet
trigger1 = Time > 0
x = 8

[State 8005, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 8005, 3]
type = Explod
trigger1 = ((Time + 8) % 8) = 0
anim = 1621
ID = 1621
sprpriority = 3
postype = p1
pos = 0,0
shadow = 68,68,68
bindtime = -1
ignorehitpause = 1

[State 8005, 4]
type = Explod
trigger1 = ((Time + 12) % 12) = 0
anim = 1622
ID = 1622
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
ignorehitpause = 1

[State 0, Projectile]
type = Projectile
triggerall = !root,numprojID(1629)
trigger1 = AnimElem = 1
trigger2 = root,projGuarded1629 = 1
trigger2 = ((Time + 4) % 4) = 0
ProjID = 1629
projanim = 1629   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 16    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 8,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 9    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HA   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*root,fvar(3)),floor(5*root,fvar(3))
pausetime = 0,12
;guard.pause ,0
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-80
hitsound = S3,1
guardsound = S0,21
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 16   ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 16    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -4,-8
guard.velocity = -7    ;Defaults to x_velocity of ground.velocity
air.velocity = -3,-7    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 40
;palfx.mul = 0,0,0
palfx.add = 80,14,255
palfx.sinadd = 40,7,128,10
palfx.invertall = 1
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

;------------------------------------
[State 8005, 9]
type = Explod
;trigger1 = root,projHit1629 = 1
trigger1 = !root,numprojID(1629)
trigger1 = NumExplod(1623) <= 1
;trigger1 = Random < 250
anim = 1623
ID = 1623
sprpriority = 5
postype = p1
pos = 110,-50
random = 100,100
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 8005, 10]
type = Explod
;trigger1 = root,projHit1629 = 1
trigger1 = !root,numprojID(1629)
trigger1 = NumExplod(1624) <= 1
;trigger1 = Random < 300
anim = 1624
ID = 1624
sprpriority = 5
postype = p1
pos = 110,-50
random = 100,100
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 8005, 13]
type = Explod
;trigger1 = root,projHit1629 = 1
trigger1 = !root,numprojID(1629)
trigger1 = NumExplod(1625) <= 2
;trigger1 = Random < 500
anim = 1625
ID = 1625
sprpriority = 5
postype = p1
pos = 110,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 8005, 14]
type = Explod
;trigger1 = root,projHit1629 = 1
trigger1 = !root,numprojID(1629)
trigger1 = NumExplod(1626) <= 2
;trigger1 = Random < 500
anim = 1626
ID = 1626
sprpriority = 5
postype = p1
pos = 110,-50
random = 100,100
bindtime = 1
ignorehitpause = 1
;------------------------------------

[State 8005, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3,2

[State 8005, 7]
type = RemoveExplod
trigger1 = Time = 17
ID = 1621

[State 8005, 7]
type = RemoveExplod
trigger1 = Time = 17
ID = 1622

[State 8005, 8]
type = Helper
trigger1 = Time = 17
ID = 1620
pos = 0,0
postype = p1
stateno = 1620
name = "Sphere"
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 8005, 15]
type = ChangeState
trigger1 = Time = 17
value = 1614

;Striker Chris attack jump -----------------------------------------------------
;DM Daichi o harau gouka (break loose)
[Statedef 1614]
type = A
movetype = I
physics = N
anim = 1614
velset = -2,-6
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 8010, 1]
type = VelAdd
trigger1 = Time > 0
y = .31

[State 8010, 2]
type = VelAdd
trigger1 = Time > 0
x = .05

[State 8010, 3]
type = VelSet
trigger1 = Vel X > 0
x = 0

[State 8010, 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1615

;Striker Chris attack land -----------------------------------------------------
; DM Daichi o harau gouka (land)
[Statedef 1615]
type = S
movetype = I
physics = S
anim = 1615
velset = 0,0
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 8015, 1]
type = PosSet
trigger1 = Time = 0

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1623

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1616

;Striker Chris taunt turn if necessary------------------------------------------
[Statedef 1623]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1609

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1616

;Striker Chris taunt -----------------------------------------------------------
[Statedef 1616]
type = S
movetype = I
physics = S
anim = 1616
sprpriority = 2
velset = 0
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 6195, 2]
type = PlaySnd
trigger1 = AnimElem = 1, = 1
value = 3,3

[State 6195, 3]
type = Explod
trigger1 = AnimElem = 9
anim = 1627
ID = 1627
sprpriority = 2
postype = p1
pos = 16,-80
shadow = 68,68,68
bindtime = 1

[State 6195, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1617

; Striker Chris return ------------------------------------------------------
[Statedef 1617]
type = S
movetype = I
physics = S
anim = 1617
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1213, posadd]
type = posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 25

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S3,6

[State 1213, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

; Striker Chris get hit -----------------------------------------------------
[Statedef 1618]
type = A
movetype = I
physics = N
anim = 1618
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 20
;ignorehitpause =
persistent = 0

[State 8005, 7]
type = RemoveExplod
trigger1 = Time = 0
ID = 1620

[State 8005, 7]
type = RemoveExplod
trigger1 = Time = 0
ID = 1621

[State 8005, 7]
type = RemoveExplod
trigger1 = Time = 0
ID = 1622

[State 1214, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1214, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,4

[State 1214, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1619

;Striker Chris gethit land -----------------------------------------------------
; DM Daichi o harau gouka (land)
[Statedef 1619]
type = S
movetype = I
physics = S
anim = 1615
velset = 0,0
sprpriority = -1

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,5

[State 8015, 1]
type = PosSet
trigger1 = Time = 0

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1617

;Striker Chris ball helper -----------------------------------------------------
; DM Daichi o harau gouka ball
[Statedef 1620]
type = S
movetype = A
physics = N
anim = 1621
sprpriority = 2

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 8020, 1]
type = VelSet
trigger1 = Time > 0
x = 8

[State 8020, 2]
type = SprPriority
trigger1 = Time = 0
value = 3

[State 8020, 3]
type = Explod
trigger1 = ((Time + 12) % 12) = 0
anim = 1622
ID = 1622
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1

[State 0, Projectile]
type = Projectile
trigger1 = !root,numprojID(1628)
trigger1 = time >= 5
trigger1 = time%5=0
ProjID = 1628
projanim = 1628   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 8,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 9    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HA   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*root,fvar(3)),floor(5*root,fvar(3))
pausetime = 0,12
;guard.pause ,0
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-80
hitsound = S3,1
guardsound = S0,21
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 16   ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 16    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -4,-8
guard.velocity = -7    ;Defaults to x_velocity of ground.velocity
air.velocity = -3,-7    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 40
;palfx.mul = 0,0,0
palfx.add = 80,14,255
palfx.sinadd = 40,7,128,10
palfx.invertall = 1
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =


[State 8020, 5]
type = ChangeState
trigger1 = root,projContact1628 = 1
value = 1621

[State 8020, 6]
type = DestroySelf
trigger1 = FrontEdgeDist <= -65

;-------------------------------------------------------------------------------
; DM Daichi o harau gouka (impact)
[Statedef 1621]
anim = 1690
type = S
movetype = I
physics = N
sprpriority = 2

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 8025, 1]
type = RemoveExplod
trigger1 = Time = 0
ID = 1622

[State 8025, 2]
type = VelSet
trigger1 = 1
x = 0

;-------------------------------
[State 1621, Explod]
type = Explod
trigger1 = Time = 0
anim = 1691
ID = 1691
pos = 5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 5,-5
accel = 0.05,-0.05
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 1621, Explod]
type = Explod
trigger1 = Time = 0
anim = 1691
ID = 1691
pos = 5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -5,-5
accel = -0.05,-0.05
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =
;-------------------------------

[State 1621, Explod]
type = Explod
trigger1 = Time = 0
anim = 1692
ID = 1692
pos = 5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 5,0
accel = 0.05,0
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 1621, Explod]
type = Explod
trigger1 = Time = 0
anim = 1692
ID = 1692
pos = 5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -5,0
accel = -0.05,0
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 1621, Explod]
type = Explod
trigger1 = Time = 0
anim = 1692
ID = 1692
pos = 5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-5
accel = 0,-0.05
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =
;-------------------------------

[State 8005, 9]
type = Explod
trigger1 = time = 0
;trigger1 = Random < 250
anim = 1623
ID = 1623
sprpriority = 5
postype = p2
pos = ifelse(random<=500,-5,5),-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 8005, 10]
type = Explod
trigger1 = time = 0
;trigger1 = Random < 300
anim = 1624
ID = 1623
sprpriority = 5
postype = p2
pos = ifelse(random<=500,-5,5),-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 8005, 13]
type = Explod
trigger1 = time = 0
;trigger1 = Random < 500
anim = 1625
ID = 1624
sprpriority = 5
postype = p2
pos = ifelse(random<=500,-5,5),-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 8005, 14]
type = Explod
trigger1 = time = 0
;trigger1 = Random < 500
anim = 1626
ID = 1624
sprpriority = 5
postype = p2
pos = ifelse(random<=500,-5,5),-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 8025, 21]
type = DestroySelf
trigger1 = AnimTime = 0


;===============================================================================
;Dark Lightning Fist
;Striker Shermie jump down ---------------------------------------------------
[Statedef 1630]
type = A
movetype = A
physics = N
anim = 1630
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = 12
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1631

;Striker Shermie land --------------------------------------------------------
[Statedef 1631]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1631

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1611, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1637

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1632

;Striker Shermie land turn if necessary-----------------------------------------
[Statedef 1637]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1636

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1632

;-------------------------------------------------------------------------------
[Statedef 1632]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1632
sprpriority = 2
ctrl = 0

[State 1610, NotHitBy]
type = HitBy
trigger1 = animelem = 5 ,>=0
trigger1 = animelem = 7 ,<0
value = SCA,NA,SA,HA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1610, NotHitBy]
type = notHitBy
trigger1 = animelem = 7 ,>=0
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3001, 5]
type = EnvColor
trigger1 = animelem = 4,=2
value = 245,245,245
time = 1

[State 3001, 1]
type = explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 4,=7
;trigger3 = AnimElem = 4,=13
anim = 1640
pos = -30,-95
postype = p1
sprpriority = 3
supermove = 1
bindtime = 1
palfx.time = 3
palfx.add = 220, 160,100

[State 3001, 1]
type = explod
trigger1 = AnimElem = 4
anim = 1641
pos = -30,-95
postype = p1
sprpriority = 3
supermove = 1
bindtime = 1
palfx.time = 3
palfx.add = 220, 160,100

[State 3001, 6]
type = MakeDust
trigger1 = AnimElem = 6,>=0
trigger1 = AnimElem = 7,<0
pos = 30,-2
spacing = 4

[State 3001, Super B]
type = PlaySnd
trigger1 = animelem = 3
value = s3, 10
channel = 21

[State 3001, Super B]
type = PlaySnd
trigger1 = animelem = 3
value = s3, 8

[State 3001, Super B]
type = PlaySnd
trigger1 = animelem = 5
value = s3, 9

[State 3001, Super B]
type = PlaySnd
trigger1 = animelem = 6,=0
trigger2 = animelem = 6,=9
trigger3 = animelem = 6,=18
trigger4 = animelem = 6,=27
trigger5 = animelem = 6,=36
value = s3, 11

[State 3001, 0]
type = Explod
trigger1 = projhit = 1
anim = 1642
id = 1642
pos = 20,-80
postype = P2
bindtime = 20
removetime = -2
supermove = 0
sprpriority = 2
ownpal = 1
random = 40, 50

[State 3001, 0]
type = Explod
trigger1 = projhit = 1
anim = 1642
id = 1642
pos = -20,-10
postype = P2
bindtime = 20
removetime = -2
supermove = 0
sprpriority = 2
ownpal = 1
random = 40, 50

[State 3001, 0]
type = Explod
trigger1 = projhit = 1
anim = 1642
id = 1642
pos = -35,-40
postype = P2
bindtime = 20
removetime = -2
supermove = 0
sprpriority = 2
ownpal = 1
random = 50, 60

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=1
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 70, -75
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = S8002
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=1
anim = 1645
id = 1645
pos = 70, -75
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=6
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 70, -105
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=6
anim = 1645
id = 1645
pos = 70, -105
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=10
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 50, -45
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5


[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=10
anim = 1645
id = 1645
pos = 50, -45
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=15
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 90, -105
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=15
anim = 1645
id = 1645
pos = 90, -105
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=20
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 55, -50
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=20
anim = 1645
id = 1645
pos = 55, -50
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=25
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 85, -100
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=25
anim = 1645
id = 1645
pos = 85, -100
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1


[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=30
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 50, -75
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=30
anim = 1645
id = 1645
pos = 50, -75
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=35
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 85, -60
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=35
anim = 1645
id = 1645
pos = 85, -60
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=39
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 70, -80
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,6
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -5
ground.velocity = -6,0
air.velocity = -5,0
fall = 0
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=39
anim = 1645
id = 1645
pos = 70, -80
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[State 3001, 2]
type = Projectile
trigger1 = animelem = 6,=44
projanim = 1643
projid = 1643
projhitanim = 1644
projhits = 2
projmisstime = 300
projremanim = 1644
projshadow = 68,68,68
animtype = hard
offset = 80, -75
velocity = 0
projremovetime = 9
projpriority = 999
attr = S, HP
damage   = floor(10*root,fvar(3)),floor(2*root,fvar(3))
guardflag = M
guard.sparkno = 40
hitflag = MAF
pausetime = 15,8
sparkno = -1
;hitsound   = s3,11
guardsound = s0,21
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
guard.velocity = -10
ground.velocity = -7,-10
air.velocity = -4,-9
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5

[State 3001, 0]
type = Explod
trigger1 = animelem = 6,=44
anim = 1645
id = 1645
pos = 80, -75
postype = P1
bindtime = -1
removetime = 9
supermove = 0
sprpriority = 3
ownpal = 1

[state 1300, shermie proj comsume Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal
id = 1640
name = "shermie proj comsume Helper"
pos = 0,0 ;ceil(66 * const(size.xscale)),0
postype = p1
stateno = 1640
facing = 1
keyctrl = 0
ownpal = 1

[State 3001, 0]
type = Posadd
trigger1 = animtime = 0
x = 20

[State 3001, 9]
type = changestate
trigger1 = animtime = 0
trigger1 = p2bodydist X < -5
value = 1638

[State 3001, 9]
type = changestate
trigger1 = animtime = 0
value = 1633

;Striker Shermie taunt turn if necessary----------------------------------------
[Statedef 1638]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1636

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1633

;-------------------------------------------------------------------------------
;shermie taunt
[Statedef 1633]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1633
velset = 0,0,0
sprpriority = -1

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3001, 5]
type = EnvColor
trigger1 = animelem = 7,=2
value = 245,245,245
time = 1

[State 3001, 1]
type = explod
trigger1 = AnimElem = 7
anim = 1641
pos = 45,-100
postype = p1
sprpriority = 3
supermove = 0
bindtime = 1
palfx.time = 3
palfx.add = 220, 160,100

[State 195, 2]
type = PlaySnd
trigger1 = animelem = 7
value = s0,25

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 195, 2]
type = PlaySnd
trigger1 = animelem = 3
value = s3,13

[State 195, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1634

;Striker Shermie jump leave ---------------------------------------------------
[Statedef 1634]
type = A
movetype = A
physics = N
anim = 1634
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1635
ignorehitpause =  1
persistent = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = -12
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
trigger1 = Vel y < 0.8
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, ChangeState]
type = destroyself
trigger1 = BackEdgeBodyDist <= -50

; Striker Shermie get hit -----------------------------------------------------
[Statedef 1635]
type = A
movetype = I
physics = N
anim = 1635
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 21
;ignorehitpause =
persistent = 0

[State 1214, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1214, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,15

[State 1214, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1636

;Striker Shermie gethit land -----------------------------------------------------
[Statedef 1636]
type = S
movetype = I
physics = S
anim = 1631
velset = 0,0
sprpriority = -1

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,12

[State 8015, 1]
type = PosSet
trigger1 = Time = 0

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1634

;--------------------------------------------------------------------------------------------------------
; shemie proj consume Helper
[Statedef 1640]
type = S
ctrl = 0
anim = 1647
velset = 0,0
movetype = A
physics = S
sprpriority = 2

[State 1310, Override]
type = HitOverride
trigger1 = 1
attr = SCA, NA,SA,HA,NT,ST,HT,NP,SP,HP,AA,AT,AP
slot = 0
stateno = 1640
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1310, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1310, playsnd]
type = playsnd
;trigger1 = var(32) != [1,6]
trigger1 = time = 0
value = s8,1 ;s8,14 s0,35
channel = 6

[State 1310, ReversalDef against hitdef]; ---- disabled for balance, using hitoverride against hitdef
type  = NULL;ReversalDef
trigger1 = time%2=0
reversal.attr = SCA, NP,SP
pausetime     = 0,2 ;30 ;  60
getpower = 0,0
givepower = 0,0
p1stateno     = 1640
p2stateno     = 1316
priority = 999, hit
numhits = 0
sparkno = -1
ignorehitpause = 1
;trigger1 = ifelse(time < 15, ((root, var(32) != [1,8]) && Time % 1 = 0), 1)
;trigger1 = root, var(32) = [1,8]
;attr = S, SP
;time = 1

[State 1310, ReversalDef against proj]
type  = ReversalDef
trigger1 = 1;time%2=1
reversal.attr = SCA  ;<--------DO NOT change this to SCA,AA,AT,AP, otherwise it will cause BUG !!
hitflag = P  ;<--------DO NOT change this, otherwise it will cause BUG !!
pausetime     = 0,2 ;30 ;60
getpower = 0,0
givepower = 0,0
p1stateno     = 1640
;p2stateno     = 1316
priority = 999, hit
numhits = 0
sparkno = -1
ignorehitpause = 1
;trigger1 = ifelse(time < 15, ((root, var(32) != [1,8]) && Time % 1 = 0), 1)
;trigger1 = root, var(32) = [1,8]
;attr = S, SP
;time = 1

[State 1310, Destroyself]
type = Destroyself
trigger1 = parent,stateno != 1632
trigger2 = parent,stateno = 1632
trigger2 = parent,animelem = 7, >=0
;trigger2 = root, movetype = H
;trigger2 = root, stateno != [120, 159]


;===============================================================================
;Final Lash
;Striker Yashiro jump down ---------------------------------------------------
[Statedef 1650]
type = A
movetype = A
physics = N
anim = 1650
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = 11
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1651

;Striker Yashiro land --------------------------------------------------------
[Statedef 1651]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1651

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1611, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1660

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1652

;Striker Yashiro land turn if necessary-----------------------------------------
[Statedef 1660]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1659

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1652

;-------------------------------------------------------------------------------
[Statedef 1652]
type = S
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 1652

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3000,ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 1653


;---------------------------------------------------------------------
[Statedef 1653]
type = S
movetype = A
physics = S
velset = 0, 0
sprpriority = 2
ctrl = 0
anim = 1653

[State 1410,Explod]
type = Explod
trigger1 = !numexplod(1660)
anim = 1660
ID = 1660
pos = -10,10
postype = P1
sprpriority = 0
supermove = 1
ownpal = 1
bindtime = -1
removetime = 91

[State 1410,Explod]
type = Explod
trigger1 = !numexplod(1661)
anim = 1661
ID = 1661
pos = -10,10
postype = P1
sprpriority = 3
supermove = 1
ownpal = 1
bindtime = -1
removetime = 91

;[State 1610, HitOverride]
;type = HitOverride
;trigger1 = 1
;attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
;slot = 0
;time = -1
;stateno = 1657
;ignorehitpause =  1
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP,AP
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

;-----------------------------------
[State 1100, 7];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
type = ChangeAnim
triggerall = prevstateno = 16530
trigger1 = Time = 0
value = 1653
elem = var(19)

[State 1100, 7];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
type = varset
trigger1 = 1
var(19) = AnimElemNo(0)

[state 1100, HitOverRide];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
type = HitOverRide
trigger1 = 1
time = 2
slot = 1
attr = SCA,NA,SA,HA,AA,NT,ST,HT,AT
Stateno = 16530
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;-----------------------------------

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3000,PlaySnd]
type = PlaySnd
triggerall = prevstateno != 16530
trigger1 = Time = 0
value = 3, 17
channel = 22

[State 0, EnvShake]
type = EnvShake
;trigger1 = time < 20
;trigger1 = time%5=1
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
time = 5
freq = 60
ampl = -4
phase = 90
;ignorehitpause =
;persistent =

[State 0, EnvShake]
type = EnvShake
;trigger1 = time = [20,40]
;trigger1 = time%5=1
trigger1 = animelem = 11
trigger2 = animelem = 13
trigger3 = animelem = 15
trigger4 = animelem = 17
trigger5 = animelem = 19
time = 5
freq = 60
ampl = -6
phase = 90
;ignorehitpause =
;persistent =

[State 0, EnvShake]
type = EnvShake
;trigger1 = time > 40
;trigger1 = time%5=1
trigger1 = animelem = 21
trigger2 = animelem = 23
trigger3 = animelem = 25
trigger4 = animelem = 27
trigger5 = animelem = 29
trigger6 = animelem = 31
time = 5
freq = 60
ampl = -8
phase = 90
;ignorehitpause =
;persistent =

[State 3000,PlaySnd]
type = PlaySnd
triggerall = prevstateno != 16530
trigger1 = time = 1
value = 3,18
channel = 23
;loop = 1

[State 3000,PlaySnd]
type = PlaySnd
triggerall = prevstateno = 16530
trigger1 = 1
value = 3,18
channel = 23
;loop = 1
persistent = 0

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1654
ctrl = 0

;------------------------------------------------------------------------------
;Yashiro HitOverRide
;--------made for "Black Surge HitOverRide against proj", but now disabled for balance
[Statedef 16530]
type    = U
movetype= H
physics = U
juggle  = 0
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1410,Explod]
type = Explod
trigger1 = !numexplod(1660)
anim = 1660
ID = 1660
pos = -10,10
postype = P1
sprpriority = 0
supermove = 1
ownpal = 1
bindtime = -1
removetime = 91

[State 1410,Explod]
type = Explod
trigger1 = !numexplod(1661)
anim = 1661
ID = 1661
pos = -10,10
postype = P1
sprpriority = 3
supermove = 1
ownpal = 1
bindtime = -1
removetime = 91

[State 240, 4]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 0

[State 1000, 7]
type = PosFreeze
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, 7]
type = null;nothitby
trigger1 = 1
time = 2
value = SCA

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP,AP
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[state 1100, HitOverRide];--------made for "Black Surge HitOverRide against proj", but now disabled for balance
type = HitOverRide
trigger1 = 1
time = 2
slot = 1
attr = SCA,NA,SA,HA,AA,NT,ST,HT,AT
Stateno = 16530
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000, 7]
type = ChangeAnim
trigger1 = 1
value = 1653
elem = var(19)

[State 0, 4]
type = PosFreeze
trigger1 = 1

[state haha]
type = playsnd
trigger1 = time = 0
value = s8,10
ignorehitpause = 1

[State 1000, Explod] ;Super Cancel Effect
type = Explod
trigger1 = time = 0
anim = F40
pos = 13,-56
postype = P1
facing = 1
removetime = -2
bindtime = -1
pausemove = 1
supermove = 1
sprpriority = 3
ownpal = 1

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = Time = Floor(GetHitVar(hittime))
trigger2 = Time = 30
value = 1653

;---------------------------------------------------------------------
[Statedef 1654]
type = S
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 1654

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist X < -5
ignorehitpause = 1
persistent = 0

[State 1610, PlayerPush]
type = null;PlayerPush
trigger1 = animelem = 7, <0
value = 1

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1 ;animelem = 7, >=0
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0 && !NumExplod(1660) = 0
ID = 1660

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0 && !NumExplod(1661) = 0
ID = 1661

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,19

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,20

[State 1410,Explod]
type = Explod
trigger1 = AnimElem = 8
anim = 1662
ID = 1662
pos = 92*const(size.xscale),-86*const(size.yscale)
postype = P1
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
removetime = 18

[State 1000,Projectile]
type = Projectile
trigger1 = AnimElem = 8
projanim = 1663
projID = 1663
projhitanim = -1
projremanim = -1
projcancelanim = -1
projremovetime = 18
projedgebound = 60
projpriority = 999
projshadow = -1
offset = 92*const(size.xscale),-86*const(size.yscale)
velocity = 0, 0
attr = A, HP
damage   = floor(100*root,fvar(3)),floor(10*root,fvar(3))
getpower = 0
givepower = 106
animtype = DiagUp
guardflag = N
hitflag = MAF
pausetime = 0,12
priority = 7,hit
hitsound   = S11,0
guardsound = s0,21
sparkno = 1
guard.sparkno = 40
sparkxy = 10, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 18
ground.velocity = -6.5,-10
air.velocity = -6.2,-8.5
yaccel = 0.5
air.juggle = 3
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 18
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
palfx.time = 18
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1661

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1655

;Striker Yashiro taunt turn if necessary----------------------------------------
[Statedef 1661]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1659

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1655

;-------------------------------------------------------------------------------
;taunt
[Statedef 1655]
type = S
anim = 1655
ctrl = 0
velset = 0,0,0
physics = S

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 182,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,21

[State 1000, 3.4]
type = Explod
trigger1 = AnimElem = 2
anim = 1660
ID = 1660
pos = 0,0
postype = p1
sprpriority = 2
supermove = 1
bindtime = -1
ownpal = 1
removetime = 70

[State 1000, 3.4]
type = Explod
trigger1 = AnimElem = 2
anim = 1661
ID = 1661
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
bindtime = -1
ownpal = 1
removetime = 70

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 65
freq = 60
ampl = -4
phase = 90
;ignorehitpause =
;persistent =

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 8
time = 10
freq = 60
ampl = -10
phase = 90
;ignorehitpause =
;persistent =

[State 1000, 3.4] ;Ground wave (behind)
type = Explod
trigger1 = AnimElem = 8,=2
anim = 1664
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
bindtime = -1
ownpal = 1

[State 1000, 3.4] ;Ground wave (in front)
type = Explod
trigger1 = AnimElem = 8,=2
anim = 1665
pos = 0,0
postype = p1
sprpriority = 2
supermove = 1
bindtime = -1
ownpal = 1

[State 182,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3,22

[State 1000, 3.4]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 1660

[State 1000, 3.4]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 1661

[State 192,3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1656

;Striker Yashiro jump leave ---------------------------------------------------
[Statedef 1656]
type = A
movetype = A
physics = N
anim = 1656
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1657
ignorehitpause =  1
persistent = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = -12
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
trigger1 = Vel y < 0.8
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, ChangeState]
type = destroyself
trigger1 = BackEdgeBodyDist <= -50

; Striker Yashiro get hit -----------------------------------------------------
[Statedef 1657]
type = A
movetype = I
physics = N
anim = 1657
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0 && !NumExplod(1660) = 0
ID = 1660

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0 && !NumExplod(1661) = 0
ID = 1661

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 22
;ignorehitpause =
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 23
;ignorehitpause =
persistent = 0

[State 1214, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1214, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,23

[State 1214, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1658

;Striker Yashiro gethit land -----------------------------------------------------
[Statedef 1658]
type = S
movetype = I
physics = S
anim = 1651
velset = 0,0
sprpriority = -1

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,25

[State 8015, 1]
type = PosSet
trigger1 = Time = 0

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1656

;Striker Yashiro taunt2 unused -----------------------------------------------
[Statedef 1659]
type = S
movetype = I
physics = S
anim = 1658
velset = 0, 0
ctrl = 0

[State 1659,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S3,25

[State 1659]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===============================================================================
;Baptism of Wind
;Striker Goenitz jump down ---------------------------------------------------
[Statedef 1670]
type = A
movetype = A
physics = N
anim = 1670
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1678
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1610, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1610, VelSet]
type = VelSet
trigger1 = Time = 0
x = 11
y = -10;-5.6

[State 1610, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1610, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S2,17

[State 1610, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1671

;Striker Goenitz land --------------------------------------------------------
[Statedef 1671]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1671

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1678
ignorehitpause =  1
persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1611, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1611, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1611, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1672

;-------------------------------------------------------------------------------
;wind
[Statedef 1672]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1672
sprpriority = 2

[State 1610, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1678
ignorehitpause =  1
persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 265,1]
type = HitDef
Trigger1 = Time = 0
animtype  = Up
attr = S, HT
hitflag = M
guardflag = N
priority = 99999, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 16740  ;1674
p2stateno = 1680
guard.dist = 0
fall = 1
fall.recover = 0

[State 265,2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1673

;-------------------------------------------------------------------------------
;p1stateno fail
[Statedef 1673]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1673
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 268,1]
type = PlaySnd
trigger1 = Time = 0
value = S0,43

[State 1214, PlaySnd]
type = PlaySnd
Trigger1 = AnimTime = 0
value = S3,28

[State 266,7]
type = ChangeState
Trigger1 = AnimTime = 0
Trigger1 = p2bodydist X < -5
value = 1685

[State 266,7]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1677

;Geonitz taunt turn if necessary------------------------------------------------
[Statedef 1685]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1679
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = 1
ignorehitpause = 1
persistent = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 266,7]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1677

;-------------------------------------------------------------------------------
;p1stateno success turn
[Statedef 16740]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1679
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = 1
ignorehitpause = 1
persistent = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 268,5]
type = targetfacing
trigger1 = animelem = 3
value = -1

[State 267,11]
type = targetbind
trigger1 = animelem = 1
postype = p1
pos = -10,0

[State 267,11]
type = targetbind
trigger1 = animelem = 2
postype = p1
pos = 0,0

[State 267,11]
type = targetbind
trigger1 = animelem = 3
postype = p1
pos = 0,0

[State 267,11]
type = targetbind
trigger1 = animelem = 4
postype = p1
pos = 10,0

[State 267,13]
type = ChangeState
Trigger1 = animTime = 0
value = 1674

;-------------------------------------------------------------------------------
;p1stateno success
[Statedef 1674]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1674
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 268,1]
type = PlaySnd
trigger1 = Time = 0
value = S0,43

[State 267,7]
type = targetstate
trigger1 = time = 0
value = 1680

[State 267,8]
type = Width
trigger1 = 1
edge = 60,0

[State 267,9]
type = targetbind
trigger1 = animelem = 1
postype = p1
pos = 33,0

[State 267,10]
type = targetstate
trigger1 = animelem = 4
value = 1681

[State 267,11]
type = targetbind
trigger1 = animelem = 4
postype = p1
pos = 50,-96

[State 267,12]
type = targetbind
trigger1 = animelem = 5
postype = p1
pos = 36,-134

[State 267,13]
type = ChangeState
Trigger1 = animTime = 0
value = 1675

;-------------------------------------------------------------------------------
;p1stateno success 2
[Statedef 1675]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1675
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 268,1]
type = PlaySnd
trigger1 = Time = 0
value = S3,26

[State 268,1]
type = PlaySnd
trigger1 = Time = 0
value = S3,30

[State 268,2]
type = Explod
trigger1 = time = 0
anim = 1693
removetime = 100
postype = p1
pos = 52,3
sprpriority = 4
ownpal = 1

[State 268,4]
type = envshake
trigger1 = time = 0
time = 100
freq = 60
ampl = -3
phase = 90

[State 268,5]
type = targetstate
trigger1 = target,stateno!=1682
value = 1682

[State 268,6]
type = targetbind
trigger1 = 1
postype = p1
pos = 35,-130

[State 268,7]
type = ChangeState
Trigger1 = Time = 100
value = 1676

;-------------------------------------------------------------------------------
;p1stateno success 3
[Statedef 1676]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1676
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 269,1]
type = Explod
trigger1 = time = 0
anim = 2630
ID = 2630
postype = p1
pos = 25,-55
sprpriority = 4
supermove = 0
ownpal = 1

[State 269,4]
type = targetbind
trigger1 = animelem = 1
postype = p1
pos = 6,-134

[State 269,2]
type = targetstate
trigger1 = animelem = 1
value = 1683

[State 269,5]
type = targetbind
trigger1 = animelem = 2
postype = p1
pos = 9,-135

[State 269,6]
type = targetlifeadd
trigger1 = animelem = 3
value = floor(-100*root,fvar(3))
absolute = 1
kill = 1

[State 269,7]
type = targetbind
trigger1 = animelem = 3
postype = p1
pos = 40,-50

[State 269,3]
type = targetstate
trigger1 = animelem = 3
value = 1684

[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animTime = 0
value = S3,29
;ignorehitpause =
;persistent =

[State 269,8]
type = ChangeState
Trigger1 = animTime = 0
value = 1677

; Geonitz taunt & leave --------------------------------------------------------
[Statedef 1677]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1677
sprpriority = 2

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1670, ScreenBound]
type = ScreenBound
trigger1 = prevstateno != 1679
value = 1
movecamera = 1,0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
;ignorehitpause =
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 2630
ID = 2630
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S0,40
;ignorehitpause =
;persistent =

[State 2606, ChangeState]
type = destroyself
trigger1 = AnimTime = 0

; Striker Goenitz get hit -----------------------------------------------------
[Statedef 1678]
type = A
movetype = I
physics = N
anim = 1678
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1214, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1214, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,27

[State 1214, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1679

;Striker Goenitz gethit land -----------------------------------------------------
[Statedef 1679]
type = S
movetype = I
physics = S
anim = 1671
velset = 0,0
sprpriority = -1

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,28

[State 8015, 1]
type = PosSet
trigger1 = Time = 0

[State 8015, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1677

;-------------------------------------------------------------------------------
;p2stateno 1
[Statedef 1680]
type    = S
physics = N
movetype = H
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1

[State 1214, NotHitBy]
type = NULL;NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 270,1]
type = changeanim2
trigger1 = time = 0
value = 1680
ignorehitpause = 1

;-------------------------------------------------------------------------------
;p2stateno 2
[Statedef 1681]
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1
movetype = H

[State 1214, NotHitBy]
type = null;NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 271,1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 271,2]
type = changeanim2
trigger1 = time = 0
value = 1681

;-------------------------------------------------------------------------------
;p2stateno 3
[Statedef 1682]
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1
movetype = H

[State 1214, NotHitBy]
type = null;NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 272,1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 272,2]
type = changeanim2
trigger1 = time = 0
value = 1682

;-------------------------------------------------------------------------------
;p2stateno 4
[Statedef 1683]
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1
movetype = H

[State 1214, NotHitBy]
type = null;NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1610, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 273,1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 273,2]
type = changeanim2
trigger1 = time = 0
value = 1681

;-------------------------------------------------------------------------------
;p2stateno 5
[Statedef 1684]
type    = S
physics = N
movetype = H
poweradd = 0
ctrl = 0
velset = -4.5,-7
sprpriority = -1

[State 274,1]
type = VelAdd
Trigger1 = time >= 0
y = .45

[State 274,2]
type = changeanim2
trigger1 = time = 0
value = 1684

[State 274,3]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;===============================================================================
; Shattering Mirror Fallen
[Statedef 1500]
type = A
ctrl = 0
anim = 1500
velset = 0,0
movetype = A
physics = N
sprpriority = 2
poweradd = floor(200*fvar(10))

[State 1500, HitBy] ;---- Shattering Mirror start invincible
type = HitBy
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 4, <0
value = SCA, HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1500]
type = PosFreeze
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 5, <0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1500, AngleDraw]
type = AngleDraw
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <0
value =  -25
;scale =  (winmugen only)
;ignorehitpause =
;persistent =

[State 1500, Afterimage]
type = null;Afterimage
TriggerALL = palno = 12 ; ---- nightmare mode only
triggerall = roundstate != 0
trigger1 = time = 0
trans = add
Paladd = 15,0,15
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 15
TimeGap = 1
FrameGap = 1

;Shattering Mirrow start "ring"
[State 1500]
type = playsnd
trigger1 = animelem = 4,=0
value = s8,8
channel = 4
ignorehitpause = 1

[State 1500]
type = Envshake
trigger1 = animelem = 4
time = 10
ampl = -5
freq = 120
phase = 120

[State 1500]
type = varset
trigger1 = time = 0
var(8) = 0

[State 1500]
type = varset
trigger1 = time = 0
var(9) = 0

[State 1500, HitDef]
type = HitDef
trigger1 = AnimElem = 4
;trigger2 = moveguarded >= 2
;trigger2 = AnimElem = 6, >=0
;trigger2 = AnimElem = 17, <0
attr = A,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(300*fvar(10)),floor(150*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Back    ;light,medium,hard,back,up,diagup
air.animtype = Back    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*fvar(3)),floor(5*fvar(3))
pausetime = 10,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
;sparkxy = -3,-60
;hitsound = S0,0
;guardsound = s0 + (6 * (var(5) >= 1)), IfElse(var(5) = 0, 21, var(14))
ground.type = Low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 18    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
guard.slidetime = 28    ;Defaults to guard.hittime
ground.hittime = 18    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
guard.hittime = 30        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -20,-9.5
guard.velocity = -12    ;Defaults to x_velocity of ground.velocity
air.velocity = -20,-9.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -12    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 1201
p2stateno = 1225 ;+ (EnemyNear(floor(fvar(36))),statetype != A)
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = floor(50*fvar(3))
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 0
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 36
palfx.add = 0,0,0
palfx.mul = 175,175,175
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.freq = 120
fall.envshake.ampl = -5
fall.envshake.phase = 120
;ignorehitpause =
;persistent =

;--------------------------
;Afterimage helper for mirrors
[State 1500,1]
type = Helper
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <=1
trigger1 = movecontact
;trigger1 = target, statetype = A
ID = 1204
name = "mirror"
postype = p1
pos = 20,30
sprpriority = 3
stateno = 1204
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
;--------------------------------

;hit sound
[State 1500]
type = playsnd
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <=1
trigger1 = movehit
value=s0,11
channel = 3
persistent = 0
ignorehitpause = 1

[State 1500, Pause]
type = Pause
trigger1 = movehit = [1,10]
trigger1 = time%2=0
time = 1
movetime = 0
unhittable = 1
ignorehitpause = 0

;hit spark when target's not in air
[State 1500, Explod]
type = Explod
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <=1
trigger1 = movehit
trigger1 = target, statetype != A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.head.pos.x))), ifelse(anim = 1220 && (target, statetype != A), (-20 * (target, const(size.yscale))), ceil((target, const(size.yscale)) * (target, const(size.head.pos.y))))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;hit spark when target's in air
[State 1500, Explod]
type = Explod
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <=1
trigger1 = movehit
trigger1 = target, statetype = A
anim  = F2
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

;guard spark
[State 1500, Explod]
type = Explod
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 5, <=1
trigger1 = moveguarded
anim  = F40
postype = p2
pos = ceil((target, const(size.xscale)) * (target, const(size.mid.pos.x))), ceil((target, const(size.yscale)) * (target, const(size.mid.pos.y)))
ignorehitpause = 1
facing = -1
ownpal = 1
sprpriority = 5
bindtime = 1
persistent = 0

[State 1500, VelAdd]
type = VelAdd
trigger1 = AnimElem = 6, >=0
y = .55

[State 1500, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

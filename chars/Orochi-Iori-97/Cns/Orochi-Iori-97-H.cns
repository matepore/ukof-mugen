;===============================================================================
;EN ESTA SECCION SE ENCUENTRABN TODOS LOS MOVIMIETOS SUPERS E HYPERS
;DEL CHAR LA MODIFICACION SIN AUTORIZACION PUEDE SIGNIFICAR
;UNA FALLA TOTAL EN EL MISMO
;===============================================================================
;-------------------------------------------------------------------------------
[Statedef 2000]
type     = S
movetype = A
physics  = S
juggle   = 5
velset   = 0,0
anim     = 2000
ctrl     = 0
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 27
time = 27
darken = 0
p2defmul = 1

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -ifelse(fvar(2)=1&&var(7)>0,0,1000)

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7000
pos = -4,-119
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7010
pos = -4,-119
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1500,]
type = HitBy
trigger1 = time = 0
value = SC,AT

[State 1500,]
type = NotHitBy
trigger1 = time = [1,31]
value = SCA

[State 1500,]
type = HitBy
trigger1 = time > 31
value = C,AA,AP

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 2000,]
type = PlaySnd
trigger1 = time = 0
value = s7,14

[State 2000,]
type = PlaySnd
trigger1 = animelem = 6
value = s3,0
channel = 7

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 6,>= 0
x = ifelse((p2bodydist x = [-5,20]),3,8)

[State 3000, Afterimage]
type = Afterimage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = AnimElemtime(6) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1000, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Cheap"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1950]
type = HitDef
trigger1 = var(20) >= 1
trigger2 = time = 0
trigger2 = var(20) = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = up
hitflag = MAF
guardflag = M
;priority = 3
pausetime = 0,0
sparkno = s4025
sparkxy = 0,-45
hitsound = s0,13
guardsound = s8,11
guard.sparkno = s4120
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
numhits = 0
p2facing = 1
fall.recover = 0
fall = 1
id = 2000
ground.cornerpush.veloff = 0

[State 1000, movehitreset]
type = movehitreset
triggerall = movehit > 0
trigger1 = numtarget(2000) = 0
trigger2 = numtarget(2000) > 0
trigger2 = target(2000),stateno != 5000 && target(2000),stateno != 5020

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2020
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2510
ctrl = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = Animelem = 9,>= 4
trigger2 = MoveGuarded
value = 2005
;-------------------------------------------------------------------------------
;Cheap
[Statedef 2001]
type = S
ctrl = 0
anim = 2001
velset = 0,0

[State 1000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, ReversalDef]
type = ReversalDef
trigger1 = parent,AnimElemtime(6) > 0
trigger1 = enemynear(parent,fvar(36)),prevstateno = [120,159]
reversal.attr = SC,AA,AP,AT
pausetime = 0,1
sparkno = -1
hitsound = -1
p2stateno = 2030
ignorehitpause = 1

[State 1000, PosSet]
type = PosSet
trigger1 = pos y < -100
x = Root,pos x - 10
y = -100
ignorehitpause = 1

[State 1000, PosSet]
type = PosSet
trigger1 = pos y >= -100
x = Root,pos x - 10
y = enemynear(fvar(36)),pos y
ignorehitpause = 1

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 2000
trigger1 = root,stateno != 2050
trigger1 = root,stateno != 2800
;---------------------------------------------------------------------------
[Statedef 2050]
type     = S
movetype = A
physics  = S
juggle   = 5
velset   = 0,0
anim     = 2050
poweradd = 0
ctrl     = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 27
time = 27
darken = 0
p2defmul = 1

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -ifelse(fvar(2)=1&&var(7)>0,0,1000)

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7000
pos = -4,-119
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7010
pos = -4,-119
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1500,]
type = HitBy
trigger1 = time = 0
value = SC,AT

[State 1500,]
type = NotHitBy
trigger1 = time = [1,31]
value = SCA

[State 1500,]
type = HitBy
trigger1 = time > 31
value = C,AA,AP

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 2000,]
type = PlaySnd
trigger1 = time = 0
value = s7,14

[State 2000,]
type = PlaySnd
trigger1 = animelem = 6
value = s3,0
channel = 7

[State 3000, Afterimage]
type = Afterimage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = AnimElemtime(6) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 6,>= 0
x = ifelse((p2bodydist x = [-5,20]),3,8)

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1000, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Cheap"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1950]
type = HitDef
trigger1 = var(20) >= 1
trigger2 = time = 0
trigger2 = var(20) = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = up
hitflag = MAF
guardflag = M
pausetime = 0,0
sparkno = s4025
sparkxy = 0,-45
hitsound = s0,13
guardsound = s8,11
guard.sparkno = s4120
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
p2facing = 1
fall.recover = 0
fall = 1
id = 2000
numhits = 0
ground.cornerpush.veloff = 0

[State 1000, movehitreset]
type = movehitreset
triggerall = movehit > 0
trigger1 = numtarget(2000) = 0
trigger2 = numtarget(2000) > 0
trigger2 = target(2000),stateno != 5000 && target(2000),stateno != 5020

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2020
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2510
ctrl = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = Animelem = 9,>= 13
trigger2 = MoveGuarded
value = 2005
;---------------------------------------------------------------------------
[Statedef 2005]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2005
ctrl     = 0
sprpriority = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 5.3

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2020]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = time = 0
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = !ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[state haha]
type = nothitby
trigger1 = ishelper
value = SCA
time = 1
ignorehitpause = 1

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = ishelper
trigger1 = time = 0

[state haha]
type = destroyself
trigger1 = time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2030]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = 1

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2030

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Target
[Statedef 2510]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2510
ctrl     = 0
sprpriority = 5

[State 1000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 1

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
trigger1 = var(6) := 0 || 1
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 2
v = 6
value = EnemyNear(fvar(36)),life

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 60,0

[State 810, 1]
type = TargetBind
trigger1 = time = [0,99]
pos = 57,0

[State 810, 1]
type = TargetBind
trigger1 = time = [100,105]
pos = 30,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 18
trigger3 = AnimElem = 33
trigger4 = AnimElem = 45
value = s7,16

[State 1000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 45
value = 255,255,255
time = 1
under = 1

[State 1000, PlaySnd]
type = null;PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 45
value = S0,13+random%2
channel = 0

[State 0, HitAdd]
type = null;HitAdd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 18
trigger3 = AnimElem = 26
trigger4 = AnimElem = 33
trigger5 = AnimElem = 38
trigger6 = AnimElem = 45
value = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,10
sparkno = s4025
sparkxy = -12,-50
hitsound = S0,13+random%2
numhits = 2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 10
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,10
sparkno = s4025
sparkxy = -25,-55
hitsound = S0,13+random%2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 18
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,10
sparkno = s4060
sparkxy = -15,-57
hitsound = S0,13+random%2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 26
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,12
sparkno = s4060
sparkxy = -15,-57
hitsound = S0,13+random%2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 33
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,12
sparkno = s4060
sparkxy = -15,-57
hitsound = S0,13+random%2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 38
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,12
sparkno = s4060
sparkxy = -15,-57
hitsound = S0,13+random%2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0
ground.cornerpush.veloff = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 45
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 0,12
sparkno = s4060
sparkxy = -15,-57
hitsound = S0,13+random%2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0
ground.cornerpush.veloff = 0

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 56
time = 20
freq = 100
ampl = -4

[State 100, 5]
type = ChangeState
triggerall = time = 1
trigger1 = numtarget(2000) > 0
trigger1 = target(2000),stateno != 2020
trigger2 = numtarget(2000) = 0
value = 2511

[State ]
type = TargetDrop
triggerall = time > 1
trigger1 = target(2000),ishelper
keepone = 0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, ChangeAnim]
type = ChangeState
trigger1 = animelem = 49
value = 2512
;----------------------------------
[Statedef 2511]
type     = S
movetype = A
physics  = N
anim = 2511
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = ifelse(prevstateno = 2801,2000,1000)

[State 100, 5]
type = stopsnd
trigger1 = time = 0
channel = 1

[State 100, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------
[Statedef 2512]
type     = S
movetype = A
physics  = N
anim = 2512
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 3000]
type = Projectile
trigger1 = gametime%2 = 1
projanim = 2512
projscale = 0,0
projremove = 0
projpriority = 7
projhitanim = -1
projremovetime = 1
ownpal = 1
velocity = 0
offset = 0,0
attr = SCA,AA,AP,AT
hitflag = MF
animtype = hard
getpower = 0
sparkno = -1
guard.sparkno = -1
hitsound = -1
p2facing = 1
guardsound = -1
guard.dist = 0
p1stateno = 2513
p2stateno = 2514
ID = 2000
numhits = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SC,AA,AP,AT
numhits = 0
sparkno = -1
hitsound = -1
p2facing = 1
p1stateno = 2513
p2stateno = 2514
ID = 2000

[State 0, VarSet]
type = VarSet
trigger1 = roundstate != 2
trigger1 = !Win
trigger1 = TeamMode = Single || TeamMode = Simul
v = 58
value = -123

[State 0, ChangeState]
type = ChangeState
trigger1 = roundstate != 2
value = 2513
;----------------------------------
[Statedef 2513]
type     = C
movetype = A
physics  = N
anim = 2513
ctrl = 0
velset = 0,0
sprpriority = 0

[State 100, 5]
type = ChangeState
triggerall = time = 1
triggerall = roundstate = 2
trigger1 = numtarget(2000) > 0
trigger1 = target(2000),stateno != 2514
trigger2 = numtarget(2000) = 0
value = 2512

[State ]
type = TargetDrop
trigger1 = target(2000),ishelper
keepone = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = C, HP
getpower = 0
damage = 205
animtype = Hard
hitflag = MAFDP
priority = 7, Hit
pausetime = 0,15
sparkno = -1
sparkxy = -20,-60
hitsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -4,-5.5
air.velocity = -4,-5.5
numhits = 0
p2facing = 1
fall = 1
fall.recover = 0
palfx.time = 40
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = .45
p2stateno = 2515

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 8,< 6
v = 1
value = Ceil(EnemyNear(fvar(36)),Const(data.life) * (Const(data.attack) * 0.0036))-(var(6)-EnemyNear(fvar(36)),life)
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 8,= 6
trigger1 = var(1) > 0
value = -var(1)
kill = 1
absolute = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S5,1
ignorehitpause = 1

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 8,< 0
pos = 30,0

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 4040
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 8
persistent = 0
anim = 1326
postype = P1
pos = 37,-12
sprpriority = 10
supermove = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s13,0

[State 1000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 8
value = 255,255,255
time = 1
under = 1

[State 1000, Helper]
type = Helper
triggerall = numhelper(3270) <= 0
trigger1 = animelem = 8
helpertype = normal
name = "Slow Motion"
stateno = 3270
id = 3270
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State ]
type = TargetDrop
trigger1 = animtime = -1
keepone = 0

[State 100, 5]
type = ChangeState
trigger1 = animtime = 0
trigger1 = var(6) := 0 | 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2514]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = C,HP

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020
elem = 4

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;----------------------------------
[Statedef 2515]
type    = A
movetype= H
physics = N

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -1
kill = 1

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 325, 0]
type = Posfreeze
trigger1 = time = 0

[State 325, 0]
type = posadd
trigger1 = time = 0
x = -15

[State 325, 0]
type = velset
trigger1 = time = 1
x = -4.5
y = -6

[State 325, 0]
type = veladd
trigger1 = time > 0
y = 0.45

[State 325, 0]
type = changeanim2
trigger1 = time = 0
value = 2515

[State 325, 0]
type = velset
triggerall = time > 15
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
x = -2.5

[State 2206, 2]
type = SelfState
triggerall = time > 17
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 2100]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -1000
movetime = 34
time = 34
darken = 0

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7010
pos = 5,-50
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0
volumescale = 150

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 3

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -10

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, ステート変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105

;---------------------------------------------------------------------------
; 強血の暴走

[Statedef 2150]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -1000
movetime = 34
time = 34
darken = 0

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7010
pos = 5,-50
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0
volumescale = 150

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 6

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -10

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, ステート変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105

;---------------------------------------------------------------------------
; 血の暴走着地

[Statedef 2105]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2105
ctrl     = 0
sprpriority = 3

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, HT
damage = 0,0
animtype = Hard
hitflag = M
;priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
p1stateno = 2110
p2stateno = 2120
p2facing = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2,4

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 血の暴走発動

[Statedef 2110]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2110
ctrl     = 0
sprpriority = 3

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = AnimElem = 6
edge = 100,0

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 810,]
type = TargetBind
trigger1 = time = 0
pos = 40, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 7
pos = -70, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 11
pos = -80, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 16
pos = 60, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 15,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 15,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 16
value = 15,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 26
value = 7,23

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(6) > 0 && AnimElemtime(20) < 0
flag = noshadow

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 7
time = 18
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 11
time = 20
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 16
time = 11
value = 210,0,0
under = -1

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(24) < 0
flag = noBG

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
value = -80
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 26
value = -30

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手動作
[Statedef 2120]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(2) > 6 && AnimElemtime(12) < 0
flag = noshadow

[State 2100,]
type = Palfx
trigger1 = AnimElemtime(2) = 7
add = -255,-255,-255
time = 132

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2120

[State 1830]
type = SelfState
trigger1 = Animtime = 0
trigger1 = loseko
value = 5150

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = alive = 1
value = 2125
ctrl = 0


[Statedef 2125]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2125

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5120
;---------------------------------------------------------------------------
;相手動作
[Statedef 2420]
type    = A
movetype= H
physics = S
velset = 0,0

[State 192,]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2120]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 1
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 4
value = 5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 11
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 14
value = 5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2420

[State 820, 1]
type = ChangeAnim
trigger1 = Animtime = 0
value = 5052
;-------------------------------------------------------------------------------
;Freeze Yamibarai
[Statedef 2500]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2500
ctrl     = 0
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S21,5

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0
p2defmul = 1

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -ifelse(fvar(2)=1&&var(7)>0,0,1000)

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7000
pos = -12,-92
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7010
pos = -12,-92
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000, 6]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 1500,]
type = NotHitBy
trigger1 = time = [0,30]
value = SCA

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 196
ID = 1100
pos = -11,-89
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 1
pausemove = 1
sprpriority = 5
removeongethit = 1

[State 902, 3]
type = ChangeState
triggerall = AnimElemtime(2) > 30
trigger1 = time >= 150
trigger2 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = var(59)
value = 2501
;-------------------------------------------------------------------------------
[Statedef 2501]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2501
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,6

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2503
id = 1
postype = P1
pos = -11,-96
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 2
id = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2503
id = 2
postype = P1
pos = -13,-99
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 2

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2503
id = 3
postype = P1
pos = -26,-65
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 4
id = 3

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2503
id = 4
postype = P1
pos = 30,-60
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 5
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2503
id = 4
postype = P1
pos = 31,-77
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 6
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 2503
id = 5
postype = P1
pos = 27,-86
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 7
id = 5

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1100

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 197
postype = P1
pos = 32,-98
sprpriority = 10
bindtime = -1

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S18,11

[State 10000, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Freeze Yamibarai"
ID = 1000
stateno = 2504
pos = 35,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Yamibarai Helper
[StateDef 2504]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1660
poweradd = 0
sprpriority = 8

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1000, VelAdd]
type = Velset
trigger1 = 1
x = 3

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, NP, SP, HP, HA
sparkno = -1
numhits = 0
hitsound = -1
p2stateno = 2020
ignorehitpause = 1

[State 1000,HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, NP, SP, HP, HA

[State 1000, HitOverride]
type = HitOverride
trigger1 = 1
time = -1
attr = SCA, NP, SP, HP, HA
stateno = 2504

[State 1000, ChangeState]
type = ChangeState
trigger1 = p2statetype != A
trigger1 = p2statetype != L
trigger2 = p2statetype = A
trigger2 = p2movetype != H
triggerall = p2bodydist X < 5
value = 2506

[State 1000, ChangeState]
type = ChangeState
trigger1 = time = 35
value = 2506
;-------------------------------------------------------------------------------
;Freeze Yamibarai 2
[Statedef 2550]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2500
ctrl     = 0
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S21,5

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0
p2defmul = 1

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -ifelse(fvar(2)=1&&var(7)>0,0,1000)

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7000
pos = -12,-92
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7010
pos = -12,-92
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000, 6]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 1500,]
type = NotHitBy
trigger1 = time = [0,30]
value = SCA

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 196
ID = 1100
pos = -11,-89
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 1
pausemove = 1
sprpriority = 5
removeongethit = 1

[State 902, 3]
type = ChangeState
triggerall = AnimElemtime(2) > 30
trigger1 = time >= 150
trigger2 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = var(59)
value = 2551
;-------------------------------------------------------------------------------
[Statedef 2551]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2501
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,6

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2503
id = 1
postype = P1
pos = -11,-96
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 2
id = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2503
id = 2
postype = P1
pos = -13,-99
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 2

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2503
id = 3
postype = P1
pos = -26,-65
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 4
id = 3

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2503
id = 4
postype = P1
pos = 30,-60
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 5
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2503
id = 4
postype = P1
pos = 31,-77
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 6
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 2503
id = 5
postype = P1
pos = 27,-86
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 7
id = 5

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1100

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 197
postype = P1
pos = 32,-98
sprpriority = 10
bindtime = -1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1100

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S18,11

[State 10000, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Freeze Yamibarai"
ID = 1000
stateno = 2554
pos = 25,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Impacto
[StateDef 2554]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1660
poweradd = 0
sprpriority = 8

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1000, VelAdd]
type = Velset
trigger1 = 1
x = 6

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, NP, SP, HP, HA
sparkno = -1
numhits = 0
hitsound = -1
p2stateno = 2020
ignorehitpause = 1

[State 1000,HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, NP, SP, HP, HA

[State 1000, HitOverride]
type = HitOverride
trigger1 = 1
time = -1
attr = SCA, NP, SP, HP, HA
stateno = 2554

[State 1000, ChangeState]
type = ChangeState
trigger1 = p2statetype != A
trigger1 = p2statetype != L
trigger2 = p2statetype = A
trigger2 = p2movetype != H
triggerall = p2bodydist X < 5
value = 2506

[State 1000, ChangeState]
type = ChangeState
trigger1 = time = 35
value = 2506
;-------------------------------------------------------------------------------
;Impacto
[StateDef 2506]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2502
poweradd = 0
sprpriority = 5

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "colicion"
stateno = 2514
Id = 983
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 700, Explod]
type = Explod
trigger1 = time = 0
anim = 2504
postype = P1
pos = 0,0
persistent = 0
sprpriority = 9
ownpal = 1
bindtime = -1
removetime = -2
removeongethit = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S18,2

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

;KO Flash Effect
[State 1000, Sp Finish]
type = Explod
triggerall = numexplod(9910) <= 0
trigger1 = winKo = 1 && movehit
anim = 9910
removetime = -2
id = 9910
sprpriority = -9
pos = 0,0
postype = left
bindtime = -1
ignorehitpause = 1
ownpal = 1

[State 1000, Explod]
type = Explod
trigger1 = moveguarded = 1
anim = 4120
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -9
phase = 120
freq = 120

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = moveguarded = 1
value = S8,11

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumHelper(35002)
trigger1 = helper(35002),var(1) != -8
trigger2 = helper(35002),var(2) != -8
trigger3 = helper(35002),var(3) != -8
trigger4 = helper(35002),var(4) != -8
trigger5 = Helper(35002),var(9) != 0
flag = unguardable

[State 3402, hitdef]
type = hitdef
triggerall = Roundstate = 2
trigger1 = Parent,var(20) >= 1
trigger2 = time = 0
trigger2 = Parent,var(20) = 0
attr = C, SP
hitflag = MAF
guardflag = M
damage = 0,10
sprpriority = 8
animtype = Hard
;priority = 4,Hit
guard.pausetime = 0, 1
sparkno = s4025
guard.sparkno = s4120
sparkxy = 10, -44
hitsound = s18,1
guardsound = s8,11
ground.type = Low
air.type = Low
guard.slidetime = 21
guard.hittime = 15
guard.velocity = -15
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2620

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 2505]
type    = S
physics = N
movetype= I
anim = 999
ctrl = 0
velset = 0,0

[state a]
type = posset
trigger1 = ishelper(2525)
trigger1 = enemy(0),stateno = 2620
x = enemy(0),pos x - 0
y = enemy(0),pos y - 0

[state a]
type = posset
trigger1 = ishelper(2526)
trigger1 = enemy(1),stateno = 2620
x = enemy(1),pos x - 0
y = enemy(1),pos y - 0

[State 700, Explod]
type = Explod
trigger1 = ishelper(2525)
trigger1 = numexplod(2625) = 0
trigger1 = enemy(0),movetype = H
trigger1 = enemy(0),stateno = 2620
anim = 2625
ID = 2625
postype = P1
pos = 0,0
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 700, Explod]
type = Explod
trigger1 = ishelper(2526)
trigger1 = numexplod(2626) = 0
trigger1 = enemy(1),movetype = H
trigger1 = enemy(1),stateno = 2620
anim = 2625
ID = 2626
postype = P1
pos = 0,0
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 700, Explod]
type = Explod
trigger1 = enemy(0),movetype = H
trigger1 = enemy(0),prevstateno = 2620
anim = 2630
postype = P1
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
persistent = 0
removeongethit = 1

[State 700, Explod]
type = Explod
trigger1 = enemy(1),movetype = H
trigger1 = enemy(1),prevstateno = 2620
anim = 2630
postype = P1
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
persistent = 0
removeongethit = 1

[State 192, ]
type = AssertSpecial
trigger1 = enemy(0),movetype = H
trigger1 = enemy(0),stateno = 2620
trigger2 = enemy(1),movetype = H
trigger2 = enemy(1),stateno = 2620
flag = nojugglecheck

[State 1001,]
type = RemoveExplod
trigger1 = numexplod(2625)
trigger1 = enemy(0),stateno != 2620
ID = 2625

[State 1001,]
type = RemoveExplod
trigger1 = numexplod(2626)
trigger1 = enemy(1),stateno != 2620
ID = 2626
;----------------------------------
;Efecto de fuego
[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4130
pos = -20,-40
postype = p1
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4135
pos = -20,-40
postype = p1
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4140
pos = -20,-40
postype = p1
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4145
pos = -20,-40
postype = p1
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[state 1000, destroyself]
type = destroyself
trigger1 = ishelper(2525)
trigger1 = enemy(0),movetype = H
trigger1 = enemy(0),stateno != 2620
trigger2 = ishelper(2526)
trigger2 = enemy(1),movetype = H
trigger2 = enemy(1),stateno != 2620
;-------------------------------------------------------------------------------
;Doble Freeze Yamibarai
[Statedef 2540]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2500
ctrl     = 0
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S21,5

[State 2000, 6]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -1000

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7100
pos = -12,-92
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7110
pos = -12,-92
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1500,]
type = NotHitBy
trigger1 = time = [0,30]
trigger2 = var(58) = -123 && palno = 6
value = SCA
time = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 196
ID = 1100
pos = -12,-91
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 1
pausemove = 1
sprpriority = 5
removeongethit = 1

[State 902, 3]
type = ChangeState
triggerall = AnimElemtime(2) > 30
trigger1 = time = 150
trigger2 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = var(59)
value = 2541
;-------------------------------------------------------------------------------
[Statedef 2541]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2501
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,6

[State 1500,]
type = NotHitBy
trigger1 = var(58) = -123 && palno = 6
value = SCA
time = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2503
id = 1
postype = P1
pos = -11,-96
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 2
id = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2503
id = 2
postype = P1
pos = -13,-99
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 2

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2503
id = 3
postype = P1
pos = -26,-65
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 4
id = 3

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2503
id = 4
postype = P1
pos = 30,-60
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 5
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2503
id = 4
postype = P1
pos = 31,-77
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 6
id = 4

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 2503
id = 5
postype = P1
pos = 27,-86
sprpriority = 9
removetime = -1
bindtime = -1
removeongethit = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 7
id = 5

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1100

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 197
postype = P1
pos = 32,-98
sprpriority = 10
bindtime = -1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1100

[State 10000, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Freeze Yamibarai"
stateno = 2542
pos = 58,5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 5

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 2542]
type = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2506
poweradd = 0
sprpriority = 2

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
flag2 = invisible

[State 0, VarAdd]
type = VarAdd
triggerall = Root,Palno != 6
trigger1 = time = 0
trigger2 = var(0) < 9
trigger2 = animelem = 6,= 2
v = 0
value = 1
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = var(0) < 9
triggerall = animelem = 6,= 2
x = 33
y = 0

[State 1000, Helper]
type = Helper
trigger1 = time = 0
trigger2 = var(0) < 9
trigger2 = animelem = 6,= 2
helpertype = normal
name = "Explosiones"
ID = 1000
stateno = 2543
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, AA, AP, AT
sparkno = -1
numhits = 0
hitsound = -1
p2stateno = 2620
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) < 9
triggerall = animelem = 6,= 2
value = 2506
elem = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(0) = 9
trigger1 = root,palno != 6
trigger1 = !numhelper(1000)
trigger2 = FrontEdgeBodyDist < -150
trigger3 = Time = 200
;-------------------------------------------------------------------------------
;doble Avansando
[StateDef 2543]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2506
poweradd = 0
sprpriority = 3

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000,NotHitBy]
type = Nothitby
trigger1 = 1
value = SCA

[State 1000, Explod]
type = Explod
trigger1 = time = 0
trigger1 = parent,var(0) = 8
id = 2504
anim = 2504
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 9

[State 1000, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "colicion"
stateno = 2544
Id = 983
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S18,2
volume = 500
persistent = 9

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumHelper(35002)
trigger1 = helper(35002),var(1) != -8
trigger2 = helper(35002),var(2) != -8
trigger3 = helper(35002),var(3) != -8
trigger4 = helper(35002),var(4) != -8
trigger5 = Helper(35002),var(9) != 0
flag = unguardable

[State 3402, Hitdef]
type = hitdef
triggerall = Roundstate = 2
trigger1 = Parent,var(20) >= 1
trigger2 = time = 0
trigger2 = Parent,var(20) = 0
attr = C, SP
hitflag = MAF
guardflag = M
sprpriority = 8
damage = 0,10
animtype = Hard
priority = 7,Hit
sparkno = s4034
guard.sparkno = s4120
sparkxy = 10, -44
hitsound = s18,-1 + ((parent,var(0) = 8)*3)
guardsound = s8,11
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -7
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2620

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;Colicion
[StateDef 2544]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2505
poweradd = 0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP
time = -1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 2514

[state 1000, destroyself]
type = destroyself
Trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = parent,time = 17
;-------------------------------------------------------------------------------
[Statedef 2505]
type    = S
physics = N
movetype= I
anim = 999
ctrl = 0
velset = 0,0

[State 700, Explod]
type = Explod
trigger1 = time = 0
anim = 2625
ID = 2625
postype = P2
pos = 0,6
persistent = 0
sprpriority = 9
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 700, Explod]
type = Explod
trigger1 = time = 0
anim = 2630
ID = 2625
postype = P2
pos = 0,6
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 192, ]
type = AssertSpecial
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
flag = nojugglecheck

[State 1001,]
type = RemoveExplod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno != 2620
ID = 2625
;----------------------------------
;Efecto de fuego
[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4130
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4135
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4140
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[State 1000, explods]
type = Explod
trigger1 = Random < 50
anim = 4145
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1

[state 1000, destroyself]
type = destroyself
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno != 2620
;---------------------------------------------------------------------------
[Statedef 2620]
movetype= H
physics = N
velset = 0,0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 700,]
type = Palfx
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
trigger10 = time = 90
trigger11 = time = 100
trigger12 = time = 110
trigger13 = time = 120
trigger14 = time = 130
trigger15 = time = 140
trigger16 = time = 150
trigger17 = time = 160
trigger18 = time = 170
trigger19 = time = 180
trigger20 = time = 190
trigger21 = time = 200
trigger22 = time = 210
trigger23 = time = 220
trigger24 = time = 230
trigger25 = time = 240
trigger26 = time = 250
trigger27 = time = 260
trigger28 = time = 270
trigger29 = time = 280
trigger30 = time = 290
time = 10
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 2620, lifeadd]
type = lifeadd
trigger1 = gametime%30 = 0
trigger1 = time >= 30
value = -Ceil(Const(data.life)*0.03)
absolute = 1
ignorehitpause = 1

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = time = [0,25]
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 52, 1]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y != 0
trigger2 = AnimTime = 0
statetype = A

[State 1830]
type = ChangeAnim
trigger1 = anim = [120,159]
Trigger1 = Time < 12
value = 100
elem = 3

[State 1830]
type = ChangeAnim
trigger1 = anim != 2635
Trigger1 = Time < 12
value = anim
elem = animelemno(0)

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 12
Trigger2 = anim = 2635
Trigger2 = Time = 0
value = 2635

[State 1000, PosAdd]
type = PosAdd
trigger1 = time = 0
trigger2 = time = 2
trigger3 = time = 4
trigger4 = time = 6
trigger5 = time = 8
trigger6 = time = 10
x = 1

[State 1000, PosAdd]
type = PosAdd
trigger1 = time = 1
trigger2 = time = 3
trigger3 = time = 5
trigger4 = time = 7
trigger5 = time = 9
trigger6 = time = 11
x = -1

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = ishelper
trigger1 = time = 0

[state haha]
type = destroyself
trigger1 = time = 0

[State 1000, defencemulSet]
type = defencemulSet
trigger1 = 1
value = 1

[State 1830]
type = ChangeState
triggerall = time >= 30
triggerall = anim = 2635
Trigger1 = Enemy(Enemy,Name != "OROCHI-Iori-97"),Var(10) <= 0
Trigger1 = Enemy(Enemy,Name != "OROCHI-Iori-97"),Var(59) <= 0
value = 2630

[State 1830]
type = ChangeState
triggerall = anim = 2635
trigger1 = Animtime = 0
trigger2 = !alive
value = 2630
;-------------------------------------------------------------------------------
;吹っ飛び
[Statedef 2630]
type = A
movetype= H
physics  = N
ctrl = 0

[State 2630, PalFX]
type = PalFX
trigger1 = time = 0
time = 1

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -4
y = -6

[State 52, 1]
type = Veladd
trigger1 = time >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5050

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100
;-------------------------------------------------------------------------------
[Statedef 2800]
type     = S
movetype = A
physics  = S
juggle   = 5
velset   = 0,0
anim     = 2800
poweradd = 0
ctrl     = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 1
trigger1 = var(6) := 0 || 1
anim = -1
movetime = 32
time = 32
darken = 0

[State 100, EnvColor]
type = EnvColor
trigger1 = Time = [2,4]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,36]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -1000

[State 2000]
type = Explod
trigger1 = time = 5
anim = 7100
pos = -4,-119
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 12
anim = 7110
pos = -4,-119
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000, 6]
type = PlaySnd
trigger1 = time = 5
value = s10,0
volumescale = 150

[State 1500,]
type = HitBy
trigger1 = time = 0
value = SC,AT

[State 1500,]
type = NotHitBy
trigger1 = time = [1,31]
value = SCA

[State 1500,]
type = HitBy
trigger1 = time > 31
value = C,AA,AP

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 6
value = s3,0
channel = 7

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 6,>= 0
x = ifelse(p2bodydist x <= 20,3,8)

[State 3000, Afterimage]
type = Afterimage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = AnimElemtime(6) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1000, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Cheap"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1950]
type = HitDef
trigger1 = var(20) >= 1
trigger2 = time = 0
trigger2 = var(20) = 0
attr = S,HA
getpower = 0
damage = 0,0
animtype = up
hitflag = MAF
guardflag = M
;priority = 9
pausetime = 0,0
sparkno = s4025
sparkxy = 0,-45
hitsound = s0,14
guardsound = s8,11
guard.sparkno = s4120
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
p2facing = 1
fall.recover = 0
fall = 1
id = 2000
ground.cornerpush.veloff = 0

[State 1000, movehitreset]
type = movehitreset
triggerall = movehit > 0
trigger1 = numtarget(2000) = 0
trigger2 = numtarget(2000) > 0
trigger2 = target(2000),stateno != 5000 && target(2000),stateno != 5020

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2040
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2801
ctrl = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = Animelem = 9,>= 13
trigger2 = MoveGuarded
value = 2005
;-------------------------------------------------------------------------------
;Maiden
[Statedef 2801]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2801
ctrl     = 0
sprpriority = 3

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 80,0

[State 1000, TargetBind]
type = TargetBind
trigger1 = time = [0,55]
pos = 20,0

[State 1000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 1

[State ]
type = TargetDrop
trigger1 = target(2000),ishelper
keepone = 0

[State 100, 5]
type = ChangeState
triggerall = time = 1
trigger1 = numtarget(2000) > 0
trigger1 = target(2000),stateno != 2040
trigger2 = numtarget(2000) = 0
value = 2511

[State 0, VarSet]
type = VarSet
trigger1 = Numtarget = 2
trigger1 = Enemy(1),Const(data.life) > Enemy(0),Const(data.life)
v = 6
value = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 2
trigger1 = animelem = 8
trigger2 = animelem = 12
trigger3 = animelem = 15
trigger4 = animelem = 19
trigger5 = animelem = 24
trigger6 = animelem = 42
trigger7 = animelem = 50
value = -Ceil(Enemy(var(6)),Const(data.life) * (Const(data.attack) * 0.0004))
kill = 0
absolute = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 2
trigger1 = animelem = 24
value = -Ceil(Enemy(var(6)),Const(data.life) * (Const(data.attack) * 0.0007))
kill = 0
absolute = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 2
trigger1 = time = 320
trigger2 = time = 322
value = -Ceil(Enemy(var(6)),Const(data.life) * (Const(data.attack) * 0.00075))
kill = 1
absolute = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 1
trigger1 = animelem = 8
trigger2 = animelem = 12
trigger3 = animelem = 15
trigger4 = animelem = 19
trigger5 = animelem = 24
trigger6 = animelem = 42
trigger7 = animelem = 50
value = -Ceil(Target(2000),Const(data.life) * (Const(data.attack) * 0.0004))
kill = 0
absolute = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 1
trigger1 = animelem = 24
value = -Ceil(Target(2000),Const(data.life) * (Const(data.attack) * 0.0007))
kill = 0
absolute = 1

[State 1000, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget = 1
trigger1 = time = 320
trigger2 = time = 322
value = -Ceil(Target(2000),Const(data.life) * (Const(data.attack) * 0.00075))
kill = 1
absolute = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,14

[State 1000, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4050
pos = 41,-77
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,34
persistent = 9
channel = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = animelem = 23
v = 21
range = 1,2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = var(58) != -123
trigger1 = fvar(1) != 1
trigger2 = fvar(1) = 1
trigger2 = var(21) = 2
triggerall = animelem = 27
value = S20,2
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = var(58) = -123
trigger1 = fvar(1) != 1
trigger2 = fvar(1) = 1
trigger2 = var(21) = 1
triggerall = animelem = 23
value = S20,4
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = var(58) != -123
trigger1 = fvar(1) != 1
trigger2 = fvar(1) = 1
trigger2 = var(21) = 2
triggerall = animelem = 53
value = S7,34
persistent = 9

[State 1000, TargetBind]
type = TargetBind
trigger1 = animelem = 1
pos = 20,0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 8
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 19
trigger6 = animelem = 24
trigger7 = animelem = 42
trigger8 = animelem = 50
trigger9 = animelem = 58
value = 255,255,255
time = 1
under = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 42
trigger2 = animelem = 50
time = 12
freq = 100
ampl = -3
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
trigger2 = animelem = 12
trigger3 = animelem = 15
trigger4 = animelem = 19
trigger5 = animelem = 24
value = S0,14

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S0,14

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 42
trigger2 = animelem = 50
value = S2,5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 58
value = S5,1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 8
trigger2 = animelem = 15
trigger3 = animelem = 24
anim = 4050
pos = 33,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = animelem = 12
trigger2 = animelem = 19
trigger3 = animelem = 24
anim = 4050
pos = -22,-28
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = animelem = 42
trigger2 = animelem = 50
trigger3 = animelem = 58
anim = 2802
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 42
trigger2 = animelem = 50
trigger3 = animelem = 58
anim = 2803
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = time = [320,340]
time = 1
movetime = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 58
time = 30
freq = 100
ampl = -4
persistent = 9
supermovetime = 999
pausemovetime = 999

[State 1000, Explod]
type = Explod
trigger1 = time = [320,340]
trigger1 = gametime%5 = 0
anim = 4130
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = [320,340]
trigger1 = gametime%5 = 0
anim = 4135
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = [320,340]
trigger1 = gametime%5 = 0
anim = 4140
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = [320,340]
trigger1 = gametime%5 = 0
anim = 4145
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9

[State 0, TargetDrop]
type = TargetDrop
trigger1 = AnimTime = -1
excludeID = -1
keepone = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger1 = var(6) := 0 || 1
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 2040]
type     = S
movetype = H
physics  = N
ctrl = 0
velset = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 1531, 5]
type = PosSet
trigger1 = time = 0
y = 0

[State 1531, 5]
type = ChangeAnim2
trigger1 = time = 0
value = 2040

[State 1221, 3]
type = velset
trigger1 = AnimTime = 0
x = -5.5
y = -5.5

[State 3305, 2]
type = PalFX
trigger1 = time = 320
time = 30
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 1221, 4]
type = changeState
Trigger1 = AnimTime = 0
value = 2041
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 2041]
type    = A
movetype= H
physics = N

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -1
kill = 1

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 3305, 2]
type = PalFX
trigger1 = time = 0
time = 30
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 5101, 1]
type = turn
trigger1 = time = 0

[State 5101, 1]
type = posadd
trigger1 = time = 0
x = -25

[State 5101, 1]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 8

[State 5101, 5]
type = VelAdd
trigger1 = 1
y = .48

[State 5101, 6]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2042

[Statedef 2042]
type    = L
physics = N
movetype= H
ctrl = 0

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0,-9
under = 1

[State 1022, 7]
type = Posset
trigger1 = time = 0
y = 0

[State 1022, 1]
type = statetypeset
trigger1 = time = 1
value = A

[State 1022, 1]
type = changeanim
trigger1 = time = 0
value = 5100

[State 5100, Explod]
type = Explod
trigger1 = Time = 0
anim = f60
pos = 0,0
postype = p1
removetime = -2
pausemove = 1
sprpriority = 9

[State 5100, Explod]
type = Explod
trigger1 = Time = 0
anim = f61
pos = 0,0
postype = p1
removetime = -2
pausemove = 1
sprpriority = -9

[State 1022, 1]
type = playsnd
trigger1 = time = 0
value = f7,1

[State 1022, 8]
type = Changestate
trigger1 = time > 0
value = 2043

[Statedef 2043]          ;
type    = L
physics = N
movetype= H
ctrl = 0

[State 1022, 7]
type = Posset
trigger1 = time = 0
y = 20

[State 1022, 1]
type = changeanim
trigger1 = time = 0
value = 5160

[State 1022, 1]
type = changeanim
trigger1 = time > 8
trigger1 = vel y >= 0
value = 5100

[State 1022, 4]
type = velset
trigger1 = time = 0
y = -5
ignorehitpause = 1

[State 1022, 3]
type = veladd
trigger1 = time >= 0
x = 0.35
y = .45

[State 1022, 4]
type = velmul
trigger1 = 1
x = .8

[State 1022, 8]
type = Changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 2044

[Statedef 2044]
type    = L
physics = N
movetype= H
ctrl = 0

[State 1203, 5]
type = nothitby
trigger1 = 1
value = SCA

[State 1022, 7]
type = Velset
trigger1 = 1
y = 0
x = 0

[State 1022, 7]
type = Posset
trigger1 = time = 0
y = 0

[State 1022, 1]
type = changeanim
trigger1 = 1
value = 5110

[State 1022, 1]
type = playsnd
trigger1 = time = 0
value = f7,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 1022, 8]
type = selfstate
trigger1 = time > 5
trigger1 = !alive
value = 5150

[State 1022, 8]
type = selfstate
trigger1 = time > 35
value = 5120
;-------------------------------------------------------------------------------
;max2
[Statedef 2900]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 2900
facep2 = 1
velset = 0,0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1300, 5]
type = Envcolor
trigger1 = Time = 0
trigger1 = var(6) := 0 || 1
persistent = 0
ignorehitpause = 1
value = 255,255,255
time = 4
under = 1
supermove = 1

[State 1300, 5]
type = Envcolor
trigger1 = Time = 4
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 21
under = 1
supermove = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
trigger1 = var(7) = 0
trigger1 = Power >= 3000
trigger1 = var(7) := 1080
value = -1000

[State 1531, 5]
type = playsnd
trigger1 = time = 0
value = s10,0

[State 50, 4]
type = PlaySnd
trigger1 = animelem = 6
value = s2,1

[State 4120, 1]
type = SuperPause
trigger1 = time = 0
movetime = 35
p2defmul = 1
time = 35
darken = 0
anim = -1

[State 2000]
type = Explod
trigger1 = time = 2
anim = 7100
pos = -4,-79
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 9
anim = 7110
pos = -4,-79
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2100, 5]
type = statetypeset
trigger1 = animelem = 6
value = A

[State 2100, 5]
type = velset
trigger1 = animelem = 6
x = 13
y = -8

[State 2100, 5]
type = veladd
trigger1 = time > 26 && time < 45
y = .8

[State 2100, 5]
type = velset
trigger1 = animelem = 10,= 3
x = 0
y = 0

[State 2100, 5]
type = posset
trigger1 = animelem = 11,>= 0
y = 0

[State 5040, 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, Afterimage]
type = Afterimage
trigger1 = time = 27
trans = add
palbright   =   1,  1,  1
palcontrast = 228,228,228
paladd      =   0,  0,  0
palmul      =   1,  1,  1
time = 20
length = 8
TimeGap = 1
FrameGap = 2

[State 260, 3]
type = width
trigger1 = time > 45 && time < 72
value = 25

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 2900]
type = ReversalDef
trigger1 = animelem = 11,< 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
numhits = 0
pausetime = 0,0
sparkno = -1
hitsound = -1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = p2bodydist x = [-10,100]
trigger1 = animelem = 10
value = 2904
ignorehitpause = 1

[State 3060, 1]
type = HitDef
trigger1 = animelem = 11
attr = ,ST
id = 2900
damage = 0
hitflag = MAF
pausetime = 0,0
getpower = 0,0
givepower = 0,0
priority = 7,hit
sparkno = -1
sparkxy = -1
hitonce = 1
p1stateno = 2901
p2stateno = 2905
ground.type = high
p2facing = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 240, 4]
type = Changeanim
trigger1 = Time = 0 && prevstateno = 2901
value = 2900
elem = 11
;-------------------------------------
[Statedef 2901];max2 success
type    = S
movetype= A
physics = S
ctrl = 0
anim = 2901
velset = 0,0
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 2
value = -2000

[State 701, 1]
type = velset
trigger1 = frontedgedist <= 70
trigger1 = animelem = 3,< 0
x = -4

[State 7800, 3]
type = BGPalfx
trigger1 = animtime < -2
ignorehitpause = 1
supermove = 1
time = 2
add = 358,44,44
mul = 113,0,0
invertall = 1

[State 100, 5]
type = ChangeState
triggerall = time = 1
trigger1 = numtarget(2900) > 0
trigger1 = target(2900),stateno != 2905
trigger1 = numtarget(2901) > 0
trigger1 = target(2901),stateno != 2905
trigger2 = numtarget(2900) = 0
trigger2 = numtarget(2901) = 0
value = 2900

[State 2900]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
numhits = 0
pausetime = 0,0
sparkno = -1
hitsound = -1
p2stateno = 2904
ignorehitpause = 1

[State 2900]
type = Projectile
trigger1 = !numtarget(2901)
trigger1 = animelem = 1
id = 2901
projanim = 2903
projscale = 0,0
projremovetime = 3
attr = S, ST
hitflag = MAF
numhits = 0
priority = 7
sparkno = -1
sparkxy = 40,-80
p1sprpriority = 1
p2sprpriority = 0
p2facing = 1
p2stateno = 2905
persistent = 0

[State 260, 3]
type = width
trigger1 = time = [0,119]
value = 60

[State 912, 5]
type = PlaySnd
trigger1 = time = 2
value = s20,3
channel = 0

[State 912, 5]
type = PlaySnd
trigger1 = time = 95
value = s18,2

[State 912, 5]
type = PlaySnd
trigger1 = time = 96
value = s5,1
volume = 255

[State 192, 4]
type = explod
trigger1 = time = 96
anim = 2902
pos = 70,3
sprpriority = 3
persistent = 0
ownpal = 1

[State 1531, 5]
type = envshake
trigger1 = time = 95
persistent = 0
time = 30
ampl = -5
freq = 255
phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = time = 98
value = 2906
ignorehitpause = 1

[State 1300, 3]
type = targetbind
trigger1 = time < 3
pos = 75,-57
ignorehitpause = 1

[State 1300, 3]
type = targetbind
trigger1 = time = [3,94]
pos = 68,-7
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2802
pos = 58,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2803
pos = 58,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,5

[State 8160, 13]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(8150) < 6
trigger1 = Random < 450
anim = 4130
ID = 8150
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 8160, 14]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(3100) < 5
trigger1 = Random < 400
anim = 4135
ID = 3100
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 8160, 15]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(3100) < 5
trigger1 = Random < 450
anim = 4140
ID = 3100
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 8160, 16]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(3100) < 5
trigger1 = Random < 400
anim = 4145
ID = 3100
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 8160, 17]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(3100) < 6
trigger1 = Random < 600
anim = 4146
ID = 3100
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 8160, 18]
type = Explod
trigger1 = Time >= 95
trigger1 = Time <= 107
trigger1 = NumExplod(3100) < 6
trigger1 = Random < 600
anim = 4147
ID = 3100
sprpriority = 5
pos = 75,-5
random = 120,40
ignorehitpause = 1
ownpal = 1

[State 0, TargetDrop]
type = TargetDrop
trigger1 = AnimTime = -1
excludeID = -1
keepone = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(6) := 0 || 1
value = 0
ctrl = 1
;----------------------------------
; Getting hit by max2
[Statedef 2904]
movetype = H
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 5
value = 2030

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = -1
ignorehitpause = 1

[State 0]
type = PosSet
trigger1 = Time = 2
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = Anim = 2030
trigger1 = Animtime = 0
value = 2515
ctrl = 0
;----------------------------------
[Statedef 2905]
movetype = H
ctrl = 0
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2905

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 2
value = -ifelse(lifemax*.15<150,150,lifemax*.15)
kill = 1
absolute = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 2906
ctrl = 0
;------------------------------------
[Statedef 2906];into air
type    = L
movetype= H
physics = N

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -ifelse(lifemax*.5<500,500,lifemax*.5)
kill = 1
absolute = 1

[State 0]
type = velset
trigger1 = time = 0
x = -4.5
y = -8.4

[State 0]
type = PalFX
trigger1 = time = 0
time = 35
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 325, 0]
type = changeanim
trigger1 = time = 0
value = 5050

[State 5101, 1]
type = posadd
trigger1 = time = 0
x = 10

[State 5101, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 5101, 5]
type = VelAdd
trigger1 = 1
y = .6

[State 5101, 6]
type = changeState
trigger1 = time = 31
trigger2 = vel y > 0
trigger2 = pos y >= 35
value = 2907
;-------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 2907]
type    = L
movetype= H
physics = N

[State 5101, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3]
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6]
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = changeState
trigger1 = AnimTime = 0
value = 2908

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20
;-----------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 2908]
type    = L
movetype= H
physics = N

[State 1221, 3]
type = velset
trigger1 = time = 0 && sysvar(3) != 1
x = -4
y = -5
[State 1221, 3]
type = velset
trigger1 = time = 0 && sysvar(3) = 1
x = -2
y = -5

[State 5101, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 5101, 1]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5]
type = VelAdd
trigger1 = sysvar(3) != 1
y = .75

[State 5101, 5]
type = VelAdd
trigger1 = sysvar(3) = 1
y = .5

[State 5101, 6]
type = nothitby
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time > 9 && sysvar(3) = 1
trigger2 = time = 10 && sysvar(3) != 1
value = SCA
time = 1

[State 5101, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 30
trigger1 = time > 9 && sysvar(3) = 1
trigger2 = time = 10 && sysvar(3) != 1
value = 5110

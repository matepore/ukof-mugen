;弱Ｍ４型ベイパーキャノン
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(16) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = AnimElem = 3
trigger1 = var(59) != 1
trigger1 = command = "hold_x"
trigger2 = var(59) = 1
trigger2 = p2bodydist X = [0,70]
trigger2 = p2Stateno = [120,155]
trigger2 = Random = [0,150]
var(16) = 1
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,0
channel = 0
volume = 255

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = !var(16)
value = 10,0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 12

[State 1000,4]
type = helper
trigger1 = AnimElem = 3
trigger1 = !var(16)
stateno = 1050
id = 1050
name = "vapor"
pos = -10,-90
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 5
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 7
Movetype = I

[State 1000, end]
type = ChangeState
trigger1 = AnimElem = 4
trigger1 = var(16)
value = 1020
ctrl = 1

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強Ｍ４型ベイパーキャノン
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1010
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(16) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = AnimElem = 3
trigger1 = var(59) != 1
trigger1 = command = "hold_y"
trigger2 = var(59) = 1
trigger2 = p2bodydist X = [0,70]
trigger2 = p2Stateno = [120,155]
trigger2 = Random = [0,150]
var(16) = 1
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,0
channel = 0
volume = 255

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = !var(16)
value = 10,0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 15

[State 1000,4]
type = helper
trigger1 = AnimElem = 3
trigger1 = !var(16)
stateno = 1050
id = 1050
name = "vapor"
pos = -10,-90
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 5
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 7
Movetype = I

[State 1000, end]
type = ChangeState
trigger1 = AnimElem = 4
trigger1 = var(16)
value = 1020
ctrl = 1

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ベイパーキャノンフェイント
[Statedef 1020]
type = S
movetype = I
physics = S
anim = 1020
poweradd = 0
ctrl = 0
velset = 0
facep2 = 0

[State 1000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(16) = 0
ignorehitpause = 1

[State 1000, stopSnd]
type = stopSnd
trigger1 = time = 0
channel = 0

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 8

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ベイパーキャノンヘルパー
[Statedef 1050]
type = S
movetype = A
physics = N
anim = 1050
ctrl = 0
velset = 0
sprpriority = 3

[State 1000, 2]
type = Width
trigger1 = 1
value = 0,0

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000,Trans]
Type = Trans
Trigger1 = 1
Trans = addalpha
alpha = 128,256

[State 200, ice]
type = Explod
trigger1 = AnimElem = 3
anim = 1060
ID = 1060
postype = p1
pos = 10,3
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0
sprpriority = 4

[State 200, ice]
type = Explod
trigger1 = AnimElem = 5
anim = 1070
ID = 1070
postype = p1
pos = 145,19
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 4
attr = S, SA
hitflag = MAFP
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 0, 12
damage = ifelse((root,Stateno = 1000),140,154),10
guard.pausetime = 0, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, 10
hitsound = S200,4
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = -10,-6
guard.velocity = -12
air.velocity = -10,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = -10
guard.cornerpush.veloff = -10
air.cornerpush.veloff = -10
airguard.cornerpush.veloff = -10
air.juggle = ifelse(root,var(12),16,9)
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 3000, Targetstate]
type = Targetstate
trigger1 = movehit = 1
value = 1080

[state -2]
type = ParentVarset
trigger1 = movehit = 1
var(12) = 1
ignorehitpause = 1

[state 1051, destroyself]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = root,movetype = H
trigger3 = Stateno != 1050

;---------------------------------------------------------------------------
;ベイパーキャノン相手動作
[Statedef 1080]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 1080, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1080

[State 1080, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 1081

;---------------------------------------------------------------------------
;ベイパーキャノン相手動作２（吹き飛び）
[Statedef 1081]
type = A
movetype = H
physics = N
ctrl = 0

[State 1081, HitVelSet]
type = VelSet
trigger1 = Time = 0
x = -12
y = -6.3

[State 1140, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = enemy,facing = -1
trigger1 = facing = 1
trigger2 = enemy,facing = 1
trigger2 = facing = -1
x = -12
y = -6.3

[State 1140, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = enemy,facing = 1
trigger1 = facing = 1
trigger2 = enemy,facing = -1
trigger2 = facing = -1
x = 12
y = -6.3

[State 1081, VelAdd]
type = VelAdd
trigger1 = 1
y = .4

[State 1081, ScreenBound]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1081, ChangeState]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1082

[State 1082, Hit ground]
type = SelfState
trigger1 = Vel y > 0
trigger1 = Pos y >= 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
;ベイパーキャノン相手動作３（壁バウンド）
[Statedef 1082]
type    = A
movetype= H
physics = N

[State 1082, Turn]
type = null;Turn
trigger1 = Time = 0
trigger1 = FrontEdgeBodyDist <= 30

[State 1082, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 1082

[State 1082, PosFreeze]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1082, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1000, 0]
type = EnvShake
trigger1 = time = 1
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 2002, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1083

;---------------------------------------------------------------------------
;ベイパーキャノン相手動作４（落下）
[Statedef 1083]
type    = A
movetype= H
physics = N

[State 2003, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -4

[State 2003, Vel X]
type = null;VelSet
trigger1 = Time = 0
x = 0.7

[State 1140, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = enemy,facing = -1
trigger1 = facing = 1
trigger2 = enemy,facing = 1
trigger2 = facing = -1
x = 0.7

[State 1140, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = enemy,facing = 1
trigger1 = facing = 1
trigger2 = enemy,facing = -1
trigger2 = facing = -1
x = -0.7

[State 2003, Gravity]
type = VelAdd
trigger1 = 1
y = .7

[State 1083, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 1083, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1083, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 2003, Hit ground]
type = SelfState
trigger1 = Vel y > 0
trigger1 = Pos y >= 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
;弱ＳＹＳＴＥＭ１・２：マキシマ・スクランブル
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
juggle = ifelse(var(12),16,9)
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = animelem=3,>0 && animelem=6,<0
trigger1 = var(59) != 1
trigger1 = command = "scramble1"
trigger2 = var(59) = 1
trigger2 = roundstate = 2
trigger2 = NumTarget
trigger2 = p2statetype != A
trigger2 = p2stateno = [5000,5999]
var(17) = 1
ignorehitpause = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,11

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1,1
channel = 0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 12

[State 200, ice]
type = Explod
trigger1 = AnimElem = 1
anim = 1150
ID = 1150
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0
sprpriority = 3

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 3
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 35,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = -8.5,0
guard.velocity = -12
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = -10
guard.cornerpush.veloff = -10
air.cornerpush.veloff = -10
airguard.cornerpush.veloff = -10
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 5
Movetype = I

[State 1000, end]
type = ChangeState
trigger1 = var(17) = 1
trigger1 = animelem=3,>0 && animelem=6,<0
value = 1120
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強ＳＹＳＴＥＭ１・２：マキシマ・スクランブル
[Statedef 1110]
type = S
movetype = A
physics = S
juggle = ifelse(var(12),16,9)
anim = 1110
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = animelem=4,>0 && animelem=7,<0
trigger1 = var(59) != 1
trigger1 = command = "scramble2"
trigger2 = var(59) = 1
trigger2 = roundstate = 2
trigger2 = NumTarget
trigger2 = p2statetype != A
trigger2 = p2stateno = [5000,5999]
var(17) = 1
ignorehitpause = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,11

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1,1
channel = 0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 12

[State 200, ice]
type = Explod
trigger1 = AnimElem = 1
anim = 1150
ID = 1150
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0
sprpriority = 3

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 4
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 35,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = -8.5,0
guard.velocity = -12
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = -10
guard.cornerpush.veloff = -10
air.cornerpush.veloff = -10
airguard.cornerpush.veloff = -10
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 6
Movetype = I

[State 1000, end]
type = ChangeState
trigger1 = var(17) = 1
trigger1 = animelem=4,>0 && animelem=7,<0
value = 1125
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;弱ダブルボンバー
[Statedef 1120]
type = S
movetype = A
physics = S
juggle = ifelse(var(12),16,9)
anim = 1120
poweradd = 50
ctrl = 0
velset = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = animelem=2,>0 && animelem=11,<0
trigger1 = var(59) != 1
trigger1 = command = "buldog1"
trigger2 = var(59) = 1
trigger2 = roundstate = 2
trigger2 = NumTarget
trigger2 = p2statetype != A
trigger2 = p2stateno = [5000,5999]
var(17) = 1
ignorehitpause = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,11

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,2
channel = 0
volume = 255

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1,3
channel = 0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 8

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 3
x = 12

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 4
x = 15

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 5
x = 7

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 6
x = 17

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 8
x = 10


[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 7
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 28,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 10
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 14
damage = 28,10
guard.pausetime = 12, 14
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.hittime  = 15
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 1000, end]
type = ChangeState
trigger1 = var(17) = 1
trigger1 = AnimElem = 12
value = 1130
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強ダブルボンバー
[Statedef 1125]
type = S
movetype = A
physics = S
juggle = ifelse(var(12),16,9)
anim = 1120
poweradd = 50
ctrl = 0
velset = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = animelem=2,>0 && animelem=11,<0
trigger1 = var(59) != 1
trigger1 = command = "buldog2"
trigger2 = var(59) = 1
trigger2 = roundstate = 2
trigger2 = NumTarget
trigger2 = p2statetype != A
trigger2 = p2stateno = [5000,5999]
var(17) = 1
ignorehitpause = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,11

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,2
channel = 0
volume = 255

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1,3
channel = 0
volume = 255

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 12

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 3
x = 16

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 4
x = 19

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 5
x = 11

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 6
x = 21

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 8
x = 14


[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 7
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 28,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 10
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 14
damage = 28,10
guard.pausetime = 12, 14
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.hittime  = 15
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -4,-6
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 1000, end]
type = ChangeState
trigger1 = var(17) = 1
trigger1 = AnimElem = 12
value = 1130
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブルドッグプレス
[Statedef 1130]
type = S
movetype = A
physics = S
juggle = ifelse(var(12),16,9)
anim = 1130
poweradd = 0
ctrl = 0
velset = 0

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 3
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 0,0
damage = 0,0
guard.pausetime = 0,0
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -85
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = -12
air.velocity = 0,0
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5
p2facing = 1

[State 3000, Targetstate]
type = Targetstate
trigger1 = movehit
value = 1140
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = movehit
value = 1135
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブルドッグプレス（ヒット）
[Statedef 1135]
type = S
movetype = A
physics = N
anim = 1135
poweradd = 0
ctrl = 0
velset = 0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 43,-130

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 2
pos = 48,-118

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 3
pos = 39,-93

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 4
pos = 43,-65

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=5,>0 && animelem=5,<7
pos = 39,-20

[State 2210, 19]
type = targetstate
trigger1 = animelem = 5 = 7
value = 1141

[State 1420, Damage2]
type = TargetLifeAdd
trigger1 = animelem = 5
value = Ceil(-91*fvar(0))

[State 1420, hitadd]
type = hitadd
trigger1 = animelem = 5
value = 1

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 5
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,0
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 10,1
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1,4
channel = 0
volume = 255

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブルドッグプレス（２Ｐ処理）
[Statedef 1140]
type    = S
movetype= H 
physics = N
ctrl = 0
facing = enemy,facing

[State 1370, Sprite2]
type = SprPriority
trigger1 = time <= 34
value = 3

[State 1370, Sprite2]
type = SprPriority
trigger1 = time > 34
value = 1

[State 850, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 850, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1140

;---------------------------------------------------------------------------
;ブルドッグプレス（２Ｐ処理２）
[Statedef 1141]
type = A
movetype = H
physics = N
velset = 0

[State 1140, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = -7


[State 1140, VelSet]
type = null;VelSet
triggerall = time = 0
trigger1 = enemy,facing = -1
trigger1 = facing = 1
trigger2 = enemy,facing = 1
trigger2 = facing = -1
x = -5
y = -7

[State 1140, VelSet]
type = null;VelSet
triggerall = time = 0
trigger1 = enemy,facing = 1
trigger1 = facing = 1
trigger2 = enemy,facing = -1
trigger2 = facing = -1
x = 5
y = -7

[State 1140, VelAdd]
type = VelAdd
Trigger1 = 1
y = .55

[State 1140, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 851, end]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;弱ＳＹＳＴＥＭ３：マキシマ・リフト
[Statedef 1200]
type = S
movetype = A
physics = N
anim = 1200
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5
channel = 0
volume = 255

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,2
volume = 0

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3,= 0
x = 2.1

[State 1300, VelMul]
type = VelMul
trigger1 = animelem=3,>0 && animelem=4,<0
x = 1.1

[State 1300, VelMul]
type = VelMul
trigger1 = animelem=4,>0 && animelem=5,<0
x = 0.8

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 200, ice]
type = Explod
trigger1 = AnimElem = 3
anim = 1250
ID = 1250
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 4
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 905, 13]
type = ChangeState
trigger1 = animelem=3,>0 && animelem=5,<0
trigger1 = P2BodyDist X <= 15
value = 1210

[State 905, 13]
type = ChangeState
triggerall = (command = "a") || (command = "b")
triggerall = command = "holdfwd"
trigger1 = animelem=3,>0 && animelem=5,<0
value = 1220

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強ＳＹＳＴＥＭ３：マキシマ・リフト
[Statedef 1205]
type = S
movetype = A
physics = N
anim = 1205
poweradd = 50
ctrl = 0
velset = 0
facep2 = 1

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5
channel = 0
volume = 255

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,2
volume = 0

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3,= 0
x = 2.7

[State 1300, VelMul]
type = VelMul
trigger1 = animelem=3,>0 && animelem=4,<0
x = 1.1

[State 1300, VelMul]
type = VelMul
trigger1 = animelem=4,>0 && animelem=5,<0
x = 0.8

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 200, ice]
type = Explod
trigger1 = AnimElem = 3
anim = 1250
ID = 1250
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 4
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 905, 13]
type = ChangeState
trigger1 = animelem=3,>0 && animelem=5,<0
trigger1 = P2BodyDist X <= 15
value = 1210

[State 905, 13]
type = ChangeState
triggerall = (command = "a") || (command = "b")
triggerall = command = "holdfwd"
trigger1 = animelem=3,>0 && animelem=5,<0
value = 1220

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ＳＹＳＴＥＭ３：マキシマ・リフト（攻撃）
[Statedef 1210]
type = S
movetype = A
physics = S
anim = 1210
poweradd = 0
ctrl = 0
velset = 0

[State 800, 1]
type = HitDef
Trigger1 = Animelem =2
trigger1 = P2Stateno != 40
trigger1 = P2Stateno != [150,155]
attr = S, ST
animtype = Hard
getpower  = 25,25
givepower = 0
hitflag = M
priority = 7, Miss
numhits = 0
pausetime = 0,0
hitsound = -1
sprpriority = 2
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 1215
p2stateno = 1240

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ＳＹＳＴＥＭ３：マキシマ・リフト（投げ）
[Statedef 1215]
type = S
movetype = A
physics = N
anim = 1215
poweradd = 0
ctrl = 0
velset = 0

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0
ignorehitpause = 1

[State 1000, 1]
type = VarSet
triggerall = (command = "a") || (command = "b")
trigger1 = animelem=2,>0 && animelem=8,<0
trigger1 = (command = "holdfwd") || (command ="holdback" ) 
trigger2 = animelem=8,>0 && animelem=10,<0
trigger2 = command = "holdfwd"
var(17) = 1
ignorehitpause = 1

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 25,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 2
pos = 15,-38

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 3
pos = 15,-120

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 4
pos = 0,-110

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 5
pos = 10,-100

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 6
pos = -5,-70

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 7
pos = 20,-100

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 8
pos = 30,-50

[State 1420, Damage2]
type = TargetLifeAdd
trigger1 = animelem = 8
value = Ceil(-140*fvar(0))

[State 2210, 19]
type = targetstate
trigger1 = animelem=6,>0 && animelem=9,<0
trigger1 = var(17) = 1
value = 1245

[State 2210, 19]
type = targetstate
trigger1 = animelem = 9
value = 1241

[State 1420, hitadd]
type = hitadd
trigger1 = animelem = 8
value = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,0
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 200,2
volume = 0

[State 200, ice]
type = Explod
trigger1 = AnimElem = 9
anim = 10101
ID = 10101
postype = p1
pos = 30,-50
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 905, 13]
type = ChangeState
triggerall = var(17) = 1
trigger1 = animelem=6,>0 && animelem=10,<0
value = 1220

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;セントーンプレス
[Statedef 1220]
type = S
movetype = A
physics = N
anim = 1220
poweradd = 0
ctrl = 0
velset = 0

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,3
channel = 0
volume = 255

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 4
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 4,= 0
x = 5
y = -6.7

[State 1100, 4]
type = VelAdd
trigger1 = AnimElem = 4 >= 0
y = .5

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 6
attr = S, SA
hitflag = MAF
guardflag = ifelse((prevstateno = [1200,1210]),HA,MA)
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 84,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = -3,-6
guard.velocity = -12
air.velocity = -3,-9
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.juggle = ifelse(var(12),16,9)
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .46
id = 1220

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 7
attr = S, SA
hitflag = MAF
guardflag = ifelse((prevstateno = [1200,1210]),HA,MA)
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
pausetime = 12, 12
damage = 84,10
guard.pausetime = 12, 12
sparkno = S10103
guard.sparkno = S10152
sparkxy = -10, -65
hitsound = S200,2
guardsound = S200,6
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = -12
air.velocity = -3,-9
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.juggle = ifelse(var(12),16,9)
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .46
id = 1221
nochainID = 1220

[State 1001, 21]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1225

;---------------------------------------------------------------------------
;セントーンプレス（着地）
[Statedef 1225]
type = S
movetype = I
physics = S
anim = 1225
velset = 0,0

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 1
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 1002, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;マキシマ・リフト（２Ｐ処理）
[Statedef 1240]
type    = S
movetype= H 
physics = N
ctrl = 0
facing = enemy,facing

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = 1

[State 850, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 850, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1240

;---------------------------------------------------------------------------
;マキシマ・リフト（２Ｐ処理２）
[Statedef 1241]
type = A
movetype = H
physics = N

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = -20

[State 1140, VelSet]
type = turn
trigger1 = time = 0

[State 1140, VelSet]
type = VelSet
trigger1 = time = 0
x = 3.5
y = -6.5

[State 1140, VelAdd]
type = VelAdd
Trigger1 = 1
y = .45

[State 1140, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 851, end]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;マキシマ・リフト（２Ｐ処理２）攻撃前セントーン派生版
[Statedef 1245]
type = A
movetype = H
physics = N

[State 1140, VelSet]
type = turn
trigger1 = time = 0

[State 1140, VelSet]
type = VelSet
trigger1 = time = 0
x = 4
y = -5.5

[State 1140, VelAdd]
type = VelAdd
Trigger1 = 1
y = .5

[State 1140, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 851, end]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;---------------------------------------------------------------------------
;弱Ｍ１９型　ブリッツキャノン
[Statedef 1300]
type = S
movetype = A
physics = N
juggle = ifelse((prevstateno = 270),0,(ifelse((var(12)),16,9)))
anim = 1300
poweradd = 0
ctrl = 0
velset = 0

[State -2, Combo]
type = VarSet
trigger1 = time = 0
trigger1 = NumTarget(270)
trigger1 = prevstateno = 270
var(12) = 0
ignorehitpause = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2,= 0
x = 3
y = -6.7

[State 1100, 4]
type = VelAdd
trigger1 = AnimElem = 2 >= 0
y = .44

[State 1100, 4]
type = Velmul
trigger1 = AnimElem = 4 >= 0
x = 0.99

[State -3, 2];ノーマルジャンプ音
type = PlaySnd
trigger1 = AnimElem = 2,= 0
value = 40, 2


[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 3
attr = S, SA
hitflag = AF
guardflag = MA
animtype = Light
air.animtype = Light
fall.animtype = Light
priority = 3,Hit
pausetime = 11, 10
damage = 0,0
guard.pausetime = 11, 10
sparkno = -1
guard.sparkno = S10152
sparkxy = 0, -130
hitsound = S800,0
guardsound = S200,6
ground.type = high
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = -12
air.velocity = 0,0
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .46
p2facing = 1

[State 3000, Targetstate]
type = Targetstate
trigger1 = movehit
value = 1340
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = movehit
value = 1330
ignorehitpause = 0

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 4
Movetype = I

[State 1000, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1320


;---------------------------------------------------------------------------
;強Ｍ１９型　ブリッツキャノン
[Statedef 1310]
type = S
movetype = A
physics = N
juggle = ifelse((prevstateno = 270),0,(ifelse((var(12)),16,9)))
anim = 1310
poweradd = 0
ctrl = 0
velset = 0

[State -2, Combo]
type = VarSet
trigger1 = time = 0
trigger1 = NumTarget(270)
trigger1 = prevstateno = 270
var(12) = 0
ignorehitpause = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2,= 0
x = 4
y = -6.8

[State 1100, 4]
type = VelAdd
trigger1 = AnimElem = 2 >= 0
y = .44

[State 1100, 4]
type = Velmul
trigger1 = AnimElem = 4 >= 0
x = 0.98

[State -3, 2];ノーマルジャンプ音
type = PlaySnd
trigger1 = AnimElem = 2,= 0
value = 40, 2

[State 241, HitDef]
type = HitDef
trigger1 = ifelse(Var(20) = 1,var(12) = 0,p2life > 0)
trigger1 = AnimElem = 3
attr = S, SA
hitflag = AF
guardflag = MA
animtype = Light
air.animtype = Light
fall.animtype = Light
priority = 3,Hit
pausetime = 11, 10
damage = 0,0
guard.pausetime = 11, 10
sparkno = -1
guard.sparkno = S10152
sparkxy = 0, -130
hitsound = S800,0
guardsound = S200,6
ground.type = high
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.hittime  = 18
;guard.ctrltime = 9
ground.velocity = 0,0
guard.velocity = -12
air.velocity = 0,0
airguard.velocity = -2.5,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.juggle = ifelse((var(12)),16,(ifelse((prevstateno = 270),0,9)))
getpower = 25,25
givepower = 10,10
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .46
p2facing = 1

[State 3000, Targetstate]
type = Targetstate
trigger1 = movehit
value = 1340
ignorehitpause = 0

[State 1000, end]
type = ChangeState
trigger1 = movehit
value = 1330
ignorehitpause = 0

[State 1001, 21]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1320

;---------------------------------------------------------------------------
;Ｍ１９型　ブリッツキャノン（着地）
[Statedef 1320]
type = S
movetype = I
physics = S
velset = 0,0

[State 1140, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((prevstateno = [1300,1310]),1320,1335)

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1002, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;ブリッツキャノン（ヒット）
[Statedef 1330]
type = S
movetype = A
physics = N
anim = 1330
poweradd = 0
ctrl = 0
velset = 0

[State 1100, Velocity]
type = VelSet
trigger1 = time = 1
x = 2
y = -3

[State 1100, 4]
type = VelAdd
trigger1 = animelem=1,>=0 && animelem=1,<10
x = .1
y = .1

[State 1100, 4]
type = VelSet
trigger1 = AnimElem = 1 = 10
x = 0
y = 0

[state 1000, PosFreeze]
type = PosFreeze
trigger1 = animelem=1,>10 && animelem=7,<0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=1,>=0 && animelem=2,<0
pos = 38,-141

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=2,>=0 && animelem=7,<0
pos = 42,-60

[State 1140, VelAdd]
type = Velset
Trigger1 = AnimElem = 7 
x = -2
y = -2

[State 1140, VelAdd]
type = VelAdd
Trigger1 = AnimElem = 7 >= 0
y = .5

[State 2210, 19]
type = targetstate
trigger1 = animelem = 7
value = 1341

[State 1420, Damage2]
type = TargetLifeAdd
trigger1 = animelem = 5 = 2
value = Ceil(-154*fvar(0))

[State 1420, hitadd]
type = hitadd
trigger1 = animelem = 5 = 2
value = 1

[State 200, 2]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 800,0
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,4
volume = 0

[State 200, ice]
type = Explod
trigger1 = AnimElem = 5
anim = 1350
ID = 1350
postype = p1
pos = 5,-90
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 5
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 1082, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1001, 21]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1320

;---------------------------------------------------------------------------
;ブリッツキャノン（２Ｐ処理）
[Statedef 1340]
type    = S
movetype= H 
physics = N
ctrl = 0
facing = enemy,facing

[State 1000, Sprite]
type = SprPriority
trigger1 = 1
value = 1

[State 850, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 850, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1340

[State 1082, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

;---------------------------------------------------------------------------
;ブリッツキャノン（２Ｐ処理２）
[Statedef 1341]
type = A
movetype = H
physics = N
velset = 0

[State 1140, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 7

[State 1140, VelAdd]
type = VelAdd
Trigger1 = 1
y = .5

[State 1140, ChangeAnim]
type = null;ChangeAnim
trigger1 = Time = 0
value = 5050

[State 851, end]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;Ｍ１１型　デンジャラスアーチ
[Statedef 1400]
type = S
movetype = A
physics = S
juggle = ifelse(var(12),16,9)
anim = 1400
poweradd = 0
ctrl = 0
velset = 0

[State 800, 1]
type = HitDef
Trigger1 = Animelem = 1
trigger1 = P2Stateno != 40
trigger1 = P2Stateno != [150,155]
attr = S, ST
animtype = Hard
getpower  = 25,25
givepower = 0
hitflag = M
priority = 7, Miss
numhits = 0
pausetime = 0,0
hitsound = -1
sprpriority = 2
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 1410
p2stateno = 1420

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Ｍ１１型　デンジャラスアーチ（投げ）
[Statedef 1410]
type = S
movetype = A
physics = N
anim = 1410
poweradd = 0
ctrl = 0
velset = 0

[State 1000, 2]
type = Width
trigger1 = 1
value = 15,15

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=1,>=0 && animelem=2,<0
pos = 15,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=2,>=0 && animelem=3,<0
pos = 15,-95

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=3,>=0 && animelem=5,<0
pos = 25,-61

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=5,>=0 && animelem=6,<0
pos = 15,-100

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=6,>=0 && animelem=7,<0
pos = -30,-90

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=7,>=0 && animelem=8,<0
pos = -60,-70

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem=8,>=0 && animelem=9,<0
pos = -60,0

[State 1420, Damage2]
type = TargetLifeAdd
trigger1 = animelem = 8
value = Ceil(-154*fvar(0))

[State 1420, hitadd]
type = hitadd
trigger1 = animelem = 2
trigger2 = animelem = 8
value = 1

[State 2210, 19]
type = targetstate
trigger1 = animelem = 9
value = 1421

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,12
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 10,1
volume = 0

[State 200, ice]
type = Explod
trigger1 = AnimElem = 2
anim = 10101
ID = 10101
postype = p1
pos = 15,-80
bindtime = 1
sprpriority = 3
ownpal = 1
removeongethit = 0
removetime = -2
persistent = 0

[State 1000, 0]
type = EnvShake
trigger1 = AnimElem = 8
time = 14
freq = 170
ampl = -4
phase = 170
ignorehitpause = 0
persistent = 0

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 11
x = -8

[State 1000, 1]
type = posadd
trigger1 = AnimElem = 12
x = -6

[State 1000, 1]
type = turn
trigger1 = AnimElem = 16 = 0

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;デンジャラスアーチ（２Ｐ処理）
[Statedef 1420]
type    = S
movetype= H 
physics = N
ctrl = 0
facing = enemy,facing

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = 1

[State 850, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 850, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1420

;---------------------------------------------------------------------------
;デンジャラスアーチ（２Ｐ処理２）
[Statedef 1421]
type = A
movetype = H
physics = N

[State 1140, VelSet]
type = VelSet
trigger1 = time = 0
x = 4.7
y = -4.5

[State 1140, VelAdd]
type = VelAdd
Trigger1 = 1
y = .45

[State 1140, ChangeAnim]
type = ChangeAnim
trigger1 = 1420
trigger1 = AnimTime = 0
value = 5050

[State 851, end]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

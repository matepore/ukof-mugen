;===========================================================================================================================
;Igniz Eagrose Version, original AI by マ`ダ`ライセンス若本, enhanced by Eagrose
;;I owe my thanks to マ`ダ`ライセンス若本
;CNS file part: States that are executed when in self's state file (use statedef -3)
;===========================================================================================================================
[Statedef -3]

;===========================================================================================================================
;Player AI Option
;===========================================================================================================================
[State -3, infinite combo until p2 is nearly dead then ended with hypermoves];永久无限连
type = null;varset     ;<=== if you want igniz AI to perform infinite CHAINBLADE combo, change null to varset.
TriggerAll = var(59)
Trigger1 = fvar(37) >= 1
fvar(37)= ifelse((EnemyNear(floor(fvar(36))),life >= 100),9,4)
ignorehitpause = 1



[State -3, AI Supernatual Reacting Level 1-12];AI超反应等级 1-13
Type = VarSet
triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = RoundState = [1,2]             ;1 - intro, 2 - Fight
TriggerAll = !var(59)
Trigger1  = Command = "AI0"  || Command = "AI1"  || Command = "AI2"
Trigger2  = Command = "AI3"  || Command = "AI4"  || Command = "AI5"
Trigger3  = Command = "AI6"  || Command = "AI7"  || Command = "AI8"
Trigger4  = Command = "AI9"  || Command = "AI10" || Command = "AI11"
Trigger5  = Command = "AI12" || Command = "AI13" || Command = "AI14"
Trigger6  = Command = "AI15" || Command = "AI16" || Command = "AI17"
Trigger7  = Command = "AI18" || Command = "AI19" || Command = "AI20"
Trigger8  = Command = "AI21" || Command = "AI22" || Command = "AI23"
Trigger9  = Command = "AI24" || Command = "AI25" || Command = "AI26"
Trigger10 = Command = "AI27" || Command = "AI28" || Command = "AI29"
Trigger11 = Command = "AI30" || Command = "AI31" || Command = "AI32"
Trigger12 = Command = "AI33" || Command = "AI34" || Command = "AI35"   ;前36条件用于command型 AI开关，当按下人类无法按出的指令的时候触发
Trigger13 = numhelper(96600)   ;helper共享所有根人物的-1 -2 -3 state，helper能收到键盘指令但收不到CPU指令
Trigger13 = helper(96600),var(59)
trigger14 = ishometeam      ;in arcade, CPU always ishometeam
trigger14 = (teamside>1) || (matchno>1)
;trigger15 = 1     ;常rAI起
var(59) = 12       ;var(59) AI超反应等级 1-13
ignorehitpause = 1
;AI Level
;Range 1 - 12, 13
;Note: level 13 is not suggested, it will cause AI to be very defensive.


;===========================================================================================================================
;论外
;===========================================================================================================================
;=====================论外=====================
[State 0, Helper];混线检测、全局当身+永续target、NOKO保持、抵抗变数弄
type = Helper
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(701100)
trigger1 = 1
;trigger3 = stateno = 0 && ctrl = 0
helpertype = player
name = "God Igniz Core Helper"
ID = 701100
stateno = 701100
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

;--------------------------------------
[State -2, VarSet];抵抗palno弄
type = VarSet
triggerall = Name = "Igniz Eagrose Version"
triggerall = AuthorName = "Gonzo-,Eagrose"
triggerall = !ishelper
triggerall = roundstate = 0
trigger1 = roundno = 1
trigger1 = palno = 12
var(51) = 6666
ignorehitpause = 1

[State -2, VarSet];抵抗palno弄 本体遭到变数弄检测
type = VarSet
triggerall = Name = "Igniz Eagrose Version"
triggerall = AuthorName = "Gonzo-,Eagrose"
triggerall = !ishelper
triggerall = roundstate > 0
trigger1 = var(51) != 0
trigger1 = var(51) != 6666
var(51) = 6666
ignorehitpause = 1

[State -2, VarSet];抵抗palno弄 Helper开幕占有变数弄抵抗
type = VarSet
triggerall = Name = "Igniz Eagrose Version"
triggerall = AuthorName = "Gonzo-,Eagrose"
triggerall = !ishelper
triggerall = roundstate > 0
trigger1 = !numhelper(701100)
trigger2 = numhelper(701100)
trigger2 = helper(701100),stateno!=701100
trigger3 = numhelper(701100)
trigger3 = helper(701100),stateno=701100
trigger3 = helper(701100),var(51)=6666
var(51) = 6666
ignorehitpause = 1

;--------------------------------------
[State 0, Helper];死星技helper永久重建 "Armageddon ball launch visual Helper"
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(2702)
trigger1 = roundstate <= 3
helpertype = player
name = "Armageddon ball launch visual Helper"
ID = 2702
stateno = 792702
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];死星技helper永久重建 "Armageddon ball power gathering visual Helper"
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(2703)
trigger1 = roundstate <= 3
helpertype = player
name = "Armageddon ball power gathering visual Helper"
ID = 2703
stateno = 792703
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];死星技helper永久重建 "Armageddon ball Proj Helper"
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(2704)
trigger1 = roundstate <= 3
helpertype = player
name = "Armageddon ball Proj Helper"
ID = 2704
stateno = 792704
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];OTHK受体
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(701110)
trigger1 = 1
helpertype = player
name = "OTHK hitoverride"
ID = 701110
stateno = 701110
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1
persistent = 0

[State 0, Helper];混线矛A
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702210)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker A"
ID = 702210
stateno = 702210
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];混线矛B
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702220)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker B"
ID = 702220
stateno = 702220
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];混线矛C
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702230)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker C"
ID = 702230
stateno = 702230
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];混线矛D
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702240)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker D"
ID = 702240
stateno = 702240
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];混线矛E
type = Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702250)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker E"
ID = 702250
stateno = 702250
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

[State 0, Helper];混线矛F
type = null;Helper
Triggerall = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = !numhelper(702260)
trigger1 = 1
helpertype = player
name = "Wild Pointer Attacker F"
ID = 702260
stateno = 702260
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 2147483646
pausemovetime = 2147483646
ignorehitpause = 1

;-----------------------------------------
[State -2, VarSet];本体变数弄检测
type = VarSet
triggerall = AuthorName = "GONZO-,Eagrose"
triggerall = Name = "Igniz Eagrose Version"
triggerall = roundno > 1
triggerall = !ishelper
triggerall = var(58) != [0,2]
trigger1 = roundstate <= 2
trigger2 = !lose
var(58) = 1
ignorehitpause = 1

[State -2, VarSet];本体变数弄检测
type = VarSet
triggerall = AuthorName = "GONZO-,Eagrose"
triggerall = Name = "Igniz Eagrose Version"
triggerall = !ishelper
triggerall = var(58) != [0,2]
trigger1 = roundstate > 2
trigger1 = lose
var(58) = 2
ignorehitpause = 1

[State -2, VarSet];Helper开幕占有变数弄抵抗
type = VarSet
triggerall = AuthorName = "GONZO-,Eagrose"
triggerall = Name = "Igniz Eagrose Version"
triggerall = roundno > 1
triggerall = !ishelper
trigger1 = !numhelper(701100)
trigger2 = numhelper(701100)
trigger2 = helper(701100),stateno!=701100
trigger3 = numhelper(701100)
trigger3 = helper(701100),stateno=701100
trigger3 = helper(701100),var(58)=9999
var(58) = 1
ignorehitpause = 1
;-----------------------------------------

[State 0, ChangeState]
type = ChangeState
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = roundstate <4
triggerall = roundstate >1
Trigger1 = (var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)
trigger1 = stateno!=2700
trigger1 = stateno!=2701
;trigger1 = stateno!=3000
value = 2700
ignorehitpause = 1
;=====================论外END=====================

;===========================================================================================================================
;Helper型 AI开关
;===========================================================================================================================
[State -3, SuperPause]; ---- helper型 AI开关 重置CMD缓存以免误开
type = SuperPause
Triggerall = !((var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900))
TriggerAll=!IsHelper
Triggerall=!NumHelper(96600)
Triggerall=!var(59)
trigger1 = prevstateno = [190,193]
trigger2 = prevstateno = 5900
time = 1
anim = -1
movetime = 0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 1
endcmdbuftime = 1  ; ---- 重置CMD缓存以免误开
ignorehitpause = 1
persistent = 0

[State -3, AI起佑氓廿毳雪`]; ---- helper型 AI开关
type=helper
Triggerall = !((var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900))
TriggerAll=!IsHelper ; ---- Not Shadow Clone Igniz
Triggerall=!NumHelper(96600)
Triggerall=!var(59)
trigger1 = prevstateno = [190,193]
trigger2 = prevstateno = 5900
helpertype=normal
name="AI switch"
stateno=96600
ID=96600
pos=9999,9999
keyctrl=1    ;利用helper的指令bug来判断AI
facing=0
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

;================================================================================================
;反晁俣仍O定
;var(55) React Speed Setting for AI Level Setting
;================================================================================================
;カウンタ`用反晁俣仍O定
[State -3, React Speed Setting]
type = VarSet
triggerall = var(59)
trigger1 = 1
var(55) = 60-var(59)*5  ;var(59)越大，var(55)越小。var(59)最大12时，var(55) = 0


;================================================================================================
;最近之活敌设定
;fvar(36) EnemyNear Parameter
;fvar(36)用于为任何需要使用EnemyNear(fvar(36))的提供服务,确保参数判断的是活的敌人,不是死的敌人
;================================================================================================
[State -3, EnemyNear Parameter];TAG模式AI (敌方1人,fvar(36) = 0)
Type = varset
Trigger1 = numenemy=1
fvar(36) = 0

[State -3, EnemyNear Parameter];TAG模式AI (敌方2人)
Type = varset
Trigger1 = numenemy=2
fvar(36) = ifelse(EnemyNear(0),alive,0,1)
;最近之敌活着,fvar(36) = 0,否则fvar(36) = 1,即最近之活敌为次近之敌


;================================================================================================
;X速度计算
;fvar(28) Vel X Calculate for precise Air Combo
;此state用于将最近之敌的X速度参数时刻读取给fvar(28)
;================================================================================================
[state -3, Vel X Calculate];非受击 读取Vel X
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno != [5000,5299]
Trigger1 = fvar(28) != EnemyNear(floor(fvar(36))),Vel X
FV = 28
value = EnemyNear(floor(fvar(36))),Vel X
ignorehitpause = 1

[state -3, Vel X Calculate];受击 非暂停 读取Vel X
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno = [5000,5299]
Triggerall = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0
Trigger1 = fvar(28) != EnemyNear(floor(fvar(36))),Vel X
FV = 28
value = EnemyNear(floor(fvar(36))),Vel X
ignorehitpause = 1

[state -3, Vel X Calculate];受击 暂停 读取受击参数GetHitVar(xvel)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno = [5000,5299]
Triggerall = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) != 0
Trigger1 = fvar(28) != EnemyNear(floor(fvar(36))),GetHitVar(xvel)
FV = 28
value = EnemyNear(floor(fvar(36))),GetHitVar(xvel)
ignorehitpause = 1

;================================================================================================
;Y速度计算
;fvar(29) Vel Y Calculate for precise Air Combo
;此state用于将最近之敌的Y速度参数时刻读取给fvar(29)
;================================================================================================
[state -3, Vel Y Calculate];非受击 读取Vel X
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno != [5000,5299]
Trigger1 = fvar(29) != EnemyNear(floor(fvar(36))),Vel Y
FV = 29
value = EnemyNear(floor(fvar(36))),Vel Y
ignorehitpause = 1

[state -3, Vel Y Calculate];受击 非暂停 读取Vel X
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno = [5000,5299]
Triggerall = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0
Trigger1 = fvar(29) != EnemyNear(floor(fvar(36))),Vel Y
FV = 29
value = EnemyNear(floor(fvar(36))),Vel Y
ignorehitpause = 1

[state -3, Vel Y Calculate];受击 暂停 读取受击参数GetHitVar(xvel)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno = [5000,5299]
Triggerall = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) != 0
Trigger1 = fvar(29) != EnemyNear(floor(fvar(36))),GetHitVar(yvel)
FV = 29
value = EnemyNear(floor(fvar(36))),GetHitVar(yvel)
ignorehitpause = 1

;================================================================================================
;重力加速度算
;fvar(30) Yaccel/Gravity Calculate for precise Air Combo
;此state用于将最近之敌的重力加速度参数时刻读取给fvar(30)
;================================================================================================
[state -3, Yaccel/Gravity Calculate];非受击 读取DATA参数const(movement.yaccel)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno != [5000,5299]
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),const(movement.yaccel)
FV = 30
value = EnemyNear(floor(fvar(36))),const(movement.yaccel)
ignorehitpause = 1

[state -3, Yaccel/Gravity Calculate];受击 读取受击参数GetHitVar(yaccel)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),stateno = [5000,5299]
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
FV = 30
value = EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
ignorehitpause = 1

[state -3, Yaccel/Gravity reset];此state用于将最近之敌 y速度为零时的 重力加速度参数以零值赋给fvar(30)
type = varset
Trigger1 = fvar(30) != 0
;Trigger1 = EnemyNear(floor(fvar(36))),Vel Y = 0
Trigger1 = EnemyNear(floor(fvar(36))),statetype = S || EnemyNear(floor(fvar(36))),statetype = C
FV = 30
value = 0
ignorehitpause = 1

;================================================================================================
;受击僵直剩余时间获取
;fvar(31) HitShake Remaining Time Calculate for precise Air Combo
;此state用于将最近之敌受击时的受击僵直剩余时间参数时刻读取给fvar(31)
;written by Eagrose
;================================================================================================
[state -3, HitShake Remaining Time Calculate];受击 读取受击参数GetHitVar(hitshaketime)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Trigger1 = fvar(31) != EnemyNear(floor(fvar(36))),GetHitVar(hitshaketime)
FV = 31
value = EnemyNear(floor(fvar(36))),GetHitVar(hitshaketime) ;(打牡堡皮rのhitshaketime)
ignorehitpause = 1

[state -3, HitShake Remaining Time Calculate];非受击重置
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype != H
Trigger1 = fvar(31) != 0
FV = 31
value = 0
ignorehitpause = 1

;================================================================================================
;标准受击动画 原点Y坐标 偏移修正
;减少因坐标原点与人物受击框偏离造成的空中连段失误
;fvar(32) Enemy Standard GetHitAnim Coordinate-Origin Calculate for precise Air Combo
;此state用于根据最近之敌受击时的系统默认动画号，对动画原点Y坐标进行偏移修正，并存储于fvar(32)
;written by Eagrose
;================================================================================================
[state -3, Standing GetHitAnim Origin];站立受击  原点:脚  对策:略上偏移(半身高的1/8)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Triggerall = EnemyNear(floor(fvar(36))),statetype = A
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5000,5019]
Trigger1 = fvar(32) != EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/8.0 ;Size.mid.pos.Y本身负值
FV = 32
value = EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/8.0
ignorehitpause = 1

[state -3, Crouching GetHitAnim Origin];下蹲受击  原点:脚  对策:略上偏移(半身高的1/8)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Triggerall = EnemyNear(floor(fvar(36))),statetype = A
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5020,5029]
Trigger1 = fvar(32) != EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/8.0 ;Size.mid.pos.Y本身负值
FV = 32
value = EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/8.0
ignorehitpause = 1

[state -3, Air Start GetHitAnim Origin];空中受击初始  原点:脚  对策:上偏移(半身高的1/6)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Triggerall = EnemyNear(floor(fvar(36))),statetype = A
Trigger1 = EnemyNear(floor(fvar(36))),stateno = 5030
Trigger1 = fvar(32) != EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/6.0 ;Size.mid.pos.Y本身负值
FV = 32
value = EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/6.0
ignorehitpause = 1

[state -3, Air HitBack GetHitAnim Origin];空中受击后仰  原点:站立时的脚  但中途身体浮空偏移极大  对策:上偏移(半身高的1/4)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Triggerall = EnemyNear(floor(fvar(36))),statetype = A
Trigger1 = EnemyNear(floor(fvar(36))),stateno = 5035
Trigger1 = fvar(32) != EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/4.0 ;Size.mid.pos.Y本身负值
FV = 32
value = EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/4.0
ignorehitpause = 1

[state -3, Air Fall/Trip GetHitAnim Origin];空中受击下落、绊脚  原点:站立时的脚（此时受击框因图而异,差异巨大）  对策:上偏移(半身高的1/4)
type = varset
Triggerall = EnemyNear(floor(fvar(36))),movetype = H
Triggerall = EnemyNear(floor(fvar(36))),statetype = A
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5050,5079]
Trigger1 = fvar(32) != EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/4.0  ;Size.mid.pos.Y本身负值
FV = 32
value = EnemyNear(floor(fvar(36))),const(Size.mid.pos.Y)/4.0
ignorehitpause = 1

[state -3, GetHitAnim Origin reset]
type = varset
Triggerall = fvar(31) != 0
Trigger1 = EnemyNear(floor(fvar(36))),movetype != H
Trigger2 = EnemyNear(floor(fvar(36))),statetype != A
FV = 32
value = 0
ignorehitpause = 1


;================================================================================================
; Igniz-Ev AI
;================================================================================================
[State -3, test debug only!];测试用
type = null;ChangeState
value = 1000
Triggerall = ctrl
Triggerall = statetype = S
Trigger1 = p2movetype = a
;Trigger2 = EnemyNear(floor(fvar(36))),stateno = 0

;===============================================================================
;The Highest Priority AI Moves   最高优先级
;===============================================================================
;组队模式专属技能 -- 伊格尼斯的仿生链接
[State -3, teammode only -- IGNIZ's BIONIC LINK]
type = ChangeState
value = 4200
triggerall = !(win || lose || drawgame)
TriggerAll = !((var(51)=6666 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900)) ;梦魇一败加强后不开启
TriggerAll = var(39) = 1
TriggerAll = NumPartner
TriggerAll = Partner,alive
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = !NumHelper(4211)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100  || stateno = [120,159]
;**************额外特殊条件
;**************分支条件
Trigger1 = 1

;影之克隆（梦魇模式专用）
[State -3, Shadow Clone]
type = ChangeState
value = 3000
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = !NumHelper(97864) && !NumHelper(46879)
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1);Shin Igniz Mode
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100  || stateno = [120,159]
;**************额外特殊条件
;**************分支条件
Trigger1 = 1


;低生命末日审判
[State -3, Armageddon]
type = ChangeState
value = 2700
triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = palno = [1,12] ;not Shin Igniz Mode
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
triggerAll = power >= 4000
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100  || stateno = [120,159]
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerAll = life < ceil(lifemax/3) ;low life
;**************分支条件
Trigger1= 1


;梦魇模式末日审判
[State -3, Armageddon]
type = ChangeState
value = 2700
triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = (palno = 12 && var(58)=1 && var(42)%10=1) || ((!numhelper(701100) || (numhelper(701100) && helper(701100),stateno!=701100)) && stateno != 5900) ;Shin Igniz Mode
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
;triggerAll = (life <= ceil(lifemax/3)) ;|| (power >= 4000) ;梦魇模式低生命无条件末日审判
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100  || stateno = [120,159]
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;triggerAll = life <= ceil(lifemax/3*2)
;**************分支条件
Trigger1= 1


;低生命蔚蓝冲击
[State -3, Azure Wrath]
type = ChangeState
value = 2600
triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
triggerAll = power >= 3000
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -10
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerAll = life < ceil(lifemax/3) ;low life
;**************分支条件
Trigger1= 1


;半生命白罗灭精
[State -3, hakura]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
triggerAll = power >= 1000
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -25
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;triggerAll = life < ceil(lifemax/2) ;half life
;**************分支条件
Trigger1= 1


;梦魇模式半生命白罗灭精
[State -3, hakura]
type = ChangeState
value = 2100
triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
triggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
triggerAll = power >= 1000
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerAll = life < ceil(lifemax/2) ;half life
triggerAll = NumProj || inguarddist
triggerAll = life < EnemyNear(floor(fvar(36))),life
;**************分支条件
Trigger1= 1


[State -3, Unfolding of the Ture Universe]; ---- 终结技
type = ChangeState
value = 2800
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll= !IsHelper ; ---- Not Shadow Clone Igniz
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 4000
TriggerAll = life >= ceil(lifemax/2)
TriggerAll = statetype != A
;TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
;TriggerAll = P2StateType = L
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;triggerAll = EnemyNear(floor(fvar(36))),life <= 400
triggerAll = P2statetype = S || P2statetype = C
TriggerAll = P2moveType = H
;**************分支条件
trigger1 = ctrl
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = stateno = 300
trigger6 = movecontact
trigger7 = stateno = 310
trigger7 = movecontact
trigger8 = stateno = 320
trigger8 = movecontact


;钢之城坠落
[State -3, JIBAKU - FALLEN OF STEEL CASTLE]
type = ChangeState
value = 2500
;triggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0 || inguarddist
TriggerAll = fvar(39) = 0 || inguarddist
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = NumEnemy=1 || (NumEnemy=2 && (!EnemyNear(0),alive || !EnemyNear(1),alive))
TriggerAll = (life < lifemax/6) || (life < 300)
TriggerAll = life < (EnemyNear(fvar(36)),life)
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -80-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -4
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -80-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
Trigger2 = EnemyNear(floor(fvar(36))),AnimTime < -10
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -80-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
Trigger3 = EnemyNear(floor(fvar(36))),AnimTime < -16
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -80-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
Trigger4 = EnemyNear(floor(fvar(36))),AnimTime < -22
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -80-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
Trigger5 = EnemyNear(floor(fvar(36))),AnimTime < -28
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -80-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
Trigger6 = EnemyNear(floor(fvar(36))),AnimTime < -34
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -80-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure
Trigger7 = EnemyNear(floor(fvar(36))),AnimTime < -40



;===============================================================================
;Inner Mode N.E.S.T.S Striker
;===============================================================================
[State -3, VarSet];inner mode striker cannot be disabled by set -1
type = VarSet
triggerall = var(40) = -1
trigger1 = (palno=[7,11]) && !(var(58)=1 && floor(var(42)/10)%10=1) ;里模式未一败或关闭一败加强，保持里模式，维持援护
Trigger2 = (palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1 ;表模式一败加强，进入里模式，维持援护
var(40) = 180
ignorehitpause = 1

;---------------------------------------------------------------------------
;Striker Krizalid
[State -3, Krizalid]
type = ChangeState
value = 1200
Triggerall = var(40) != -1 ;总开关
Triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
TriggerAll = fvar(39)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H  || inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !fvar(20)
;**************分支条件
trigger1 = P2MoveType = A
trigger2 = P2bodydist X = [-5,80]
trigger3 = life < (lifemax/2) || var(59) >= 13

;---------------------------------------------------------------------------
;Striker Original Zero
[State -3, Original Zero]
type = ChangeState
value = 1201
Triggerall = var(40) != -1 ;总开关
Triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
TriggerAll = fvar(39)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H  || inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !fvar(21)
;**************分支条件
trigger1 = P2MoveType = A
trigger2 = P2bodydist X = [81,160]
trigger3 = life < (lifemax/2) || var(59) >= 13

;---------------------------------------------------------------------------
;Striker Clone Zero
[State -3, Clone Zero]
type = ChangeState
value = 1202
Triggerall = var(40) != -1 ;总开关
Triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
TriggerAll = fvar(39)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H  || inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !fvar(22)
;**************分支条件
trigger1 = p2statetype = L
trigger2 = P2bodydist X >= 161
trigger3 = life < (lifemax/2) || var(59) >= 13

;---------------------------------------------------------------------------
;Striker Misty Farawayland
[State -3, Misty Farawayland]
type = ChangeState
value = 1203
Triggerall = var(40) != -1 ;总开关
Triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
triggerall = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
TriggerAll = fvar(39)=0||inguarddist||EnemyNear(floor(fvar(36))),movetype=A||ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H  || inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !fvar(23)
;**************分支条件
trigger1 = P2MoveType = A
trigger1 = P2bodydist X = [-5,40]
;trigger2 = P2bodydist X > 15
trigger2 = power >= 3000
trigger2 = life < lifemax
;trigger3 = P2bodydist X > 15
trigger3 = life < lifemax/3*2
trigger3 = power >= 1000
trigger4 = life < (lifemax/2) || var(59) >= 13

;===============================================================================
;supercancel to unhittable hypermoves when inguarddist
;链刃过程即将挨打时超级取消至起手无敌的超杀
;===============================================================================
;super cancel to "Azure Wrath" when inguarddist
[State -3, azure]
type = ChangeState
value = 2600
triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
triggerAll = movetype = A
triggerall = power >= 4000  ;keep this to 4000 if you want to keep to the correct power usage of super cancel (3000+1000)
;**************对手条件
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerall = inguarddist || (p2movetype = A && p2bodydist X <= 70)
;**************分支条件
;**************NEGATIVE GENESIS
trigger1 = movehit || projhit1020=1,<=9
trigger1 = stateno = 1020
trigger1 = animelem = 12, >= 0
trigger1 = animelem = 18, < 0
;**************CHAINBLADE TRANSAXIAL SLICE
;trigger2 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger2 = movecontact
trigger2 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
;trigger3 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger3 = movecontact
trigger3 = stateno = 1050 || stateno = 1060


;super cancel to "Hakura" when inguarddist
[State -3, hakura]
type = ChangeState
value = 2100
triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
triggerAll = movetype = A
triggerall = power >= 2000  ;keep this to 4000 if you want to keep to the correct power usage of super cancel (3000+1000)
;**************对手条件
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerall = inguarddist || (p2movetype = A && p2bodydist X <= 70)
;**************分支条件
;**************NEGATIVE GENESIS
trigger1 = movehit || projhit1020=1,<=9
trigger1 = stateno = 1020
trigger1 = animelem = 12, >= 0
trigger1 = animelem = 18, < 0
;**************CHAINBLADE TRANSAXIAL SLICE
;trigger2 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger2 = movecontact
trigger2 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
;trigger3 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger3 = movecontact
trigger3 = stateno = 1050 || stateno = 1060


;super cancel to "Hakura" when inguarddist
[State -3, hakura]
type = ChangeState
value = 2100
triggerall = IsHelper(97864) ; ---- Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
triggerAll = movetype = A
triggerall = power >= 2000  ;keep this to 4000 if you want to keep to the correct power usage of super cancel (3000+1000)
;**************对手条件
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerall = inguarddist || (p2movetype = A && p2bodydist X <= 70)
;**************分支条件
;**************NEGATIVE GENESIS
trigger1 = movehit || projhit1020=1,<=9
trigger1 = stateno = 1020
trigger1 = animelem = 12, >= 0
trigger1 = animelem = 18, < 0
;**************CHAINBLADE TRANSAXIAL SLICE
;trigger2 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger2 = movecontact
trigger2 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
;trigger3 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger3 = movecontact
trigger3 = stateno = 1050 || stateno = 1060


;super cancel to "Void" when inguarddist 空间集体屠杀
[State -3, void]
type = ChangeState
value = 1040
triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
triggerAll = movetype = A
triggerall = power < 2000
;**************对手条件
triggerall = EnemyNear(floor(fvar(36))), HitDefAttr = SCA, NA,SA,HA
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
triggerall = inguarddist || (p2movetype = A && p2bodydist X <= 70)
;**************分支条件
;**************NEGATIVE GENESIS
trigger1 = movehit || projhit1020=1,<=9
trigger1 = stateno = 1020
trigger1 = animelem = 12, >= 0
trigger1 = animelem = 18, < 0
;**************CHAINBLADE TRANSAXIAL SLICE
;trigger2 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger2 = movecontact
trigger2 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
;trigger3 = movehit || (movecontact && NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive)
trigger3 = movecontact
trigger3 = stateno = 1050 || stateno = 1060

;===============================================================================
;Dodge against Physical Attacks 闪避应对物理攻击
;===============================================================================
;空间集体屠杀
[State -3, void]
type = ChangeState
value = 1040
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
;TriggerAll = P2StateType != A
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = EnemyNear(floor(fvar(36))), Vel X >= 0
;TriggerAll = !EnemyNear(floor(fvar(36))),Numproj
;TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),!(EnemyNear(floor(fvar(36))+1),Numproj),1)
;**************分支条件
TriggerAll = P2BodyDist X >= -5
TriggerAll = P2BodyDist X <= 80+floor(ifelse(5>fvar(31),5-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;TriggerAll = P2BodyDist X <= 45+floor(ifelse(5>fvar(31),5-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
TriggerAll = P2BodyDist Y >= -40
Trigger1 = EnemyNear(floor(fvar(36))),stateno <= 400
Trigger1 = random <= 666
Trigger2 = inguarddist
;Trigger2 = EnemyNear(floor(fvar(36))),power < 2000
Trigger2 = EnemyNear(floor(fvar(36))),HitDefAttr = SCA, NA,SA


;前闪避 近身攻击 抓破绽投技
[State -3, roll fwd then throw]
type = ChangeState
value = 900
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),movetype=A || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X<=103 ;98+5
TriggerAll = EnemyNear(floor(fvar(36))),ctrl=0
TriggerAll = EnemyNear(floor(fvar(36))),animtime = [-37,-35]
;TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno < 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),0)


;防御取消前闪避 近身攻击 抓破绽投技
[State -3, roll fwd then throw]
type = ChangeState
value = 900
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = prevstateno = 150 || prevstateno = 152
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),movetype=A || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X<=103 ;98+5
TriggerAll = EnemyNear(floor(fvar(36))),ctrl=0
TriggerAll = EnemyNear(floor(fvar(36))),animtime <= -35
;TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = power >= 2000


;前闪避 近身攻击 远距离接近
[State -3, roll fwd]
type = ChangeState
value = 900
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),movetype=A || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X > 113 ;98+15
;TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
;TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;后闪避 近身攻击 近距离撤退
[State -3, roll bwd]
type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),movetype=A || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X > 20
TriggerAll = P2bodydist X <= 113
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;防御 近身攻击 (其余情况的保留措施)
[State -3, guard]
type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),movetype=A || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = stateno != 120
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;===============================================================================
;Dodge against Projectiles  闪避应对飞行道具
;===============================================================================
;负之起源
[State -3, nega]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
;TriggerAll = P2StateType != A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = inguarddist
;**************分支条件
TriggerAll = p2bodydist X >= 100
Trigger1 = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)



;前闪避 飞行道具 抓破绽投技
[State -3, roll fwd then throw]
type = ChangeState
value = 900
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X<=103 ;98+5
TriggerAll = EnemyNear(floor(fvar(36))),ctrl=0
TriggerAll = EnemyNear(floor(fvar(36))),animtime = [-35,-33]
;TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno < 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),0)


;前闪避 飞行道具 远距离接近
[State -3, roll fwd]
type = ChangeState
value = 900
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X > 113 ;98+15
;TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;后闪避 飞行道具 近距离撤退
[State -3, roll bwd]
type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = ,NT,ST,HT,AT)
TriggerAll = P2bodydist X > 20
TriggerAll = P2bodydist X <= 113
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
;Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
;Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
;Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;防御 飞行道具 其余情况的保留措施
[State -3, guard]
type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = stateno != 120
;**************分支条件
Trigger1 = inguarddist
;**************
Trigger2 = EnemyNear(floor(fvar(36))),movetype=A
Trigger2 = EnemyNear(floor(fvar(36))),ctrl = 1
;**************
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger3 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),ctrl = 1),0)
;**************
Trigger4 = EnemyNear(floor(fvar(36))),movetype=A
Trigger4 = EnemyNear(floor(fvar(36))),stateno >= 2000
;**************
Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype=A,0)
Trigger5 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno >= 2000),0)


;===============================================================================
;Precise Combo System 精准连续技系统
;===============================================================================
;-------------------------------------------------------------------------------
;infinite combo AI 35 无限连计数限制 ("无限连启动指令"fvar(35))
;-------------------------------------------------------------------------------
;infinite combo directly end
[State -3, directly varset when too many combo]
type = varset
TriggerAll = var(59)
TriggerAll = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1);not nightmare mode
TriggerAll = !isHelper
;**************环境变量
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 3
TriggerAll = fvar(35) > 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************分支条件
Trigger1 = EnemyNear(floor(fvar(36))),life < floor(life) ;only Igniz has advantage
Trigger1 = fvar(35) >= 2
;**************
fvar(37)= 4

;无限连结束后关闭"无限连启动指令"
[State -3, infinite combo 37 reset]
type = VarSet
TriggerAll = var(59)
TriggerAll = fvar(35) >= 1
Trigger1 = p2movetype != H
fvar(35) = 0

;-------------------------------------------------------------------------------
;combo AI 39 弹墙追击 ("连续技启动指令"fvar(39))
;-------------------------------------------------------------------------------
[State -3, combo AI 39 start]
type = VarSet
TriggerAll = var(59)
TriggerAll = fvar(39) = 0
Trigger1 = stateno = 1040       ;<空间集体屠杀>动作中
Trigger1 = P2stateno = 1042      ;<空间集体屠杀>命中后的p2state
Trigger2 = stateno = 1020 && Movehit    ;<负之起源>命中
Trigger2 = P2StateNo = 1021     ;<负之起源>击飞state
Trigger3 = Helper(2601),movehit  ;蔚蓝冲击
Trigger4 = Helper(2602),movehit  ;蔚蓝冲击
fvar(39) = 1


[State -3, combo AI 39 progressing]
type = VarSet
TriggerAll = var(59)
TriggerAll = fvar(39) = 1
Trigger1 = stateno = 1030 && Movehit ;重拳<链刃 体轴垂直 切开>命中
fvar(39) = 2


[State -3, combo AI 39 reset];连续技结束后关闭"连续技启动指令"
type = VarSet
TriggerAll = var(59)
TriggerAll = fvar(39)
Trigger1 = p2movetype != H
Trigger2 = P2StateNo != 1021
Trigger2 = P2StateNo != 1022
Trigger2 = P2StateNo != 1042
Trigger2 = P2StateNo != 1044
Trigger2 = P2StateNo != 1045
Trigger2 = P2StateNo != 2603
Trigger2 = P2StateNo != 2604
fvar(39) = 0

;-------------------------------------------------------------------------------
;infinite combo AI 37 无限连 ("无限连启动指令"fvar(37))
;-------------------------------------------------------------------------------
[State -3, infinite combo 37 start]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
;**************分支条件
Trigger1 = stateno = 1031 && Movehit  ;重拳<链刃 体轴垂直 切开>命中
Trigger2 = stateno = 1060 && Movehit  ;重拳<链刃 颅顶骨棱 切开>命中
Trigger3 = !IsHelper            ;本体
Trigger3 = stateno = 1080       ;<圣光之刃>动作中
Trigger3 = ProjHitTime1081=1  ;<圣光之刃>命中后1 tick时刻
Trigger4 = IsHelper(97864)      ;影之克隆
Trigger4 = stateno = 1080       ;<圣光之刃>动作中
Trigger4 = root,ProjHitTime91081=1  ;<圣光之刃>命中后1 tick时刻
Trigger5 = !IsHelper            ;本体
Trigger5 = stateno = 1010       ;<神圣之箭 地面>动作中
Trigger5 = ProjHitTime1011=1  ;<神圣之箭 地面>第二发命中后1 tick时刻
Trigger6 = IsHelper(97864)      ;影之克隆
Trigger6 = stateno = 1010       ;<神圣之箭 地面>动作中
Trigger6 = root,ProjHitTime91011=1  ;<神圣之箭 地面>第二发命中后1 tick时刻
Trigger7 = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
Trigger7 = NumHelper(1210)  ;援护古利查力度 本体判断
Trigger7 = ProjHitTime1215=1
Trigger8 = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
Trigger8 = NumHelper(1230)  ;援护本尊零 本体判断
Trigger8 = Helper(1230),movehit || ProjHitTime1244=1
Trigger9 = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
Trigger9 = NumHelper(1250)  ;援护克隆零 本体判断
Trigger9 = ProjHitTime1258=1
Trigger10 = (palno = [7,12]) || ((palno=[1,6]) && var(58)=1 && floor(var(42)/100)%10=1)
Trigger10 = NumHelper(1270) ;援护米丝蒂・遥之彼 本体判断
Trigger10 = ProjHitTime1275=1
Trigger11 = IsHelper(97864)
Trigger11 = root,NumHelper(1210)  ;援护古利查力度  影之克隆判断
Trigger11 = root,ProjHitTime1215=1
Trigger12 = IsHelper(97864)
Trigger12 = root,NumHelper(1230)  ;援护本尊零  影之克隆判断
Trigger12 = Helper(1230),movehit || root,ProjHitTime1244=1
Trigger13 = IsHelper(97864)
Trigger13 = root,NumHelper(1250)  ;援护克隆零  影之克隆判断
Trigger13 = root,ProjHitTime1258=1
Trigger14 = IsHelper(97864)
Trigger14 = root,NumHelper(1270) ;援护米丝蒂・遥之彼  影之克隆判断
Trigger14 = root,ProjHitTime1275=1
Trigger15 = Helper(2602),moveguarded  ;蔚蓝冲击
Trigger15 = p2stateno = 2605
fvar(37) = 1

[State -3, infinite combo 37 start]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
Trigger1 = Helper(2601),movehit  ;蔚蓝冲击
Trigger2 = Helper(2602),movehit  ;蔚蓝冲击
fvar(37) = 2

[State -3, infinite combo 37 start another chainblade]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) = 1
Trigger1 = power >= 4000
Trigger1 = random <= 300
fvar(37) = 9

[State -3, infinite combo 37 start another chainblade]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) >= 13
Trigger1 = 1
fvar(37) = 4

[State -3, infinite combo 37 NEGATIVE GENESIS reset]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) > 0
;**************分支条件
Trigger1 = stateno = 1020 && Movehit  ;<负之起源>命中
fvar(37) = 0

;infinite combo directly end with hypermoves when p2 lowlife or self in danger
[State -3, directly varset when p2 lowlife]
type = varset
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 13
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************分支条件
Trigger1 = EnemyNear(floor(fvar(36))),life < 100 ;280
Trigger2 = EnemyNear(floor(fvar(36))),Numproj || ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),Numproj,0)
Trigger3 = inguarddist
;**************超出链刃距离
Trigger4 = fvar(37) >= 2
Trigger4 = P2bodydist X >= 95
Trigger4 = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28) <= 0
Trigger5 = power = powermax
Trigger5 = EnemyNear(floor(fvar(36))),life <= floor(life/2)
Trigger5 = fvar(37) != 9
fvar(37)= 4

[State -3, infinite combo 37 NEGATIVE GENESIS cause turning, so ended with super]
type = VarSet
;**************环境变量
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 1
;**************分支条件
Trigger1 = power >= 2000
Trigger1 = p2bodydist X < -5
fvar(37)= 4

;混沌状态 非版边
[State -3, infinite combo end with CHAOS TIDE when isn't near screen edge]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 2000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 160+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -110-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;混沌状态 版边
[State -3, infinite combo end with CHAOS TIDE when is near screen edge]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 2000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back);+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 176-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -110-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;圣光之刃
[State -3,infinite combo end with EIDEANN BLADE]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 2000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start
Trigger1 = P2bodydist X >= -34-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)-fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)-fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;混沌状态 (-> 蓝色成为神的计划) 非版边
[State -3, infinite combo end with CHAOS TIDE then dreamcancel BRUTAL GOD PROJECT when isn't near screen edge]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 4000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 160+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -110-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(14*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;混沌状态 (-> 蓝色成为神的计划) 版边
[State -3, infinite combo end with CHAOS TIDE then dreamcancel BRUTAL GOD PROJECT when is near screen edge]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 4000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back);+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 160;+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -110-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(14*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;圣光之刃 (-> 蓝色成为神的计划)
[State -3, infinite combo end with EIDEANN BLADE then dreamcancel BRUTAL GOD PROJECT]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = power >= 4000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=17
Trigger1 = P2bodydist X >= -34-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;(混沌状态 ->) 蓝色成为神的计划 非版边
[State -3, combo end BRUTAL GOD PROJECT dreamcancelled from CHAOS TIDE when isn't near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) <= 5 || P2bodydist Y = [-40-fvar(32),0]  ;防提早设定
TriggerAll = stateno = 1070
TriggerAll = Animelem = 20, >=0
triggerAll = Animelem = 26, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&((ProjHit10710=1,<=50)||(ProjHit10711=1,<=50)||(ProjHit10712=1,<=50)||(ProjHit10713=1,<=50)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&((ProjHit10714=1,<=50)||(ProjHit10715=1,<=50)||(ProjHit10716=1,<=50)||(ProjHit10717=1,<=50)))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(混沌状态 ->) 蓝色成为神的计划 版边
[State -3, combo end BRUTAL GOD PROJECT dreamcancelled from CHAOS TIDE when is near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) <= 5 || P2bodydist Y = [-40-fvar(32),0]  ;防提早设定
TriggerAll = stateno = 1070
TriggerAll = Animelem = 20, >=0
triggerAll = Animelem = 26, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&((ProjHit10710=1,<=50)||(ProjHit10711=1,<=50)||(ProjHit10712=1,<=50)||(ProjHit10713=1,<=50)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&((ProjHit10714=1,<=50)||(ProjHit10715=1,<=50)||(ProjHit10716=1,<=50)||(ProjHit10717=1,<=50)))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(圣光之刃 ->) 蓝色成为神的计划 非版边
[State -3, combo end BRUTAL GOD PROJECT dreamcancelled from EIDEANN BLADE when isn't near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = stateno = 1080
TriggerAll = Animelem = 24, >=0
triggerAll = Animelem = 28, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&(ProjHit1081=1,<=50))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(ProjHit91081=1,<=50))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(圣光之刃 ->) 蓝色成为神的计划 版边
[State -3, combo end BRUTAL GOD PROJECT dreamcancelled from EIDEANN BLADE when is near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = stateno = 1080
TriggerAll = Animelem = 24, >=0
triggerAll = Animelem = 28, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&(ProjHit1081=1,<=50))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(ProjHit91081=1,<=50))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;蓝色成为神的计划 非版边
;this state must be put after CHAOS TIDE & EIDEANN BLADE, in case that both CHAOS TIDE & EIDEANN BLADE cannot combo
[State -3, infinite combo end with BRUTAL GOD PROJECT when isn't near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;蓝色成为神的计划 版边
;this state must be put after CHAOS TIDE & EIDEANN BLADE, in case that both CHAOS TIDE & EIDEANN BLADE cannot combo
[State -3, infinite combo end with BRUTAL GOD PROJECT when is near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;神圣之箭 天空 非版边
;this state must be put after CHAOS TIDE & EIDEANN BLADE & BRUTAL GOD PROJECT, in case that CHAOS TIDE & EIDEANN BLADE & BRUTAL GOD PROJECT all cannot combo
[State -3, infinite combo end with DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = (power < 1000) || (power >= 2000)
TriggerAll = power < 5000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=13
Trigger1 = P2bodydist X >= -5+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -68+30-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -68+30-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -68+30-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30));浮空确保 AirEnsure
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -68+20-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),31-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),31-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -68+30-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -68+30-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -68+30-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30));浮空确保 AirEnsure
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -68+30-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30));浮空确保 AirEnsure


;神圣之箭 天空 版边
;this state must be put after CHAOS TIDE & EIDEANN BLADE & BRUTAL GOD PROJECT, in case that CHAOS TIDE & EIDEANN BLADE & BRUTAL GOD PROJECT all cannot combo
[State -3, infinite combo end with DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 4
;**************自我条件
TriggerAll = (power < 1000) || (power >= 2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = P2bodydist X >= -5;+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112+15-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -68+30-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112+15-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -68+30-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112+15-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -68+30-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30));浮空确保 AirEnsure
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(26>fvar(31),26-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(26>fvar(31),26-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112+15-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -68+30-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(31>fvar(31),31-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(31>fvar(31),31-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112+15-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -68+30-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(36>fvar(31),36-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(36>fvar(31),36-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112+15-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -68+30-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112+15-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -68+30-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30));浮空确保 AirEnsure
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(46>fvar(31),46-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(46>fvar(31),46-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112+15-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -68+30-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30));浮空确保 AirEnsure

;无限连结束后关闭"无限连启动指令"
[State -3, infinite combo 37 reset]
type = VarSet
TriggerAll = var(59)
TriggerAll = fvar(37) >= 1
Trigger1 = p2movetype != H
fvar(37) = 0

;===============================================================================
;Reversal Attack after Get Up 倒地起身反击
;===============================================================================
;白罗灭精
[State -3,hakura]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 3000 || var(59) < 9 || IsHelper(97864)
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -25
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = Ctrl && prevstateno = 5120 && time <= 1 ;可控,刚从倒地起身
;**************分支条件
Trigger1 = P2bodydist X >= -63-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 102+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;蔚蓝冲击
[State -3, azure]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -10
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = Ctrl && prevstateno = 5120 && time <= 1 ;可控,刚从倒地起身
;**************分支条件
Trigger1 = P2bodydist X >= -63-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 102+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;链刃 颅顶骨棱 切开 (重拳)
[State -3, CHAINBLADE SAGITTALRIUS SLICE strong]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -12
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = Ctrl && prevstateno = 5120 && time <= 1 ;可控,刚从倒地起身
;**************分支条件
;**************空中拦截
Trigger1 = P2StateType = A
Trigger1 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -116-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************地面反击
Trigger2 = P2StateType != A
Trigger2 = P2MoveType = A
Trigger2 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -116-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure


;===============================================================================
;Reversal Attack AI after Guard/GetHit 硬直反击
;===============================================================================
;站轻拳反击
[State -3, SLP]
type = ChangeState
value = 200
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -2
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !inguarddist
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[150,159]) || prevstateno = 900 || prevstateno = 910 ;刚处于挨打动作或防御动作或前回避动作
;**************分支条件
Trigger1 = P2bodydist X >= -5+floor(ifelse(2>fvar(31),2-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 79+floor(ifelse(2>fvar(31),2-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;链刃 颅顶骨棱 切开 (重拳)
[State -3, CHAINBLADE SAGITTALRIUS SLICE strong]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -12
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[150,159]) || prevstateno = 900 || prevstateno = 910 ;刚处于挨打动作或防御动作或前回避动作
;**************分支条件
;**************空中拦截
Trigger1 = P2StateType = A
Trigger1 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -116-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************地面反击
Trigger2 = P2StateType != A
Trigger2 = P2MoveType = A
Trigger2 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -116-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure


;神圣之箭 天空
[State -3, DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -8
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = fvar(28) <= 0
TriggerAll = P2bodydist x >= 120
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[150,159]) || prevstateno = 900 || prevstateno = 910 ;刚处于挨打动作或防御动作或前回避动作
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = P2bodydist X >= -5+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -68+30-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -68+30-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -68+30-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30));浮空确保 AirEnsure
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -68+20-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -68+30-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -68+30-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -68+30-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30));浮空确保 AirEnsure
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -68+30-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30));浮空确保 AirEnsure


;===============================================================================
;AI Cancel Moves / Inevitable Combos  超级取消 梦幻取消 固有连续技
;===============================================================================
;蔚蓝冲击 dreamcancel
[State -3, azure]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 4000
TriggerAll = statetype != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************CHAOS TIDE
trigger1 = stateno = 1070
trigger1 = Animelem = 18, >=0
trigger1 = Animelem = 26, <0
trigger1 = (ProjHit10710=1,<=50)||(ProjHit10711=1,<=50)||(ProjHit10712=1,<=50)||(ProjHit10713=1,<=50)
;**************EIDEANN BLADE
trigger2 = stateno = 1080
trigger2 = Animelem = 22, >=0
trigger2 = Animelem = 28, <0
trigger2 = ProjHit1081=1,<=50


;(混沌状态 ->) 蓝色成为神的计划 非版边
[State -3, BRUTAL GOD PROJECT dreamcancelled from CHAOS TIDE when isn't near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) <= 5 || P2bodydist Y = [-40-fvar(32),0]  ;防提早设定
TriggerAll = stateno = 1070
TriggerAll = Animelem = 20, >=0
triggerAll = Animelem = 26, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&((ProjHit10710=1,<=50)||(ProjHit10711=1,<=50)||(ProjHit10712=1,<=50)||(ProjHit10713=1,<=50)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&((ProjHit10714=1,<=50)||(ProjHit10715=1,<=50)||(ProjHit10716=1,<=50)||(ProjHit10717=1,<=50)))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(混沌状态 ->) 蓝色成为神的计划 版边
[State -3, BRUTAL GOD PROJECT dreamcancelled from CHAOS TIDE when is near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) <= 5 || P2bodydist Y = [-40-fvar(32),0]  ;防提早设定
TriggerAll = stateno = 1070
TriggerAll = Animelem = 20, >=0
triggerAll = Animelem = 26, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&((ProjHit10710=1,<=50)||(ProjHit10711=1,<=50)||(ProjHit10712=1,<=50)||(ProjHit10713=1,<=50)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&((ProjHit10714=1,<=50)||(ProjHit10715=1,<=50)||(ProjHit10716=1,<=50)||(ProjHit10717=1,<=50)))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(圣光之刃 ->) 蓝色成为神的计划 非版边
[State -3, BRUTAL GOD PROJECT dreamcancelled from EIDEANN BLADE when isn't near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = stateno = 1080
TriggerAll = Animelem = 22, >=0
triggerAll = Animelem = 28, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&(ProjHit1081=1,<=50))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(ProjHit91081=1,<=50))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+25-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;(圣光之刃 ->) 蓝色成为神的计划 版边
[State -3, BRUTAL GOD PROJECT dreamcancelled from EIDEANN BLADE when is near screen edge]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=3000)
TriggerAll = StateType != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0   ;防提早设定
TriggerAll = fvar(29) >= -2 || P2bodydist Y = [-40-fvar(32),0];防提早设定
TriggerAll = stateno = 1080
TriggerAll = Animelem = 22, >=0
triggerAll = Animelem = 28, <0
TriggerAll = IsHelper(97864) || (!IsHelper&&(ProjHit1081=1,<=50))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(ProjHit91081=1,<=50))
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;负之起源破防
[State -3, NEGATIVE GENESIS guard-break]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != A
TriggerAll = (EnemyNear(floor(fvar(36))),GetHitVar(hitshaketime) + EnemyNear(floor(fvar(36))),GetHitVar(hittime)) > 15
;TriggerAll = EnemyNear(floor(fvar(36))),power < 2000
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = MoveGuarded  ;被防御
TriggerAll = (p2stateno=150 || p2stateno=152 || p2stateno=154) && (EnemyNear(floor(fvar(36))),gethitvar(hitshaketime)+EnemyNear(floor(fvar(36))),gethitvar(hittime)-EnemyNear(floor(fvar(36))),time>19)
;**************分支条件
TriggerAll = P2bodydist X >= -16+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
TriggerAll = P2bodydist X <= 58+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
TriggerAll = P2bodydist y >= -126-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
TriggerAll = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 230
trigger4 = stateno = 240
trigger5 = stateno = 300
trigger6 = stateno = 310
trigger7 = stateno = 320
trigger8 = stateno = 330
;**************CHAINBLADE TRANSAXIAL SLICE
trigger9 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
trigger10 = stateno = 1050 || stateno = 1060
;**************Knock 1st Hit unconditional cancel
trigger11 = stateno = 500
trigger11 = AnimElem = 12, >0
trigger11 = AnimElem = 17, <0


;链刃 颅顶骨棱 切开 轻拳->重拳
[State -3, CHAINBLADE TRANSAXIAL SLICE (light -> strong)]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1050
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = Random<=var(59)*100
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = movecontact ;movehit


;负之起源
[State -3, NEGATIVE GENESIS ]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1031
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H && p2stateno != [120,159]
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = fvar(37) < 9
;**************分支条件
;**************start time=11
Trigger1 = movecontact ;movehit
Trigger1 = P2bodydist X < 15
Trigger1 = frontedgebodydist >= 95


;varset ---- (负之起源 & 链刃 体轴垂直 切开 轻拳->重拳) MIX
[State -3, NEGATIVE GENESIS ]
type = varset
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1030
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = movecontact ;movehit
Trigger1 = P2bodydist X < 15
fvar(35) = fvar(35)+1


;(负之起源 & 链刃 体轴垂直 切开 轻拳->重拳) MIX
[State -3, NEGATIVE GENESIS ]
type = ChangeState
value = ifelse(random<500,1020,1031)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1030
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = movecontact ;movehit
Trigger1 = P2bodydist X < 15


;varset ---- 链刃 体轴垂直 切开 轻拳->重拳
[State -3, CHAINBLADE TRANSAXIAL SLICE (light -> strong)]
type = varset
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1030
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = movehit
Trigger1 = P2bodydist X >= 15
fvar(35) = fvar(35)+1


;链刃 体轴垂直 切开 轻拳->重拳
[State -3, CHAINBLADE TRANSAXIAL SLICE (light -> strong)]
type = ChangeState
value = 1031
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = stateno = 1030
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = movecontact ;movehit
Trigger1 = P2bodydist X >= 15


;链刃 重拳 被防御 -> 神圣之箭 地面/空间集体屠杀
[State -3, CHAINBLADE (strong) guarded -> DIVINE ARROW GROUND]
type = ChangeState
value = ifelse((p2bodydist X <= 50),1040,1010)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = (stateno = 1060) || (stateno = 1031)
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = moveguarded
Trigger1 = P2StateType = S


;链刃 重拳 被防御 -> 神圣之箭 天空/空间集体屠杀
[State -3, CHAINBLADE (strong) guarded -> VOID GENOCIDE]
type = ChangeState
value = ifelse((p2bodydist X <= 50),1040,1000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = movetype = A
TriggerAll = (stateno = 1060) || (stateno = 1031)
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
;**************start time=11
Trigger1 = moveguarded
Trigger1 = P2StateType != S

;===============================================================================
;AI Invulnerable Reversal Attack 攻击反击
;===============================================================================
;古利查力度合击
[State -3, COMBINATION THROW OF KRIZALID]
type = ChangeState
value = 2400
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 3000
triggerall = fvar(20) < ifelse(((palno=12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)),var(40)/2,var(40)) ;striker krizalid not using
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
Trigger1 = P2BodyDist X = [-5,20]



;混沌状态
[State -3, CHAOS TIDE]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = (power >= 4000) || (power >= 1000 && power < 2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateType != A
;**************分支条件
Trigger1 = P2bodydist X >= 46+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 179-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -14


;混沌状态
[State -3, CHAOS TIDE]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = (power >= 4000) || (power >= 1000 && power < 2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateType = A
;**************分支条件
Trigger1 = P2bodydist X >= 46+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 179-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -110-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(14*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;圣光之刃
[State -3, EIDEANN BLADE]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = (power >= 4000) || (power >= 1000 && power < 2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateType != A
;**************分支条件
;**************start time=17
Trigger1 = 0 ;P2bodydist X >= -34-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = 0 ;P2bodydist X <= 69-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = 0 ;EnemyNear(floor(fvar(36))),AnimTime < -17
;**************X+45 time+8
Trigger2 = 0 ;P2bodydist X >= 11-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = 0 ;P2bodydist X <= 114-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = 0 ;EnemyNear(floor(fvar(36))),AnimTime < -25
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -33
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -41
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -49


;圣光之刃
[State -3, EIDEANN BLADE]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = (power >= 4000) || (power >= 1000 && power < 2000)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateType = A
;**************分支条件
;**************start time=17
Trigger1 = P2bodydist X >= -34-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;蓝色成为神的计划
[State -3, BRUTAL GOD PROJECT]
type = ChangeState
value = 2000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 2000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateType != A
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -4
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = EnemyNear(floor(fvar(36))),AnimTime < -10
;**************X+96 time+12
;Trigger3 = P2bodydist X >= 86-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger3 = EnemyNear(floor(fvar(36))),AnimTime < -16
;**************X+144 time+18
;Trigger4 = P2bodydist X >= 134-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger4 = EnemyNear(floor(fvar(36))),AnimTime < -22
;**************X+192 time+24
;Trigger5 = P2bodydist X >= 182-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger5 = EnemyNear(floor(fvar(36))),AnimTime < -28
;**************X+240 time+30
;Trigger6 = P2bodydist X >= 230-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger6 = EnemyNear(floor(fvar(36))),AnimTime < -34


;蓝色成为神的计划
[State -3, BRUTAL GOD PROJECT]
type = ChangeState
value = 2000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 2000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2bodydist Y = [-60-fvar(32),0]  ;防提早设定
TriggerAll = P2StateType = A
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -75-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -75-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -75-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -75-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -75-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -75-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))


;蔚蓝冲击 地面反击
[State -3, AZURE WRATH]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -10
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
Trigger1 = P2bodydist X >= 150+floor(10*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;白罗灭精 地面反击
[State -3, HAKURA MESSEI HAN]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -25
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*100
;**************额外特殊条件
;**************分支条件
Trigger1 = P2bodydist X >= 150+floor(25*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;蔚蓝冲击 空中拦截
[State -3, AZURE WRATH]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2StateType = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateNo != [120,159]
;**************分支条件
Trigger1 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure


;白罗灭精 空中拦截
[State -3, HAKURA MESSEI HAN]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2StateType = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2StateNo != [120,159]
;**************分支条件
Trigger1 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure


;蔚蓝冲击  无敌浮空追击
[State -3, AZURE WRATH]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = P2StateType = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = NumHelper(97864) || NumPartner
;**************分支条件
Trigger1 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure


;白罗灭精  无敌浮空追击
[State -3, HAKURA MESSEI HAN]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 3000 || var(59) < 7
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = P2StateType = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = (!IsHelper && NumHelper(97864)) || (IsHelper(97864)) || NumPartner
;**************分支条件
Trigger1 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure


;空间集体屠杀
[State -3, void]
type = ChangeState
value = 1040
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -5
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = EnemyNear(floor(fvar(36))), Vel X >= 0
;TriggerAll = !EnemyNear(floor(fvar(36))),Numproj
;TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),!(EnemyNear(floor(fvar(36))+1),Numproj),1)
;**************分支条件
TriggerAll = P2BodyDist X = [-5,45+floor(ifelse(5>fvar(31),5-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))]
TriggerAll = P2BodyDist Y >= -40
Trigger1 = EnemyNear(floor(fvar(36))),stateno <= 300
Trigger1 = random <= 666
Trigger2 = inguarddist
Trigger2 = EnemyNear(floor(fvar(36))),power < 2000
Trigger2 = EnemyNear(floor(fvar(36))),HitDefAttr = SCA, NA,SA


;链刃 颅顶骨棱 切开 (轻拳)
[State -3, CHAINBLADE SAGITTALRIUS SLICE strong]
type = ChangeState
value = 1050
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType != H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -12
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
;TriggerAll = P2StateType = A ;空中升龙
;**************分支条件
;**************空中拦截
Trigger1 = P2StateType = A
Trigger1 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -80-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))
;**************地面反击
Trigger2 = P2StateType != A
Trigger2 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -80-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))



;链刃 颅顶骨棱 切开 (轻拳)
[State -3, CHAINBLADE SAGITTALRIUS SLICE strong]
type = ChangeState
value = 1050
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2moveType = A
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -12
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
;**************分支条件
TriggerAll = P2StateType != A
;**************空中拦截
Trigger1 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************地面反击
Trigger2 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;===============================================================================
;Throw 投技
;===============================================================================
;D 投技
[State -3, kick throw]
type = ChangeState
value = 800
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType != H
;TriggerAll = (time >= 15) || (prevstateno = [900,910]) || (EnemyNear(floor(fvar(36))),Vel X=0) || (P2BodyDist X = [-5,5])
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = BackEdgeBodyDist <= 60
;TriggerAll = prevstateno != 800
;TriggerAll = prevstateno != 810
;**************分支条件
Trigger1 = P2BodyDist X = [-5,15]


;C 投技
[State -3, punch throw]
type = ChangeState
value = 810
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType != H
;TriggerAll = (time >= 15) || (prevstateno = [900,910]) || (EnemyNear(floor(fvar(36))),Vel X=0) || (P2BodyDist X = [-5,5])
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;TriggerAll = prevstateno != 800
;TriggerAll = prevstateno != 810
;**************分支条件
Trigger1 = P2BodyDist X = [-5,15]

;===============================================================================
;AI Guard Universal  全局防御
;===============================================================================
[State -3]
Type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
TriggerAll = !IsHelper(97864)
TriggerAll = RoundState = 2
TriggerAll = var(59)
TriggerAll = StateType = A
TriggerAll = Ctrl
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
TriggerAll = random <= var(59)*85
;**************分支条件
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = fvar(28) > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = Enemy,NumHelper
Trigger5 = InGuardDist


[State -3]
Type = ChangeState
Value = ifelse(var(59)<13,120,ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120))
ctrl = 1
TriggerAll = !IsHelper(97864)
TriggerAll = RoundState = 2
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
TriggerAll = random <= var(59)*85
;**************分支条件
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = fvar(28) > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = Enemy,NumHelper
Trigger5 = InGuardDist


;===============================================================================
;AI Recovery  受身
;===============================================================================
[State -3, AI Air Recovery]
type = ChangeState
value = 5210
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Vel Y > 0
TriggerAll = Pos Y < -20
TriggerAll = stateno = 5050
TriggerAll = random <= var(59)*85
Trigger1 = Random <= var(59)*100


[State -3, AI Ground Recovery]
type = ChangeState
value = 5201
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Vel Y > 0
TriggerAll = Pos Y >= -20
TriggerAll = stateno = 5050
TriggerAll = random <= var(59)*85
Trigger1 = Random <= var(59)*100

;===============================================================================
;AI Guard Cancel/Knock 超重击
;===============================================================================
[State -3, DIVINE ARROW - COMET]
type = null;ChangeState
value = 1300
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power < 2000
TriggerAll = statetype = A
TriggerAll = stateno = 510
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H || P2Stateno = [120,159]
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = movecontact
;**************分支条件
Trigger1 = time <= 12

[State -3, air knock]
type = null;ChangeState
value = 510
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = statetype = A
TriggerAll = Ctrl
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
;**************分支条件
Trigger1 = P2bodydist X >= -5-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(3>fvar(31),3-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 50+floor(ifelse(3>fvar(31),3-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= 20-floor(ifelse(3>fvar(31),3-fvar(31),0)*(fvar(29))+(ifelse(3>fvar(31),3-fvar(31),0)*3/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 60-floor(ifelse(3>fvar(31),3-fvar(31),0)*(fvar(29))+(ifelse(3>fvar(31),3-fvar(31),0)*3/2)*fvar(30)+fvar(32))

[State -3, Guard Cancel knock]
type = ChangeState
value = 500
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = Power >= 1000
TriggerAll = stateno = 150 || stateno = 152
TriggerAll = statetype != A
;**************对手条件
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -12
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno<2000 && ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),stateno<2000,1)
;**************分支条件
Trigger1 = p2statetype = A
Trigger1 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 78+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -146-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
Trigger2 = p2statetype != A
Trigger2 = P2bodydist X >= -5+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 78+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;===============================================================================
;AI Movement While Opponent's Lie Down  对手倒地走位
;===============================================================================
;展现合理的宇宙
[State -3, Unfolding of the Ture Universe]
type = ChangeState
value = 2800
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll=!IsHelper ; ---- Not Shadow Clone Igniz
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = L
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5100,5119]


[State -3, run bwd]
type = ChangeState
value = 105
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = p2bodydist X = [-10,20]
TriggerAll = p2statetype = L
;TriggerAll = fvar(28) = 0
TriggerAll = random <= var(59)*85
;**************额外特殊条件
TriggerAll = BackEdgeBodyDist >= 60
TriggerAll = !inguarddist
TriggerAll = !EnemyNear(floor(fvar(36))),Numproj
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),!EnemyNear(floor(fvar(36))+1),Numproj,1)
;**************分支条件
Trigger1 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),statetype = L,1)
Trigger1 = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),EnemyNear(floor(fvar(36))+1),movetype = H,1)


[State -3, wlk bwd]
type = ChangeState
value = 19
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = p2bodydist X = [-10,20]
TriggerAll = p2statetype = L
;TriggerAll = fvar(28) = 0
TriggerAll = random <= var(59)*85
;**************额外特殊条件
TriggerAll = !inguarddist
TriggerAll = !EnemyNear(floor(fvar(36))),Numproj
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),!EnemyNear(floor(fvar(36))+1),Numproj,1)
;**************分支条件
Trigger1 = 1


;神圣之箭 地面
[State -3, DIVINE ARROW - GROUND]
type = ChangeState
value = 1010
TriggerAll = palno != 12 || IsHelper(97864)
TriggerAll = var(59) && (var(59) < 13 || IsHelper(97864))
;TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = random <= var(59)*100
TriggerAll = statetype != A
TriggerAll = EnemyNear(floor(fvar(36))),statetype = L
TriggerAll = P2MoveType != A
TriggerAll = EnemyNear(floor(fvar(36))),stateno = 5120
;TriggerAll = fvar(28) <= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = EnemyNear(floor(fvar(36))),animtime = -16
;**************立回限制
TriggerAll = (life > 2*EnemyNear(floor(fvar(36))),life) || (life > (lifemax/3*2))
TriggerAll = life > (lifemax/3)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
Trigger1 = p2bodydist x = [16,110]
Trigger2 = p2bodydist x = [-5,110]
Trigger2 = BackEdgeBodyDist < 16


;神圣之箭 地面 梦魇模式
[State -3, DIVINE ARROW - GROUND]
type = ChangeState
value = 1010
TriggerAll = !IsHelper(97864)
TriggerAll = palno = 12
TriggerAll = var(59)
;TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = random <= var(59)*100
TriggerAll = statetype != A
TriggerAll = EnemyNear(floor(fvar(36))),statetype = L
TriggerAll = P2MoveType != A
TriggerAll = EnemyNear(floor(fvar(36))),stateno = 5120
;TriggerAll = fvar(28) <= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = EnemyNear(floor(fvar(36))),animtime = -16
TriggerAll = life > (lifemax/3*2)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
Trigger1 = p2bodydist x = [16,110]
Trigger2 = p2bodydist x = [-5,110]
Trigger2 = BackEdgeBodyDist < 16


[State -3, stand]
type = ChangeState
value = 0
ctrl = 1
TriggerAll = var(59)
;TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = random <= var(59)*85
;TriggerAll = fvar(28) = 0
Trigger1 = p2bodydist X = [16,69]
Trigger1 = p2statetype = L


[State -3, run fwd]
type = ChangeState
value = 100
TriggerAll = var(59)
;TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = StateNo != 100 && StateNo != 101
;**************反应速度及频率意识
TriggerAll = random <= var(59)*85
Trigger1 = p2bodydist X >= 70
Trigger1 = p2statetype = L

;===============================================================================
;combo after VOID GENOCIDE / NEGATIVE GENESIS 弹墙追击 链刃 favr(39)
;===============================================================================
;圣光之刃 弹墙追击
[State -3, EIDEANN BLADE]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 2 || (fvar(39) = 1 && inguarddist)
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************start
Trigger1 = P2bodydist X >= -34+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;链刃 体轴垂直 切开 弹墙追击
[State -3, CHAINBLADE TRANSAXIAL SLICE (light)]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 1
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = (EnemyNear(floor(fvar(36))),stateno=[1021,1022]) || (EnemyNear(floor(fvar(36))),stateno=[1044,1045])
;**************分支条件
;**************start time=11
;Trigger1 = P2bodydist X >= -10+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X >= -40+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger2 = P2bodydist X >= -10+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X >= -40+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger3 = P2bodydist X >= -10+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X >= -40+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -100-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger4 = P2bodydist X >= -10+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X >= -40+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -100-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure


;重拳<链刃 颅顶骨棱 切开> 弹墙追击
[State -3,cb2]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 1
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = (EnemyNear(floor(fvar(36))),stateno=[1021,1022]) || (EnemyNear(floor(fvar(36))),stateno=[1044,1045])
;**************分支条件
;**************start time=12
Trigger1 = P2bodydist X >= -60+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -70-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
Trigger2 = P2bodydist X >= -60+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 108+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -80-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posX+2 posY-12
Trigger3 = P2bodydist X >= -60+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 110+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -90-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure


;链刃 体轴垂直 切开 真零破防追击
[State -3, CHAINBLADE TRANSAXIAL SLICE (light)]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 1
;TriggerAll = fvar(39) = 1
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno=1026
;**************分支条件
;**************start time=11
;Trigger1 = P2bodydist X >= -10+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X >= -40+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger2 = P2bodydist X >= -10+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X >= -40+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger3 = P2bodydist X >= -10+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X >= -40+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -100-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger4 = P2bodydist X >= -10+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X >= -40+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -100-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure

;链刃 体轴垂直 切开 真零破防追击
[State -3, CHAINBLADE TRANSAXIAL SLICE (light)]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 1
;TriggerAll = fvar(39) = 1
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno=1026
;**************分支条件
;**************start time=11
;Trigger1 = P2bodydist X >= -10+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X >= -40+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
;Trigger2 = P2bodydist X >= -10+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X >= -40+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
;Trigger3 = P2bodydist X >= -10+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X >= -40+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
;Trigger4 = P2bodydist X >= -10+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X >= -40+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))



;无限连 负之起源 弹墙连段 最后确保
[State -3, NEGATIVE GENESIS]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 1
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = (EnemyNear(floor(fvar(36))),stateno=[1021,1022]) || (EnemyNear(floor(fvar(36))),stateno=[1044,1045])
;**************分支条件
;Trigger1 = P2bodydist X >= -16+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X >= -40+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 58+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -126-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;===============================================================================
;infinite combo CHAINBLADE 无限连 链刃 favr(39)
;===============================================================================
;无限连 负之起源
[State -3, NEGATIVE GENESIS]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 4
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;TriggerAll = Frontedgebodydist <= 20 || Frontedgebodydist >= 90
;**************分支条件
Trigger1 = P2bodydist X >= -16+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 58+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -126-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure


;无限连 版边 重拳<链刃 颅顶骨棱 切开>
[State -3, CHAINBLADE SAGITTALRIUS SLICE]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 2
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 20,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 20,1)
TriggerAll = FrontEdgeBodyDist < 95
;**************分支条件
;**************start time=12
Trigger1 = P2bodydist X >= -30+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 100+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -50-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
Trigger2 = P2bodydist X >= -30+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 100+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -70-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger3 = P2bodydist X >= -30+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger3 = P2bodydist X <= 105+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger3 = P2bodydist y >= -90-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*14/2)*fvar(30)+fvar(32))
;Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*14/2)*fvar(30))
;Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
;Trigger2 = P2bodydist X >= -5+floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(28)))
;Trigger2 = P2bodydist X <= 108+floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(28)))
;Trigger2 = P2bodydist y >= -66-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
;Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
;Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posX+2 posY-12
;Trigger3 = P2bodydist X >= -20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(28)))
;Trigger3 = P2bodydist X <= 110-20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(28)))
;Trigger3 = P2bodydist y >= -135-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
;Trigger3 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
;Trigger3 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure


;无限连 版边 重拳<链刃 颅顶骨棱 切开> 终结
[State -3, CHAINBLADE SAGITTALRIUS SLICE]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 3
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 20,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 20,1)
TriggerAll = FrontEdgeBodyDist < 95
;**************分支条件
;**************start time=14
Trigger1 = P2bodydist X >= -30+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 100+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -30-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;无限连 非版边 重拳<链刃 颅顶骨棱 切开> 终结
[State -3, CHAINBLADE SAGITTALRIUS SLICE]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 3
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>20 || fvar(28)>0 || FrontEdgeBodyDist >= 95,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>20 || fvar(28)<0 || FrontEdgeBodyDist >= 95,1)
;**************分支条件
;**************start time=12
Trigger1 = 0;P2bodydist X >= -30+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 100+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -50-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
Trigger2 = P2bodydist X >= -30+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 100+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;无限连 非版边 轻拳<链刃 体轴垂直 切开> 辅助追击
[State -3, CHAINBLADE TRANSAXIAL SLICE]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 2
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>20 || fvar(28)>0 || FrontEdgeBodyDist >= 95,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>20 || fvar(28)<0 || FrontEdgeBodyDist >= 95,1)
;**************分支条件
Trigger1 = P2bodydist X >= -15+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
;**************time+2
Trigger2 = P2bodydist X >= -20+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger2 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************time+2
Trigger3 = P2bodydist X >= -20+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -117+20-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger3 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
;**************time+2
Trigger4 = P2bodydist X >= -20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -122+20-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger4 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))


;无限连 非版边 重拳<链刃 体轴垂直 切开>
[State -3]
type = ChangeState
value = 1031
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 2
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>20 || fvar(28)>0 || FrontEdgeBodyDist >= 95,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>20 || fvar(28)<0 || FrontEdgeBodyDist >= 95,1);**************分支条件
;**************start time=15 posadd+10
Trigger1 = P2bodydist X >= -5+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -56-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posadd+10
Trigger2 = P2bodydist X >= -5+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 121+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************time+6 posadd+10
Trigger3 = P2bodydist X >= -5+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 131+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -90-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30));浮空确保 AirEnsure
;**************time+9 posadd+0
Trigger4 = P2bodydist X >= -5+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 140+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -90-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30));浮空确保 AirEnsure
;**************time+12 posadd+0
Trigger5 = P2bodydist X >= -5+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 155+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -90-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30));浮空确保 AirEnsure
;**************time+15 posadd+0
Trigger6 = P2bodydist X >= -5+floor(ifelse(30>fvar(31),30-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 155+floor(ifelse(30>fvar(31),30-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -90-floor(ifelse(30>fvar(31),30-fvar(31),0)*(fvar(29))+(ifelse(30>fvar(31),30-fvar(31),0)*30/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(30>fvar(31),30-fvar(31),0)*(fvar(29))+(ifelse(30>fvar(31),30-fvar(31),0)*30/2)*fvar(30));浮空确保 AirEnsure
;**************time+18 posadd+0
Trigger7 = P2bodydist X >= -5+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 150+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -130-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure


;无限连 非版边 重拳<链刃 体轴垂直 切开> （真实无限连开关）
[State -3]
type = varset
fvar = 37
value = fvar(37)+1
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 9
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************start time=15 posadd+10
Trigger1 = P2bodydist X >= -10
Trigger1 = P2bodydist X <= 69+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -35-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posadd+10
Trigger2 = P2bodydist X >= 69+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 121+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -35-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************time+6 posadd+10
Trigger3 = P2bodydist X >= 121+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 131+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -35-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30));浮空确保 AirEnsure
;**************time+9 posadd+0
Trigger4 = P2bodydist X >= 131+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 140+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -35-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30));浮空确保 AirEnsure
;**************time+12 posadd+0
Trigger5 = P2bodydist X >= 140+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 155+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -35-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30));浮空确保 AirEnsure


;无限连 非版边 重拳<链刃 体轴垂直 切开> （真实无限连开关）
[State -3]
type = ChangeState
value = 1031
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 9
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************start time=15 posadd+10
Trigger1 = P2bodydist X >= -10
Trigger1 = P2bodydist X <= 69+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -35-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posadd+10
Trigger2 = P2bodydist X >= 69+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 121+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -35-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************time+6 posadd+10
Trigger3 = P2bodydist X >= 121+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 131+floor(ifelse(21>fvar(31),21-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -35-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(21>fvar(31),21-fvar(31),0)*(fvar(29))+(ifelse(21>fvar(31),21-fvar(31),0)*21/2)*fvar(30));浮空确保 AirEnsure
;**************time+9 posadd+0
Trigger4 = P2bodydist X >= 131+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 140+floor(ifelse(24>fvar(31),24-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -35-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(24>fvar(31),24-fvar(31),0)*(fvar(29))+(ifelse(24>fvar(31),24-fvar(31),0)*24/2)*fvar(30));浮空确保 AirEnsure
;**************time+12 posadd+0
Trigger5 = P2bodydist X >= 140+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 155+floor(ifelse(27>fvar(31),27-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -35-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(27>fvar(31),27-fvar(31),0)*(fvar(29))+(ifelse(27>fvar(31),27-fvar(31),0)*27/2)*fvar(30));浮空确保 AirEnsure

;-------------------------------------------------------------------------------
;infinite combo movement 无限连 走位
;-------------------------------------------------------------------------------
[State -3]
type = null;ChangeState
value = 19
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 1
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = Frontedgebodydist = [50,80]
TriggerAll = EnemyNear(floor(fvar(36))),BackEdgeBodyDist >= 11 || (EnemyNear(floor(fvar(36))),BackEdgeBodyDist < 11 && FrontEdgeBodyDist >= 95)
TriggerAll = random <= var(59)*85
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100


[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 4
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = random <= var(59)*85
TriggerAll = P2bodydist X <= 49 ;54
TriggerAll = EnemyNear(floor(fvar(36))),BackEdgeBodyDist >= 11 || (EnemyNear(floor(fvar(36))),BackEdgeBodyDist < 11 && FrontEdgeBodyDist >= 95)
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100


[State -3]
type = ChangeState
value = 100
TriggerAll = var(59)
TriggerAll = fvar(37) >= 1
TriggerAll = fvar(37) <= 4
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = StateNo != 100 && StateNo != 101
TriggerAll = P2bodydist X >= 50 ;55
TriggerAll = EnemyNear(floor(fvar(36))),BackEdgeBodyDist >= 11 || (EnemyNear(floor(fvar(36))),BackEdgeBodyDist < 11 && FrontEdgeBodyDist >= 95)
TriggerAll = random <= var(59)*85
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)

;===============================================================================
;Air Combo 浮空追击
;===============================================================================
;负之起源 浮空追击
[State -3, NEGATIVE GENESIS]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2Stateno != 803
TriggerAll = !inguarddist
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = P2bodydist X >= -16+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 58+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -126-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure


;蓝色成为神的计划 浮空追击
[State -3, BRUTAL GOD PROJECT]
type = ChangeState
value = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),2500,2000)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = ifelse(((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600)),1,power>=2000)
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0 || (P2bodydist Y = [-40-fvar(32),0])  ;防提早设定
TriggerAll = P2Stateno != 803
TriggerAll = !inguarddist || ((NumEnemy=1||(NumEnemy=2&&(!EnemyNear(0),alive||!EnemyNear(1),alive)))&&((life<lifemax/6)||(life<300))&&(EnemyNear(fvar(36)),life>600))
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
;**************start time=4
Trigger1 = P2bodydist X >= -10-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 74+floor(ifelse(4>fvar(31),4-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -65-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure
;**************X+48 time+6
Trigger2 = P2bodydist X >= 38+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 122+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -65-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30));浮空确保 AirEnsure
;**************X+96 time+12
Trigger3 = P2bodydist X >= 86+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 170+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -65-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************X+144 time+18
Trigger4 = P2bodydist X >= 134+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 218+floor(ifelse(22>fvar(31),22-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -65-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(22>fvar(31),22-fvar(31),0)*(fvar(29))+(ifelse(22>fvar(31),22-fvar(31),0)*22/2)*fvar(30));浮空确保 AirEnsure
;**************X+192 time+24
Trigger5 = P2bodydist X >= 182+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 266+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -65-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger6 = P2bodydist X >= 230+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 314+floor(ifelse(34>fvar(31),34-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -65-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= 0-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30))
Trigger6 = P2bodydist y <= -5-floor(ifelse(34>fvar(31),34-fvar(31),0)*(fvar(29))+(ifelse(34>fvar(31),34-fvar(31),0)*34/2)*fvar(30));浮空确保 AirEnsure
;**************X+288 time+36
Trigger7 = P2bodydist X >= 278+30-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 362+floor(ifelse(40>fvar(31),40-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -65-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= 0-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30))
Trigger7 = P2bodydist y <= -5-floor(ifelse(40>fvar(31),40-fvar(31),0)*(fvar(29))+(ifelse(40>fvar(31),40-fvar(31),0)*40/2)*fvar(30));浮空确保 AirEnsure


;圣光之刃 浮空追击
[State -3, EIDEANN BLADE]
type = ChangeState
value = 1080
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = P2Stateno != 803
;**************分支条件
;**************start
Trigger1 = P2bodydist X >= -34+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;混沌状态 浮空追击
[State -3, CHAOS TIDE]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType = H
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),GetHitVar(HitShakeTime) = 0 || P2bodydist Y = [-100,0]  ;防提早设定
TriggerAll = P2Stateno != 803
TriggerAll = !inguarddist
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 179+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -100-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(14*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -16-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;神圣之箭 天空 非版边
[State -3, DIVINE ARROW - AIR when enemy isn't near screnn edge]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power < 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist>=30 || fvar(28)>0,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist>=30 || fvar(28)<0,1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=13
Trigger1 = P2bodydist X >= -5+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -68+30-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -68+30-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -68+30-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30));浮空确保 AirEnsure
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -68+20-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -68+30-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -68+30-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -68+30-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30));浮空确保 AirEnsure
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -68+30-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30));浮空确保 AirEnsure


;神圣之箭 天空 浮空追击 版边
[State -3, DIVINE ARROW - AIR when enemy is near screnn edge]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power < 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = P2bodydist X >= -5;+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -68+30-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30));浮空确保 AirEnsure
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -68+30-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30));浮空确保 AirEnsure
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -68+30-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30));浮空确保 AirEnsure
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -68+20-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30));浮空确保 AirEnsure
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -68+30-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -68+30-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30));浮空确保 AirEnsure
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -68+30-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30));浮空确保 AirEnsure
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front);+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -68+30-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30));浮空确保 AirEnsure


;-------------------------------------------------------------------------------
;Air Combo movement 浮空走位
;-------------------------------------------------------------------------------
[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
TriggerAll = P2Stateno != 803
TriggerAll = P2bodydist X <= 69
TriggerAll = random <= var(59)*85
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100


[State -3]
type = ChangeState
value = 100
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = P2Stateno != 803
TriggerAll = StateNo != 100 && StateNo != 101
TriggerAll = P2bodydist X >= 70
TriggerAll = random <= var(59)*85
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)


;===============================================================================
;Ground Combo 地面追击
;===============================================================================
;负之起源破防
[State -3, NEGATIVE GENESIS guard-break]
type = ChangeState
value = 1020
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != A
TriggerAll = EnemyNear(floor(fvar(36))),power < 2000
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = MoveGuarded  ;被防御
TriggerAll = (p2stateno=150 || p2stateno=152 || p2stateno=154) && (EnemyNear(floor(fvar(36))),gethitvar(hitshaketime)+EnemyNear(floor(fvar(36))),gethitvar(hittime)-EnemyNear(floor(fvar(36))),time>19)
;**************分支条件
TriggerAll = P2bodydist X >= -16+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
TriggerAll = P2bodydist X <= 58+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
TriggerAll = P2bodydist y >= -126-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
TriggerAll = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 230
trigger4 = stateno = 240
trigger5 = stateno = 300
trigger6 = stateno = 310
trigger7 = stateno = 320
trigger8 = stateno = 330
;**************CHAINBLADE TRANSAXIAL SLICE
trigger9 = stateno = 1030 || stateno = 1031
;**************CHAINBLADE SAGITTALRIUS SLICE
trigger10 = stateno = 1050 || stateno = 1060
;**************Knock 1st Hit unconditional cancel
trigger11 = stateno = 500
trigger11 = AnimElem = 12, >0
trigger11 = AnimElem = 17, <0


;链刃 体轴垂直 切开 破防追击
[State -3, CHAINBLADE TRANSAXIAL SLICE]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = stateno = 1020
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
TriggerAll = P2stateno = 1026
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = IsHelper(97864) || (!IsHelper && (projhit1020=1,<=9))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864) && (projhit91020=1,<=9))
;**************分支条件
Trigger1 = P2bodydist X >= -15+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
;**************time+2
Trigger2 = P2bodydist X >= -20+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************time+2
Trigger3 = P2bodydist X >= -20+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -117+20-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
;**************time+2
Trigger4 = P2bodydist X >= -20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -122+20-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))


;神圣之箭 地面 破站防
[State -3, DIVINE ARROW - GROUND]
type = ChangeState
value = 1010
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
;TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = stateno = 1030 || stateno = 1031 || stateno = 1050 || stateno = 1060
;**************对手条件
TriggerAll = P2StateType = S
TriggerAll = P2stateno = [120,159]
;TriggerAll = EnemyNear(floor(fvar(36))),gethitvar(hittime) > 10
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = MoveGuarded=1  ;被防御
;TriggerAll = animelem = 9, >=0
;**************分支条件
Trigger1 = P2bodydist X >= -15+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 85+floor(ifelse(10>fvar(31),10-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -36-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))
Trigger1 = P2bodydist y <= 0-floor(ifelse(10>fvar(31),10-fvar(31),0)*(fvar(29))+(ifelse(10>fvar(31),10-fvar(31),0)*10/2)*fvar(30))


;链刃 体轴垂直 切开 空中追击
[State -3, CHAINBLADE TRANSAXIAL SLICE]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = stateno = 210 || stateno = 240 || stateno = 310 || stateno = 330 || stateno = 1050 || stateno = 1060
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = movecontact ;movehit
TriggerAll = P2StateType = A
;**************分支条件
Trigger1 = P2bodydist X >= -15+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
;**************time+2
Trigger2 = P2bodydist X >= -20+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger2 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************time+2
Trigger3 = P2bodydist X >= -20+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -117+20-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger3 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
;**************time+2
Trigger4 = P2bodydist X >= -20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -122+20-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger4 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))


;链刃 体轴垂直 切开 地面追击
[State -3, CHAINBLADE TRANSAXIAL SLICE]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59)
TriggerAll = ifelse(var(59)>=13,movehit,1)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = StateType != A
TriggerAll = stateno = 210 || stateno = 240 || stateno = 310 || stateno = 330 || stateno = 1050 || stateno = 1060
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = movecontact
TriggerAll = P2StateType != A
;**************分支条件
Trigger1 = P2bodydist X >= -15+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
Trigger2 = P2bodydist X >= -20+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
Trigger3 = P2bodydist X >= -20+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;**************time+2
Trigger4 = P2bodydist X >= -20+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))

;===============================================================================
; Punch/Kick Suppress  普通拳脚压制
;===============================================================================
[State -3, SLP]
type = ChangeState
value = 200
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = !inguarddist || random > var(59)*85
TriggerAll = P2BodyDist X = [-5+floor(5*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28))),60+floor(5*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))]
TriggerAll = P2bodydist Y >= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -5
TriggerAll = P2MoveType = I
TriggerAll = random <= var(59)*85
Trigger1 = (EnemyNear(floor(fvar(36))),StateNo = [200,649])


;普通攻击 前冲
[State -3, run fwd]
type = ChangeState
value = 100
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = !inguarddist || random > var(59)*85
TriggerAll = P2bodydist X >= 91
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -10
TriggerAll = P2MoveType = I
TriggerAll = StateNo != 100 && StateNo != 101
TriggerAll = random <= var(59)*85
Trigger1 = (EnemyNear(floor(fvar(36))),StateNo = [200,649])
Trigger2 = P2StateType = A
Trigger2 = !EnemyNear(floor(fvar(36))),Ctrl


;===============================================================================
;Far Distance Suppress 远距离压制
;===============================================================================
;白罗灭精  远距离压制
[State -3, HAKURA MESSEI HAN]
type = ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = power < 3000 || var(59) < 7
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType!=H
TriggerAll = P2MoveType=A || P2StateType=A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = p2bodydist X > 145
;**************分支条件
Trigger1 = 1


;蔚蓝冲击  远距离压制
[State -3, AZURE WRATH]
type = ChangeState
value = 2600
TriggerAll = !IsHelper ; ---- Not Shadow Clone Igniz
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType!=H
TriggerAll = P2MoveType=A || P2StateType=A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = p2bodydist X > 145
;**************分支条件
Trigger1 = 1


;混沌状态  远距离压制
[State -3, CHAOS TIDE]
type = ChangeState
value = 1070
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType!=H
TriggerAll = P2MoveType=A || P2StateType=A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
;**************分支条件
Trigger1 = P2bodydist X >= 46-EnemyNear(fvar(36)),const(size.air.front)-EnemyNear(fvar(36)),const(size.air.back)+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 179+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -122-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(14*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -16-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure


;Run Fwd
[State -3, Run Fwd]
type = ChangeState
value = 100
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = Statetype != A
TriggerAll = P2movetype != A
TriggerAll = RoundState = 2
;TriggerAll = Random <= var(59)*20
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = StateNo != 100 && StateNo != 101
TriggerAll = !inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*20
Trigger1 = P2bodydist X > 120


;====================================================================================================================================================================================
;Attack Attempt - against air 攻击起手 对空
;====================================================================================================================================================================================
;圣光之刃
[State -3, EIDEANN BLADE]
type = ChangeState
value = 1080
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = fvar(39) = 0
TriggerAll = RoundState = 2
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = P2StateType = A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************反应速度及频率意识
;TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************start
Trigger1 = P2bodydist X >= -34+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 69+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -300-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;**************X+45 time+8
Trigger2 = P2bodydist X >= 11+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 114+floor(ifelse(25>fvar(31),25-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -300-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(25>fvar(31),25-fvar(31),0)*(fvar(29))+(ifelse(25>fvar(31),25-fvar(31),0)*25/2)*fvar(30));浮空确保 AirEnsure
;**************X+90 time+16
Trigger3 = P2bodydist X >= 56+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 159+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -300-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30));浮空确保 AirEnsure
;**************X+135 time+24
Trigger4 = P2bodydist X >= 101+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 204+floor(ifelse(41>fvar(31),41-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -300-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= 0-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(41>fvar(31),41-fvar(31),0)*(fvar(29))+(ifelse(41>fvar(31),41-fvar(31),0)*41/2)*fvar(30));浮空确保 AirEnsure
;**************X+180 time+32
Trigger5 = P2bodydist X >= 146+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 249+floor(ifelse(49>fvar(31),49-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -300-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= 0-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(49>fvar(31),49-fvar(31),0)*(fvar(29))+(ifelse(49>fvar(31),49-fvar(31),0)*49/2)*fvar(30));浮空确保 AirEnsure


;链刃 颅顶骨棱 切开
[State -3, CHAINBLADE SAGITTALRIUS SLICE]
type = ChangeState
value = 1060
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2moveType != H
;**************反应速度及频率意识
;TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno=1022 || EnemyNear(floor(fvar(36))),stateno=1045
;**************分支条件
;**************start time=12
Trigger1 = P2bodydist X >= -5
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -94-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= 0-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))
Trigger1 = P2bodydist y <= -5-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
Trigger2 = P2bodydist X >= -5
Trigger2 = P2bodydist X <= 108+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -116-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= 0-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))
Trigger2 = P2bodydist y <= -5-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+3 posX+2 posY-12
Trigger3 = P2bodydist X >= -5
Trigger3 = P2bodydist X <= 110+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -135-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger3 = P2bodydist y <= -5-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure


;====================================================================================================================================================================================
;Attack Attempt - against ground 攻击起手 对地
;====================================================================================================================================================================================
;古利查力度合击
[State -1, COMBINATION THROW OF KRIZALID]
type = ChangeState
value = 2400
triggerall = !IsHelper ; ---- Not Shadow Clone Igniz
TriggerAll = RoundState = 2
TriggerAll = var(59)
TriggerAll = fvar(37) = 0
TriggerAll = power >= 4000  ; ---- easily miss so don't use it very often
triggerall = fvar(20) < ifelse(((palno=12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)),var(40)/2,var(40)) ;striker krizalid not using
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2bodydist X = [-5,20]
TriggerAll = P2StateType != A
TriggerAll = P2MoveType != H
TriggerAll = !(EnemyNear(floor(fvar(36))),prevstateno = 5120 && EnemyNear(floor(fvar(36))),time <= 10)
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************反应速度及频率意识
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger1 = Random<=var(59)*85
Trigger2 = P2StateNo=[120,159]


;负之起源破防 盟友模式
[State -3, NEGATIVE GENESIS guard-break]
type = ChangeState
value = 1020
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = TeamMode = simul
TriggerAll = NumPartner
TriggerAll = Partner,alive
TriggerAll = statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2BodyDist X = [0,58]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = random <= var(59)*85
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
Trigger1 = P2stateno = [120,159]


;负之起源破防 梦魇模式 本体
[State -3, NEGATIVE GENESIS guard-break (Nightmare Mode - Original Igniz)]
type = ChangeState
value = 1020
TriggerAll = !IsHelper
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
TriggerAll = NumHelper(97864)
TriggerAll = Helper(97864),alive
TriggerAll = statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2BodyDist X = [0,58]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = random <= var(59)*85
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
Trigger1 = P2stateno = [150,159]


;负之起源破防 梦魇模式 影之克隆
[State -3, NEGATIVE GENESIS guard-break (Nightmare Mode - Shadow Clone Igniz)]
type = ChangeState
value = 1020
TriggerAll = IsHelper(97864)
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = root,alive
TriggerAll = statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2BodyDist X = [0,58]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = random <= var(59)*85
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
Trigger1 = P2stateno = [150,159]


;链刃 体轴垂直 切开
[State -3, CHAINBLADE TRANSAXIAL SLICE]
type = ChangeState
value = 1030
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2statetype = S || P2statetype = C
TriggerAll = P2MoveType != H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !InGuardDist || ((facing*EnemyNear(floor(fvar(36))),facing)&&(EnemyNear(floor(fvar(36))),animtime<-7))
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************额外特殊条件
TriggerAll = Random <= var(59)*20
;**************分支条件
;Trigger1 = P2bodydist X >= -5
;Trigger1 = P2bodydist X <= 59+floor(ifelse(11>fvar(31),11-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
;Trigger1 = P2bodydist y >= -76-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30)+fvar(32))
;Trigger1 = P2bodydist y <= 0-floor(ifelse(11>fvar(31),11-fvar(31),0)*(fvar(29))+(ifelse(11>fvar(31),11-fvar(31),0)*11/2)*fvar(30))
;**************time+2
Trigger1 = P2bodydist X >= 80+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 101+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -97-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger1 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************time+2
Trigger2 = P2bodydist X >= 80+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 111+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -117+20-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
Trigger2 = P2bodydist y <= 0-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))
;**************time+2
Trigger3 = P2bodydist X >= 80+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 128+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -122+20-floor(ifelse(7>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))
Trigger3 = P2bodydist y <= 0-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))


[State -3, SLP]
type = ChangeState
value = ifelse(P2statetype = S && random <= 500,200,300)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2statetype != A
TriggerAll = P2MoveType != H
;**************反应速度及频率意识
;TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !InGuardDist || ((facing*EnemyNear(floor(fvar(36))),facing)&&(EnemyNear(floor(fvar(36))),animtime<-2))
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = Random <= var(59)*5
Trigger1 = P2bodydist X >= 31+floor(ifelse(2>fvar(31),2-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 70+floor(ifelse(2>fvar(31),2-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = Random <= var(59)*3
Trigger2 = fvar(28) <= 0
Trigger2 = P2bodydist X >= -5
Trigger2 = P2bodydist X <= 30+floor(ifelse(2>fvar(31),2-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


[State -3, SLK]
type = ChangeState
value = ifelse(P2statetype = C,230,300)
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;TriggerAll = fvar(39) = 0
;**************自我条件
TriggerAll = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2statetype != A
TriggerAll = P2MoveType != H
;**************反应速度及频率意识
;TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !InGuardDist || ((facing*EnemyNear(floor(fvar(36))),facing)&&(EnemyNear(floor(fvar(36))),animtime<-5)) || random > var(59)*85
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
;**************分支条件
Trigger1 = Random <= var(59)*5
Trigger1 = P2bodydist X >= 50+floor(ifelse(3>fvar(31),3-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 140+floor(ifelse(3>fvar(31),3-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))


;神圣之箭 天空
[State -3, DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
;TriggerAll = power < 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType != H
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28) <= 0
;**************立回限制
TriggerAll = (life > 2*EnemyNear(floor(fvar(36))),life) || (life > (lifemax/3*2))
TriggerAll = life > (lifemax/3)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = ((P2bodydist x = [150,200]) && Random <= var(59)*10) || ((P2bodydist x > 200) && Random <= var(59)*15)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = P2bodydist X >= -5+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
Trigger1 = P2bodydist y <= 0-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30))
Trigger2 = P2bodydist y <= 0-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30))
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30))
Trigger3 = P2bodydist y <= 0-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30))
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
Trigger4 = P2bodydist y <= 0-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30))
Trigger5 = P2bodydist y <= 0-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30))
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30))
Trigger6 = P2bodydist y <= 0-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30))
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30))
Trigger7 = P2bodydist y <= 0-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30))
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30))
Trigger8 = P2bodydist y <= 0-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30))


;神圣之箭 天空
[State -3, DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
;TriggerAll = power < 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType = A
TriggerAll = P2MoveType != H
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28) <= 0
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = ((P2bodydist x = [150,200]) && Random <= var(59)*20) || ((P2bodydist x > 200) && Random <= var(59)*40)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = P2bodydist X >= -5+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist X <= 39-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(13>fvar(31),13-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -112-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(13>fvar(31),13-fvar(31),0)*(fvar(29))+(ifelse(13>fvar(31),13-fvar(31),0)*13/2)*fvar(30))
;**************X+40 time+5
Trigger2 = P2bodydist X >= 40-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist X <= 79-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(18>fvar(31),18-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -112-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30)+fvar(32))
Trigger2 = P2bodydist y <= -5-floor(ifelse(18>fvar(31),18-fvar(31),0)*(fvar(29))+(ifelse(18>fvar(31),18-fvar(31),0)*18/2)*fvar(30))
;**************X+80 time+10
Trigger3 = P2bodydist X >= 80-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist X <= 119-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(23>fvar(31),23-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -112-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30)+fvar(32))
Trigger3 = P2bodydist y <= -5-floor(ifelse(23>fvar(31),23-fvar(31),0)*(fvar(29))+(ifelse(23>fvar(31),23-fvar(31),0)*23/2)*fvar(30))
;**************X+120 time+15
Trigger4 = P2bodydist X >= 120-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist X <= 159-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(28>fvar(31),28-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -112-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30)+fvar(32))
Trigger4 = P2bodydist y <= -5-floor(ifelse(28>fvar(31),28-fvar(31),0)*(fvar(29))+(ifelse(28>fvar(31),28-fvar(31),0)*28/2)*fvar(30))
;**************X+160 time+20
Trigger5 = P2bodydist X >= 160-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist X <= 199-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(33>fvar(31),33-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -112-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30)+fvar(32))
Trigger5 = P2bodydist y <= -5-floor(ifelse(33>fvar(31),33-fvar(31),0)*(fvar(29))+(ifelse(33>fvar(31),33-fvar(31),0)*33/2)*fvar(30))
;**************X+200 time+25
Trigger6 = P2bodydist X >= 200-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist X <= 239-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(38>fvar(31),38-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger6 = P2bodydist y >= -112-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30)+fvar(32))
Trigger6 = P2bodydist y <= -5-floor(ifelse(38>fvar(31),38-fvar(31),0)*(fvar(29))+(ifelse(38>fvar(31),38-fvar(31),0)*38/2)*fvar(30))
;**************X+240 time+30
Trigger7 = P2bodydist X >= 240-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist X <= 279-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(43>fvar(31),43-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger7 = P2bodydist y >= -112-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30)+fvar(32))
Trigger7 = P2bodydist y <= -5-floor(ifelse(43>fvar(31),43-fvar(31),0)*(fvar(29))+(ifelse(43>fvar(31),43-fvar(31),0)*43/2)*fvar(30))
;**************X+280 time+35
Trigger8 = P2bodydist X >= 280-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist X <= 324-EnemyNear(fvar(36)),const(size.air.front)+floor(ifelse(48>fvar(31),48-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger8 = P2bodydist y >= -112-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30)+fvar(32))
Trigger8 = P2bodydist y <= -5-floor(ifelse(48>fvar(31),48-fvar(31),0)*(fvar(29))+(ifelse(48>fvar(31),48-fvar(31),0)*48/2)*fvar(30))


;神圣之箭 天空
[State -3, DIVINE ARROW - AIR]
type = ChangeState
value = 1000
;**************环境变量
TriggerAll = var(59) && var(59) < 13
TriggerAll = RoundState = 2
TriggerAll = fvar(37) = 0
;**************自我条件
;TriggerAll = power < 1000
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType != H
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28) <= 0
;**************立回限制
TriggerAll = (life > 2*EnemyNear(floor(fvar(36))),life) || (life > (lifemax/3*2))
TriggerAll = life > (lifemax/3)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = EnemyNear(floor(fvar(36))),stateno < 2000
TriggerAll = ifelse((NumEnemy=2 && EnemyNear(0),alive && EnemyNear(1),alive),(EnemyNear(floor(fvar(36))+1),stateno < 2000),1)
TriggerAll = IsHelper(97864) || (!IsHelper&&(!numprojID(1000)))
;**************影之克隆
TriggerAll = !IsHelper || (IsHelper(97864)&&(!numprojID(91000)))
;**************分支条件
;**************start time=11
Trigger1 = ((P2bodydist x = [150,200]) && Random <= var(59)*10) || ((P2bodydist x > 200) && Random <= var(59)*15)


;====================================================================================================================================================================================
;AI level 13 全局防御
;====================================================================================================================================================================================
;原地防御
[State -3, guard]
type = ChangeState
value = ifelse((!EnemyNear(floor(fvar(36))),ctrl && p2bodydist X > 15),910,120)
ctrl = 1
TriggerAll = fvar(6) != 1
TriggerAll = Alive
TriggerAll = var(59) >= 13
TriggerAll = StateType != A
TriggerAll = RoundState = 2
;TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 ||  stateno = 102
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************
Trigger1 = stateno = 0
Trigger2 = stateno = 10
Trigger3 = stateno = 11
Trigger4 = stateno = 12
Trigger1 = stateno = 20

;闪避
[State -3, guard]
type = ChangeState
value = 910
TriggerAll = fvar(6) != 1
TriggerAll = Alive
TriggerAll = var(59) >= 13
TriggerAll = StateType != A
TriggerAll = RoundState = 2
;TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 ||  stateno = 102
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************
Trigger1 = stateno = [120,159]
Trigger1 = Ctrl
Trigger1 = !EnemyNear(floor(fvar(36))),ctrl
Trigger1 = p2bodydist X > 15

;===========================================================================================================================
;P2STATENO -3 Check
;written by Eagrose
;change these with rather much CAUTION !!
;===========================================================================================================================
[State -3, VarSet]
type = VarSet
trigger1 = var(50) != (gametime+5)*(gametime%3)+97864
v = 50
value = (gametime+5)*(gametime%3)+97864
ignorehitpause = 1

;----------------------------------------------------------------------------------------------------




;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(0) - StateDef 40, 20010, 6300, 20003, 31030, 31031
; Var(1) - StateDef 900, 910, 1000, 1005, 1006, 1010, 1011, 1020, 1040, 1051, 1200, 1201, 1202, 1203, 1250, 1251, 1252, 1270, 1273, 1274, 1300, 1070, 1071, 1080, 2007, 2009, 2101, 2102, 2302, 2600, 2602, 2700, 2702, 2703, 3000, 3098, 6300, 8010, 8020, 8030, 8040, 31030, 191, 193
; Var(2) - StateDef 1060, 1061, 1062, 2700, 2702, 2703, 6300, 31030
; Var(3) - StateDef 31031
; Var(4) - StateDef 2206, 2412, 2506, 180
; Var(5) - StateDef 2004, 2007
; Var(7) - StateDef -2
; Var(8) - StateDef 5900, 4200, -2
; Var(9) - StateDef 5900
; Var(10) - StateDef 1020, 4215, 93200
; Var(11) - StateDef 1212, 1251, 1071, 1081, 2101, 2104, 2300, 2301, 2302, 2600, 2700, 2704, 93200
; Var(12) - StateDef 1010, 1071, 2300, 2301, 2302, 2600, 2700, 2704, 93200
; Var(13) - StateDef 1071, 2700
; Var(14) - StateDef 2101, 2700
; Var(15) - StateDef 1271
; Var(16) - StateDef -2
; Var(17) - StateDef 4215
; Var(18) - StateDef 4215
; Var(20) - StateDef -2
; Var(21) - StateDef -2
; Var(22) - StateDef 2508
; Var(23) - StateDef -2
; Var(29) - StateDef -2
; Var(39) - StateDef -2
; Var(40) - StateDef -2, -3
; Var(41) - StateDef -2
; Var(42) - StateDef -2
; Var(50) - StateDef -2, -3
; Var(51) - StateDef 701100, -2, -3
; Var(52) - StateDef -2
; Var(53) - StateDef -2
; Var(55) - StateDef -3
; Var(57) - StateDef 701100
; Var(58) - StateDef 701100, -2, -3
; Var(59) - StateDef 96600, -2, -3

;--------------------- Float Variable List ----------------------

; fVar(0) - StateDef 6300, 31030, 31031
; fVar(1) - StateDef 2009, 2106, 2702, 2703, 8001, 31030, 31031, 191
; fVar(2) - StateDef 31030
; fVar(3) - StateDef -2
; fVar(4) - StateDef -2
; fVar(5) - StateDef -2
; fVar(6) - StateDef -2
; fVar(8) - StateDef -2
; fVar(9) - StateDef -2
; fVar(10) - StateDef -2
; fVar(11) - StateDef 2701
; fVar(12) - StateDef 5150, 2801
; fVar(13) - StateDef 2800
; fVar(14) - StateDef 5150
; fVar(20) - StateDef 1200, 1201, 1202, 1203, 3000, -2
; fVar(21) - StateDef 1200, 1201, 1202, 1203, 3000, -2
; fVar(22) - StateDef 1200, 1201, 1202, 1203, 3000, -2
; fVar(23) - StateDef 1200, 1201, 1202, 1203, 3000, -2
; fVar(28) - StateDef -3
; fVar(29) - StateDef -3
; fVar(30) - StateDef -3
; fVar(31) - StateDef -3
; fVar(32) - StateDef -3
; fVar(35) - StateDef -3
; fVar(36) - StateDef 2706, -3
; fVar(37) - StateDef 1031, 1060, -3
; fVar(39) - StateDef -3

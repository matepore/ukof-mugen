;===========================================================================================================================
;Igniz Eagrose Version, original char by Gonzo-, re-written by Eagrose
;CNS file part: Special Moves
;===========================================================================================================================
;-------------------------------------------------------------------------------
; SPECIAL MOVE: DIVINE ARROW - SKY
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
velset = 0,0
anim = 1012 ;1000
ctrl = 0
sprpriority = 2

[State 1000, HitBy]; ---- BOSS only: ensure proj launch
type = HitBy
trigger1 = AnimElem = 3, >=2
trigger1 = AnimElem = 4, <=1
value = SCA,HA,AT,HP
ignorehitpause = 1

[State 1000, Helper]; ---- char visual helper
type = Helper
triggerall = !IsHelper
trigger1 = AnimElem = 1
ID = 1006
name = "char visual helper"
postype = p1
pos = 0,0
facing = 1
sprpriority = 3
stateno = 1006
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1000, Explod]
type = NULL;Explod
trigger1 = !IsHelper(97864)
;trigger1 = palno!=12
anim = 1010
ID = 1010
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
pausemove = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 1000, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = Time = 0
value = S0,26
channel = ifelse(IsHelper(97864),20,0)

[State 1000, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = animelem = 4
value = S0,27
volume = -25

[State 1000, Projectile]
type = Projectile
trigger1 = animelem = 4,=1
ProjID = ifelse(IsHelper(97864),91000,1000)
projanim = ifelse(fvar(4)=0,1001,1018)   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 0.49,0.49
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = -1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0
velocity = 8,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 2147483648 ;Max priority   ;1 3 5 7 9 999 99999 9999999
projsprpriority = 4
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 30,-90    ;Specifies the R, G, and B components of the projectile's shadow.
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(300*fvar(10)),floor(150*fvar(10))
;givepower = 0,0
;affectteam =     ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(100*fvar(3)),floor(10*fvar(3)) ;140,14
pausetime = 0,3
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 12    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = .5     ;y acceleration
ground.velocity = -4,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -4,-6    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 4
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno =
;p2stateno = 2707
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
nochainID = 1007 ; ---- DO NOT change this!!!
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 15
palfx.add = 0,0,ifelse(fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(fvar(4)=0,100,200),5
envshake.time = 8
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1000, Helper]; ---- proj reversaldef helper
type = Helper
trigger1 = animelem = 4,=1
ID = 1001
name = "proj reversaldef helper"
postype = p1
pos = 30,-90
facing = 1
sprpriority = -2
stateno = 1001
helpertype = normal
keyctrl = 0
ownpal = 1

;[State 1000, Helper]; ---- proj visual aura helper
;type = Helper
;trigger1 = animelem = 4
;ID = 1004
;name = "proj visual aura helper"
;postype = p1
;pos = 30,-90
;facing = 1
;sprpriority = 3
;stateno = 1004
;helpertype = normal
;keyctrl = 0
;ownpal = 1

[State 1000, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 1
persistent = 0
ignorehitpause = 1

[State 1000, VarAdd]; ---- var(1) Trans changing
type = VarAdd
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 1
var(1) = 8

[State 1000, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) > 0
trigger1 = AnimElem = 5, >= 1
trigger1 = AnimElem = 8, < 0
var(1) = -6

[State 1000, Trans]
type = Trans
triggerall = !IsHelper(97864) ; ---- Not Shadow Clone Igniz
triggerall = var(1) > 0
trigger1 = Animelem = 2, >=0
trigger1 = Animelem = 8, <0
trans = addalpha
alpha = 255,var(1)
ignorehitpause = 1
;persistent =

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; proj reversaldef helper ------------------------------------------------------
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1005
sprpriority = -2

[State 1001, HitOverRide]; ---- block hit-once projs/helpers
type = HitOverRide
trigger1 = 1
slot = 0
attr = SCA, AA,AT,AP
stateno = 1001
ignorehitpause = 1

;--------------------
[State 1001, ReversalDef]; ---- consume any proj & any p2stateno hitdef
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
priority = 99999, miss    ;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP         ; ---- DO NOT change this!!!
numhits = 0
sparkno = -1
;hitsound =
;p1stateno =
p2stateno = 2705
;guard.dist = 0
ignorehitpause = 1
;persistent =
id = 1001  ; ---- DO NOT change this!!!
;--------------------

[State 1001, HitBy]; ---- block NP,SP,HP hitdef helper attacks
type = HitBy
trigger1 = 1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1001, VelSet]; ---- synthronized with proj
type = VelSet
trigger1 = 1
x = 8
ignorehitpause = 1

[State 1000, Projectile]; ---- proj recreat (resist enemy's reversaldef, but allow enemy to hitoverride)
type = null;Projectile
trigger1 = !parent,IsHelper(97864)
trigger1 = !root,NumprojID(1000)
trigger1 = root,ProjHit1000 = 0, <=1
trigger1 = root,ProjGuarded1000 = 0, <=1
;trigger1 = p2movetype != H
;trigger1 = EnemyNear(floor(fvar(36))),movetype != H
;trigger1 = root,ProjContactTime(1000) = -1 || root,ProjContactTime(1000) >= 10
;trigger1 = root,ProjCancelTime(1000) = -1 || root,ProjCancelTime(1000) > 10
trigger2 = parent,IsHelper(97864)
trigger2 = !root,NumprojID(91000)
trigger2 = root,ProjHit91000 = 0, <=1
trigger2 = root,ProjGuarded91000 = 0, <=1
;trigger2 = p2movetype != H
;trigger2 = EnemyNear(floor(fvar(36))),movetype != H
;trigger2 = root,ProjContactTime(91000) = -1 || root,ProjContactTime(91000) >= 10
;trigger2 = root,ProjCancelTime(91000) = -1 || root,ProjCancelTime(91000) > 10
ProjID = ifelse((parent,IsHelper(97864)),91000,1000)
projanim = ifelse(parent,fvar(4)=0,1001,1018)   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 0.49,0.49
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = -1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0
velocity = 8,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 2147483648 ;Max priority   ;1 3 5 7 9 999 99999 9999999
projsprpriority = 4
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0    ;Specifies the R, G, and B components of the projectile's shadow.
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(300*parent,fvar(10)),floor(150*parent,fvar(10))
;givepower = 0,0
;affectteam =     ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(100*parent,fvar(3)),floor(10*parent,fvar(3)) ;140,14
pausetime = 0,3
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 12    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = .5     ;y acceleration
ground.velocity = -4,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -4,-6    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 4
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno =
;p2stateno = 2707
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
nochainID = 1007 ; ---- DO NOT change this!!!
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 15
palfx.add = 0,0,ifelse(parent,fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(parent,fvar(4)=0,100,200),5
envshake.time = 8
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1001, Helper]; ---- proj reversaldef end
type = Helper
trigger1 = !parent,IsHelper(97864)
trigger1 = !root,NumprojID(1000)
trigger2 = parent,IsHelper(97864)
trigger2 = !root,NumprojID(91000)
ID = 1002
name = "proj reversaldef end"
postype = p1
pos = 0,0
sprpriority = -2
stateno = 1002
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999

[State 1001, Helper]; ---- proj visual aura end
type = Helper
trigger1 = !parent,IsHelper(97864)
trigger1 = !root,NumprojID(1000)
trigger2 = parent,IsHelper(97864)
trigger2 = !root,NumprojID(91000)
ID = 1005
name = "proj visual aura end"
postype = p1
pos = 0,0
sprpriority = 4
stateno = 1005
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999

[State 1001, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -40
trigger2 = !parent,IsHelper(97864)
trigger2 = !root,NumprojID(1000)
trigger3 = parent,IsHelper(97864)
trigger3 = !root,NumprojID(91000)

; proj reversaldef end helper --------------------------------------------------
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1005
sprpriority = -2

[State 1002, HitOverRide]; ---- block hit-once projs/helpers
type = HitOverRide
trigger1 = 1
slot = 1
attr = SCA, AA,AT,AP
stateno = 1002
ignorehitpause = 1

;--------------------
[State 1002, ReversalDef]; ---- consume any proj & any p2stateno hitdef
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
priority = 99999, miss    ;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
sparkno = -1
;hitsound =
;p1stateno = 1002
p2stateno = 2705
;guard.dist = 0
ignorehitpause = 1
;persistent =
id = 1001  ; ---- DO NOT change this!!!
;--------------------

[State 1002, HitBy]; ---- block NP,SP attacks
type = HitBy
trigger1 = 1
value = SCA, NP,SP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1002, DestroySelf]
type = DestroySelf
trigger1 = time = 15

; proj visual aura helper (unused)------------------------------------------------
;[Statedef 1004]
;type    = S
;movetype= A
;physics = S
;poweradd = 0
;ctrl = 0
;velset = 0,0
;anim = 1007
;sprpriority = 3

;[State 1004, VelSet]
;type = velset
;trigger1 = 1
;x = 8
;ignorehitpause = 1

;[State 1004, NotHitBy]
;type = NotHitBy
;trigger1 = 1
;value = SCA
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1004, Trans]
;type = Trans
;trigger1 = 1
;trans = addalpha
;alpha = 140,240

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=0
;scale = 1.45,1.45

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=1
;scale = 1.47,1.47

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=2
;scale = 1.5,1.5

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=3
;scale = 1.53,1.53

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=4
;scale = 1.55,1.55

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=5
;scale = 1.53,1.53

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=6
;scale = 1.5,1.5

;[State 1004, AngleDraw]
;type = AngleDraw
;trigger1 = time%8=7
;scale = 1.47,1.47

;[State 1004, Helper]; ---- proj visual aura end
;type = Helper
;trigger1 = !root,NumprojID(1000)
;ID = 1005
;name = "proj visual aura end"
;postype = p1
;pos = 0,0
;sprpriority = 3
;stateno = 1005
;helpertype = normal
;keyctrl = 0
;ownpal = 1

;[State 1004, DestroySelf]
;type = DestroySelf
;trigger1 = frontedgebodydist <= 0
;trigger2 = !root,NumprojID(1000)

; proj visual aura end helper --------------------------------------------------
[Statedef 1005]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = ifelse(root,fvar(4)=0,812,1017)
sprpriority = 3

[State 1005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1005, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = 0,360
ignorehitpause = 1
persistent = 0

[State 1005, Trans]; ---- Fade out
type = Trans
trigger1 = 1
trans = addalpha
alpha = (255-time*16),255
ignorehitpause = 1

[State 1005, AngleDraw]; ---- Expanding
type = AngleDraw
trigger1 = animelem = 3, >=0
trigger1 = animelem = 4, <0
value = var(1)+10
scale = 1.1,1.1

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 4, >=0
trigger1 = animelem = 5, <0
value = var(1)+20
scale = 1.1,1.1

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 5, >=0
trigger1 = animelem = 6, <0
value = var(1)+30
scale = 1.2,1.2

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 6, >=0
trigger1 = animelem = 7, <0
value = var(1)+40
scale = 1.3,1.3

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 7, >=0
trigger1 = animelem = 8, <0
value = var(1)+50
scale = 1.35,1.35

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 8, >=0
trigger1 = animelem = 9, <0
value = var(1)+60
scale = 1.38,1.38

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 9, >=0
trigger1 = animelem = 10, <0
value = var(1)+70
scale = 1.4,1.4

[State 1005, AngleDraw]
type = AngleDraw
trigger1 = animelem = 10, >=0
value = var(1)+80
scale = 1.41,1.41

[State 1005, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

; char visual helper -----------------------------------------------------------
[Statedef 1006]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1012
sprpriority = 3

[State 1006, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1006, ChangeAnim]
type = ChangeAnim
trigger1 = parent,anim = 1012
value = 1012
elem = parent,AnimElemNo(0)
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1006, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1006, VarSet]; ---- var(1) palfx changing
type = VarSet
trigger1 = 1
var(1) = 1
persistent = 0

[State 1006, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = anim = 1012
trigger1 = parent,AnimElem = 3, >= 0
trigger1 = parent,AnimElem = 5, < 0
var(1) = 10

[State 1006, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = anim = 1012
triggerall = var(1) > 0
trigger1 = parent,AnimElem = 5, >= 4
var(1) = -5

[State 1006, PalFX]; ---- palfx changing
type = PalFX
triggerall = var(1) > 0
trigger1 = 1
time = 1
;add = floor(var(1)/3),floor(var(1)/3),var(1)
add = ifelse(root,fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(root,fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(root,fvar(4)=0,var(1),floor(var(1)/3*2))
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1006, DestroySelf]
type = DestroySelf
trigger1 = var(1) <= 0
trigger2 = parent,stateno = 1000
trigger2 = parent,animtime = 0
trigger3 = parent,movetype = H
trigger4 = parent,stateno != 1000

;-------------------------------------------------------------------------------
; SPECIAL MOVE: DIVINE ARROW - GROUND
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
velset = 0,0
anim = 1013 ;1002
ctrl = 0
sprpriority = 2

[State 1010, HitBy]; ---- crouching invincible
type = HitBy
triggerall = 1
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 5, <0
trigger2 = AnimElem = 5, >0
trigger2 = AnimElem = 5, <6
trigger3 = AnimElem = 5, >6
value = SA, AA,AT,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1010, HitBy]; ---- BOSS only: ensure proj launch
type = HitBy
triggerall = 1
trigger1 = AnimElem = 5, >=0  ; ---- first arrow
trigger1 = AnimElem = 5, <=0
trigger2 = AnimElem = 5, >=6  ; ---- second arrow
trigger2 = AnimElem = 5, <=6
value = SA,HA,AT,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1010, Helper]; ---- char visual helper
type = Helper
triggerall = !IsHelper
trigger1 = AnimElem = 1
ID = 1011
name = "char visual helper"
postype = p1
pos = 0,0
facing = 1
sprpriority = 3
stateno = 1011
helpertype = normal
keyctrl = 0
ownpal = 1
;persistent =

[State 1010, Explod]
type = NULL;Explod
trigger1 = !IsHelper(97864)
trigger1 = palno!=12
anim = 1011
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
pausemove = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 1010, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,26
channel = ifelse(IsHelper(97864),20,0)

[State 1010, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = animelem = 4
value = S0,27
volume = -25

[State 1011, VarSet]; ---- var(12) set spark pos X
type = VarSet
trigger1 = 1
var(12) = 0
persistent = 0

[State 1011, VarSet]; ---- var(12) set spark pos X
type = VarSet
trigger1 = var(12) != floor(p2dist X)
var(12) = floor(p2dist X)

[State 1010, Explod]; ---- hit spark
type = Explod
trigger1 = ProjHit1010 = 1
anim = F2
postype = p1
pos = var(12),-14
ontop = 1

[State 1010, Explod]; ---- guard spark
type = Explod
trigger1 = ProjGuarded1010 = 1
anim = F40
postype = p1
pos = var(12),-14
ontop = 1

[State 1010, Explod]; ---- hit spark
type = Explod
trigger1 = ProjHit1011 = 1
anim = F2
postype = p1
pos = var(12),-34
ontop = 1

[State 1010, Explod]; ---- guard spark
type = Explod
trigger1 = ProjGuarded1011 = 1
anim = F40
postype = p1
pos = var(12),-34
ontop = 1

[State 1010, Projectile]; ---- the first arrow
type = Projectile
trigger1 = animelem = 5
ProjID = ifelse(IsHelper(97864),91010,1010)
projanim = ifelse(fvar(4)=0,1009,1019) ;1003   ;Defaults to 0 if omitted.
projhitanim = -1   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = -1   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 32 ;22  ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 2147483648 ;Max priority  ;1 3 5 7 9 999 99999 9999999
projsprpriority = 4
projedgebound = 70    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 70
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 25,-14 ;50,-14    ;Specifies the R, G, and B components of the projectile's shadow.
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA    ;HLAFDP+-
guardflag = L    ;MHLA
getpower = floor(150*fvar(10)),floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = medium    ;light,medium,hard,back,up,diagup
air.animtype = medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(60*fvar(3)),floor(6*fvar(3))
pausetime = 0,8
;guard.pause ,0
sparkno = -1 ;1
guard.sparkno = -1 ;40
sparkxy = 60,0
hitsound = S0,17
guardsound = S0,10
ground.type = low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
air.type = High    ;Defaults to ground.type
ground.slidetime = 8    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 12    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 12    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = -3,0;,-4
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -3,-1.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 4
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 12
palfx.add = 0,0,ifelse(fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(fvar(4)=0,100,200),5
envshake.time = 8
envshake.ampl = 2
envshake.freq = 60
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = -1
afterimage.length = 6
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.PalBright = 0,0,ifelse(fvar(4)=0,25,0)
afterimage.PalContrast = 120, 120, 120
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
afterimage.timegap = 2
afterimage.framegap = 2
afterimage.trans = add ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =


[State 1010, Projectile]; ---- the second arrow
type = Projectile
trigger1 = animelem = 5,= 6
ProjID = ifelse(IsHelper(97864),91011,1011)
projanim = ifelse(fvar(4)=0,1009,1019);1004  ;Defaults to 0 if omitted.
projhitanim = -1   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = -1   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 32 ;22  ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0  ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 2147483648    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 4
projedgebound = 70    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 70
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 35,-36   ;50,-14 ;30,-14
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = C,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA    ;HLAFDP+-
guardflag = L    ;MHLA
getpower = floor(150*fvar(10)),floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = medium    ;light,medium,hard,back,up,diagup
air.animtype = medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(60*fvar(3)),floor(6*fvar(3))
pausetime = 0,8
;guard.pause ,0
sparkno = -1 ;1
guard.sparkno = -1 ;40
sparkxy = 75,0
hitsound = S0,17
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 5    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 12    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
guard.ctrltime  = 12    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = -3,-7
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -3,-6.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 4
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 20
palfx.add = 0,0,ifelse(fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(fvar(4)=0,100,200),5
envshake.time = 6
envshake.ampl = 2
envshake.freq = 60
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = -1
afterimage.length = 6
;afterimage.palcolor =
;afterimage.palinvertall =
afterimage.PalBright = 0,0,ifelse(fvar(4)=0,25,0)
afterimage.PalContrast = 120, 120, 120
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
afterimage.timegap = 2
afterimage.framegap = 2
afterimage.trans = add ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =


[State 1010, Helper]; ---- proj reversaldef helper
type = Helper
trigger1 = animelem = 5
ID = 1012
name = "proj reversaldef helper"
postype = p1
pos = 0,0
sprpriority = -2
stateno = 1012
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1010, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 1
persistent = 0

[State 1010, VarAdd]; ---- var(1) Trans changing
type = VarAdd
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 1
var(1) = 12 ;9

[State 1010, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) > 0
trigger1 = AnimElem = 4, >= 7
trigger1 = AnimElem = 9, < 0
var(1) = -3

[State 1010, Trans]
type = Trans
triggerall = !IsHelper(97864) ; ---- Not Shadow Clone Igniz
triggerall = var(1) > 0
trigger1 = Animelem = 2, >=0
trigger1 = Animelem = 9, <0
trans = addalpha
alpha = 255,var(1)
ignorehitpause = 1
;persistent =

[State 1010, Unfolding of the Ture Universe]; ---- AI
type = ChangeState
value = 2800
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll=!IsHelper(97864) ; ---- Not Shadow Clone Igniz
;TriggerAll = fvar(37) = 0
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
;TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
;**************对手条件
;TriggerAll = P2StateType = L
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
;TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -1
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = !Numpartner
;**************分支条件
;Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5100,5119]
trigger1 = animTime = 0
Trigger1 = P2moveType = H

;AI combo (original idea by マ`ダ`ライセンス若本)
[State 1010, ChangeState]; ---- Chainblade Sagittalrius Slice (strong) AI
type = ChangeState
value = 1060
Triggerall = var(59)
;Triggerall = fvar(37) = 0
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType != L
Triggerall = P2MoveType = H
Triggerall = P2stateno != [120,159]
Triggerall = AnimTime = 0
Triggerall = !inguarddist
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************分支条件
;**************start time=12
Trigger1 = P2bodydist X >= -15
Trigger1 = P2bodydist X <= 104+floor(ifelse(12>fvar(31),12-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger1 = P2bodydist y >= -94-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30))  ;+fvar(32)
Trigger1 = P2bodydist y <= -1-floor(ifelse(12>fvar(31),12-fvar(31),0)*(fvar(29))+(ifelse(12>fvar(31),12-fvar(31),0)*12/2)*fvar(30));浮空确保 AirEnsure
;**************time+2
Trigger2 = P2bodydist X >= -15
Trigger2 = P2bodydist X <= 108+floor(ifelse(14>fvar(31),14-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger2 = P2bodydist y >= -116-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30))  ;+fvar(32)
Trigger2 = P2bodydist y <= -1-floor(ifelse(14>fvar(31),14-fvar(31),0)*(fvar(29))+(ifelse(14>fvar(31),14-fvar(31),0)*14/2)*fvar(30));浮空确保 AirEnsure
;**************time+3
Trigger3 = P2bodydist X >= -15
Trigger3 = P2bodydist X <= 108+floor(ifelse(15>fvar(31),15-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger3 = P2bodydist y >= -116-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30))  ;+fvar(32)
Trigger3 = P2bodydist y <= -1-floor(ifelse(15>fvar(31),15-fvar(31),0)*(fvar(29))+(ifelse(15>fvar(31),15-fvar(31),0)*15/2)*fvar(30));浮空确保 AirEnsure
;**************time+4
Trigger4 = P2bodydist X >= -15
Trigger4 = P2bodydist X <= 108+floor(ifelse(16>fvar(31),16-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger4 = P2bodydist y >= -116-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30))  ;+fvar(32)
Trigger4 = P2bodydist y <= -1-floor(ifelse(16>fvar(31),16-fvar(31),0)*(fvar(29))+(ifelse(16>fvar(31),16-fvar(31),0)*16/2)*fvar(30));浮空确保 AirEnsure
;**************time+5 posX+2 posY-12
Trigger5 = P2bodydist X >= -15
Trigger5 = P2bodydist X <= 110+floor(ifelse(17>fvar(31),17-fvar(31),0)*(-facing*EnemyNear(floor(fvar(36))),facing*fvar(28)))
Trigger5 = P2bodydist y >= -135-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30))  ;+fvar(32)
Trigger5 = P2bodydist y <= -1-floor(ifelse(17>fvar(31),17-fvar(31),0)*(fvar(29))+(ifelse(17>fvar(31),17-fvar(31),0)*17/2)*fvar(30));浮空确保 AirEnsure
;---------------
Trigger6 = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
Trigger6 = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
Trigger6 = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
Trigger6 = p2bodydist X <= 95
Trigger6 = p2statetype = A
;---------------
;Trigger1 = p2bodydist X = [-15,100]
;Trigger1 = p2bodydist Y >= -45

[State 1010, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; char visual helper -----------------------------------------------------------
[Statedef 1011]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1013
sprpriority = 3

[State 1011, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1011, ChangeAnim]
type = ChangeAnim
trigger1 = parent,anim = 1013
value = 1013
elem = parent,AnimElemNo(0)
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1011, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent =

[State 1011, VarSet]; ---- var(1) palfx changing
type = VarSet
trigger1 = 1
var(1) = 1
persistent = 0

[State 1011, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = anim = 1013
trigger1 = parent,AnimElem = 3, >= 0
trigger1 = parent,AnimElem = 5, <= 0
var(1) = 6

[State 1011, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = anim = 1013
triggerall = var(1) > 0
trigger1 = parent,AnimElem = 5, >= 10
var(1) = -4

[State 1011, PalFX]; ---- palfx changing
type = PalFX
triggerall = var(1) > 0
trigger1 = 1
time = 1
;add = floor(var(1)/3),floor(var(1)/3),var(1)
add = ifelse(root,fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(root,fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(root,fvar(4)=0,var(1),floor(var(1)/3*2))
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1011, DestroySelf]
type = DestroySelf
trigger1 = var(1) <= 0
trigger2 = parent,stateno = 1010
trigger2 = parent,animtime = 0
trigger3 = parent,movetype = H
trigger4 = parent,stateno != 1010

; proj reversaldef helper ------------------------------------------------------
[Statedef 1012]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1006
sprpriority = -2

[State 1012, HitOverRide]; ---- block hit-once projs/helpers
type = HitOverRide
trigger1 = 1
slot = 4
attr = SCA, AA,AT,AP
stateno = 1012
ignorehitpause = 1

;--------------------------
[State 1012, ReversalDef]; ---- consume any proj
type = ReversalDef
trigger1 = Ishelper(1013)
reversal.attr = SCA,NP,SP
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
;sparkno =
;hitsound =
;p1stateno =
p2stateno = 2705
;guard.dist = 0
ignorehitpause = 1
;persistent =
;--------------------------

[State 1012, HitBy]; ---- block NP,SP attacks
type = HitBy
trigger1 = 1
value = SCA, NP,SP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1012, DestroySelf]
type = DestroySelf
trigger1 = time >= 13

[State 1012, DestroySelf]
type = NULL;DestroySelf
triggerall = !parent,IsHelper(97864)
trigger1 = !root,NumprojID(1010)
trigger1 = !root,NumprojID(1011)

[State 1012, DestroySelf]
type = NULL;DestroySelf
triggerall = parent,IsHelper(97864)
trigger1 = !root,NumprojID(91010)
trigger1 = !root,NumprojID(91011)

;---------------------------------------------------------------------------
; SPECIAL MOVE: NEGATIVE GENESIS
[Statedef 1020]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(300*fvar(10))
ctrl = 0
velset = 0,0
anim = 1020 ;221
sprpriority = 3

[State 1020, VarSet]; ---- var(10) Negative Genesis reflector judge Initialize
type = VarSet
trigger1 = 1
var(10) = 0
ignorehitpause = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

;--------------------------------
[State 1020, HitBy]; ---- invincible to proj, start
type = HitBy
Trigger1 = Animelem = 1, >= 0
Trigger1 = Animelem = 12, < 0
value = SCA,AA,AT ;,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1020, HitBy]; ---- invincible to proj, when no reflection (var(10) = 0)
type = HitBy
triggerall = var(10) = 0
Trigger1 = Animelem = 12, >= 0
Trigger1 = Animelem = 15, <= 1
value = SCA,AA,AT ;,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1025, HitBy]; ---- high invincible, ensure proj launch, when reflection (var(10) = 1)
type = HitBy
triggerall = var(10) = 1
trigger1 = animelem = 12, >= 0
trigger1 = animelem = 15, <= 1
value = SCA,HA,AT ;,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1020, HitBy]; ---- invincible to proj, end
type = HitBy
Trigger1 = Animelem = 15, > 1
Trigger1 = Animelem = 17, < 1
value = SCA,AA,AT ;,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;--------------------------------

[State 1020, VarRandom]; ---- var(1) voice random
type = VarRandom
trigger1 = 1
v = 1
range = 1,3
persistent = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1020, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = Animelem = 1
trigger1 = var(1) = 1
value = S0,21
channel = ifelse(IsHelper(97864),20,0)

[State 1020, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = time = 0
value = S0,5

[State 1020, Helper]; ---- proj Reflector
type = Helper
trigger1 = Animelem = 1
trigger1 = !NumHelper(1020)
ID = 1020
name = "Negative Genesis Reflector"
postype = p1
pos = 0,0
sprpriority = 2
stateno = 1023
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1020, EnvColor]
type = EnvColor
triggerall = animelem = 17, <0
trigger1 = movecontact = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1020, EnvColor]
type = EnvColor
triggerall = animelem = 17, >=0
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0


[State 1020, HitDef]; ---- first hit: blow away
type = HitDef
trigger1 = animelem = 12
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(150*fvar(10)),floor(150*fvar(10)) ; ---- guard getpower increased for guard-break effect
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Medium    ;light,medium,hard,back,up,diagup
air.animtype = Medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(110*fvar(3)),floor(11*fvar(3))
pausetime = 7,0
guard.pausetime = 0,4
sparkno = 1
guard.sparkno = 40
sparkxy = -10,-60
hitsound = S0,17
guardsound = S0,10
ground.type = Low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 0    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 0    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
;yaccel = 0.5    ;y acceleration
ground.velocity = -16,0
guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -16,0    ;Defaults to 0,0
airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
snap = 20,-30
sprpriority = 3
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
p2facing = 1
;p1stateno = 0
p2stateno = 1021
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 0
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
id = 1200  ; ---- DO NOT change this!
;chainID = -1
nochainID = 2033
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 7
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
ignorehitpause = 1
persistent = 0


[State 1020, Projectile]; ---- first hit guardded -> guard-break proj
type = Projectile
triggerall = moveguarded
TriggerAll = IsHelper(97864) || (!IsHelper && !numprojID(1020))
TriggerAll = !IsHelper || (IsHelper(97864) && !numprojID(91020)) ; ---- Shadow Clone Igniz
trigger1 = animelem = 12, >= 1
trigger1 = animelem = 14, < 0
ProjID = ifelse(IsHelper(97864),91020,1020)
id = 2033    ; ---- DO NOT change this!
attr = S, HA
guardflag = N    ; ---- break guard
hitflag = MA    ; ---- affect only those that was not gethit
numhits = 0
projanim = 2033
projpriority = 4
priority = 7,miss
sparkno = -1
p2stateno = 1026
projremovetime = 1
p2facing = 1
palfx.time = 25
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
ignorehitpause = 1


[State 1020, HitDef]; ---- second hit: knock down
type = HitDef
trigger1 = animelem = 20
;trigger1 = p2stateno != 1021  ; ---- use chainID parameter instead
;trigger1 = p2stateno != 1026  ; ---- use chainID parameter instead
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA-  ;MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(150*fvar(10)),floor(75*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Medium    ;light,medium,hard,back,up,diagup
air.animtype = Medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(110*fvar(3)),floor(11*fvar(3))
pausetime = 1,1
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = -10,-60
hitsound = S0,17
guardsound = S0,10
ground.type = low      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 9    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 9    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
;yaccel = 0.5    ;y acceleration
ground.velocity = -6,20
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -6,20    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 3
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 0
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
nochainID = 2033  ; ---- DO NOT change this!
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 10
fall.envshake.ampl = 5
fall.envshake.freq = 120
fall.envshake.phase = 120
;ignorehitpause =
;persistent =

;------------------------ unused
;[State 1020, ChangeState]; ---- Negative Genesis character React
;type = ChangeState
;triggerall = Animelem = 13
;trigger1 = var(10) = 1
;value = 1025
;ignorehitpause = 1
;------------------------

[State 1025, ChangeAnim]
type = ChangeAnim
triggerall = var(10) >= 1
trigger1 = animelem = 14, >=1
trigger1 = animelem = 15, <0
value = 1020
elem = 15
ignorehitpause = 1
persistent = 0

[State 1025, Projectile]; ---- reflector generated proj (#1 #2)
type = Projectile
trigger1 = animelem = 15
trigger1 = var(10) >= 1
trigger2 = animelem = 17
trigger2 = var(10) >= 1
ProjID = ifelse((animelem = 15),1025,1026)
projanim = ifelse(fvar(4)=0,1001,1018) ;2036 ;2030   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 0.49,0.49
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = -1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 14,0   ;very fast
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 2147483648  ;medium priority  ;1 3 5 7 9 999 99999 9999999
projsprpriority = 2
projedgebound = 40    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 40
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 30,ifelse((animelem=15),-100,-50)
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(200*fvar(10)),floor(100*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 5,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(50*fvar(3)),floor(5*fvar(3))
pausetime = 0,8
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
ground.type = high      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 8    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 16    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 16    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -5,-5
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -5,-4.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 15
palfx.add = 0,0,ifelse(fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(fvar(4)=0,100,200),5
envshake.time = 8
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =


[State 1025, Helper]; ---- use moving helper to track with poj, summon visual aura helper at end.
type = Helper
trigger1 = animelem = 15
trigger1 = var(10) >= 1
trigger2 = animelem = 17
trigger2 = var(10) >= 1
ID = ifelse((animelem=15),1027,1028)
name = "proj reversaldef helper"
postype = p1
pos = 30,ifelse((animelem=15),-100,-50)
facing = 1
sprpriority = -2
stateno = 1027
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1025, VarAdd]; ---- enable twice reflecting by reseting var(10)
type = VarAdd
triggerall = var(10) >= 1
trigger1 = animelem = 15
var(10) = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1020, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Negative Genesis P2STATENO ----------------------------------------------------
[Statedef 1021]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1021, HitVelSet]; ---- GetHit Vel function
type = HitVelSet
trigger1 = Time = 7
x = 1

[State 1021, ChangeAnim2]
type = ChangeAnim2
Trigger1 = 1
value = 911
ignorehitpause = 1
persistent = 0

;------------------------------ disabled, use HitVelSet instead
;[State 1021, Turn]
;type = Turn
;Trigger1 = frontedgedist <= 0
;value = 1

;[State 1021, VelSet]
;type = VelSet
;trigger1 = time = 0
;x = -13
;y = -.6

;[State 1021, VelAdd]
;type = VelAdd
;Trigger1 = time > 4
;y = .14
;------------------------------

[State 1021, ScreenBound]
type = ScreenBound
trigger1 = Time >= 7
movecamera = 1,0

[State 1021, PlayerPush]
type = PlayerPush
trigger1 = Time >= 7
value = 0
ignorehitpause = 1
;persistent =

[state 1021, ChangeState]
type = ChangeState
triggerall = Time >= 7
Trigger1 = backedgedist <= 0
Trigger2 = frontedgedist <= 0
value = 1022

;Negative Genesis P2STATENO 2 --------------------------------------------------
[Statedef 1022]
type    = A
movetype= H
physics = N
velset = 3.5,-8 ;3.5,-7.5

[State 1022, LifeAdd]
type = LifeAdd
Trigger1 = Time = 0
value = -10
kill = 0
absolute = 1

[State 1022, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn
ignorehitpause = 1

[State 1022, Turn]
type = Turn
trigger1 = time = 0
value = 1

[State 1022, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 912
ignorehitpause = 1

[State 1022, VelAdd]
type = VelAdd
Trigger1 = time > 3
y = .5
x = .05

[State 1022, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;Negative Genesis proj Reflector -----------------------------------------------
[Statedef 1023]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2029
sprpriority = 2

;--------------------
[State 1023, HitBy]; ---- block hit-once "proj" helpers
type = HitBy
trigger1 = 1 ;time%2=0
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1023, HitOverRide]; ---- block hit-once "proj" helpers
type = HitOverRide
trigger1 = 1 ;time%2=0
time = -1
slot = 0
attr = SCA,NP,SP,HP
stateno = 1024
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;--------------------

;--------------------
;[State 1023, NotHitBy]
;type = NotHitBy
;trigger1 = time%2=1
;value = SCA
;time = 1
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1023, HitOverRide]; ---- block any projectiles
;type = hitoverride
;trigger1 = time%2=1
;time = 1
;attr = SCA
;hitflag = P
;stateno = 1024
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999
;--------------------

;--------------------
[State 1023, ReversalDef]; ---- consume any proj
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
pausetime = 0,2
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
sparkno = -1
;hitsound =
p1stateno = 1024
p2stateno = 2010
;guard.dist = 0
ignorehitpause = 1
;persistent =
;--------------------

[State 1023, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1023, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 1020
trigger1 = parent,animelem = 17, >=0
trigger2 = parent,stateno != 1020

;Negative Genesis proj Reflector React -----------------------------------------
[Statedef 1024]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2029
sprpriority = 2

[State 1024, ParentVarAdd]; ---- var(10) Negative Genesis reflector judge
type = ParentVarAdd
trigger1 = var(10) < 2
trigger1 = time = 0
var(10) = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

;--------------------
[State 1024, HitBy]; ---- block hit-once "proj" helpers
type = HitBy
trigger1 = 1 ;time%2=0
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1024, HitOverRide]; ---- block hit-once "proj" helpers
type = HitOverRide
trigger1 = 1 ;time%2=0
time = -1
slot = 0
attr = SCA,NP,SP,HP
stateno = 1024
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;--------------------

;--------------------
;[State 1024, NotHitBy]
;type = NotHitBy
;trigger1 = time%2=1
;value = SCA
;time = 1
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1024, HitOverRide]; ---- block any projectiles
;type = null;HitOverRide
;trigger1 = time%2=1
;time = 1
;attr = SCA
;hitflag = P
;stateno = 1024
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999
;--------------------

;--------------------
[State 1023, ReversalDef]; ---- consume any proj
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP,HP
pausetime = 0,2
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
sparkno = -1
;hitsound =
p1stateno = 1024
p2stateno = 2010
;guard.dist = 0
ignorehitpause = 1
;persistent =
;--------------------

[State 1024, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1024, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 1020
trigger1 = parent,animelem = 17, >=0
trigger2 = parent,stateno != 1020

; UNUSED, combined with original Negative Genesis state ------------------------
;Negative Genesis character React ----------------------------------------------
;[Statedef 1025]
;type    = S
;movetype= A
;physics = S
;juggle  = 0
;poweradd = floor(500*fvar(10))
;ctrl = 0
;velset = 0,0
;anim = 2031
;sprpriority = 2
;juggle = 0

;[State 1025, NotHitBy]; ---- ensure proj launch
;type = NotHitBy
;trigger1 = animelem = 1, >= 0
;trigger1 = animelem = 6, <= 0
;value = SCA
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1025, HitBy]; ---- proj invincible
;type = HitBy
;trigger1 = animelem = 6,>0
;value = SCA,AA,AT,HP
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1025, Projectile]; ---- reflector generate proj (#1 #2 #3)
;type = Projectile
;projID = 1025
;trigger1 = animelem = 2
;trigger2 = animelem = 4
;trigger2 = var(10) = 1
;trigger3 = animelem = 6
;trigger3 = var(10) = 1
;projremove = 1
;;projremovetime = 30
;projhits = 1
;;projremanim = -1
;;projhitanim = 812
;;projmisstime = 2
;projpriority = 9999999
;projanim = 2036 ;2030
;projscale = 0.49,0.49
;offset = 30,ifelse((animelem=2),-100,ifelse((animelem=4),-85,-50))
;velocity = 14,0
;attr = A, HP
;priority = 9,hit
;damage   = 140,14
;poweradd = floor(300*fvar(10)),floor(150*fvar(10))
;animtype = Hard
;hitflag = MAF
;guardflag = M
;sparkno = 2
;guard.sparkno = 42
;sparkxy = 30,0
;hitsound = S0,17
;guardsound = S0,10
;pausetime = 0,10
;ground.type = High
;ground.slidetime = 15
;guard.slidetime = 15
;ground.hittime  = 25
;guard.hittime = 25
;guard.ctrltime = 25
;ground.velocity = -5,-6
;air.velocity = -5,-5
;fall = 1
;fall.recover = 0
;envshake.time = 8
;envshake.ampl = 5
;envshake.freq = 120
;envshake.phase = 120

;[State 1025, Helper]; ---- proj reversaldef helper
;type = Helper
;trigger1 = animelem = 2
;trigger2 = animelem = 4
;trigger2 = var(10) = 1
;trigger3 = animelem = 6
;trigger3 = var(10) = 1
;ID = 1027
;name = "proj reversaldef helper"
;postype = p1
;pos = 30,ifelse((animelem=2),-100,ifelse((animelem=4),-85,-50))
;facing = 1
;sprpriority = -2
;stateno = 1027
;helpertype = normal
;keyctrl = 0
;ownpal = 1

;[State 1025, VarSet]; ---- enable muti-proj reflect
;type = VarSet
;triggerall = var(10) = 1
;trigger1 = animelem = 2,=1
;trigger2 = animelem = 4,=1
;var(10) = 0
;ignorehitpause = 1
;supermovetime = 99999
;pausemovetime = 99999

;[State 1025, HitDef]
;type = HitDef
;trigger1 = animelem = 6
;trigger1 = p2stateno != 1021
;trigger1 = p2stateno != 1026
;attr = S, SA
;getpower = floor(600*fvar(10)),floor(300*fvar(10))
;animtype  = Medium
;damage    = 110,11
;priority = 6,hit
;guardflag = HA
;pausetime = 5,10 ;2,6
;sparkno = 2
;guard.sparkno = 41
;sparkxy = -10,-60
;hitsound   = S0,17
;guardsound = S0,10
;ground.type = low
;ground.slidetime = 9
;ground.hittime  = 9
;ground.velocity = -6,20;-6,5
;air.velocity = -6,20 ;-6,2.5
;fall = 1
;fall.recover = 0

;[State 240, 4]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;Negative Genesis guard-break P2STATENO ----------------------------------------
; (also the Global ReversalDef common used P2STATENO)
[Statedef 1026]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1026, NotHitBy]; ---- Reversaled helper debug
type = NotHitBy
trigger1 = isHelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1026, RemoveExplod]; ---- Reversaled helper debug
type = RemoveExplod
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1026, DestroySelf]; ---- Reversaled helper debug
type = DestroySelf
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1026, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2032
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1026, ChangeAnim2]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
triggerall = pos Y < 0
trigger1 = time = 0
value = 5030
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1026, PosSet]
type = PosSet
trigger1 = pos Y >= 0
;x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 1026, PosAdd]
type = PosAdd
Trigger1 = time = [3,15]
x = -2.7 ;-3
ignorehitpause = 1

[State 3100, HitFallSet]
type = HitFallSet
trigger1 = pos Y < 0
value = 1
;xvel =
yvel = -4.5
ignorehitpause = 1
persistent = 0

[State 1026, SelfState]
type = SelfState
trigger1 = pos Y < 0
trigger1 = Time >= 25
value = 5030

[State 1026, SelfState]
type = SelfState
trigger1 = Time >= 25
value = 0
ctrl = 1

; proj reversaldef helper ------------------------------------------------------
[Statedef 1027]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1005
sprpriority = -2

[State 1001, HitOverRide]; ---- block hit-once projs/helpers
type = HitOverRide
trigger1 = 1
slot = 0
attr = SCA, AA,AT,AP
stateno = 1027
ignorehitpause = 1

;--------------------
[State 1001, ReversalDef]; ---- consume any proj
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
priority = 99999, miss    ;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
sparkno = -1
;hitsound =
;p1stateno =
p2stateno = 2705
;guard.dist = 0
ignorehitpause = 1
;persistent =
id = 1001  ; ---- DO NOT change this!!!
;--------------------

[State 1001, HitBy]; ---- block NP,SP,HP hitdef helper attacks
type = HitBy
trigger1 = 1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1027, VelSet]; ---- synthronized with proj
type = VelSet
trigger1 = 1
x = 14
ignorehitpause = 1

[State 1001, Helper]; ---- proj reversaldef end
type = Helper
trigger1 = isHelper(1027)
trigger1 = !root,NumprojID(1025)
trigger2 = isHelper(1028)
trigger2 = !root,NumprojID(1026)
ID = 1028
name = "proj reversaldef end"
postype = p1
pos = 0,0
sprpriority = -2
stateno = 1028
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999

[State 1027, Helper]; ---- proj visual aura end
type = Helper
trigger1 = isHelper(1027)
trigger1 = !root,NumprojID(1025)
trigger2 = isHelper(1028)
trigger2 = !root,NumprojID(1026)
ID = 1005
name = "proj visual aura end"
postype = p1
pos = 0,0
sprpriority = 3
stateno = 1005
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999

[State 1027, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -40
trigger2 = isHelper(1027)
trigger2 = !root,NumprojID(1025)
trigger3 = isHelper(1028)
trigger3 = !root,NumprojID(1026)

; proj reversaldef end helper --------------------------------------------------
[Statedef 1028]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1005
sprpriority = -2

[State 1002, HitOverRide]; ---- block hit-once projs/helpers
type = HitOverRide
trigger1 = 1
slot = 1
attr = SCA, AA,AT,AP
stateno = 1028
ignorehitpause = 1

;--------------------
[State 1001, ReversalDef]; ---- consume any proj
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NP,SP
priority = 99999, miss    ;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = HLMAFDP
numhits = 0
sparkno = -1
;hitsound =
;p1stateno =
p2stateno = 2705
;guard.dist = 0
ignorehitpause = 1
;persistent =
id = 1001  ; ---- DO NOT change this!!!
;--------------------

[State 1002, HitBy]; ---- block NP,SP attacks
type = HitBy
trigger1 = 1
value = SCA, NP,SP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1002, DestroySelf]
type = DestroySelf
trigger1 = time = 15

;-------------------------------------------------------------------------------
; SPECIAL MOVE: CHAINBLADE TRANSAXIAL SLICE (LIGHT)
[Statedef 1030]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 1030, HitBy]; ---- invincible to basic punches/kicks
type = NULL;HitBy
trigger1 = animelem = 6, >=0
trigger1 = animelem = 14, <0
value = SCA,SA,HA,NT,ST,HT,NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1030, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = time = 0
value = S0,29
channel = ifelse(IsHelper(97864),20,0)

[State 1030, PlaySnd]; ---- sound
type = playsnd
trigger1 = animelem = 7
value = S0,30
channel = 1

[State 1030, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 1

[State 1030, HitDef]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(145*fvar(10)),floor(200*fvar(10)) ; ---- guard getpower > hit getpower while using CHAINBLADE
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 15*(100-HitCount*5)*.01,2
damage = floor(15*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,3
guard.pausetime = 2,ifelse((AnimElem = 13),8,3)
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
air.type = High    ;Defaults to ground.type
ground.slidetime = 15    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 20    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.4    ;y acceleration
ground.velocity = -6.5,0
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = ifelse((AnimElem = 13),-3,0),-4.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = ifelse((AnimElem = 13),-5.5,-2.5)    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -6    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =


[State 1030, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
trigger8 = AnimElem = 13,=1
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 1030, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 12, >=0
trigger1 = AnimElem = 14, <1
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; SPECIAL MOVE: CHAINBLADE TRANSAXIAL SLICE (STRONG)
[Statedef 1031]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
ctrl = 0
velset = 0,0
anim = 1031
sprpriority = 2

[State 1031, VarAdd]; ---- AI using
type = VarAdd
trigger1 = fvar(37)
fv = 37
value = 1
ignorehitpause = 1
persistent = 0

[State 1031, HitBy]; ---- invincible to basic punches/kicks
type = NULL;HitBy
trigger1 = animelem = 6, >=0
trigger1 = animelem = 14, <0
value = SCA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1031, PosAdd]
type = PosAdd
triggerall = FrontEdgeBodyDist >= 5
trigger1 = animelem = 7
x = 20

[State 1031, PosAdd]
type = PosAdd
triggerall = FrontEdgeBodyDist < 5
trigger1 = animelem = 7
x = 15

[State 1031, PosAdd]
type = PosAdd
triggerall = FrontEdgeBodyDist >= 5
trigger1 = animelem = 8
x = 10

[State 1031, PosAdd]
type = PosAdd
triggerall = FrontEdgeBodyDist >= 5
trigger1 = animelem = 9
x = 10

[State 1031, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = time = 0
value = S0,29
channel = ifelse(IsHelper(97864),20,0)

[State 1031, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = animelem = 7
value = S0,30
channel = 1

[State 1031, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 1

[State 1031, HitDef]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(145*fvar(10)),floor(200*fvar(10)) ; ---- guard getpower > hit getpower while using CHAINBLADE
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 20*(100-HitCount*5)*.01,2
damage = floor(20*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 3,6
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = -4,0
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = 0,-3  ;-1.4,-3    ;Defaults to 0,0
airguard.velocity = -.1,-.8    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = ifelse((AnimElem = 9),-2,0)    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -7.5    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1031, HitDef]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(145*fvar(10)),floor(200*fvar(10)) ; ---- guard getpower > hit getpower while using CHAINBLADE
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 20*(100-HitCount*5)*.01,2
damage = floor(20*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,5
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = -4,0
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = 0,-3 ;-1.4,-3    ;Defaults to 0,0
airguard.velocity = -.1,-.8    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = ifelse((AnimElem=7||AnimElem=8),-2,0)    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -7.5    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1031, HitDef]
type = HitDef
trigger1 = AnimElem = 13
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(145*fvar(10)),floor(200*fvar(10)) ; ---- guard getpower > hit getpower while using CHAINBLADE
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = up    ;light,medium,hard,back,up,diagup
air.animtype = up    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 30*(100-HitCount*5)*.01,3
damage = floor(30*(100-HitCount*5)*.01*fvar(3)),floor(3*fvar(3))
pausetime = 2,3
guard.pausetime = 2,8
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -80
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = 0,-11
guard.velocity = -6    ;Defaults to x_velocity of ground.velocity
air.velocity = 0,-10.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -7.5    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =


[State 1031, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
trigger8 = AnimElem = 13,=1
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 1031, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 12, >=0
trigger1 = AnimElem = 14, <1
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1031, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; SPECIAL MOVE: VOID GENOCIDE
[Statedef 1040]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
ctrl = 0
velset = 0,0
anim = 1040
sprpriority = 0

[State 1040, HitBy]; ---- completely invincible to physical attacks
type = HitBy
;trigger1 = AnimElem = 3, >=0
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 7, <0
value = SCA,NT,ST,HT,AT,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1040, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = Animelem = 3
value = S0,19

[State 1040, Helper]; ---- Void Genocide physical reversaldef helper
type = Helper
triggerall = !IsHelper(97864)
trigger1 = Animelem = 1 ;Animelem = 3
ID = 1040
name = "Void Genocide physical reversaldef helper"
postype = p1
pos = 23,-59
;attar = S,SP
facing = 1
sprpriority = 1
stateno = 1041
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1040, Helper]; ---- Void Genocide physical reversaldef helper (Shadow Clone Igniz)
type = Helper
triggerall = IsHelper(97864)
trigger1 = Animelem = 1 ;Animelem = 3
ID = 1041
name = "Void Genocide physical reversaldef helper"
postype = p1
pos = 23,-59
;attar = S,SP
facing = 1
sprpriority = 1
stateno = 1041
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1040, VarSet]; ---- var(1) palfx changing
type = VarSet
trigger1 = 1
var(1) = 1
persistent = 0
ignorehitpause = 1

[State 1040, VarAdd]; ---- var(1) palfx changing
type = VarAdd
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 3, < 1
var(1) = 8

[State 1040, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = var(1) > 0
trigger1 = AnimElem = 6, > 0
trigger1 = AnimElem = 9, < 0
var(1) = -2

[State 1040, PalFX]; ---- palfx changing
type = PalFX
triggerall = var(1) > 0
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 3, < 1
trigger2 = AnimElem = 6, > 0
trigger2 = AnimElem = 9, < 0
time = 1
;add = floor(var(1)/3),floor(var(1)/3),var(1)
add = ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,var(1),floor(var(1)/3*2))
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1040, PalFX]; ---- palfx changing
type = PalFX
triggerall = var(1) > 0
trigger1 = AnimElem = 3, = 1
time = 25
;add = floor(var(1)/3),floor(var(1)/3),var(1)
add = ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,var(1),floor(var(1)/3*2))
mul = 256,256,256
sinadd = 0,0,25,6
ignorehitpause = 1
;persistent =

[State 1040, ChangeState]; ---- AI using
type = ChangeState
triggerall = var(59)
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************分支条件
trigger1 = AnimTime = 0
trigger1 = inguarddist
value = 120
ctrl = 1

[State 1040, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Void Genocide physical reversaldef helper ------------------------------------
[Statedef 1041]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1041
sprpriority = 1

;***************************** original igniz
[State 1041, BindtoRoot]
type = BindtoRoot
triggerall = IsHelper(1040)
trigger1 = root,movetype != H
pos = 23,-59

[State 1041, BindtoParent]
type = BindtoParent
triggerall = IsHelper(1040)
triggerall = root,movetype = H
triggerall = !(parent,ishelper)
trigger1 = time = 0
pos = 23,-59

[State 1041, BindtoParent]
type = BindtoParent
triggerall = IsHelper(1040)
triggerall = root,movetype = H
triggerall = parent,ishelper
trigger1 = time = 0
pos = 0,0
;***************************** shadow clone igniz
[State 1041, BindtoParent2]
type = BindtoParent
triggerall = IsHelper(1041)
triggerall = parent,IsHelper(97864)
trigger1 = Helper(97864),movetype != H
pos = 23,-59

[State 1041, BindtoParent2]
type = BindtoParent
triggerall = IsHelper(1041)
triggerall = parent,IsHelper(1041)
trigger1 = Helper(97864),movetype != H
pos = 0,0

[State 1041, BindtoParent2]
type = BindtoParent
triggerall = IsHelper(1041)
triggerall = parent,IsHelper(97864)
triggerall = Helper(97864),movetype = H
trigger1 = time = 0
pos = 23,-59

[State 1041, BindtoParent2]
type = BindtoParent
triggerall = IsHelper(1041)
triggerall = parent,IsHelper(1041)
triggerall = Helper(97864),movetype = H
trigger1 = time = 0
pos = 0,0
;*****************************

[State 1041, AssertSpecial]
type = AssertSpecial
triggerall = IsHelper(1040)
triggerall = parent,ishelper
trigger1 = 1
flag = Invisible

[State 1041, AssertSpecial]
type = AssertSpecial
triggerall = IsHelper(1041)
triggerall = !parent,IsHelper(97864)
trigger1 = 1
flag = Invisible

[State 1041, ReversalDef]; ---- counter physical moves (both hit), unused
type = null;ReversalDef
trigger1 = parent,movetype=H
reversal.attr = SCA,NA,SA,HA   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = MA  ;HLMAFDP
numhits = 0
sparkno = -1 ;40
;sparkxy = 23,0
hitsound = S0,10
p1stateno = 1043
p2stateno = 1046 ;1026
;p2facing =
guard.dist = 0
ignorehitpause = 1
;persistent =
pausetime = 0,0
palfx.time = 14
palfx.add = 0,0,ifelse(root,fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(root,fvar(4)=0,100,200),5
id = 1040
getpower = 0,0

[State 1041, ReversalDef]; ---- counter all physical moves
type = ReversalDef
trigger1 = 1
;trigger1 = parent,stateno = 1040
;trigger1 = parent,animelem = 3, >=0
reversal.attr = SCA,NA,SA,HA   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = MA  ;HLMAFDP
numhits = 0
sparkno = -1 ;40
;sparkxy = 23,0
hitsound = S0,12
p1stateno = 1043
p2stateno = 1042 ;1021
;p2facing =
guard.dist = 0
ignorehitpause = 1
;persistent =
palfx.time = 14
palfx.add = 0,0,ifelse(root,fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(root,fvar(4)=0,100,200),5
id = ifelse(IsHelper(1041),91041,1041)
getpower = floor(300*root,fvar(10)),0

[State 1041, AssertSpecial]
type = AssertSpecial
trigger1 = IsHelper(1040)
trigger1 = root,stateno != 1040
;*********************
trigger2 = IsHelper(1041)
trigger2 = root,NumHelper(97864)
trigger2 = Helper(97864),stateno != 1040
;*********************
trigger3 = IsHelper(1041)
trigger3 = !root,NumHelper(97864)
flag = invisible
ignorehitpause = 1

[State 1041, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;*********************
trigger2 = IsHelper(1040)
trigger2 = root,stateno != 1040
trigger2 = time >= 6
;*********************
trigger3 = IsHelper(1041)
trigger3 = root,NumHelper(97864)
trigger3 = Helper(97864),stateno != 1040
trigger3 = time >= 6
;*********************
trigger4 = IsHelper(1041)
trigger4 = !root,NumHelper(97864)
trigger4 = time >= 6

; Void Genocide victim P2STATENO -----------------------------------------------
[Statedef 1042]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 3

[State 1042, NotHitBy]; ---- if victim ishelper debug
type = NotHitBy
Trigger1 = ishelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1042, RemoveExplod]; ---- if victim ishelper debug
type = RemoveExplod
Trigger1 = ishelper
ignorehitpause = 1

[State 1042, DestroySelf]; ---- if victim ishelper debug
type = DestroySelf
Trigger1 = ishelper
ignorehitpause = 1

[State 1042, LifeAdd]
type = LifeAdd
Trigger1 = Time = 0
value = -100
kill = 1
absolute = 1

[State 1042, Turn]
type = Turn
trigger1 = (target,Facing = Facing)
ignorehitpause = 1
persistent = 1

[State 1042, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1042, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1042

[State 1042, PalFX]
type = null;PalFX
trigger1 = 1
time = 8
add = 0,0,100
mul = 250,250,250
sinadd = 200,200,100,5
ignorehitpause = 1
persistent = 0

[State 1042, ChangeState]
type = ChangeState
trigger1 = Time >= 8
value = 1044

; Void Genocide reversaldef Helper react ---------------------------------------
[Statedef 1043]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1043
sprpriority = 1

[State 1043, AssertSpecial]
type = AssertSpecial
triggerall = IsHelper(1040)
triggerall = parent,ishelper
trigger1 = 1
flag = Invisible

[State 1043, AssertSpecial]
type = AssertSpecial
triggerall = IsHelper(1041)
triggerall = !parent,IsHelper(97864)
trigger1 = 1
flag = Invisible

[State 1043, AssertSpecial]
type = NULL;AssertSpecial
trigger1 = IsHelper(1040)
trigger1 = root,stateno != 1040
;*********************
trigger2 = IsHelper(1041)
trigger2 = root,NumHelper(97864)
trigger2 = Helper(97864),stateno != 1040
;*********************
trigger3 = IsHelper(1041)
trigger3 = !root,NumHelper(97864)
flag = invisible
ignorehitpause = 1

[State 1043, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(1040)
trigger1 = root,stateno != 1040
;*********************
trigger2 = IsHelper(1041)
trigger2 = root,NumHelper(97864)
trigger2 = Helper(97864),stateno != 1040
;*********************
trigger3 = IsHelper(1041)
trigger3 = !root,NumHelper(97864)
value = 1044
ignorehitpause = 1
persistent = 0

[State 1043, BGPalFX]
type = BGPalFX
trigger1 = time = [0,7]
time = 2
add = 0,0,ifelse(root,fvar(4)=0,100,0)
mul = 150,150,150
invertall = 1
ignorehitpause = 1

[State 1043, EnvColor]
type = EnvColor
trigger1 = time = 8
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 1043, Helper]; ---- Void Genocide physical reversaldef helper (Recreated)
type = Helper
triggerall = IsHelper(1040)
trigger1 = time = 0
ID = 1040
name = "Void Genocide physical reversaldef helper (Recreated)"
postype = p1
pos = 0,0
;attar = S,SP
sprpriority = 2
stateno = 1041
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 1043, Helper]; ---- Void Genocide physical reversaldef helper (Recreated)
type = Helper
triggerall = IsHelper(1041)
trigger1 = time = 0
ID = 1041
name = "Void Genocide physical reversaldef helper (Recreated) (SCIgniz)"
postype = p1
pos = 0,0
;attar = S,SP
sprpriority = 2
stateno = 1041
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 1043, PlaySnd]; ---- voice
type = PlaySnd
triggerall = IsHelper(1040)
triggerall = root,stateno = 1040
trigger1 = time = 4
value = S0,28
channel = 0

[State 1043, PlaySnd]; ---- voice
type = PlaySnd
triggerall = IsHelper(1041)
triggerall = Helper(97864),stateno = 1040
trigger1 = time = 4
value = S0,28
channel = 20

[State 1043, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = time = 0
value = S0,19

[State 1043, TargetBind]
type = TargetBind
trigger1 = 1
id = ifelse(IsHelper(1041),91041,1041)
pos = 20,35
time = 8
persistent = 0

;[State 1043, TargetState]; ---- victim launch out immediately when root's anim is nearly over.
;type = TargetState
;trigger1 = root,stateno = 1040
;trigger1 = animtime >= -3
;;trigger2 = Time = 8
;value = 1044
;ignorehitpause = 1

[State 1043, Explod]
type = Explod
triggerall = IsHelper(1040)
triggerall = root,stateno = 1040
trigger1 = Time = 0
anim = F40
postype = p2
pos = -6,-40
sprpriority = 4

[State 1043, Explod]
type = Explod
triggerall = IsHelper(1040)
triggerall = root,stateno != 1040
trigger1 = Time = 0
anim = F0
postype = p1
pos = 5,0
sprpriority = 4

[State 1043, Explod]
type = Explod
triggerall = IsHelper(1041)
triggerall = Helper(97864),stateno = 1040
trigger1 = Time = 0
anim = F40
postype = p2
pos = -6,-40
sprpriority = 4

[State 1043, Explod]
type = Explod
triggerall = IsHelper(1041)
triggerall = Helper(97864),stateno != 1040
trigger1 = Time = 0
anim = F0
postype = p1
pos = 5,0
sprpriority = 4

[State 1043, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

; Void Genocide victim P2STATENO 2 ---------------------------------------------
[Statedef 1044]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1044, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 911
ignorehitpause = 1

;------------------------------ unused
;[State 1044, Turn]
;type = Turn
;Trigger1 = frontedgedist <= 0
;value = 1
;------------------------------

[State 1044, VelSet]
type = VelSet
trigger1 = time = 0
x = -16
;y = -.6

[State 1044, VelAdd]
type = null;VelAdd
Trigger1 = time > 4
y = .14

[State 1044, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 1044, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[state 1044, ChangeState]
type = ChangeState
Trigger1 = backedgedist <= 0
Trigger2 = frontedgedist <= 0
value = 1045

; Void Genocide victim P2STATENO 3 ---------------------------------------------
[Statedef 1045]
type    = A
movetype= H
physics = N
velset = 3.5,-7.5

[State 1045, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
;persistent =

[State 1045, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn
ignorehitpause = 1

[State 1045, Turn]
type = Turn
trigger1 = time = 0
value = 1

[State 1045, LifeAdd]
type = LifeAdd
Trigger1 = Time = 0
value = -10
kill = 0
absolute = 1

[State 1045, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 912
ignorehitpause = 1

[State 1045, VelAdd]
type = VelAdd
Trigger1 = time > 3
y = .5
x = .05

[State 1022, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;Void Genocide reversal fail P2STATENO ----------------------------------------
[Statedef 1046]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1406, EnvColor]
type     = EnvColor
Trigger1 = 1
value    = 255,255,255
time     = 1
under    = 1
ignorehitpause = 1
persistent = 0

[State 1046, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2041
ignorehitpause = 1

[State 1046, ChangeAnim2]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
triggerall = pos Y < 0
trigger1 = time = 0
value = 5030
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1046, NotHitBy]; ---- Reversaled helper debug
type = NotHitBy
trigger1 = isHelper
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1046, RemoveExplod]; ---- Reversaled helper debug
type = RemoveExplod
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1046, DestroySelf]; ---- Reversaled helper debug
type = DestroySelf
trigger1 = isHelper
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1046, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos Y >= 0
y = 0
ignorehitpause = 1

[State 1046, PosAdd]
type = PosAdd
Trigger1 = time = [2,16]
x = -2
ignorehitpause = 1

[State 1046, HitFallSet]
type = NULL;HitFallSet
trigger1 = time = 0
trigger1 = pos Y < 0
value = 1
;xvel =
yvel = -4.5
ignorehitpause = 1
persistent = 0

[State 1046, SelfState]
type = SelfState
trigger1 = pos Y < 0
trigger1 = Time >= 16
value = 5030

[State 1046, SelfState]
type = SelfState
trigger1 = Time >= 16
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; SPECIAL MOVE: CHAINBLADE SAGITTALRIUS SLICE (LIGHT)
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
ctrl = 0
velset = 0,0
anim = 1053
sprpriority = 2

[State 1050, HitBy]; ---- rising uppercut invincibile start
type = null;HitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 8, <0
value = SCA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1050, NotHitBy]; ---- rising uppercut invincibile start
type = NotHitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 8, <0
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1050, HitBy]; ---- rising uppercut invincibile
type = HitBy
trigger1 = animelem = 8, >=0
value = SC,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1050, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = time = 0
value = S0,22
channel = ifelse(IsHelper(97864),20,0)

[State 1050, PlaySnd]; ---- sound
type = playsnd
trigger1 = AnimElem = 8
value = S0,30
channel = 1

[State 1050, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 1

[State 1050, HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(175*fvar(10)),floor(260*fvar(10)) ; ---- guard getpower > hit getpower while using CHAINBLADE
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 20*(100-HitCount*5)*.01,3
damage = floor(20*(100-HitCount*5)*.01*fvar(3)),floor(3*fvar(3))
pausetime = 3,4
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 15    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 18   ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.35    ;y acceleration
ground.velocity = -2.5,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -1.4,-4    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1050, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10,=1
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 1050, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 7,>=0
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1050, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1051

;CHAINBLADE SAGITTALRIUS SLICE (LIGHT) part 2 ----------------------------------
[Statedef 1051]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = .65,-4
anim = 1054
sprpriority = 2

[State 1051, HitBy]; ---- rising uppercut invincibile
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1051, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(175*fvar(10)),floor(260*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = up    ;light,medium,hard,back,up,diagup
air.animtype = up    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 20*(100-HitCount*5)*.01,3
damage = floor(20*(100-HitCount*5)*.01*fvar(3)),floor(3*fvar(3))
pausetime = 2,4
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = 0,-10 ;-2,-6
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = 0,-10 ;-2,-6    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1051, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7,=3
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 1051, VarSet]; ---- var(1) movehit persist
type = VarSet
triggerall = animelem = 5, >=0
trigger1 = movehit
var(1) = 1
persistent = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1051, VelAdd]; ---- rising
type = VelAdd
Trigger1 = time > 5
y = .5

[State 1051, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1052

;CHAINBLADE SAGITTALRIUS SLICE (LIGHT) part 3 ----------------------------------
[Statedef 1052]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1055
sprpriority = 2

[State 1052, HitBy]; ---- rising uppercut invincibile
type = HitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 4, <0
value = SCA,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1052, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MA    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(175*fvar(10)),floor(260*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = up    ;light,medium,hard,back,up,diagup
air.animtype = up    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 20*(100-HitCount*5)*.01,3
damage = floor(20*(100-HitCount*5)*.01*fvar(3)),floor(3*fvar(3))
pausetime = 3,5
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.45    ;y acceleration
ground.velocity = -2,-8
guard.velocity = -4    ;Defaults to x_velocity of ground.velocity
air.velocity = -2,-8   ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -6    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =


[State 1052, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 2,>=0
trigger1 = AnimElem = 4,<=1
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1052, PlaySnd]; ---- landing sound
type = PlaySnd
trigger1 = time = 0
value = S0,16

[State 1052, PosSet]
type = PosSet
Trigger1 = time= 0
y = 0

[State 1052, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;SPECIAL MOVE: CHAINBLADE SAGITTALRIUS SLICE (Strong)
[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = floor(200*fvar(10))
ctrl = 0
velset = 0,0
anim = 1063
sprpriority = 2

[State 1031, VarAdd]; ---- AI using
type = VarAdd
trigger1 = fvar(37)
fv = 37
value = 1
ignorehitpause = 1
persistent = 0

[State 1060, HitBy]; ---- rising uppercut invincibile start
type = null;HitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 8, <0
value = SCA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1060, NotHitBy]; ---- rising uppercut invincibile start
type = NotHitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 8, <0
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1060, HitBy]; ---- rising uppercut invincibile
type = HitBy
trigger1 = animelem = 8, >=0
value = SC,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1060, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = time = 0
value = S0,22
channel = ifelse(IsHelper(97864),20,0)

[State 1060, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = AnimElem = 9
value = S0,30
channel = 1

[State 1060, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 1

[State 1060, HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 5,6
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = ifelse((AnimElem=8),15,12)    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = ifelse((AnimElem=8),17,14)    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.35    ;y acceleration
ground.velocity = -2,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -1.4,-5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =


[State 1060, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 5,6
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.35    ;y acceleration
ground.velocity = -2,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -1.4,-5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1060, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
trigger4 = AnimElem = 10,=1
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 1060, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 10
trigger2 = AnimElem = 10,=1
anim = F2
postype = p2
pos = -10,-58
sprpriority = 5
ignorehitpause = 1
persistent = 0

[State 1060, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 8, >=0
trigger1 = AnimElem = 10, <=1
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1060, VarSet]
type = VarSet
trigger1 = animTime = 0
var(2) = 0

;BRUTAL GOD PROJECT supercancel when near backedge
[State -1, BRUTAL GOD PROJECT supercancel]; ---- AI USING
type = null;ChangeState
value = 2000
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 4
;**************自我条件
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
;**************分支条件
trigger1 = movehit

;HAKURA MESSEI HAN supercancel when near backedge
[State -1, BHAKURA MESSEI HAN supercancel]; ---- AI USING
type = null;ChangeState
value = 2100
;**************环境变量
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = fvar(37) >= 4
;**************自我条件
TriggerAll = power >= 2000
TriggerAll = statetype != A
TriggerAll = MoveType = A
;**************对手条件
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = H
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
;**************额外特殊条件
TriggerAll = -facing*EnemyNear(floor(fvar(36))),facing*fvar(28)<=0
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=-1,EnemyNear(floor(fvar(36))),BackEdgeBodyDist <= 30,1)
TriggerAll = ifelse((facing*EnemyNear(floor(fvar(36))),facing)=1,EnemyNear(floor(fvar(36))),FrontEdgeBodyDist <= 30,1)
triggerAll = movehit
;**************分支条件
Trigger1 = P2bodydist y <= 0-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30)+fvar(32))
Trigger1 = P2bodydist y <= -5-floor(ifelse(4>fvar(31),4-fvar(31),0)*(fvar(29))+(ifelse(4>fvar(31),4-fvar(31),0)*4/2)*fvar(30));浮空确保 AirEnsure

[State 1060, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1061

;CHAINBLADE SAGITTALRIUS SLICE (Strong) part 2 ---------------------------------
[Statedef 1061]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 1.2,-7
anim = 1064
sprpriority = 2

[State 1061, HitBy]; ---- rising uppercut invincibile
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1061, Width]
type = Width
trigger1 = 1
edge = 25,0
ignorehitpause = 1

[State 1061, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = up    ;light,medium,hard,back,up,diagup
air.animtype = up    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,2
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.47    ;y acceleration
ground.velocity = -1,-9
guard.velocity = -2    ;Defaults to x_velocity of ground.velocity
air.velocity = -1,-9    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1061, HitDef]; ---- addition attack when pre-attacks missed
type = NULL;HitDef
triggerall = var(2) = 0
trigger1 = AnimElem = 6, =2
trigger2 = AnimElem = 7
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = up    ;light,medium,hard,back,up,diagup
air.animtype = up    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,3
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.35    ;y acceleration
ground.velocity = -1,-7.5
guard.velocity = -2    ;Defaults to x_velocity of ground.velocity
air.velocity = -1,-7    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1061, HitDef]
type = HitDef
triggerall = var(2) = 0
trigger1 = AnimElem = 9
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 1,3
;guard.pausetime = 0,0
sparkno = S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 12    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 14    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.35    ;y acceleration
ground.velocity = -1,-8
guard.velocity = -2    ;Defaults to x_velocity of ground.velocity
air.velocity = -1,-7.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -1    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1061, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8,=3
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 1061, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 5
anim = F3
postype = p2
pos = -10,-58
sprpriority = 4

[State 1061, Explod]
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 1061, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 5
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1061, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = AnimElem = 5
var(2) = 1
ignorehitpause = 1

[State 1061, VelAdd]
type = VelAdd
Trigger1 = time > 5
y = .55

[State 1061, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1062

;CHAINBLADE SAGITTALRIUS SLICE (Strong) part 3 ---------------------------------
[Statedef 1062]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1065
sprpriority = 2

[State 1062, HitBy]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NP,SP,HP,HT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1062, HitDef]; ---- addition attack when pre-attacks missed
type = HitDef
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,6
;guard.pausetime = 0,0
sparkno = -1 ;S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 15    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 17    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = .45   ;y acceleration
ground.velocity = -2,-6
guard.velocity = -4    ;Defaults to x_velocity of ground.velocity
air.velocity = -2,-6    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -8    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1062, HitDef]
type = HitDef
triggerall = var(2) = 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S,SA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(100*fvar(10)),floor(130*fvar(10))
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
;damage = 14*(100-HitCount*5)*.01,2
damage = floor(14*(100-HitCount*5)*.01*fvar(3)),floor(2*fvar(3))
pausetime = 2,6
;guard.pausetime = 0,0
sparkno = -1 ;S509
guard.sparkno = 40
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 15    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 17    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 12    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = .45    ;y acceleration
ground.velocity = -4,-7.5
guard.velocity = -2    ;Defaults to x_velocity of ground.velocity
air.velocity = -2,-7.5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
guard.cornerpush.veloff = -8    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =


[State 1062, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 5,=2
anim = 510
postype = p2
pos = -1,-58
sprpriority = 4

[State 1062, Explod]; ---- slice spark
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 5,=2
anim = 509
postype = p2
pos = 5,-58
sprpriority = 4

[State 1062, Explod]; ---- bloody spark
type = Explod
triggerall = movehit
triggerall = var(2) = 1
trigger1 = AnimElem = 3
anim = 510
postype = p2
pos = 2,-48
sprpriority = 4

[State 1062, Explod]; ---- bloody spark*
type = Explod
triggerall = movehit
triggerall = var(2) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5,=3
anim = 510
postype = p2
pos = 2,-48
sprpriority = 4
persistent = 0

[State 1062, Explod]; ---- slice spark
type = Explod
triggerall = movehit
triggerall = var(2) = 1
trigger1 = AnimElem = 3
anim = 509
postype = p2
pos = 5,-48
sprpriority = 4

[State 1062, Explod]; ---- slice spark*
type = Explod
triggerall = movehit
triggerall = var(2) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5,=3
anim = 509
postype = p2
pos = 5,-48
sprpriority = 4
persistent = 0

[State 1062, EnvColor]
type = EnvColor
trigger1 = movehit = 1
trigger1 = AnimElem = 2,>=0
trigger1 = AnimElem = 5,<=1
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1062, VarSet]
type = VarSet
trigger1 = AnimElem = 7
var(2) = 0

[State 1062, PlaySnd]; ---- landing sound
type = PlaySnd
trigger1 = time = 0
value = S0,16

[State 1062, PosSet]
type = PosSet
Trigger1 = time= 0
y = 0

[State 1062, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;===============================================================================
; Ultimate Striker Summon (N.E.S.T.S)

;-------------------------------------------------------------------------------
; Striker Summon - Krizalid
[Statedef 1200]
type    = S
physics = S
movetype = I
anim = 1200
velset = 0,0
ctrl = 0

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, Afterimage]
type = Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1200, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 256
persistent = 0

[State 1200, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) = [0,256]
triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
var(1) = -8

[State 1200, VarAdd]; ---- var(1) Trans changing
type = VarAdd
;triggerall = var(1) = [0,256]
;triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
var(1) = 5

[State 1200, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1200, Helper]; ---- Krizalid
type = Helper
triggerall = !numhelper(1210)
trigger1 = animelem = 9
ID = 1210
name = "Krizalid"
sprpriority = -1
pos = -280,0
postype = p1 ;back
stateno = 1210
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,56
channel = 0

[State 1200, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Striker Summon - Original Zero
[Statedef 1201]
type    = S
physics = S
movetype = I
anim = 1200
velset = 0,0
ctrl = 0

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1201, Afterimage]
type = Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1201, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1201, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 256
persistent = 0

[State 1201, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) = [0,256]
triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
var(1) = -8

[State 1201, VarAdd]; ---- var(1) Trans changing
type = VarAdd
;triggerall = var(1) = [0,256]
;triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
var(1) = 5

[State 1201, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1201, Helper]; ---- Original Zero
type = Helper
triggerall = !numhelper(1230)
trigger1 = animelem = 9
ID = 1230
name = "Original Zero"
sprpriority = 4
pos = -300,0
postype = p1 ;back
stateno = 1230
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,56
channel = 0

[State 1201, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Striker Summon - Clone Zero
[Statedef 1202]
type    = S
physics = S
movetype = I
anim = 1200
velset = 0,0
ctrl = 0

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1202, Afterimage]
type = Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1202, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1202, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 256
persistent = 0

[State 1202, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) = [0,256]
triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
var(1) = -8

[State 1202, VarAdd]; ---- var(1) Trans changing
type = VarAdd
;triggerall = var(1) = [0,256]
;triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
var(1) = 5

[State 1202, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1202, Helper]; ---- Clone Zero
type = Helper
triggerall = !numhelper(1250)
trigger1 = animelem = 9
ID = 1250
name = "Clone Zero"
sprpriority = -1
pos = 75,-(EnemyNear(floor(fvar(36))),Pos Y)
postype = p2 ;back
facing = -1
stateno = 1250
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1202, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,56
channel = 0

[State 1202, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Striker Summon - Misty Farawayland
[Statedef 1203]
type    = S
physics = S
movetype = I
anim = 1200
velset = 0,0
ctrl = 0

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
trigger1 = (palno = 12) || ((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
value = SCA
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, NotHitBy]
type = null;NotHitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time <= 2
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1200, HitBy]
type = null;HitBy
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = time > 2
value = SCA,NT,ST,HT
time = 3
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1203, Afterimage]
type = Afterimage
;TRIGGERALL = palno != 12
triggerall = !IsHelper
triggerall = roundstate != 0
trigger1 = time = 0
time = 35
length = 5
palbright = 0,0,30
palcontrast = 125,125,125
paladd = 0,0,15
palmul = .60,.60,.70
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1203, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

;***********************************************
[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 20
value = ifelse(fvar(20)>=var(41),0.0,var(41)-fvar(20))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 21
value = ifelse(fvar(21)>=var(41),0.0,var(41)-fvar(21))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 22
value = ifelse(fvar(22)>=var(41),0.0,var(41)-fvar(22))
ignorehitpause = 1
persistent = 0

[State -2, Striker Time Global Cooldown start]
type = VarAdd
triggerall = !IsHelper(97864)
triggerall = (palno = [1,11]) && !((palno=[7,11]) && var(58)=1 && floor(var(42)/10)%10=1)
trigger1 = stateno = 1200
trigger2 = stateno = 1201
trigger3 = stateno = 1202
trigger4 = stateno = 1203
fv = 23
value = ifelse(fvar(23)>=var(41),0.0,var(41)-fvar(23))
ignorehitpause = 1
persistent = 0
;***********************************************

[State 1203, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 256
persistent = 0

[State 1203, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) = [0,256]
triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
var(1) = -8

[State 1203, VarAdd]; ---- var(1) Trans changing
type = VarAdd
;triggerall = var(1) = [0,256]
;triggerall = (256-var(1)) = [0,256]
trigger1 = AnimElem = 10, >= 0
trigger1 = Animtime <= 0
var(1) = 5

[State 1203, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1203, Helper]; ---- Misty Farawayland
type = Helper
triggerall = !numhelper(1270)
trigger1 = animelem = 9
ID = 1270
name = "Misty Farawayland"
sprpriority = 3
pos = -10,0
postype = p1 ;back
facing = 1
stateno = 1270
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1203, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,56
channel = 0

[State 1203, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;===============================================================================
; Striker Krizalid jump down ---------------------------------------------------
[Statedef 1210]
type = A
movetype = A
physics = N
anim = 1210
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1210, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1210, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1214
ignorehitpause =  1
persistent = 0

[State 1210, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
paladd = 0,25,25
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1210, VelSet]
type = VelSet
trigger1 = Time = 0
x = 12
y = -10;-5.6

[State 1210, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1210, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,87

[State 1210, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A,NA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = HA    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = medium    ;light,medium,hard,back,up,diagup
air.animtype = medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(30*parent,fvar(3)),floor(3*parent,fvar(3))
pausetime = 3,6
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = -10,-17
hitsound = S0,7
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 15    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 17    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -8,0
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -6,-4    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 2
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 0
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.recover = 0
fall.recovertime = 4
fall.damage = 0
;air.fall = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
envshake.time = 11
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1210, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1210, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1211

; Striker Krizalid land --------------------------------------------------------
[Statedef 1211]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 1211

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1211, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1211, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1211, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1211, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1216

[State 1211, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1212

; Striker Krizalid land turn if necessary---------------------------------------
[Statedef 1216]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 1224

[State 1210, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1214
ignorehitpause =  1
persistent = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1211, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1211, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1212

; Striker Krizalid attack ------------------------------------------------------
[Statedef 1212]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 1212

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1212, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 3, >=0
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1212, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,88
channel = 11

[State 1212, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S0,89

[State 1212, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1212, VarSet]; ---- var(11) set spark pos Y
type = VarSet
trigger1 = 1
var(11) = 0
persistent = 0

[State 1212, VarSet]; ---- var(11) set spark pos Y
type = varset
triggerall = P2statetype = C
trigger1 = var(11) != 30 + floor(p2bodydist Y)
var(11) = 30 + floor(p2bodydist Y)

[State 1212, VarSet]; ---- var(11) set spark pos Y
type = varset
triggerall = P2statetype != C
trigger1 = var(11) != floor(p2bodydist Y)
var(11) = floor(p2bodydist Y)

[State 1212, Explod]; ---- hit spark
type = Explod
trigger1 = root,ProjHit1215 = 1
anim = F2
postype = p2
pos = 0,-65 + var(11)
ontop = 1

[State 1212, Explod]; ---- guard spark
type = Explod
trigger1 = root,ProjGuarded1215 = 1
anim = F40
postype = p2
pos = 0,-65 + var(11)
ontop = 1

[State 1212, Explod]; ---- dust
type = Explod
trigger1 = AnimElem = 6
anim = 1213
pos = 5,0
postype = p1
sprpriority = 4
supermove = 0
bindtime = -1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1212, Projectile]; ---- visual effect
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
projanim = 1214
projID = 1214
projhitanim = -1
projremanim = -1
projcancelanim = -1
projremove = 0
projremovetime = 40
projpriority = -1
projsprpriority = 4
projshadow = -1
offset = ifelse((AnimElem = 6),25,20),0
velocity = 0,0
afterimage.time = -1
afterimage.length = 10
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
afterimage.palcontrast = 150, 150, 150
;afterimage.palpostbright =0,0,0
afterimage.paladd =  0,0,0 ;0,25,25
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.trans = add ;none,add,add1,addalpha,sub

[State 1212, Projectile]; ---- hit effect
type = Projectile
trigger1 = AnimElem = 3, =0
trigger2 = AnimElem = 3, =6
trigger3 = AnimElem = 3, =10
trigger4 = AnimElem = 3, =14
trigger5 = AnimElem = 3, =18
ProjID = 1215
projanim = ifelse((AnimElem=3,=0),1215,ifelse((AnimElem=3,=2),1216,ifelse((AnimElem=3,=4),1217,ifelse((AnimElem=3,=6),1218,1219))))   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
;projscale = 1,1
projremove = 0    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 3    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 3    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 200    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 200
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 20,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(20*parent,fvar(3)),floor(2*parent,fvar(3))
pausetime = 0,12
;guard.pause ,0
sparkno = -1 ;2
guard.sparkno = -1 ;40
;sparkxy = 30,-70
hitsound = S0,ifelse((AnimElem=3,=6)||(AnimElem=3,=14),-1,7)
guardsound = S0,ifelse((AnimElem=3,=6)||(AnimElem=3,=14),-1,10)
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 14    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 18    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = 0,-8.9
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = 0,-8.9    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
id = 1215
;chainID = -1
nochainID = 1215
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 12
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 10
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1212, Striker Krizalid projhit flash]
type = EnvColor
trigger1 = root,ProjHit1215 = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1212, ReversalDef]; ---- consume NP,SP
type = NULL;ReversalDef
trigger1 = AnimElem = 3, >=0
trigger2 = AnimElem = 3, <=19
reversal.attr = SCA,NP,SP  ;<---- DO NOT change this
priority = 99999, miss
hitflag = P  ;<---- DO NOT change this
numhits = 0
sparkno = -1
hitsound = -1
;p1stateno =
p2stateno = 1026
guard.dist = 0
ignorehitpause = 1
;persistent =

[state 1300, krizalid proj comsume Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
id = 1220
name = "krizalid proj comsume Helper"
pos = 20,0 ;ceil(66 * const(size.xscale)),0
postype = p1
stateno = 1220
facing = 1
keyctrl = 0
ownpal = 1

[State 1213, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = S0,90

[State 1213, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = -4
y = 0
;ignorehitpause =
;persistent =

[State 1212, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1213

; Striker Krizalid return ------------------------------------------------------
[Statedef 1213]
type = S
movetype = I
physics = S
anim = 1220
velset = 0,0
;sprpriority = 5
ctrl = 0

[State 1213, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = -7

[State 1213, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 1213, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeBodyDist <= -50
trigger2 = BackEdgeBodyDist <= -30
trigger2 = time >= 120

; Striker Krizalid get hit -----------------------------------------------------
[Statedef 1214]
type = A
movetype = I
physics = N
anim = 1221
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1214, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1214, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1214, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,91
channel = 11

[State 1214, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1215

; Striker Krizalid hit back ----------------------------------------------------
[Statedef 1215]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1222
sprpriority = -1

[State 1215, 1]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1215, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = S0,92

[State 1215, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1215, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1213

;--------------------------------------------------------------------------------------------------------
; krizalid proj consume Helper
[Statedef 1220]
type = S
ctrl = 0
anim = 1223
velset = 0,0
movetype = A
physics = S
sprpriority = 2

[State 1310, Override]
type = HitOverride
trigger1 = 1
attr = SCA, NA,SA,HA,NT,ST,HT,NP,SP,HP,AA,AT,AP
slot = 0
stateno = 1220
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1310, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP,SP,HP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1310, playsnd]
type = playsnd
;trigger1 = var(32) != [1,6]
trigger1 = time = 0
value = s8,1 ;s8,14 s0,35
channel = 6

[State 1310, ReversalDef against hitdef]; ---- disabled for balance, using hitoverride against hitdef
type  = NULL;ReversalDef
trigger1 = time%2=0
reversal.attr = SCA, NP,SP
pausetime     = 0,2 ;30 ;  60
getpower = 0,0
givepower = 0,0
p1stateno     = 1220
p2stateno     = 1316
priority = 999, hit
numhits = 0
sparkno = -1
ignorehitpause = 1
;trigger1 = ifelse(time < 15, ((root, var(32) != [1,8]) && Time % 1 = 0), 1)
;trigger1 = root, var(32) = [1,8]
;attr = S, SP
;time = 1

[State 1310, ReversalDef against proj]
type  = ReversalDef
trigger1 = 1;time%2=1
reversal.attr = SCA  ;<--------DO NOT change this to SCA,AA,AT,AP, otherwise it will cause BUG !!
hitflag = P  ;<--------DO NOT change this, otherwise it will cause BUG !!
pausetime     = 0,2 ;30 ;60
getpower = 0,0
givepower = 0,0
p1stateno     = 1220
;p2stateno     = 1316
priority = 999, hit
numhits = 0
sparkno = -1
ignorehitpause = 1
;trigger1 = ifelse(time < 15, ((root, var(32) != [1,8]) && Time % 1 = 0), 1)
;trigger1 = root, var(32) = [1,8]
;attr = S, SP
;time = 1

[State 1310, Destroyself]
type = Destroyself
trigger1 = parent,stateno != 1212
trigger2 = parent,stateno = 1212
trigger2 = parent,animelem = 13
;trigger2 = root, movetype = H
;trigger2 = root, stateno != [120, 159]

;===============================================================================
; Striker Original Zero jump down ----------------------------------------------
[Statedef 1230]
type    = A
physics = N
movetype= I
anim = 1230
ctrl = 0
velset = 0,0
sprpriority = 5

[State 1230, NotHitBy]
type = NotHitBy
trigger1 = backedgebodydist < 0
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1230, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1243
ignorehitpause =  1
persistent = 0

[State 1230, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  250, 250, 250
PalBright = 10,10,10
palpostbright = 0,0,0
paladd = 15,0,35
palmul = .70,.65,.70
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1230, VelSet]
type = VelSet
trigger1 = Time = 0
x = 12
y = -10

[State 1230, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .8 ;.47

[State 1230, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,87

[State 1230, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1230, 6]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 1231

; Striker Original Zero land ---------------------------------------------------
[Statedef 1231]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1231
sprpriority = 5

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1231, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1231, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1231, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1231, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = p2bodydist X < -5
value = 1245

[State 1231, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1232

; Striker Original Zero land turn if necessary----------------------------------
[Statedef 1245]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1245
sprpriority = 5

[State 1230, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1243
ignorehitpause =  1
persistent = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1231, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 1231, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1232

; Striker Original Zero - Gokusa -----------------------------------------------
[Statedef 1232]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
juggle = 0
anim = 1232
sprpriority = 5

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1232, HitBy]; ---- Gokusa cloak rise invincible
type = HitBy
trigger1 = animelem = 1, >=0
trigger1 = animelem = 16, <0
value = SCA,HA,NP,SP,HP,AP
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1232, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,93
channel = 12

[State 1232, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = AnimElem = 4, =1
value = S0,94

[State 1232, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1232, HitDef]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
trigger8 = AnimElem = 14
trigger9 = AnimElem = 15
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = back    ;light,medium,hard,back,up,diagup
fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 0,ifelse((AnimElem = 15),15,2)
;guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.44    ;y acceleration
ground.velocity = -5,0
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -5,-2    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
forcestand = 1
fall = 0
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 0
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 3
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1232, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = 5,-77
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1232, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = -5,-37
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1232, Explod]; ---- slice spark
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
trigger8 = AnimElem = 14
trigger9 = AnimElem = 15
anim = 509
postype = P2
pos = 15,-80
random = 10,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 1232, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1233

; Striker Original Zero - Gokusa2 ----------------------------------------------
[Statedef 1233]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1233
velset = 0,0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1233, HitBy]; ---- Gokusa5 rise invincible
type = HitBy
trigger1 = 1
value = SCA,HA,NP,SP,HP,AP
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1233, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1233, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,95

[State 1233, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Medium    ;light,medium,hard,back,up,diagup
air.animtype = Medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 0,ifelse((AnimElem = 15),3,2)
;guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.44    ;y acceleration
ground.velocity = -5,-4
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -5,-2    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 3
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1233, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = 5,-77
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1233, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = -5,-37
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1233, Explod]; ---- slice spark
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
anim = 509
postype = P2
pos = 15,-80
random = 10,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 1233, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1234

; Striker Original Zero - Gokusa3 ----------------------------------------------
[Statedef 1234]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1234
velset = 0,0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1234, NotHitBy]; ---- Gokusa5 rise invincible
type = HitBy
trigger1 = 1
;trigger1 = animelem = 7, >=0
;trigger1 = animelem = 10, <0
value = SCA,HA,NP,SP,HP,AP
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1234, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1234, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S0,95

[State 1234, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
x = 8 ;7

[State 1234, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Hard    ;light,medium,hard,back,up,diagup
air.animtype = Back    ;light,medium,hard,back,up,diagup
fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 0,ifelse((AnimElem = 15),8,2)
;guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.44    ;y acceleration
ground.velocity = -9.5,-4
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -9.5,-4    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -3    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 3
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1234, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = 5,-77
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1234, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = -5,-37
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1234, Explod]
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
trigger10 = AnimElem = 11
trigger11 = AnimElem = 12
trigger12 = AnimElem = 13
trigger13 = AnimElem = 14
trigger14 = AnimElem = 15
anim = 509
postype = P2
pos = 15,-80
random = 10,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 1234, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1235

; Striker Original Zero - Gokusa4 ----------------------------------------------
[Statedef 1235]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1235
velset = 0,0

[State 1235, HitBy]; ---- Gokusa4 rise invincible
type = HitBy
trigger1 = 1
value = SCA,HA,NP,SP,HP,AP
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1235, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1235, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1236

; Striker Original Zero - Gokusa5 ----------------------------------------------
[Statedef 1236]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1236
velset = 0,0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1236, HitBy]; ---- Gokusa5 rise invincible
type = HitBy
trigger1 = 1
value = SCA,HA,NP,SP,HP,AP
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1236, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1236, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Medium    ;light,medium,hard,back,up,diagup
air.animtype = Medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 0,2
;guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.44    ;y acceleration
ground.velocity = -5.5,-5
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -5.5,-5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 3
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1236, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = 5,-77
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1236, Explod]; ---- bloody spark
type = Explod
trigger1 = MoveHit
anim = 510
pos = -5,-37
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1236, Explod]
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
anim = 509
postype = P2
pos = 15,-80
random = 10,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 1236, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1237

; Striker Original Zero - Gokusa6 ----------------------------------------------
[Statedef 1237]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 1237
velset = 0,0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1236, HitBy]; ---- Gokusa6 rise invincible
type = HitBy
trigger1 = AnimElem = 4, <1
value = SCA,SA,HA,NP,SP,HP,AP
time = 2
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1237, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 5, >=0
trigger2 = AnimElem = 4, >=1
trigger2 = movehit
value = SCA
time = -1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1237, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1237, VelSet]
type = VelSet
trigger1 = Time = 0
x = 5.2
y = -6

[State 1237, EnvColor]
type = EnvColor
trigger1 = MoveHit && AnimElem = 3
value = 250,250,250
time = 2
under = 1
ignorehitpause = 1

[State 1237, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,96
ignorehitpause = 1

[State 1237, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = hard    ;light,medium,hard,back,up,diagup
air.animtype = back   ;light,medium,hard,back,up,diagup
fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 0,2
;guard.pausetime = 0,2
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.44    ;y acceleration
ground.velocity = -3,-5
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -3,-5    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -2    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 3
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1237, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = Medium    ;light,medium,hard,back,up,diagup
air.animtype = Medium    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(5*parent,fvar(3)),floor(1*parent,fvar(3))
pausetime = 30,40
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-95
hitsound = S0,14
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 19    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 22    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 19    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = -5,-8
;guard.velocity =     ;Defaults to x_velocity of ground.velocity
air.velocity = -5,-8    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
ground.cornerpush.veloff = -1    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
p2stateno = 1241
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
nochainID = 1244
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 3
palfx.add = 0,0,0
palfx.mul = 250,250,250
palfx.sinadd = 120,120,120,5
envshake.time = 30
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[State 1237, Projectile]; ---- last hit guardded -> guard-break proj
type = Projectile
triggerall = moveguarded
triggerall = !numprojID(1244)
trigger1 = animelem = 4, >= 1
ProjID = 1244
id = 1244    ; ---- DO NOT change this!
attr = S, HA
guardflag = N    ; ---- break guard
hitflag = MA    ; ---- affect only those that was not gethit
numhits = 0
projanim = 1244
projpriority = 4
priority = 7,miss
sparkno = -1
pausetime = 0,35
p2stateno = 1026
projremovetime = 3
p2facing = 1
palfx.time = 23
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
ignorehitpause = 1
persistent = 0

[State 1237, EnvColor]
type = EnvColor
trigger1 = ProjHit1244 = 1
value = 250,250,250
time = 1
under = 1
ignorehitpause = 1

[State 1237, Explod]
type = Explod
trigger1 = movehit = 1
anim = 510
pos = 5,-77
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1237, Explod]
type = Explod
trigger1 = movehit = 1
anim = 510
pos = -5,-37
postype = p2
sprpriority = 10
supermove = 0
bindtime = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 1237, Explod]
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
anim = 509
postype = P2
pos = 15,-80
random = 10,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 1237, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1238

; Striker Original Zero - Gokusa7 ----------------------------------------------
[Statedef 1238]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 1238

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1238, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = 0.55

[State 1238, ChangeState]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 1239

; Striker Original Zero - Gokusa8 ----------------------------------------------
[Statedef 1239]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1239
velset = 0,0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1239, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1239, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S0,100

[State 1239, Turn]
type = Turn
trigger1 = animelem = 21
ignorehitpause = 1
persistent = 0

[State 1239, PlaySnd]
type = PlaySnd
trigger1 = animelem = 21
value = S0,97

[State 1239, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1240

; Striker Original Zero return -------------------------------------------------
[Statedef 1240]
type = S
movetype = I
physics = S
anim = 1240
velset = 0,0
sprpriority = -2
ctrl = 0

[State 1240, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = -7

[State 1240, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A
physics = N

[State 1240, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeBodyDist <= -50
trigger2 = BackEdgeBodyDist <= -30
trigger2 = time >= 120

; Striker Original Zero - Gokusa victim P2STATENO ------------------------------
[Statedef 1241]
type = A
movetype = H
physics = N

[State 1010, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1010, 2]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 1241

[State 1010, 9]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1242

; Striker Original Zero - Gokusa victim P2STATENO2 -----------------------------
[Statedef 1242]
type = A
movetype = H
physics = N
velset = -2.2,-10

[State 1242, VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .6

[State 1242, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 16
ampl = 8
freq = 90
phase = 120
ignorehitpause = 1

[State 1242, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

; Striker Original Zero get hit -----------------------------------------------------
[Statedef 1243]
type = A
movetype = I
physics = N
anim = 1242
velset = 0,0
sprpriority = -2
ctrl = 0

[State 1243, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1243, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1243, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1214, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,101
channel = 12

[State 1243, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1244

; Striker Original Zero hit back ----------------------------------------------------
[Statedef 1244]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1243
sprpriority = -2

[State 1244, 1]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1244, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1244, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S0,99

[State 1244, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1240

;===============================================================================
; Striker Clone Zero appear ----------------------------------------------------
[Statedef 1250]
type = S
movetype = I
physics = N
anim = 1250
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1250, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1, <20
trigger2 = Vel X != 0
value = SCA
time = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1250, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1255
ignorehitpause =  1
persistent = 0

[State 1250, PosSet]
type = PosSet
trigger1 = 1
;x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 1202, VelSet]
type = VelSet
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
x = 7
y = 0
ignorehitpause = 1

[State 1202, VelMul]
type = VelMul
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
x = 0.8
ignorehitpause = 1
;persistent =

[State 1202, VelMul]
type = VelMul
trigger1 = AnimElem = 2, >=0
x = 0.65
ignorehitpause = 1
;persistent =

[State 1250, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1250, VarAdd]; ---- var(1) Trans changing
type = VarAdd
triggerall = var(1) < 256
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
var(1) = 12

[State 1250, VarAdd]; ---- var(1) Trans changing
type = VarSet
triggerall = var(1) > 256
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
var(1) = 256

[State 1250, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1250, Aura]
type = NULL;Afterimage
trigger1 = root,palno = 12
trans = add
PalContrast =  255, 220, 220
PalBright = 0,0,0
paladd = 25,0,0
time    =  -1
length  = 10
TimeGap = 1
FrameGap = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0

[State 1250, VelSet]
type = null;VelSet
trigger1 = Time = 0
x = 20
y = 0

[State 1250, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,102

[State 1250, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1250, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger1 = p2bodydist X < -5
value = 12510

[State 1250, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1251

; Striker Clone Zero laugh turn if necessary------------------------------------
[Statedef 12510]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1261
sprpriority = 5

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1
;persistent =

[State 1251, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1250, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1255
ignorehitpause =  1
persistent = 0

[State 1252, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1251

; Striker Clone Zero KONGOU KOKURETSU ZAN --------------------------------------
[Statedef 1251]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 1251

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1251, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 9, >=0
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,103
channel = 10

[State 1251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = S0,71

[State 1251, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1251, VarSet]; ---- var(1) palfx changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1251, VarAdd]; ---- var(1) palfx changing
type = VarAdd
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 9, < 0
var(1) = 5

[State 1251, PalFX]; ---- palfx changing
type = PalFX
trigger1 = var(1) > 0
time = 1
add = var(1),0,0
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1251, VarSet]; ---- var(11) set spark pos Y
type = VarSet
trigger1 = 1
var(11) = 0
persistent = 0

[State 1251, VarSet]; ---- var(11) set spark pos Y
type = varset
triggerall = P2statetype = C
trigger1 = var(11) != 30 + floor(p2bodydist Y)
var(11) = 30 + floor(p2bodydist Y)

[State 1251, VarSet]; ---- var(11) set spark pos Y
type = varset
triggerall = P2statetype != C
trigger1 = var(11) != floor(p2bodydist Y)
var(11) = floor(p2bodydist Y)

[State 1251, Explod]; ---- hit spark
type = Explod
trigger1 = root,ProjHit1258 = 1
anim = F2
postype = p2
pos = 0,-65 + var(11)
ontop = 1

[State 1251, Explod]; ---- guard spark
type = Explod
trigger1 = root,ProjGuarded1258 = 1
anim = F40
postype = p2
pos = 0,-65 + var(11)
ontop = 1

[State 1251, Explod]; ---- energy crystal pillar
type = Explod
trigger1 = AnimElem = 9
anim = 1257
ID = 1257
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1.15,1.15
sprpriority = 6
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1251, Projectile]
type = Projectile
trigger1 = AnimElem = 10
trigger2 = AnimElem = 12
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
ProjID = 1258
projanim = ifelse((AnimElem=14)||(AnimElem=16),1259,1258)   ;Defaults to 0 if omitted.
;projhitanim =    ;when projectile hits the opponent. Defaults to -1 (no change in animation).
;projremanim =    ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
;projcancelanim =    ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = 1,1
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = 1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0   ;Specifies the R, G, and B components of the projectile's shadow.
velocity = 0,0
remvelocity = 0,0    ;velocities at which the projectile should travel while being removed.
accel = 0,0    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 9    ;1 3 5 7 9 999 99999 9999999
projsprpriority = 3
projedgebound = 120    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 120
projheightbound = -240    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 0,0
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = S,HA    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = 0,0
;givepower = 0,0
;affectteam = E    ;B,E,F
animtype = diagup    ;light,medium,hard,back,up,diagup
air.animtype = diagup    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 3,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(25*parent,fvar(3)),floor(3*parent,fvar(3))
pausetime = 0,1
;guard.pause ,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = 0,17
guardsound = 0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 0    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 0    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
yaccel = 0.5    ;y acceleration
ground.velocity = .4,ifelse((AnimElem=16),-12,-8) ;-8
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = .4,ifelse((AnimElem=16),-10.5,-7) ;-7    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 1
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno = 0
;p2stateno = 0
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
down.velocity = 0,-9    ;gethit while lying down ;Defaults to air.velocity
down.hittime = 20
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 30
palfx.add = 100,0,0
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 30
envshake.freq = 120
envshake.ampl = 6
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = 0
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
ignorehitpause = 1
;persistent =

[State 1251, Striker Clone Zero projhit flash]
type = EnvColor
trigger1 = root,ProjHit1258 = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1251, EnvShake]
type = EnvShake
trigger1 = AnimElem = 9
time = 40
freq = 120
ampl = 4
phase = 120
ignorehitpause = 1
persistent = 0

[State 1251, EnvShake]
type = EnvShake
trigger1 = animTime = 0
time = 20
freq = 90
ampl = 4
phase = 120
ignorehitpause = 1
persistent = 0

[State 1251, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1252

; Striker Clone Zero stand up --------------------------------------------------
[Statedef 1252]
type = S
movetype = I
physics = S
anim = 1252
velset = 0,0
;sprpriority = 5
ctrl = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1251, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = animelem = 5, >=0
trigger1 = var(1) > 0
var(1) = -2

[State 1251, VarSet]; ---- var(1) palfx changing
type = VarSet
triggerall = animelem = 5, >=0
trigger1 = var(1) <= 0
var(1) = 0

[State 1251, PalFX]; ---- palfx changing
type = PalFX
trigger1 = var(1) > 0
time = 1
add = var(1),0,0
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1252, ChangeState]
type = ChangeState
trigger1 = animTime = 0
trigger1 = p2bodydist X < -5
value = 1257

[State 1252, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1253

; Striker Clone Zero laugh turn if necessary------------------------------------
[Statedef 1257]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1260
sprpriority = 5

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1
;persistent =


[State 1252, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 1253

; Striker Clone Zero laugh -----------------------------------------------------
[Statedef 1253]
type = S
movetype = I
physics = S
anim = 1253
velset = 0,0
;sprpriority = 5
ctrl = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1253, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,104
;ignorehitpause = 1
;persistent =

[State 1253, PlaySnd]
type = PlaySnd
trigger1 = Time = 60  ;80
value = S0,108
;ignorehitpause = 1
;persistent =

[State 1253, ChangeState]
type = ChangeState
trigger1 = Time = 60  ;80
value = 1254

; Striker Clone Zero return ----------------------------------------------------
[Statedef 1254]
type = S
movetype = I
physics = S
anim = 1254
velset = 0,0
;sprpriority = 5
ctrl = 0

[State 1254, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = -7

[State 1254, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 1254, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeBodyDist <= -50
trigger2 = BackEdgeBodyDist <= -30
trigger2 = time >= 120

; Striker Clone Zero get hit ---------------------------------------------------
[Statedef 1255]
type = A
movetype = I
physics = N
anim = 1255
velset = 0,0
sprpriority = -1
ctrl = 0

[State 1255, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1255, VelSet]
type = VelSet
trigger1 = Time = 0
x = -4.5
y = -4.5

[State 1255, VelAdd]
type = VelAdd
trigger1 = time > 1
y = .47

[State 1255, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,105
channel = 10

[State 1255, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1256

; Striker Clone Zero hit back --------------------------------------------------
[Statedef 1256]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1256
sprpriority = -1

[State 1256, 1]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 1256, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,106

[State 1256, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1256, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1254

;===============================================================================
; Striker Misty Farawayland appear ---------------------------------------------
[Statedef 1270]
type = S
movetype = I
physics = N
anim = 1270
velset = 0,0
sprpriority = 4
ctrl = 0

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1270, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1270, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
slot = 0
time = -1
stateno = 1273
ignorehitpause =  1
persistent = 0

[State 1270, PosSet]
type = PosSet
trigger1 = 1
;x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 1270, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1270, VarAdd]; ---- var(1) Trans changing
type = VarAdd
trigger1 = var(1) < 256
var(1) = 5

[State 1270, VarAdd]; ---- var(1) Trans changing
type = VarSet
trigger1 = var(1) > 256
var(1) = 256

[State 1270, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)
ignorehitpause = 1
;persistent =

[State 1270, Explod]
type = Explod
trigger1 = 1
anim = 1273
ID = 1273
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1270, Projectile]; ---- guard-break proj
type = Projectile
triggerall = NumExplod(1273)
triggerall = time = [8,48]
;trigger1 = time%4=0
trigger1 = time=48
ProjID = 1275
id = 1275    ; ---- DO NOT change this!
attr = S, HA
guardflag = M    ; ---- break guard
hitflag = MA-    ; ---- affect only those that was not gethit
numhits = 0
projanim = 1275
projpriority = 4
priority = 7,hit
sparkno = -1
p2stateno = 1046
projremovetime = 1
p2facing = 1
palfx.time = 23
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
ignorehitpause = 1
persistent = 0

[State 1270, Striker Misty Farawayland leave projhit flash]
type = EnvColor
trigger1 = root,ProjHit1275 = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1270, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,112

[State 1270, PlaySnd]
type = null;PlaySnd
trigger1 = Time = 0
value = S0,113

[State 1270, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1270, ChangeState]
type = ChangeState
;trigger1 = time >= 60
trigger1 = var(1) = 256
value = 1271

; Striker Misty Farawayland standby --------------------------------------------
[Statedef 1271]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 4
anim = 1271

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1271, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1271, ReversalDef]
type = NULL;ReversalDef
trigger1 = 1
reversal.attr = SCA,NA,SA
priority = 999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = MA-  ;HLMAFDP
numhits = 0
sparkno = -1
hitsound = -1
p1stateno = 1273
p2stateno = 1026
p2facing = ifelse(p2dist X<-5,-1,1)
guard.dist = 0
palfx.time = 15
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 120
ignorehitpause = 1
;persistent =

[State 1271, Explod]
type = Explod
trigger1 = !NumExplod(1276)
anim = 1276
ID = 1276
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 1271, Explod]
type = Explod
trigger1 = !NumExplod(1277)
anim = 1277
ID = 1277
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 1271, VarSet]
type = VarSet
trigger1 = prevstateno = 1270
v = 15
value = 120
ignorehitpause = 1
persistent = 0

[State 1271, VarAdd]
type = VarAdd
trigger1 = 1
v = 15
value = -1
ignorehitpause = 1
persistent = 1

[State 1271, ChangeState]; ---- turn
type = ChangeState
trigger1 = rootdist X < 0
;trigger1 = p2dist X < -5
value = 1272

[State 1271, ChangeState]
type = ChangeState
;triggerall = root,statetype != A
triggerall = root,Movetype != H
triggerall = time >= 5
triggerall = !root,var(16)
trigger1 = 1 ;rootdist X = [-30,30]
value = 1274

[State 1271, ChangeState]; ---- time up then leave
type = ChangeState
trigger1 = var(15) <= 0
value = 1273

; Striker Misty Farawayland turn -----------------------------------------------
[Statedef 1272]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 4
anim = 1271

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1272, RemoveExplod]
type = RemoveExplod
trigger1 = time = 18
id = 1276
ignorehitpause = 1
;persistent =

[State 1272, RemoveExplod]
type = RemoveExplod
trigger1 = time = 18
id = 1277
ignorehitpause = 1
;persistent =

[State 1272, ChangeState]
type = ChangeState
;triggerall = root,statetype != A
triggerall = root,Movetype != H
triggerall = time < 15
triggerall = !root,var(16)
trigger1 = rootdist X >= -5
value = 1274

[State 1272, Turn]
type = Turn
trigger1 = time = 20
ignorehitpause = 1
persistent = 0

[State 1272, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1272, ReversalDef]
type = NULL;ReversalDef
trigger1 = 1
reversal.attr = SCA,NA,SA
priority = 99999, miss    ;;Hit,Miss,Dodge 3 4 7 99999 9999999
hitflag = MA  ;HLMAFDP
numhits = 0
sparkno = -1
hitsound = -1
p1stateno = 1273
p2stateno = 1026
p2facing = ifelse(p2dist X<-5,-1,1)
attackdist = 0
guard.dist = 0
palfx.time = 15
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
envshake.time = 15
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 120
ignorehitpause = 1
;persistent =

[State 1272, ChangeState]
type = null;ChangeState
triggerall = root,statetype != A
triggerall = root,Movetype != H
triggerall = !root,var(16)
trigger1 = rootdist X = [-30,30]
value = 1274

[State 1272, Trans]
type = Trans
trigger1 = time = [0,20]
trans = addalpha
alpha = 246-time*12,10+time*12
ignorehitpause = 1
;persistent =

[State 1272, Trans]
type = Trans
trigger1 = time >= 21
trans = addalpha
alpha = (time-20)*12,250-(time-20)*12
ignorehitpause = 1
;persistent =

[State 1272, ChangeState]
type = ChangeState
trigger1 = time >= 40
value = 1271

; Striker Misty Farawayland time up then leave ---------------------------------
[Statedef 1273]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 4
anim = 1270

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1273, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1273, Projectile]; ---- knock off proj
type = Projectile
;triggerall = time <= 48
;trigger1 = time%5=0
trigger1 = time=48
ProjID = 1275
id = 1275    ; ---- DO NOT change this!
attr = S, HA
guardflag = M    ; ---- break guard
hitflag = MA-    ; ---- affect only those that was not gethit
numhits = 0
projanim = 1275
projpriority = 4
priority = 7,hit
sparkno = -1
guard.sparkno = -1
p2stateno = 1046
projremovetime = 1
;p1facing =
p2facing = ifelse(p2dist X<-5,-1,1)
palfx.time = 23
palfx.add = 0,0,100
palfx.mul = 250,250,250
palfx.sinadd = 200,200,100,5
ignorehitpause = 1
;persistent =

[State 1273, Striker Misty Farawayland leave projhit flash]
type = EnvColor
trigger1 = root,ProjHit1275 = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1273, VarSet]; ---- var(1) Trans changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1273, VarAdd]; ---- var(1) Trans changing
type = VarAdd
trigger1 = var(1) < 256
var(1) = 5

[State 1273, VarAdd]; ---- var(1) Trans changing
type = VarSet
trigger1 = var(1) > 256
var(1) = 256

[State 1273, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)
ignorehitpause = 1
;persistent =

[State 1273, Explod]
type = Explod
trigger1 = 1
anim = 1273
ID = 1273
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1273, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S0,112

[State 1273, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 1274
trigger1 = var(1) >= 150
value = S0,117
ignorehitpause = 1
persistent = 0

[State 1273, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 1274
trigger1 = var(1) >= 210
value = S0,114
ignorehitpause = 1
persistent = 0

[State 1273, PlaySnd]
type = PlaySnd
triggerall = prevstateno = 1274
trigger1 = var(1) >= 210
value = S0,113
ignorehitpause = 1
persistent = 0

[State 1273, DestroySelf]
type = DestroySelf
trigger1 = var(1) >= 256
trigger2 = time >= 120

; Striker Misty Farawayland Holy Healing ---------------------------------------
[Statedef 1274]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 4
anim = 1278 ;1271

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1274, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
;persistent = 0

[State 1274, RemoveExplod]
type = null;RemoveExplod
trigger1 = 1
id = 1276
ignorehitpause = 1
persistent = 0

[State 1274, RemoveExplod]
type = null;RemoveExplod
trigger1 = 1
id = 1277
ignorehitpause = 1
persistent = 0

[State 1274, ParentVarSet]
type = ParentVarSet
trigger1 = animelem = 9, >=10
v = 16
value = 360
ignorehitpause = 1
persistent = 0

[State 1274, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S0,115
ignorehitpause = 1
persistent = 0

[State 1274, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9, >=10
value = S0,86
volume = 255
ignorehitpause = 1
persistent = 0

[State 1274, Explod]; ---- Striker Misty Farawayland holy healing
type = Explod
trigger1 = animelem = 9, >=10
anim = 1272
ID = 1272
pos = 35,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
;supermove
;pausemove
scale = .49,.49
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1274, Explod]; ---- Striker Misty Farawayland spell casting
type = Explod
trigger1 = animelem = 9
anim = 1279
ID = 1279
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
;supermove
;pausemove
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1274, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 9, >= 50
id = 1279
ignorehitpause = 1
persistent = 0

[State 1274, Explod]; ---- Striker Misty Farawayland spell casting end
type = Explod
trigger1 = animelem = 9, >= 50
anim = 1280
ID = 1280
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
;supermove
;pausemove
scale = 1,1
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1273, VarSet]; ---- var(1) PalFx changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1273, VarAdd]; ---- var(1) PalFx changing
type = VarAdd
triggerall = animelem = 9, >=0
triggerall = animelem = 9, <11
trigger1 = var(1) < 75
var(1) = 8

[State 1273, VarAdd]; ---- var(1) PalFx changing
type = VarSet
trigger1 = var(1) > 75
var(1) = 75

[State 1273, VarAdd]; ---- var(1) PalFx changing
type = VarAdd
triggerall = animelem = 9, >=50
trigger1 = var(1) > 0
var(1) = -4

[State 1273, VarAdd]; ---- var(1) PalFx changing
type = VarSet
trigger1 = var(1) < 0
var(1) = 0

[State 1273, PalFX]
type = PalFX
trigger1 = animelem = 9, >=0
trigger1 = animelem = 9, <11
trigger2 = animelem = 9, >=50
trigger2 = animelem = 10, <0
time = 1
add = var(1),var(1),0
mul = 256,256,256
;sinadd = 0,0,0,10
invertall = 0
color = 256
ignorehitpause = 1
;persistent =

[State 1273, PalFX]
type = PalFX
trigger1 = animelem = 9, >=11
trigger1 = animelem = 9, <50
time = 1
add = var(1),var(1),0
mul = 256,256,256
sinadd = 50,50,0,10
invertall = 0
color = 256
ignorehitpause = 1
;persistent =

[State 1274, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1273


;-------------------------------------------------------------------------------
; SPECIAL MOVE: DIVINE ARROW - COMET
[Statedef 1300]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(prevstateno=1300,0,floor(200*fvar(10)))
ctrl = 0
anim = 1300
sprpriority = 2

[State 1300, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = prevstateno != 1300
trigger1 = Time = 0
value = S0,118
channel = 0

[State 1300, PlaySnd]; ---- voice
type = PlaySnd
trigger1 = prevstateno = 1300
trigger1 = Time = 0
value = S0,22
channel = 0

[State 1300, PlaySnd]; ---- sound
type = PlaySnd
trigger1 = Time = 0
value = S0,119

[State 1300, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 1300, VelAdd]
type = VelAdd
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 4, < 0
x = -2.5
y = -2.5
ignorehitpause = 1
persistent = 0

[State 1300, StateTypeSet]; ---- Gravity
type = StateTypeSet
trigger1 = animelem = 4, >=0
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N
ignorehitpause = 1
persistent = 0

[State 1300, Projectile]
type = Projectile
trigger1 = animelem = 1
ProjID = 1300
projanim = ifelse(fvar(4)=0,1301,1303)   ;Defaults to 0 if omitted.
projhitanim = ifelse(fvar(4)=0,1302,1304)   ;when projectile hits the opponent. Defaults to -1 (no change in animation).
projremanim = ifelse(fvar(4)=0,1302,1304)   ;when projectile is removed (due to its time expiring or hitting its removal boundaries, etc.) Defaults to projhitanim.
projcancelanim = ifelse(fvar(4)=0,1302,1304)   ;when projectile is cancelled by hitting another projectile. Defaults to projremanim.
projscale = .75,.75
projremove = 1    ;If nonzero, projectile be removed after it hits. Defaults to 1.
projremovetime = -1    ;number of ticks after which the projectile should be removed from the screen. Defaults to -1.
projshadow = 0,0,0
velocity = .25,.25
remvelocity = .5,.5    ;velocities at which the projectile should travel while being removed.
accel = .5,.5    ;acceleration
velmul = 1    ;projectile's velocity is multiplied by this multiplier on every tick. Default to 1.
projhits = 1    ;number of hits that projectile should be able to do before being removed. Defaults to 1.
projmiss = 0    ;specifies the least number of ticks that must elapse between multi-hits.
projpriority = 3 ;Max priority   ;1 3 5 7 9 999 99999 9999999
projsprpriority = 4
projedgebound = 80    ;distance (in pixels) off the edge of the screen before the projectile is deleted. Defaults to 40.
projstagebound = 80
projheightbound = -240,1    ;the least and greatest y values the projectile is allowed to reach. Default to -240,1.
offset = 32,-60    ;Specifies the R, G, and B components of the projectile's shadow.
postype = p1         ;p2,front,back,left,right
supermovetime = 0    ;important while using SuperPause. 99999
pausemovetime = 0    ;important while using Pause. 99999
; ---- the following is HitDef content
attr = A,HP    ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF    ;HLAFDP+-
guardflag = M    ;MHLA
getpower = floor(150*fvar(10)),floor(75*fvar(10))
;givepower = 0,0
;affectteam =     ;B,E,F
animtype = Hard    ;light,medium,hard,back,up,diagup
air.animtype = Hard    ;light,medium,hard,back,up,diagup
;fall.animtype = Back
priority = 4,Hit    ;Hit,Miss,Dodge 3 4 7 99999 9999999
damage = floor(70*fvar(3)),floor(7*fvar(3))
pausetime = 0,6
;guard.pause ,0
sparkno = 1
guard.sparkno = 40
sparkxy = 5,5
hitsound = S0,17
guardsound = S0,10
ground.type = High      ;Hign,Low,Trip,None ;High/Low have no effect if Back, If hit from behind, High will be displayed Low
;air.type = High    ;Defaults to ground.type
ground.slidetime = 20    ;don't include pausetime ;applicable only to hits that keep P2 on the ground
;guard.slidetime = 0    ;Defaults to guard.hittime
ground.hittime = 23    ;Applicable only to hits that keep P2 on the ground ;Defaults to 0
;guard.hittime = 0        ;Defaults to ground.hittime
air.hittime = 20    ;has no effect if fall=1, default 20
;guard.ctrltime  = 0    ;Defaults to guard.slidetime
;airguard.ctrltime = 0
;guard.dist = 320    ;useful for trigger inguarddist
;yaccel = 0.5    ;y acceleration
ground.velocity = -6,-1
;guard.velocity = 0    ;Defaults to x_velocity of ground.velocity
air.velocity = -5,-4    ;Defaults to 0,0
;airguard.velocity = 0,0    ;Defaults to x_velocity*1.5, y_velocity/2 of air.velocity
;ground.cornerpush.veloff = 0    ;If arg1 of attr is "A", default value is 0. Otherwise,defaults to 1.3*guard.velocity.
;air.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.velof
;down.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;guard.cornerpush.veloff = 0    ;Defaults to ground.cornerpush.veloff
;airguard.cornerpush.veloff = 0    ;Defaults to guard.cornerpush.veloff
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
p1getp2facing = 0
;p2facing = 1
;p1stateno =
;p2stateno =
;p2getp1state = 1
;forcestand = 0
fall = 1
fall.recover = 0
fall.recovertime = 4
;fall.xvelocity = 0    ;Defaults to no change
fall.yvelocity = -4.5    ;Defaults to -4.5
fall.damage = 0
air.fall = 1
air.fall.recover = 0
;down.velocity = 0,0    ;gethit while lying down ;Defaults to air.velocity
;down.hit
down.bounce = 0
;id = 0
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 23
palfx.add = 0,0,ifelse(fvar(4)=0,100,0)
palfx.mul = 250,250,250
palfx.sinadd = 200,200,ifelse(fvar(4)=0,100,200),5
envshake.time = 8
envshake.freq = 120
envshake.ampl = 5
envshake.phase = 120
fall.envshake.time = 0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;(afterimage winmugen only)
afterimage.time = -1
afterimage.length = 4
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.trans = add;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =

[State 1300, VarSet]; ---- var(1) palfx changing
type = VarSet
trigger1 = 1
var(1) = 0
persistent = 0

[State 1300, VarAdd]; ---- var(1) palfx changing
type = VarAdd
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 4, <= 0
var(1) = 8

[State 1300, VarAdd]; ---- var(1) palfx changing
type = VarAdd
triggerall = var(1) > 0
trigger1 = AnimElem = 6, >= 0
var(1) = -10

[State 1300, PalFX]; ---- palfx changing
type = PalFX
triggerall = var(1) > 0
trigger1 = 1
time = 1
;add = floor(var(1)/3),floor(var(1)/3),var(1)
add = ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,floor(var(1)/3),floor(var(1)/3*2)),ifelse(fvar(4)=0,var(1),floor(var(1)/3*2))
mul = 256,256,256
;sinadd = 0,0,0,10
ignorehitpause = 1
;persistent =

[State 1300, ChangeState]; ---- 2nd hit
type = ChangeState
triggerall = var(59)
triggerall = prevstateno != 1300
triggerall = animelem = 3, >=0
triggerall = statetype = A
;**************反应速度及频率意识
TriggerAll = EnemyNear(floor(fvar(36))),Time >= var(55)
TriggerAll = Random<=var(59)*85
trigger1 = 1
value = 1300
ignorehitpause = 1

[State 1300, ChangeState]; ---- 2nd hit
type = ChangeState
triggerall = !var(59)
triggerall = prevstateno != 1300
triggerall = animelem = 3, >=0
triggerall = statetype = A
trigger1 = command = "comet"
value = 1300
ignorehitpause = 1



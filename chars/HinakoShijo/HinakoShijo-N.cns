;=====================================================================
;  CNS File For "Refuse Hinako Shijo"                Made By OG子 OGヲ
;                                       Ver. 1.0            2007/10/01
;=====================================================================

;---------------------------------------------------------------------
; 立ち弱パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 200]
type		= S
movetype	= A
physics		= N
anim		= 200
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 200, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 200, State Init End]
type		= ChangeState
trigger1	= 1
value		= 201

;------------------- 実行
[Statedef 201]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 201, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 0

[State 201, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 48
ignorehitpause	= 1

[State 201, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 201, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 201, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 201, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 201, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(6)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 201, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 立ち弱キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 210]
type		= S
movetype	= A
physics		= N
anim		= 210
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 210, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 210, State Init End]
type		= ChangeState
trigger1	= 1
value		= 211

;------------------- 実行
[Statedef 211]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 211, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 1

[State 211, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 48
ignorehitpause	= 1

[State 211, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 211, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 211, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 211, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-69 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 211, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-69 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(7)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 211, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 3*Const(size.xscale)

[State 211, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 211, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 211, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 6*Const(size.xscale)

[State 211, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 近立ち強パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 220]
type		= S
movetype	= A
physics		= N
anim		= 220
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 220, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 220, Branch]
type		= ChangeState
trigger1	= (22 + Const(size.ground.front))*Const(size.xscale) < P2BodyDist X + Const(size.ground.front)
value		= 225

[State 220, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= !!(Var(25) & 512) - !!(Var(25) & 1024)

[State 220, State Init End]
type		= ChangeState
trigger1	= 1
value		= 221

;------------------- 実行
[Statedef 221]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 221, Tsuigeki Reset]	; 無条件追撃
type		= VarSet
trigger1	= AnimElemTime(3) < 0
var(1)		= (Var(1) | 64)
ignorehitpause	= 1

[State 221, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 221, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 221, Throw]	; ガー不
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= NumEnemy
triggerall					= AnimElemNo(0) = [1, 2]
trigger1					= Var(5) = 1
trigger1					= (P2BodyDist X <= 11*Const(size.xscale)) || (P2Dist X <= 11*Const(size.xscale) + Const(size.ground.front) + EnemyNear,Const(size.ground.front))
trigger2					= Var(5) = -1
trigger2					= (P2BodyDist X <= 14*Const(size.xscale)) || (P2Dist X <= 14*Const(size.xscale) + Const(size.ground.front) + EnemyNear,Const(size.ground.front))
affectteam					= E
attr						= S, NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= M-
priority					= 5, Miss
pausetime					= 1, 2
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 221, NotHit]
type		= NotHitBy
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || HitCount || HitPauseTime || (Var(18) & 528482304)
value		= SCA
ignorehitpause	= 1

[State 221, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || (HitCount && !MoveReversed)
value		= 900

[State 221, TargetState] ; 演出待ちやられ
type		= TargetState
triggerall	= AnimElemTime(3) < 0
trigger1	= MoveHit = 1
value		= 7000
ID			= (10 + ((Var(16) & 240)/16-!(Var(18) & 528482304)+16)%16)
IgnoreHitPause	= 1

[State , Hit Dummy]	; 相手にガードさせ用
type		= HitDef
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 221, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 221, MoveHitReset]
type		= MoveHitReset
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5

[State 221, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 221, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 221, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 221, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 221, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 5
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 221, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 5
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(10)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 221, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 遠立ち強パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 225]
type		= S
movetype	= A
physics		= N
anim		= 225
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 225, State Init End]
type		= ChangeState
trigger1	= 1
value		= 226

;------------------- 実行
[Statedef 226]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 226, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 226, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 226, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 226, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 226, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 226, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(12)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 226, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 立ち強キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 230]
type		= S
movetype	= A
physics		= N
anim		= 230
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 230, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 230, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= !!(Var(25) & 512) - !!(Var(25) & 1024)

[State 230, State Init End]
type		= ChangeState
trigger1	= 1
value		= 231

;------------------- 実行
[Statedef 231]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 231, Tsuigeki Reset]	; 無条件追撃
type		= VarSet
trigger1	= AnimElemTime(3) < 0
var(1)		= (Var(1) | 64)
ignorehitpause	= 1

[State 231, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 231, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 231, Throw]	; ガー不
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= NumEnemy
triggerall					= AnimElemNo(0) = [1, 2]
trigger1					= Var(5) = 1
trigger1					= (P2BodyDist X <= 11*Const(size.xscale)) || (P2Dist X <= 11*Const(size.xscale) + Const(size.ground.front) + EnemyNear,Const(size.ground.front))
trigger2					= Var(5) = -1
trigger2					= (P2BodyDist X <= 14*Const(size.xscale)) || (P2Dist X <= 14*Const(size.xscale) + Const(size.ground.front) + EnemyNear,Const(size.ground.front))
affectteam					= E
attr						= S, NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= M-
priority					= 5, Miss
pausetime					= 1, 2
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 231, NotHit]
type		= NotHitBy
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || HitCount || HitPauseTime || (Var(18) & 528482304)
value		= SCA
ignorehitpause	= 1

[State 231, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || (HitCount && !MoveReversed)
value		= 910

[State 231, TargetState] ; 演出待ちやられ
type		= TargetState
triggerall	= AnimElemTime(3) < 0
trigger1	= MoveHit = 1
value		= 7000
ID			= (10 + ((Var(16) & 240)/16-!(Var(18) & 528482304)+16)%16)
IgnoreHitPause	= 1

[State , Hit Dummy]	; 相手にガードさせ用
type		= HitDef
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 231, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6
value		= 2040, 2

[State 231, MoveHitReset]
type		= MoveHitReset
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6

[State 231, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 231, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 231, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 231, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 231, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 6
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(80 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-21 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 231, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 6
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(80 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-21 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(13)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 231, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; しゃがみ弱パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 300]
type		= C
movetype	= A
physics		= N
anim		= 300
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 300, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 300, State Init End]
type		= ChangeState
trigger1	= 1
value		= 301

;------------------- 実行
[Statedef 301]
type		= C
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 301, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
value		= 2040, 0

[State 301, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 48
ignorehitpause	= 1

[State 301, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 301, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 301, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 301, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-49 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 301, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-49 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(6)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 301, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 9

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; しゃがみ弱キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 310]
type		= C
movetype	= A
physics		= N
anim		= 310
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 310, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 310, State Init End]
type		= ChangeState
trigger1	= 1
value		= 311

;------------------- 実行
[Statedef 311]
type		= C
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 311, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 1

[State 311, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 48
ignorehitpause	= 1

[State 311, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 311, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 311, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 311, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-6 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 311, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Light
damage						= Ceil(35 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhits						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-6 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 8
guard.ctrltime				= 8
guard.hittime				= 17
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(6)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 311, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 9

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; しゃがみ強パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 320]
type		= C
movetype	= A
physics		= N
anim		= 320
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 320, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 320, State Init End]
type		= ChangeState
trigger1	= 1
value		= 321

;------------------- 実行
[Statedef 321]
type		= C
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 321, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 10
value		= 2040, 2

[State 321, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 321, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 321, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 321, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 321, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) = [10, 11]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 321, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) = [12, 14]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 321, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) = [15, 17]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-85 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 321, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) = [10, 11]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 321, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) = [12, 14]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 321, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) = [15, 17]
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-85 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(18)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 2*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 9
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 10
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 12
x			= 3*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 21
x			= 3*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 22
x			= 8*Const(size.xscale)

[State 321, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 23
x			= 8*Const(size.xscale)

[State 321, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 9

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; しゃがみ強キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 330]
type		= C
movetype	= A
physics		= N
anim		= 330
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 330, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 330, State Init End]
type		= ChangeState
trigger1	= 1
value		= 331

;------------------- 実行
[Statedef 331]
type		= C
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 331, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 2

[State 331, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 331, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 331, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 331, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 331, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6.0
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 331, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= C, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(10)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 331, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 9

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; ジャンプ弱パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 500]
type		= A
movetype	= A
physics		= A
anim		= 500
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 500, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 500, State Init End]
type		= ChangeState
trigger1	= 1
value		= 501

;------------------- 実行
[Statedef 501]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 501, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
value		= 2040, 0

[State 501, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 76
ignorehitpause	= 1

[State 501, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 501, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 501, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 501, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Light
damage						= Ceil(70 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 501, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Light
damage						= Ceil(70 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(8)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 501, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; ジャンプ弱キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 510]
type		= A
movetype	= A
physics		= A
anim		= 510
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 510, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 200, Random % 4
channel		= 0
volume		= 200

[State 510, State Init End]
type		= ChangeState
trigger1	= 1
value		= 511

;------------------- 実行
[Statedef 511]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 511, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
value		= 2040, 1

[State 511, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 76
ignorehitpause	= 1

[State 511, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 511, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 511, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 511, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Light
damage						= Ceil(70 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 511, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Light
damage						= Ceil(70 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2050
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 1
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(9)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 511, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; ジャンプ強パンチ
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 520]
type		= A
movetype	= A
physics		= A
anim		= 520
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 520, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 520, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= (Var(25) & 512) || (Var(25) & 1024) || (Var(25) & 256)

[State 520, State Init End]
type		= ChangeState
trigger1	= 1
value		= 521

;------------------- 実行
[Statedef 521]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 521, Tsuigeki Reset]	; 無条件追撃
type		= VarSet
trigger1	= AnimElemTime(3) < 0
var(1)		= (Var(1) | 64)
ignorehitpause	= 1

[State 521, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 521, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 521, Throw]	; ガー不 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
triggerall					= AnimElemNo(0) = [1, 2]
triggerall					= Var(5)
trigger1					= P2Dist Y < 6
affectteam					= E
attr						= , NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= MAF
priority					= 5, Miss
pausetime					= 1, 1
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 521, Throw]	; ガー不 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
triggerall					= AnimElemNo(0) = [1, 2]
triggerall					= Var(5)
trigger1					= P2Dist Y < 6
affectteam					= E
attr						= , NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= MAF-
priority					= 5, Miss
pausetime					= 1, 1
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 521, NotHit]
type		= NotHitBy
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || HitCount || HitPauseTime || (Var(18) & 528482304)
value		= SCA
ignorehitpause	= 1

[State 521, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || (HitCount && !MoveReversed)
value		= 921

[State 521, TargetState] ; 演出待ちやられ
type		= TargetState
triggerall	= AnimElemTime(3) < 0
trigger1	= MoveContact = 1
value		= 7000
ID			= (10 + ((Var(16) & 240)/16-!(Var(18) & 528482304)+16)%16)
IgnoreHitPause	= 1

[State , Hit Dummy]	; 相手にガードさせ用
type		= HitDef
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 521, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 521, MoveHitReset]
type		= MoveHitReset
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4

[State 521, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 521, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 521, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 521, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 521, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 4
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-34 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 521, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 4
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-34 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(9)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 521, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; ジャンプ強キック
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 530]
type		= A
movetype	= A
physics		= A
anim		= 530
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 530, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, IfElse( Random < 250, 0, 4 + (Random % 3) )
channel		= 0
volume		= 200

[State 530, Contact Reset]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 8192) - 8192

[State 530, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= (Var(25) & 512) || (Var(25) & 1024) || (Var(25) & 256)

[State 530, State Init End]
type		= ChangeState
trigger1	= 1
value		= 531

;------------------- 実行
[Statedef 531]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 531, Tsuigeki Reset]	; 無条件追撃
type		= VarSet
trigger1	= AnimElemTime(3) < 0
var(1)		= (Var(1) | 64)
ignorehitpause	= 1

[State 531, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 531, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 531, Throw]	; ガー不 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
triggerall					= AnimElemNo(0) = [1, 2]
triggerall					= Var(5)
trigger1					= P2Dist Y < 6
affectteam					= E
attr						= , NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= MAF
priority					= 5, Miss
pausetime					= 1, 1
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 531, Throw]	; ガー不 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
triggerall					= AnimElemNo(0) = [1, 2]
triggerall					= Var(5)
trigger1					= P2Dist Y < 6
affectteam					= E
attr						= , NT
animtype					= Hard
damage						= 0
getpower					= Var(57), 0
givepower					= 0, 0
guardflag					= None
hitflag						= MAF-
priority					= 5, Miss
pausetime					= 1, 1
guard.pausetime				= 1, 0
id							= 10 + (Var(16) & 240)/16
numhit						= 0
hitonce						= 0
guard.kill					= 0
sparkno						= -1
guard.sparkno				= -1
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2030, 0
;guardsound					= S2010, 0
guard.dist					= 0
p1facing					= 1
p2facing					= 1
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 0
guard.ctrltime				= 0
guard.hittime				= 0
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 531, NotHit]
type		= NotHitBy
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || HitCount || HitPauseTime || (Var(18) & 528482304)
value		= SCA
ignorehitpause	= 1

[State 531, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= AnimElemTime(3) <= 0
trigger1	= MoveContact || (HitCount && !MoveReversed)
value		= 920

[State 531, TargetState] ; 演出待ちやられ
type		= TargetState
triggerall	= AnimElemTime(3) < 0
trigger1	= MoveContact = 1
value		= 7000
ID			= (10 + ((Var(16) & 240)/16-!(Var(18) & 528482304)+16)%16)
IgnoreHitPause	= 1

[State , Hit Dummy]	; 相手にガードさせ用
type		= HitDef
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 531, MoveHitReset]
type		= MoveHitReset
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
trigger2	= AnimElem = 6
trigger3	= AnimElem = 9

[State 531, Contact Set]
type		= VarSet
triggerall	= MoveContact
trigger1	= 0 <= AnimElemTime(4)
var(1)		= (Var(1) | 8192)
ignorehitpause	= 1

[State 531, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 531, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 531, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 531, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 531, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 531, Hit0]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) = [4, 5]
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-48 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 531, Hit1]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 6
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95.0 * FVar(3) / (2.0 ** HitCount))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-48 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 531, Hit0]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) = [4, 5]
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95.0 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-48 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 531, Hit1]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 6
affectteam					= E
attr						= A, NA
animtype					= Medium
damage						= Ceil(95.0 * FVar(3) / (2.0 ** HitCount))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 9
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-48 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 9 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 9 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 9
guard.ctrltime				= 9
guard.hittime				= 18
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(13)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 531, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 地上ふっとばし攻撃(最大溜め)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 600]
type		= S
movetype	= A
physics		= N
anim		= 600
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 600, State Init End]
type		= ChangeState
trigger1	= 1
value		= 601

;------------------- 実行
[Statedef 601]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 601, PalFX]
type		= PalFX
triggerall	= NumHelper(20000)
triggerall	= (Helper(20000),Var(0) = 20000)
trigger1	= Helper(20000),MoveHit = 1
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20602)
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 601, PalFX Counter]
type		= VarSet
triggerall	= NumHelper(20000)
triggerall	= (Helper(20000),Var(0) = 20000)
trigger1	= Helper(20000),MoveHit = 1
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20602)
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 601, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= 2 <= AnimElemTime(4) && AnimElemTime(5) <= 0
trigger1	= !(Var(25) & 4096) && !(Var(25) & 32768)
value		= 605

[State 601, Explod]
type		= Explod
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElemTime(4) = 3
anim		= 2711
id			= 2711
pos			= Floor(15 * Const(size.xscale)), Floor(-30 * Const(size.yscale))
postype		= p1
scale		= Const(size.xscale), Const(size.yscale)
bindtime	= 9999
sprpriority	= 1
ownpal		= 1
removeongethit	= 1

[State 601, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElemTime(4) = 3
value		= 2040, 8

[State 601, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
value		= 250, 1 + 6 * (Random >= 500)
channel		= 0
volume		= 200

[State 601, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
value		= 2040, 2

[State 601, NotHit]
type		= NotHitBy
trigger1	= 0 <= AnimElemTime(8) && AnimElemTime(19) < 0
value		= , AT
ignorehitpause	= 1

[State 601, HitOverride]
type		= HitOverride
trigger1	= 0 <= AnimElemTime(8) && AnimElemTime(19) < 0
time		= 1
attr		= SCA, AA, AT, AP
stateno		= 602
ignorehitpause	= 1

[State 601, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 160
ignorehitpause	= 1

[State 601, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 601, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 601, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State , Hit Dummy]	; ヒットストップ中を当身で取られないようにする用
type		= HitDef
trigger1	= 1
attr		=
hitflag		=
guardflag	=
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 601, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 8
affectteam					= E
attr						= , NA
animtype					= Hard
damage						= Ceil(160 * FVar(3)), Ceil(20 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 20 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 45
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 1
sparkno						= S2030
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-44 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1
envshake.time				= 8

[State 601, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 8
affectteam					= E
attr						= , NA
animtype					= Hard
damage						= Ceil(160 * FVar(3)), Ceil(20 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 20 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 45
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 1
sparkno						= S2030
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-44 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1
envshake.time				= 8

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(19)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 2*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= 2*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
x			= 8*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 21
x			= 8*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 22
x			= 6*Const(size.xscale)

[State 601, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 23
x			= 5*Const(size.xscale)

[State 601, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;------------------- やられ初期化
[Statedef 602]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 602, PalFX]
type		= PalFX
trigger1	= 1
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 602, PalFX Counter]
type		= VarSet
trigger1	= 1
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 602, Explod]
type		= Explod
trigger1	= 1
anim		= 2060
ID			= 2060
pos			= Floor(25 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
postype		= p1
sprpriority	= 2
ownpal		= 1
supermovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
pausemovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
ignorehitpause	= 1

[State 602, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 2010, 1
ignorehitpause	= 1

[State 602, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 20
ignorehitpause	= 1

[State 602, Get Power]
type		= VarSet
triggerall	= 1
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 602, PowerAdd]
type		= PowerAdd
trigger1	= 1
value		= Var(57)
ignorehitpause	= 1

[State 602, State Init End]
type		= ChangeState
trigger1	= 1
value		= 601
ignorehitpause	= 1

[State 602, State Init End]
type		= ChangeState
trigger1	= 1
value		= 601
ignorehitpause	= 1

[State 602, State Init End]
type		= ChangeState
trigger1	= 1
value		= 601
ignorehitpause	= 1

;---------------------------------------------------------------------
; 地上ふっとばし攻撃(ボタン離し)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 605]
type		= S
movetype	= A
physics		= N
anim		= 605
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 605, RemoveExplod]
type			= RemoveExplod
trigger1		= 1
id				= 2711

[State 605, State Init End]
type		= ChangeState
trigger1	= 1
value		= 606

;------------------- 実行
[Statedef 606]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 606, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 250, 1 + 6 * (Random >= 500)
channel		= 0
volume		= 200

[State 606, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 2

[State 606, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 606, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 606, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 606, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 606, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Hard
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2020
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-44 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 606, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Hard
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2020
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-44 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(13)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 606, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 2*Const(size.xscale)

[State 606, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 8*Const(size.xscale)

[State 606, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 15
x			= 8*Const(size.xscale)

[State 606, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 16
x			= 6*Const(size.xscale)

[State 606, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 17
x			= 5*Const(size.xscale)

[State 606, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(最大溜め)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 610]
type		= A
movetype	= A
physics		= A
anim		= 610
ctrl		= 0
facep2		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 610, State Init End]
type		= ChangeState
trigger1	= 1
value		= 611

;------------------- 実行
[Statedef 611]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 611, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= 0 <= AnimElemTime(3) && AnimElemTime(4) <= 0
trigger1	= !(Var(25) & 4096) && !(Var(25) & 32768)
value		= 620

[State 611, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 8

[State 611, Explod]
type		= Explod
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
anim		= 2711
id			= 2711
pos			= Floor(-13 * Const(size.xscale)), Floor(-95 * Const(size.yscale))
postype		= p1
scale		= Const(size.xscale), Const(size.yscale)
bindtime	= 9999
sprpriority	= 1
ownpal		= 1
removeongethit	= 1

[State 611, PalFX]
type		= PalFX
trigger1	= MoveHit = 1 && ((Var(18) & 528482304) / (528482304 / 63)) = 4
trigger2	= NumHelper(20000)
trigger2	= (Helper(20000),Var(0) = 20000)
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20612)
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 611, PalFX Counter]
type		= VarSet
trigger1	= MoveHit = 1 && ((Var(18) & 528482304) / (528482304 / 63)) = 4
trigger2	= NumHelper(20000)
trigger2	= (Helper(20000),Var(0) = 20000)
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20612)
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 611, NotHit]
type		= NotHitBy
triggerall	= Pos Y + Vel Y < 0
trigger1	= 0 <= AnimElemTime(4)
value		= , AT
ignorehitpause	= 1

[State 611, HitOverride]
type		= HitOverride
triggerall	= Pos Y + Vel Y < 0
trigger1	= 0 <= AnimElemTime(4)
time		= 1
attr		= SCA, AA, AT, AP
stateno		= 614
ignorehitpause	= 1

[State 611, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 20
ignorehitpause	= 1

[State 611, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 611, ReversalDef]	; ガードポイント
type			= ReversalDef
triggerall		= NumHelper(20000)
trigger1		= 0 <= AnimElemTime(4)
reversal.attr	= SCA, AA, AP
pausetime		= 1 * !(Helper(20000),Var(1) & 256), 8 - !!(Helper(20000),Var(1) & 256)
sparkno			= S2060
sparkxy			= Floor(10 * Const(size.xscale)), 0
hitsound		= S2010, 1
getpower		= Var(57)
givepower		= 0
numhits			= 0
hitflag			= P
guard.dist		= Floor(Const(size.attack.dist) * Const(size.xscale))
p1stateno		= 614
ignorehitpause	= 1

[State 611, ReversalDef]	; ガードポイント
type			= ReversalDef
triggerall		= NumHelper(20000)
triggerall		= (Var(32) & 7) < 4
trigger1		= 0 <= AnimElemTime(4)
reversal.attr	= SCA, AA, AT, AP
pausetime		= 1 * !(Helper(20000),Var(1) & 256), 8 - !!(Helper(20000),Var(1) & 256)
sparkno			= S2060
sparkxy			= Floor(10 * Const(size.xscale)), 0
hitsound		= S2010, 1
getpower		= Var(57)
givepower		= 0
numhits			= 0
hitflag			= P
guard.dist		= Floor(Const(size.attack.dist) * Const(size.xscale))
p1stateno		= 614
ignorehitpause	= 1

[State 611, RemoveExplod]
type		= RemoveExplod
triggerall	= !(Var(18) & 528482304)
trigger1	= Pos Y + Vel Y >= 0
id			= 2711

[State 611, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 612

[State 611, On Land]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= 1 <= AnimElemTime(4)
trigger1	= Pos Y + Vel Y >= 0
value		= 616

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(最大溜め・攻撃部)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 612]
type		= A
movetype	= A
physics		= A
anim		= 611
ctrl		= 0
facep2		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 612, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 1 + 6 * (Random >= 500)
channel		= 0
volume		= 200

[State 612, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 2040, 2

[State 612, State Init End]
type		= ChangeState
trigger1	= 1
value		= 613

;------------------- 実行
[Statedef 613]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 613, PalFX]
type		= PalFX
triggerall	= NumHelper(20000)
triggerall	= (Helper(20000),Var(0) = 20000)
trigger1	= Helper(20000),MoveHit = 1
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20614)
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 613, PalFX Counter]
type		= VarSet
triggerall	= NumHelper(20000)
triggerall	= (Helper(20000),Var(0) = 20000)
trigger1	= Helper(20000),MoveHit = 1
trigger2	= !(Helper(20000),Var(1) & 1024) && (Helper(20000),StateNo = 20614)
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

; 当たった時用の処理
[State 613, TargetState]
type		= TargetState
triggerall	= (Var(1) & 16)
trigger1	= MoveHit = 1
value		= 618
ID			= 10 + (Var(16) & 240)/16
persistent		= 0
ignorehitpause	= 1

[State 613, Bound Reset]
type		= VarSet
triggerall	= !(Var(18) & 528482304)
trigger1	= 1
var(1)		= (Var(1) | 16) - 16

[State 613, Bound Check]
type		= VarSet
triggerall	= !(Var(18) & 528482304)
triggerall	= !MoveContact && !MoveReversed
triggerall	= (P2StateType != A || !(Var(1) & 2))
trigger1	= !(P2MoveType = H && !((P2StateNo = 120) || (P2StateNo = [130, 132]) || (P2StateNo = 140) || (P2StateNo = [150, 155])))
var(1)		= (Var(1) | 16)

[State 613, NotHit]
type		= NotHitBy
triggerall	= Pos Y + Vel Y < 0
trigger1	= AnimElemTime(10) < 0
value		= , AT
ignorehitpause	= 1

[State 613, HitOverride]
type		= HitOverride
triggerall	= Pos Y + Vel Y < 0
trigger1	= AnimElemTime(10) < 0
time		= 1
attr		= SCA, AA, AT, AP
stateno		= 615
ignorehitpause	= 1

[State 613, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 140
ignorehitpause	= 1

[State 613, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 613, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 613, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State , Hit Dummy]	; ヒットストップ中を当身で取られないようにする用
type		= HitDef
trigger1	= 1
attr		=
hitflag		=
guardflag	=
guard.dist	= Floor(Const(size.attack.dist) * Const(size.xscale))
ignorehitpause	= 1

[State 613, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= , NA
animtype					= Hard
damage						= Ceil(140 * FVar(3)), Ceil(15 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 16 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 1
sparkno						= S2030
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 25 + 9 + 200 * ((Var(1) & 1) != 0)
ground.velocity				= -3.5 * Const(size.xscale), 10
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), 10
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1
envshake.time				= 8

[State 613, Hit]			; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= , NA
animtype					= Hard
damage						= Ceil(140 * FVar(3)), Ceil(15 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 16 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 1
sparkno						= S2030
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), 10
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), 10
air.cornerpush.veloff		= 0
fall.recover				= 0
fall						= 1
envshake.time				= 8

[State 613, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State 613, On Land]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= Pos Y + Vel Y >= 0
value		= 616

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(最大溜め・やられ初期化)
;---------------------------------------------------------------------
;------------------- やられ初期化1
[Statedef 614]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 614, PalFX]
type		= PalFX
trigger1	= !MoveHit
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 614, PalFX Counter]
type		= VarSet
trigger1	= !MoveHit
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 614, Explod]
type		= Explod
trigger1	= !MoveHit
anim		= 2060
ID			= 2060
pos			= Floor(20 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
postype		= p1
sprpriority	= 2
ownpal		= 1
supermovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
pausemovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
ignorehitpause	= 1

[State 614, PlaySnd]
type		= PlaySnd
trigger1	= !MoveHit
value		= 2010, 1
ignorehitpause	= 1

[State 614, Get Power]
type		= VarSet
trigger1	= !MoveHit
var(57)		= 20
ignorehitpause	= 1

[State 614, Get Power]
type		= VarSet
triggerall	= !MoveHit
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 614, PowerAdd]
type		= PowerAdd
trigger1	= !MoveHit
value		= Var(57)
ignorehitpause	= 1

[State 614, State Init End]
type		= ChangeState
trigger1	= 1
value		= 611
ignorehitpause	= 1

[State 614, State Init End]
type		= ChangeState
trigger1	= 1
value		= 611
ignorehitpause	= 1

[State 614, State Init End]
type		= ChangeState
trigger1	= 1
value		= 611
ignorehitpause	= 1

;------------------- やられ初期化2
[Statedef 615]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 615, PalFX]
type		= PalFX
trigger1	= 1
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 615, PalFX Counter]
type		= VarSet
trigger1	= 1
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 614, Explod]
type		= Explod
trigger1	= 1
anim		= 2060
ID			= 2060
pos			= Floor(20 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
postype		= p1
sprpriority	= 2
ownpal		= 1
supermovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
pausemovetime	= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
ignorehitpause	= 1

[State 614, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 2010, 1
ignorehitpause	= 1

[State 614, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 20
ignorehitpause	= 1

[State 614, Get Power]
type		= VarSet
triggerall	= 1
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 614, PowerAdd]
type		= PowerAdd
trigger1	= 1
value		= Var(57)
ignorehitpause	= 1

[State 615, State Init End]
type		= ChangeState
trigger1	= 1
value		= 613
ignorehitpause	= 1

[State 615, State Init End]
type		= ChangeState
trigger1	= 1
value		= 613
ignorehitpause	= 1

[State 615, State Init End]
type		= ChangeState
trigger1	= 1
value		= 613
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(着地硬直)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 616]
type		= S
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 616, ChangeAnim]
type		= ChangeAnim
trigger1	= 1
value		= 615

[State 616, VelSet]
type		= VelSet
trigger1	= 1
x			= 0
y			= 0

[State 616, PosSet]
type		= PosSet
trigger1	= 1
y			= 0

[State 616, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 2080, 0

[State 616, State Init End]
type		= ChangeState
trigger1	= 1
value		= 617

;------------------- 実行
[Statedef 617]
type		= S
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 1
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 617, End]
type		= ChangeState
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(最大溜めヒット時、やられ側)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 618]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 618, Branch]
type		= SelfState
trigger1	= MoveType != H
trigger2	= (PrevStateNo = [150, 155])
value		= PrevStateNo

[State 618, StateTypeSet]
type		= StateTypeSet
trigger1	= 1
statetype	= A
movetype	= H
physics		= N

[State 618, CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= 0

[State 618, 5050 1] ;Change anim when done with transition
type		= ChangeAnim
trigger1	= Anim != 5035
trigger1	= (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1	= Anim != 5090 ;Not if hit off ground anim
value		= 5050

[State 618, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 618, State Init End]
type		= ChangeState
trigger1	= 1
value		= 619

;------------------- 実行
[Statedef 619]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 619, NoTurn]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 619, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 619, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 619, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 619, 5050 2] ;Coming down anim
type		= ChangeAnim
triggerall	= HitShakeOver
trigger1	= Anim = [5050, 5059]
trigger1	= Vel Y >= IfElse(Anim = 5050, 1, -2)
trigger1	= SelfAnimExist(Anim+10)
value		= Anim+10
persistent	= 0

[State 619, PosFreeze]
type		= PosFreeze
trigger1	= !HitShakeOver

[State 619, HitVelSet]
type		= HitVelSet
trigger1	= HitShakeOver
x			= 1
y			= 1

[State 619, Accel]
type		= VelAdd
trigger1	= HitShakeOver
y			= .44

[State 619, VelMul]
type		= VelMul
triggerall	= HitShakeOver
trigger1	= Pos Y >= 0
;x			= 0.5
x			= 0

[State 619, VelSet]
type		= VelSet
triggerall	= HitShakeOver
trigger1	= Pos Y >= 0
y			= -9.0

[State 619, GameMakeAnim]
type		= GameMakeAnim
triggerall	= HitShakeOver
trigger1	= Pos Y >= 0
value		= 62
pos			= 0, 0
under		= 0

[State 619, End]
type		= ChangeState
triggerall	= HitShakeOver
trigger1	= Pos Y >= 0
trigger2	= Time >= 120
value		= 7010

;---------------------------------------------------------------------
; 空中ふっとばし攻撃(ボタン離し)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 620]
type		= A
movetype	= A
physics		= A
anim		= 620
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 620, RemoveExplod]
type		= RemoveExplod
trigger1	= 1
id			= 2711

[State 620, State Init End]
type		= ChangeState
trigger1	= 1
value		= 621

;------------------- 実行
[Statedef 621]
type		= A
movetype	= A
physics		= A
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8) - Const(movement.yaccel)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 621, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
value		= 250, 1 + 6 * (Random >= 500)
channel		= 0
volume		= 200

[State 621, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
value		= 2040, 2

[State 621, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 120
ignorehitpause	= 1

[State 621, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 621, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 621, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 621, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Hard
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2020
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 621, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= A, NA
animtype					= Hard
damage						= Ceil(120 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2020
guard.sparkno				= S2070
sparkxy						= Floor(-10 * Const(size.xscale)), Floor(-45 * Const(size.yscale))
hitsound					= S2000, 4
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 20
ground.hittime				= 20
guard.slidetime				= 20
guard.ctrltime				= 20
guard.hittime				= 29
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -3.5 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -11.25 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(8)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 621, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 48

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= IfElse( HitPauseTime, Vel Y, Vel Y + Const(movement.yaccel) )
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;===============================================================================
; Definition of the (Dir + Button) attack
;===============================================================================

;---------------------------------------------------------------------
; 張り手(6 + x)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 700]
type		= S
movetype	= I
physics		= N
anim		= 700
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 700, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= 0

[State 700, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 2
channel		= 0
volume		= 200

[State 700, State Init End]
type		= ChangeState
trigger1	= 1
value		= 701

;------------------- 実行
[Statedef 701]
type		= S
movetype	= I
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 701, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemTime(7) >= 0 && AnimElemTime(17) < 0) && (Var(25) & 2048)
var(5)		= 702
ignorehitpause	= 1

[State 701, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemTime(7) >= 0 && AnimElemTime(17) < 0) && (Var(25) & 16384)
var(5)		= 704
ignorehitpause	= 1

[State 701, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemTime(7) >= 0 && AnimElemTime(17) < 0) && (Var(25) & 4096)
var(5)		= 706
ignorehitpause	= 1

[State 701, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemTime(7) >= 0 && AnimElemTime(17) < 0) && (Var(25) & 32768)
var(5)		= 708
ignorehitpause	= 1

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 4*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 8*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
x			= 8*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 17
x			= 7*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 18
x			= 8*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 19
x			= 2*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 20
x			= 8*Const(size.xscale)

[State 701, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 21
x			= 8*Const(size.xscale)

[State 701, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
value		= 2040, 0

[State 701, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 20
ignorehitpause	= 1

[State 701, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 701, ReversalDef]	; ガードポイント
type			= ReversalDef
triggerall		= NumHelper(20000)
trigger1		= 1
reversal.attr	= SCA, AA, AP
getpower		= Var(57)
givepower		= 0
numhits			= 0
pausetime		= 1 * !(Helper(20000),Var(1) & 256), 1 * !(Helper(20000),Var(1) & 256)
sparkno			= S2060
sparkxy			= Floor(20 * Const(size.xscale)), 0
hitsound		= S2010, 1
guard.dist		= 0
hitflag			= P
ignorehitpause	= 1

[State 701, PalFX]
type		= PalFX
trigger1	= MoveHit = 1 && ((Var(18) & 528482304) / (528482304 / 63)) = 4
;add			= 144, 144, 0
;sinadd		= -96, -96, 0, 80
add			= 48, 48, 160
sinadd		= -24, -24, -80, 80
time		= 20
ignorehitpause	= 1

[State 701, PalFX Counter]
type		= VarSet
trigger1	= MoveHit = 1 && ((Var(18) & 528482304) / (528482304 / 63)) = 4
var(32)		= (Var(32) | 260046848) - 260046848 + 20*8388608
ignorehitpause	= 1

[State 701, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= Var(5)
value		= Var(5)

[State 701, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 張り手・千代(張り手後、+ x)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 702]
type		= S
movetype	= A
physics		= N
anim		= 705
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 702, VelSet]
type		= VelSet
trigger1	= 1
x			= 2.0*Const(size.xscale)

[State 702, State Init End]
type		= ChangeState
trigger1	= 1
value		= 703

;------------------- 実行
[Statedef 703]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 703, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 8*Const(size.xscale)

[State 703, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 703, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
value		= 2040, 0

[State 703, VelMul]
type		= VelMul
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElemTime(1) > 0
x			= Const(movement.stand.friction)

[State 703, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 64
ignorehitpause	= 1

[State 703, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 703, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 703, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 703, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(45 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 703, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(45 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-75 * Const(size.yscale))
hitsound					= S2000, 0
guardsound					= S2010, 0
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 8 + 8 * ((Var(1) & 1) != 0)
ground.hittime				= 8 + 8 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -5.85 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(6)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 703, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 突っ張り・追加入力(突っ張り後、+ a)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 704]
type		= S
movetype	= A
physics		= N
anim		= 706
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 704, State Init End]
type		= ChangeState
trigger1	= 1
value		= 705

;------------------- 実行
[Statedef 705]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 2*Const(size.xscale)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 8*Const(size.xscale)

; 実際より若干移動量を少なめにしてあります
[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
x			= 6*Const(size.xscale)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6
x			= 8*Const(size.xscale)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= 8*Const(size.xscale)

[State 705, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
x			= 6*Const(size.xscale)

[State 705, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
value		= 2040, 1

[State 705, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 64
ignorehitpause	= 1

[State 705, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 705, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 705, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 705, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(40 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-69 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 705, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(40 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= H
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2000
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-69 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(12)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 705, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 張り手・錦(張り手後、+ y)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 706]
type		= S
movetype	= A
physics		= N
anim		= 707
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 706, VelSet]
type		= VelSet
trigger1	= 1
x			= 3.25*Const(size.xscale)

[State 706, State Init End]
type		= ChangeState
trigger1	= 1
value		= 707

;------------------- 実行
[Statedef 707]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 707, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
value		= 2040, 2

[State 707, VelMul]
type		= VelMul
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElemTime(1) > 0
x			= Const(movement.stand.friction)

[State 707, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 72
ignorehitpause	= 1

[State 707, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 707, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 707, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 707, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 707, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-78 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(11)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 707, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 喉輪・追加入力(喉輪後、+ b)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 708]
type		= S
movetype	= A
physics		= N
anim		= 708
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 708, VelSet]
type		= VelSet
trigger1	= 1
x			= 3.5*Const(size.xscale)

[State 708, State Init End]
type		= ChangeState
trigger1	= 1
value		= 709

;------------------- 実行
[Statedef 709]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 709, VelMul]
type		= VelMul
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElemTime(1) > 0
x			= Const(movement.stand.friction)

[State 709, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 5*Const(size.xscale)

[State 709, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 709, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 709, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 3*Const(size.xscale)

[State 709, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 709, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 709, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 709, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 709, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 709, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-21 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 709, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(95 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-21 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(9)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 709, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; まえみつ叩き(3 + x)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 710]
type		= S
movetype	= A
physics		= N
anim		= 710
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 710, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 3 + 5 * (Random >= 500)
channel		= 0
volume		= 200

[State 710, Contact Reset]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 8192) - 8192

[State 710, State Init End]
type		= ChangeState
trigger1	= 1
value		= 711

;------------------- 実行
[Statedef 711]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 8*Const(size.xscale)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
x			= 8*Const(size.xscale)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6
x			= 8*Const(size.xscale)

[State 711, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
value		= 2040, 2

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= 8*Const(size.xscale)

[State 711, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 21
x			= -2*Const(size.xscale)

[State 711, Contact Set]
type		= VarSet
triggerall	= MoveContact
trigger1	= 1
var(1)		= (Var(1) | 8192)
ignorehitpause	= 1

[State 711, MoveHitReset]
type		= MoveHitReset
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 11

[State 711, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 64
ignorehitpause	= 1

[State 711, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 711, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 711, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 711, Hit1]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) = [7, 9]
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(50 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-35 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 711, Hit2]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= AnimElemNo(0) >= 11
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil( 50.0 * FVar(3) / (2.0 ** HitCount) )
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 711, Hit1]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) = [7, 9]
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(50 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-35 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 711, Hit2]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= AnimElemNo(0) >= 11
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil( 50.0 * FVar(3) / (2.0 ** HitCount) )
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(17)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 711, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 突っ張り(6 + a)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 720]
type		= S
movetype	= A
physics		= N
anim		= 720
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 720, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= 0

[State 720, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 2
channel		= 0
volume		= 200

[State 720, State Init End]
type		= ChangeState
trigger1	= 1
value		= 721

;------------------- 実行
[Statedef 721]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 721, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemNo(0) = [11, 14]) && (Var(25) & 16384)
var(5)		= 704
ignorehitpause	= 1

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 8*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= 8*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 1*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
x			= 8*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6
x			= 8*Const(size.xscale)

; +4してるのは前の絵では+4分移動しきれなかったため
[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= (1 + 4)*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 12
x			= 8*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 13
x			= 8*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 14
x			= 2*Const(size.xscale)

[State 721, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 15
x			= 3*Const(size.xscale)

[State 721, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
value		= 2040, 2

[State 721, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 72
ignorehitpause	= 1

[State 721, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 721, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 721, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 721, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -(9.90 + 0.60 * ((Var(16) & 31457280) / (31457280 / 15))) * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 721, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-59 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -(9.90 + 0.60 * ((Var(16) & 31457280) / (31457280 / 15))) * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(10)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 721, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= AnimElemNo(0) = [12, 14]
trigger1	= Var(5)
value		= Var(5)

[State 721, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 喉輪(3 + y)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 730]
type		= S
movetype	= A
physics		= N
anim		= 730
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 730, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= 0

[State 730, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 3 + 5 * (Random >= 500)
channel		= 0
volume		= 200

[State 730, State Init End]
type		= ChangeState
trigger1	= 1
value		= 731

;------------------- 実行
[Statedef 731]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 731, VarSet]
type		= VarSet
triggerall	= !Var(5)
trigger1	= (AnimElemNo(0) = [16, 20]) && (Var(25) & 32768)
var(5)		= 708
ignorehitpause	= 1

[State 731, Branch]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
triggerall	= (AnimElemNo(0) = [20, 20])
trigger1	= Var(5)
value		= Var(5)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 1
x			= 4*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 2
x			= 5*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 3
x			= (-4 + 6)*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
x			= 2*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 5
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 6
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 7
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 8
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 9
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 10
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 17
x			= 3*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 18
x			= -2*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 19
x			= 7*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 20
x			= 8*Const(size.xscale)

[State 731, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 21
x			= 8*Const(size.xscale)

[State 731, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 10
value		= 2040, 2

[State 731, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 72
ignorehitpause	= 1

[State 731, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 731, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 731, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 731, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2)) && !(Var(1) & 128)
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-72 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -2.5 * Const(size.xscale), -10.5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 731, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2)) || (Var(1) & 128)
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(60 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= M
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-72 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= High
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -2.5 * Const(size.xscale), -10.5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(14)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 731, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; EHキック(3 + b)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 740]
type		= S
movetype	= A
physics		= N
anim		= 740
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 740, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 3 + 5 * (Random >= 500)
channel		= 0
volume		= 200

[State 740, State Init End]
type		= ChangeState
trigger1	= 1
value		= 741

;------------------- 実行
[Statedef 741]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 741, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 741, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 741, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 741, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 741, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 741, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6.0
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 741, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9 + 8 * ((Var(1) & 1) != 0)
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.0 * Const(size.xscale), -6.0
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.0 * Const(size.xscale), -6.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(9)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 741, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; けたぐり(3 + b)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 780]
type		= S
movetype	= A
physics		= N
anim		= 780
ctrl		= 0
facep2		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 780, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 250, 3 + 5 * (Random >= 500)
channel		= 0
volume		= 200

[State 780, State Init End]
type		= ChangeState
trigger1	= 1
value		= 781

;------------------- 実行
[Statedef 781]
type		= S
movetype	= A
physics		= N
ctrl		= 0
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State , HitStop ChangeAnim]
type		= ChangeAnim
trigger1	= (Var(18) & 528482304)
value		= Anim
elem		= AnimElemNo(-1)

[State , HitStop VelSet]
type		= VelSet
trigger1	= (Var(18) & 528482304)
x			= FVar(7)
y			= FVar(8)

[State , HitStop PosFreeze]
type		= PosFreeze
trigger1	= (Var(18) & 528482304)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 9
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 10
x			= 7*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 11
x			= 4*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 12
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 13
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 14
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 15
x			= 4*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 16
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 17
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 18
x			= 8*Const(size.xscale)

[State 781, PosAdd]
type		= PosAdd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
x			= 1*Const(size.xscale)

[State 781, PlaySnd]
type		= PlaySnd
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimElem = 4
value		= 2040, 2

[State 781, Get Power]
type		= VarSet
trigger1	= 1
var(57)		= 100
ignorehitpause	= 1

[State 781, Give Power]
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 781, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
trigger1	= NumEnemy
var(58)		= Floor( Var(57) / 4.0 * FVar(5) * IfElse(Enemy,PowerMax<Const(data.power),Enemy,PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 781, Get Power]
type		= VarSet
trigger1	= Const(data.power) > 0
var(57)		= Floor( Var(57) * FVar(5) * IfElse(PowerMax<Const(data.power),PowerMax,Const(data.power))/(1.0*Const(data.power)) )
ignorehitpause	= 1

[State 781, Hit]	; 全ヒット
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType != A || !(Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State 781, Hit]	; 喰らい中無し
type						= HitDef
triggerall					= !MoveContact && !MoveReversed
triggerall					= (P2StateType = A && (Var(1) & 2))
trigger1					= 1
affectteam					= E
attr						= S, NA
animtype					= Medium
damage						= Ceil(90 * FVar(3))
getpower					= Var(57), Var(57)
givepower					= Var(58), Var(58)
guardflag					= L
hitflag						= MAF-
;priority					= 4, Hit
pausetime					= 1, 9
guard.pausetime				= 1, 7
id							= 10 + (Var(16) & 240)/16
numhit						= 1
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= Floor(-15 * Const(size.xscale)), Floor(-19 * Const(size.yscale))
hitsound					= S2000, 2
guardsound					= S2010, 1
guard.dist					= Floor(Const(size.attack.dist) * Const(size.xscale))
ground.type					= Low
ground.slidetime			= 16 + 11 * ((Var(1) & 1) != 0)
ground.hittime				= 16 + 11 * ((Var(1) & 1) != 0)
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -10.4 * Const(size.xscale) * FVar(2)
ground.cornerpush.veloff	= 0
yaccel						= 0.44
air.velocity				= -3.5 * Const(size.xscale), -5
air.cornerpush.veloff		= 0
fall.recover				= 1
air.fall					= 1

[State , Hit Dummy]	; 攻撃判定消し(ダミー)
type		= Null;HitDef
trigger1	= 0 <= AnimElemTime(7)
attr		=
hitflag		=
guardflag	=
guard.dist	= 0
ignorehitpause	= 1

[State 781, End]
type		= ChangeState
triggerall	= !(Var(18) & 528482304)
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;===============================================================================
; Definition of the Basic Throws
;===============================================================================

;---------------------------------------------------------------------
; 襷投げ(P通常投げ)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 900]
type		= S
movetype	= A
physics		= N
anim		= 900
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 900, TargetState]
type		= TargetState
trigger1	= 1
value		= 905 + 2*((Var(32) & 7) < 4)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 900, NotHit]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 900, State Init End]
type		= ChangeState
trigger1	= 1
value		= 901

;------------------- 実行
[Statedef 901]
type		= S
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 901, NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 901, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 901, TargetFacing]
type		= TargetFacing
trigger1	= 0 <= AnimElemTime(1) && AnimElemTime(2) < 0
value		= -1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, PosFreeze]
type		= PosFreeze
trigger1	= 1

[State 901, PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 901, Explod]
type		= Explod
trigger1	= AnimElem = 1
anim		= 2100
pos			= Floor(8 * Const(size.xscale)), Floor(-74 * Const(size.yscale))
postype		= P1
scale		= Const(size.xscale), Const(size.yscale)
sprpriority	= 1
bindtime	= 1
ownpal		= 1

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 1
pos			= 0, 0
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, Width]
type		= Width
trigger1	= AnimElem = 1
edge		= Floor(20*Const(size.xscale)), Floor(40*Const(size.xscale))

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 2
pos			= 0, 0
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 3
pos			= 0, -55 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 4
pos			= -11 * Const(size.xscale), -59 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 5
pos			= -12 * Const(size.xscale), -65 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 6
pos			= -1 * Const(size.xscale), -83 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 6
value		= 900, 1 + 2 * (Random >= 500)
channel		= 0
volume		= 200

[State 901, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 7
pos			= 15 * Const(size.xscale), -60 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 7
value		= 2040, 3

[State 901, TargetLifeAdd]
type		= TargetLifeAdd
trigger1	= AnimElem = 7
absolute	= 0
value		= -Ceil(110 * FVar(3) * (Const(data.attack)/100.0))
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, Give Power]	; こういう風にしないと、敵にパワー加算する時に原因不明のフリーズをする
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 901, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
triggerall	= NumTarget(10 + ((Var(16) & 240)/16-1+16)%16)
trigger1	= AnimElem = 7
var(58)		= Floor( 120 / 4.0 * FVar(5) * IfElse(Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax<Const(data.power),Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax,Const(data.power))/(1.0*Const(data.power)) )

[State 901, TargetPowerAdd]
type		= TargetPowerAdd
trigger1	= Var(58)
value		= Var(58)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 901, HitCount Add]
type		= VarAdd
triggerall	= (Var(7) & 16383) <= 16383 - 4000
trigger1	= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 7
var(7)		= 4000

[State 901, Hit]	; 爆発
type						= Projectile
triggerall					= AnimElemTime(7) = -3
trigger1					= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= IfElse( Target((10 + ((Var(16) & 240)/16-1+16)%16)),IsHelper, 6000, 901 )
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3)), Ceil(10 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 901, Hit]	; 空振り用(通常モード)
type						= Projectile
triggerall					= (Var(32) & 7) >= 4
triggerall					= AnimElem = 7
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3)), Ceil(10 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= -2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= -10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= -2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 901, Hit]	; 空振り用(通常モード以外)
type						= Projectile
triggerall					= (Var(32) & 7) < 4
triggerall					= AnimElem = 7
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 4
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
;guardflag					= M
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 60
guard.pausetime				= 0, 60
numhit						= 1
hitonce						= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0, -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 0, -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 901, No Target Penalty]
type		= VarSet
triggerall	= (Var(22) & 256)
triggerall	= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 7
var(1)		= (Var(1) | 524288)

[State 901, End]
type		= ChangeState
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 襷投げ(投げられ側)
;---------------------------------------------------------------------
;------------------- 初期化(通常)
[Statedef 905]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 905, Branch]
type		= SelfState
trigger1	= MoveType != H
trigger2	= (PrevStateNo = [150, 155])
value		= PrevStateNo

[State 905, StateTypeSet]
type		= StateTypeSet
trigger1	= 1
statetype	= A
movetype	= H
physics		= N

[State 905, CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= 0

[State 905, VelSet]
type		= VelSet
trigger1	= 1
x			= 0
y			= 0

[State 905, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 905

[State 905, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 905, State Init End]
type		= ChangeState
trigger1	= 1
value		= 906

;------------------- 実行(通常)
[Statedef 906]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 906, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 906, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 906, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 906, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 906, ChangeAnim2]
type		= ChangeAnim2
trigger1	= Anim = 905 && AnimTime >= 0
value		= 7050

[State 906, NotHitBy]
type		= NotHitBy
trigger1	= Anim != 7050
value		= SCA
ignorehitpause	= 1

[State 906, VelAdd]
type		= VelAdd
trigger1	= Pos Y < 0
trigger1	= Anim = 7050 && AnimElem = 1, > 2
y			= .44

[State 906, VelSet]
type		= VelSet
trigger1	= Anim = 7050 && AnimElem = 1, = 2
persistent	= 0
x			= -3.0
y			= -9.0

[State 906, PosSet]
type		= PosSet
trigger1	= Pos Y + Vel Y - Vel Y >= 0 && Vel X != 0
trigger1	= Anim = 7050
y			= 0

[State 906, VelSet]
type		= VelSet
trigger1	= Pos Y >= 0 && Vel X != 0
trigger1	= Anim = 7050
y			= -2.0

[State 906, End]
type		= ChangeState
trigger1	= Anim = 7050 && Vel X != 0 && Pos Y = 0
trigger2	= Time >= 120
value		= 7040

;------------------- 初期化(G)
[Statedef 907]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 907, Branch]
type		= SelfState
trigger1	= MoveType != H
trigger2	= (PrevStateNo = [150, 155])
value		= PrevStateNo

[State 907, StateTypeSet]
type		= StateTypeSet
trigger1	= 1
statetype	= A
movetype	= H
physics		= N

[State 907, CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= 0

[State 907, VelSet]
type		= VelSet
trigger1	= 1
x			= 0
y			= 0

[State 907, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 905

[State 907, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 907, State Init End]
type		= ChangeState
trigger1	= 1
value		= 908

;------------------- 実行(G)
[Statedef 908]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 908, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 908, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 908, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 908, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 908, ChangeAnim2]
type		= ChangeAnim2
trigger1	= Anim = 905 && AnimTime >= 0
value		= 7050

[State 908, NotHitBy]
type		= NotHitBy
trigger1	= Anim != 7050
value		= SCA
ignorehitpause	= 1

[State 908, VelAdd]
type		= VelAdd
trigger1	= Pos Y < 0
trigger1	= Anim = 7050 && AnimElem = 1, > 2
y			= .44

[State 908, VelSet]
type		= VelSet
trigger1	= Anim = 7050 && AnimElem = 1, = 2
persistent	= 0
x			= -3.0
y			= -9.0

[State 908, PosSet]
type		= PosSet
trigger1	= Pos Y + Vel Y - Vel Y >= 0 && Vel X != 0
trigger1	= Anim = 7050
y			= 0

[State 908, VelSet]
type		= VelSet
trigger1	= Pos Y >= 0 && Vel X != 0
trigger1	= Anim = 7050
y			= -2.0

[State 908, End]
type		= ChangeState
trigger1	= Anim = 7050 && Vel X != 0 && Pos Y = 0
trigger2	= Time >= 120
value		= 7045

;---------------------------------------------------------------------
; 上手投げ(K通常投げ)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 910]
type		= S
movetype	= A
physics		= N
anim		= 910
ctrl		= 0
facep2		= 0
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 910, TargetState]
type		= TargetState
trigger1	= 1
value		= 915 + 2*((Var(32) & 7) < 4)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 910, NotHit]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 910, State Init End]
type		= ChangeState
trigger1	= 1
value		= 911

;------------------- 実行
[Statedef 911]
type		= S
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 911, NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 911, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 911, TargetFacing]
type		= TargetFacing
trigger1	= 0 <= AnimElemTime(1) && AnimElemTime(3) < 0
value		= -1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, PosFreeze]
type		= PosFreeze
trigger1	= 1

[State 911, PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 911, Explod]
type		= Explod
trigger1	= AnimElem = 1
anim		= 2100
pos			= Floor(45 * Const(size.xscale)), Floor(-53 * Const(size.yscale))
postype		= P1
scale		= Const(size.xscale), Const(size.yscale)
sprpriority	= 1
bindtime	= 1
ownpal		= 1

[State 911, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 1
pos			= 34 * Const(size.xscale), 0
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, Width]
type		= Width
trigger1	= AnimElem = 1
edge		= Floor(35*Const(size.xscale)), Floor(20*Const(size.xscale))

[State 911, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 5
pos			= 19 * Const(size.xscale), -53 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 6
pos			= -1 * Const(size.xscale), -40 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 6
value		= 900, 0 + 2 * (Random >= 500)
channel		= 0
volume		= 200

[State 911, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 7
pos			= -37 * Const(size.xscale), 0
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 7
value		= 2040, 3

[State 911, Width]
type		= Width
trigger1	= AnimElem = 7
edge		= Floor(20*Const(size.xscale)), Floor(55*Const(size.xscale))

[State 911, TargetLifeAdd]
type		= TargetLifeAdd
trigger1	= AnimElem = 7
absolute	= 0
value		= -Ceil(110 * FVar(3) * (Const(data.attack)/100.0))
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, Give Power]	; こういう風にしないと、敵にパワー加算する時に原因不明のフリーズをする
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 911, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
triggerall	= NumTarget(10 + ((Var(16) & 240)/16-1+16)%16)
triggerall	= P2MoveType = H
trigger1	= AnimElem = 7
var(58)		= Floor( 120 / 4.0 * FVar(5) * IfElse(Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax<Const(data.power),Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax,Const(data.power))/(1.0*Const(data.power)) )

[State 911, TargetPowerAdd]
type		= TargetPowerAdd
trigger1	= Var(58)
value		= Var(58)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 911, HitCount Add]
type		= VarAdd
triggerall	= (Var(7) & 16383) <= 16383 - 4000
trigger1	= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 7
var(7)		= 4000

[State 911, Hit]	; 爆発
type						= Projectile
triggerall					= AnimElemTime(7) = -3
trigger1					= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= IfElse( Target((10 + ((Var(16) & 240)/16-1+16)%16)),IsHelper, 6000, 911 )
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3)), Ceil(10 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 911, Hit]	; 空振り用(通常モード)
type						= Projectile
triggerall					= (Var(32) & 7) >= 4
triggerall					= AnimElem = 7
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3)), Ceil(10 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 911, Hit]	; 空振り用(通常モード以外)
type						= Projectile
triggerall					= (Var(32) & 7) < 4
triggerall					= AnimElem = 7
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 4
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(110 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
;guardflag					= M
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 60
guard.pausetime				= 0, 60
numhit						= 1
hitonce						= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0, -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 0, -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 911, No Target Penalty]
type		= VarSet
triggerall	= (Var(22) & 256)
triggerall	= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 7
var(1)		= (Var(1) | 524288)

[State 911, Explod]
type		= Explod
trigger1	= AnimElem = 8
anim		= 2320
pos			= Floor(-50 * Const(size.xscale)), 0
postype		= P1
scale		= Const(size.xscale), Const(size.yscale)
sprpriority	= 2
bindtime	= 1
ownpal		= 1
facing		= -1

[State 911, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 8
value		= 2050, 2

[State 911, SprPriority]
type		= SprPriority
trigger1	= AnimElem = 6
value		= 0

[State 911, Turn]
type		= Turn
trigger1	= AnimElem = 11

[State 911, End]
type		= ChangeState
trigger1	= AnimTime >= 0
value		= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 上手投げ(投げられ側)
;---------------------------------------------------------------------
;------------------- 初期化(通常)
[Statedef 915]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 915, Branch]
type		= SelfState
trigger1	= MoveType != H
trigger2	= (PrevStateNo = [150, 155])
value		= PrevStateNo

[State 915, StateTypeSet]
type		= StateTypeSet
trigger1	= 1
statetype	= A
movetype	= H
physics		= N

[State 915, CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= 0

[State 915, VelSet]
type		= VelSet
trigger1	= 1
x			= 0
y			= 0

[State 915, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 915

[State 915, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 915, State Init End]
type		= ChangeState
trigger1	= 1
value		= 916

;------------------- 実行(通常)
[Statedef 916]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 916, Sprite]
type		= SprPriority
trigger1	= AnimElem = 5
value		= 1

[State 916, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 916, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 916, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 916, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 916, VelSet]
type		= VelSet
trigger1	= AnimElem = 6
x			= 9.0

[State 916, VelMul]
type		= VelMul
trigger1	= 1
x			= 0.85

[State 916, ChangeAnim]
type		= ChangeAnim
trigger1	= Anim = 915 && AnimTime >= 0
value		= 5110

[State 916, NotHit]
type		= NotHitBy
trigger1	= Anim = 915 && AnimElemTime(6) < 0
trigger2	= Anim = 5110
value		= SCA
ignorehitpause	= 1

[State 916, Turn]
type		= Turn
trigger1	= Anim = 5110
persistent	= 0

[State 916, End]
type		= ChangeState
trigger1	= Time >= 60
value		= 7030

;------------------- 初期化(G)
[Statedef 917]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 917, Branch]
type		= SelfState
trigger1	= MoveType != H
trigger2	= (PrevStateNo = [150, 155])
value		= PrevStateNo

[State 917, StateTypeSet]
type		= StateTypeSet
trigger1	= 1
statetype	= A
movetype	= H
physics		= N

[State 917, CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= 0

[State 917, VelSet]
type		= VelSet
trigger1	= 1
x			= 0
y			= 0

[State 917, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 915

[State 917, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 917, State Init End]
type		= ChangeState
trigger1	= 1
value		= 918

;------------------- 実行(G)
[Statedef 918]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 918, Sprite]
type		= SprPriority
trigger1	= AnimElem = 5
value		= 1

[State 918, AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 918, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 918, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 918, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 918, VelSet]
type		= VelSet
trigger1	= AnimElem = 6
x			= 9.0

[State 918, VelMul]
type		= VelMul
trigger1	= 1
x			= 0.85

[State 918, ChangeAnim]
type		= ChangeAnim
trigger1	= Anim = 915 && AnimTime >= 0
value		= 5110

[State 918, NotHit]
type		= NotHitBy
trigger1	= Anim = 915 && AnimElemTime(6) < 0
trigger2	= Anim = 5110
value		= SCA
ignorehitpause	= 1

[State 918, Turn]
type		= Turn
trigger1	= Anim = 5110
persistent	= 0

[State 918, End]
type		= ChangeState
trigger1	= Time >= 60
value		= 7035

;---------------------------------------------------------------------
; 空中掛け投げ(始動)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 920]
type		= A
movetype	= A
physics		= N
anim		= 920
velset		= 0, -0.05

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 920, TargetState]
type		= TargetState
trigger1	= 1
value		= 925 + 2*((Var(32) & 7) < 4)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 920, NotHit]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 920, State Init End]
type		= ChangeState
trigger1	= 1
value		= 922

;---------------------------------------------------------------------
; 空中掛け投げ(始動、逆)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 921]
type		= A
movetype	= A
physics		= N
anim		= 920
velset		= 0, -0.05

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 921, VarSet]
type		= VarSet
trigger1	= 1
var(5)		= 920

[State 921, Explod]
type		= Explod
trigger1	= (Var(32) & 7) < 4
anim		= 2100
pos			= Floor(56 * Const(size.xscale)), Floor(-52 * Const(size.yscale))
postype		= P1
scale		= Const(size.xscale), Const(size.yscale)
sprpriority	= 1
bindtime	= 1
ownpal		= 1
ignorehitpause	= 1

[State 921, State Init End]
type		= ChangeState
trigger1	= (Var(32) & 7) < 4
value		= 1211

[State 921, TargetState]
type		= TargetState
trigger1	= 1
value		= 925 + 2*((Var(32) & 7) < 4)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 921, Turn]
type		= Turn
trigger1	= 1

[State 921, NotHit]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 921, State Init End]
type		= ChangeState
trigger1	= 1
value		= 922

;---------------------------------------------------------------------
; 空中掛け投げ(最中)
;---------------------------------------------------------------------
;------------------- 実行
[Statedef 922]
type		= A
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 922, NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 922, TargetFacing]
type		= TargetFacing
trigger1	= 0 <= AnimElemTime(1) && AnimElemTime(4) < 0
value		= -1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, AssertSpecial]
type		= AssertSpecial
trigger1	= AnimTime != 0
flag		= NoAutoTurn

[State 922, PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 922, Explod]
type		= Explod
trigger1	= AnimElem = 1
anim		= 2100
pos			= Floor(16 * Const(size.xscale)), Floor(-63 * Const(size.yscale))
postype		= P1
scale		= Const(size.xscale), Const(size.yscale)
sprpriority	= 1
bindtime	= 1
ownpal		= 1

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 1
pos			= 16 * Const(size.xscale), -62 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 2
pos			= 14 * Const(size.xscale), -62 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 3
pos			= 9 * Const(size.xscale), -72 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 4
pos			= 1 * Const(size.xscale), -72 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, VelSet]
type		= VelSet
trigger1	= AnimElem = 5
x			= 1.5*Const(size.xscale)
y			= -6.75

[State 922, VelAdd]
type		= Gravity
triggerall	= AnimElemTime(5) >= 1
trigger1	= Pos Y < 0

[State 922, PosSet]
type		= PosSet
triggerall	= AnimElemTime(5) >= 1
trigger1	= Pos Y + Vel Y >= 0
y			= 0

[State 922, PosSet]
type		= VelSet
triggerall	= AnimElemTime(5) >= 1
trigger1	= Pos Y >= 0
x			= 0
y			= 0

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 5
pos			= -18 * Const(size.xscale), -70 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 6
pos			= -26 * Const(size.xscale), -60 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, Width]
type		= Width
trigger1	= AnimElem = 6
edge		= Floor(20*Const(size.xscale)), Floor(30*Const(size.xscale))

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 7
pos			= -60 * Const(size.xscale), -40 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, Width]
type		= Width
trigger1	= AnimElem = 7
edge		= Floor(20*Const(size.xscale)), Floor(60*Const(size.xscale))

[State 922, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 7
value		= 1300, 1
channel		= 0
volume		= 200

[State 922, TargetBind]
type		= TargetBind
trigger1	= AnimElem = 8
pos			= -70 * Const(size.xscale), -40 * Const(size.yscale)
time		= 1
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, TargetLifeAdd]
type		= TargetLifeAdd
trigger1	= AnimElem = 8
absolute	= 0
value		= -Ceil(120 * FVar(3) * (Const(data.attack)/100.0))
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, Give Power]	; こういう風にしないと、敵にパワー加算する時に原因不明のフリーズをする
type		= VarSet
trigger1	= 1
var(58)		= 0
ignorehitpause	= 1

[State 922, Give Power]
type		= VarSet
triggerall	= Const(data.power) > 0
triggerall	= NumTarget(10 + ((Var(16) & 240)/16-1+16)%16)
triggerall	= P2MoveType = H
trigger1	= AnimElem = 8
var(58)		= Floor( 120 / 4.0 * FVar(5) * IfElse(Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax<Const(data.power),Target(10 + ((Var(16) & 240)/16-1+16)%16),PowerMax,Const(data.power))/(1.0*Const(data.power)) )

[State 922, TargetPowerAdd]
type		= TargetPowerAdd
trigger1	= Var(58)
value		= Var(58)
ID			= (10 + ((Var(16) & 240)/16-1+16)%16)

[State 922, HitCount Add]
type		= VarAdd
triggerall	= (Var(7) & 16383) <= 16383 - 4000
trigger1	= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 8
var(7)		= 4000

[State 922, Hit]	; 爆発
type						= Projectile
triggerall					= AnimElemTime(8) = -3
trigger1					= NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= IfElse( Target((10 + ((Var(16) & 240)/16-1+16)%16)),IsHelper, 6000, 1311 )
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(120 * FVar(3)), Ceil(15 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 922, Hit]	; 空振り用(通常モード)
type						= Projectile
triggerall					= (Var(32) & 7) >= 4
triggerall					= AnimElem = 8
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 3
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(120 * FVar(3)), Ceil(15 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
guardflag					= MA
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 11
guard.pausetime				= 0, 11
numhit						= 1
hitonce						= 0
guard.kill					= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 2.5 * Const(size.xscale), -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 10.4 * Const(size.xscale) * FVar(2)
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 2.5 * Const(size.xscale), -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 922, Hit]	; 空振り用(通常モード以外)
type						= Projectile
triggerall					= (Var(32) & 7) < 4
triggerall					= AnimElem = 8
trigger1					= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
projID						= 0
projanim					= 6000
projremove					= 0
projremovetime				= 4
affectteam					= E
attr						= SCA, AA, AT, AP
animtype					= Hard
damage						= Ceil(120 * FVar(3))
getpower					= 0, 0
givepower					= 0, 0
;guardflag					= M
hitflag						= MAFD
;priority					= 4, Hit
pausetime					= 0, 60
guard.pausetime				= 0, 60
numhit						= 1
hitonce						= 0
sparkno						= S2010
guard.sparkno				= S2060
sparkxy						= 0, Floor(-70 * Const(size.yscale))
hitsound					= S2000, 3
guardsound					= S2010, 1
guard.dist					= Const(size.proj.attack.dist)
ground.type					= High
ground.slidetime			= 16
ground.hittime				= 16
guard.slidetime				= 16
guard.ctrltime				= 16
guard.hittime				= 25
air.hittime					= 255
fall.recovertime			= 255
ground.velocity				= 0, -8.0
ground.cornerpush.veloff	= 0
guard.velocity				= 0
guard.cornerpush.veloff		= 0
yaccel						= 0.44
air.velocity				= 0, -8.0
air.cornerpush.veloff		= 0
fall.recover				= 1
fall						= 1

[State 922, No Target Penalty]
type		= VarSet
triggerall	= (Var(22) & 256)
triggerall	= !NumTarget((10 + ((Var(16) & 240)/16-1+16)%16))
trigger1	= AnimElem = 8
var(1)		= (Var(1) | 524288)

[State 922, PlaySnd]
type		= PlaySnd
trigger1	= AnimElem = 8
value		= 2040, 3

[State 922, PosAdd]
type		= PosAdd
trigger1	= AnimElem = 15
x			= -20*Const(size.xscale)

[State 922, Turn]
type		= Turn
trigger1	= AnimTime >= 0

[State 922, VelSet]
type		= Null;VelSet
trigger1	= AnimTime >= 0
x			= -0.75*Const(size.xscale)
y			= -0.2

[State 922, End]
type		= ChangeState
trigger1	= AnimTime >= 0
value		= 950
ctrl		= 0

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;---------------------------------------------------------------------
; 空中掛け投げ(投げられ側)
;---------------------------------------------------------------------
;------------------- 初期化(通常)
[Statedef 925]
type		= A
movetype	= H
physics		= N
ctrl		= 0
velset		= 0, 0

[State 925, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 925

[State 925, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 925, State Init End]
type		= ChangeState
trigger1	= 1
value		= 926

;------------------- 実行(通常)
[Statedef 926]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 926, Turn]
type		= Turn
trigger1	= Time = 1
;persistent	= 0

[State 926, NoTurn]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 926, PlayerPush]
type		= PlayerPush
trigger1	= Anim = 925 && AnimElemTime(6) < 0
value		= 0

[State 926, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 926, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 926, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 926, NotHitBy]
type		= NotHitBy
trigger1	= Anim = 925 && AnimElemTime(6) < 0
value		= SCA
ignorehitpause	= 1

[State 926, Accel]
type		= VelAdd
trigger1	= Anim = 925 && AnimElemTime(6) > 0
y			= .44

[State 926, VelSet]
type		= VelSet
trigger1	= Anim = 925 && AnimElem = 6
persistent	= 0
x			= 5.0
y			= 5.0

[State 926, PosSet]
type		= PosSet
triggerall	= Anim = 925 && AnimElemTime(6) >= 0
trigger1	= Pos Y + Vel Y - Vel Y >= 0
y			= 0

[State 926, VelSet]
type		= VelSet
triggerall	= Anim = 925 && AnimElemTime(6) >= 0
trigger1	= Pos Y >= 0
x			= 2.25
y			= -8.0

[State 926, End]
type		= ChangeState
trigger1	= Anim = 925 && AnimElemTime(6) >= 0 && Pos Y >= 0
trigger2	= Time >= 120
value		= 7050

;------------------- 初期化(G)
[Statedef 927]
type		= A
movetype	= H
physics		= N
ctrl		= 0
velset		= 0, 0

[State 927, ChangeAnim2]
type		= ChangeAnim2
trigger1	= 1
value		= 925

[State 927, DefenceMulSet]
type		= DefenceMulSet
trigger1	= 1
value		= 1.0

[State 927, State Init End]
type		= ChangeState
trigger1	= 1
value		= 928

;------------------- 実行(G)
[Statedef 928]
type		= A
movetype	= H
physics		= N
ctrl		= 0

[State 928, Turn]
type		= Turn
trigger1	= Time = 1
;persistent	= 0

[State 928, NoTurn]
type		= AssertSpecial
trigger1	= 1
flag		= NoAutoTurn

[State 928, PlayerPush]
type		= PlayerPush
trigger1	= Anim = 925 && AnimElemTime(6) < 0
value		= 0

[State 928, HitBy]
type		= HitBy
trigger1	= 1
value		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 928, HitBy]
type		= HitBy
trigger1	= 1
value2		= SCA, AA, AT, AP
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 0
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 1
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 2
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 3
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 4
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 5
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 6
ignorehitpause	= 1

[State 928, HitOverride]
type		= HitOverride
trigger1	= 1
slot		= 7
ignorehitpause	= 1

[State 928, NotHitBy]
type		= NotHitBy
trigger1	= Anim = 925 && AnimElemTime(6) < 0
value		= SCA
ignorehitpause	= 1

[State 928, Accel]
type		= VelAdd
trigger1	= Anim = 925 && AnimElemTime(6) > 0
y			= .44

[State 928, VelSet]
type		= VelSet
trigger1	= Anim = 925 && AnimElem = 6
persistent	= 0
x			= 5.0
y			= 5.0

[State 928, PosSet]
type		= PosSet
triggerall	= Anim = 925 && AnimElemTime(6) >= 0
trigger1	= Pos Y + Vel Y - Vel Y >= 0
y			= 0

[State 928, VelSet]
type		= VelSet
triggerall	= Anim = 925 && AnimElemTime(6) >= 0
trigger1	= Pos Y >= 0
x			= 2.25
y			= -8.0

[State 928, End]
type		= ChangeState
trigger1	= Anim = 925 && AnimElemTime(6) >= 0 && Pos Y >= 0
trigger2	= Time >= 120
value		= 7055

;---------------------------------------------------------------------
; 共通自由落下(無敵)
;---------------------------------------------------------------------
;------------------- 初期化
[Statedef 950]
type		= A
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 950, ChangeAnim]
type		= ChangeAnim
trigger1	= 1
value		= IfElse( (Vel X) = 0, 41, IfElse((Vel X) > 0, 42, 43) )

[State 950, NotHit]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 950, State Init End]
type		= ChangeState
trigger1	= 1
value		= 951

;------------------- 実行
[Statedef 951]
type		= A
movetype	= A
physics		= N
ctrl		= 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 951, NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA
ignorehitpause	= 1

[State 951, ChangeAnim]
type		= ChangeAnim
trigger1	= Vel y > -2
trigger1	= SelfAnimExist(Anim + 3)
trigger1	= Anim = [41, 43]
value		= Anim + 3

[State 951, Gravity]
type		= Gravity
trigger1	= AnimElemTime(1) > 0

[State 951, Land]
type		= ChangeState
trigger1	= Pos Y + Vel Y >= 0
value		= 952

[State , State Memory]
type		= VarSet
trigger1	= 1
var(1)		= (Var(1) | 134217728)
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 131071 | 393216 | 1572864 | 2097152) - (131071 | 393216 | 1572864 | 2097152) + (StateNo | (131072 * ((StateType=C)+(StateType=A)*2+(StateType=L)*3)) | (524288 * ((MoveType=A)+(MoveType=H)*2)) | (2097152 * Ctrl))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(2)		= (Var(2) | 16777216) - (16777216) + ((16777216*(Facing!=1)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
var(3)		= (Var(3) | 131071 | 66977792) - (131071 | 66977792) + (Anim | (131072 * AnimElemNo(0)))
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(7)		= Vel X
ignorehitpause	= 1

[State , State Memory]
type		= VarSet
trigger1	= 1
fvar(8)		= Vel Y
ignorehitpause	= 1

[State , State Memory End]
type		= ChangeState
trigger1	= (Var(1) & 16777216) && (MoveType != H)
value		= 118
ignorehitpause	= 1

;------------------- 着地・初期化
[Statedef 952]
type		= S
movetype	= I
physics		= N
anim		= 47
ctrl		= 1
velset		= 0, 0

[State , Helper Check]
type		= ChangeState
trigger1	= IsHelper
value		= 19900
ignorehitpause	= 1

[State 952, PosSet]
type		= PosSet
trigger1	= 1
y			= 0

[State 952, PlaySnd]
type		= PlaySnd
trigger1	= 1
value		= 2080, 0

[State 952, State Init End]
type		= ChangeState
trigger1	= 1
value		= 53

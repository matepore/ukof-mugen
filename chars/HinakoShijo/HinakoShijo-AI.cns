;=====================================================================
;  CNS File For "Refuse Hinako Shijo"                Made By OG子 OGヲ
;                                       Ver. 1.0            2007/10/01
;=====================================================================

;---------------------------------------------------------------------
; ヘルパー常時 AI コマンド入力
;---------------------------------------------------------------------
[StateDef 20015]
type		= U
movetype	= U
physics		= U
hitdefpersist	= 1
movehitpersist	= 1
hitcountpersist	= 1

[State 20015, Root Check]
type		= ChangeState
trigger1	= !IsHelper
value		= 19903
ignorehitpause	= 1

[State 20015, Helper Check]
type		= ChangeState
trigger1	= !(Var(0) = 20000)
trigger2	= !IsHelper(Var(0))
value		= 19901
ignorehitpause	= 1

;=====================================================================
; AI用変数
;=====================================================================
;	Var(51)	:	所持パワーゲージ
;	Var(52)	:	位置関係
;		0:					考慮しなくて良い
;		1:					自 敵1 敵2
;		2:					敵1 自 敵2
;		3:					自or味 敵1 敵2
;		4:					自 敵1 敵2 味
;		5:					敵1 自 味 敵2
;		6:					自 敵1 味 敵2
;		7:					味 敵1 自 敵2
;		8:					味 敵2 自 敵1
;	Var(53)	:	temp
;	Var(54)	:	何番目の敵を対象にするか
;	Var(55)	:	AIコマンド入力(複合入力用ビットフラグ)
;		-(0):				何も無し
;		0(1):				試合前の負傷
;		1(2):				試合前の負傷、ダメージUP
;		2(4):				試合前の負傷、ダメージDOWN
;	Var(56)	:	AIコマンド入力
;		-(0):				何も無し
;		20:					前進
;		21:					後退
;		40:					垂通常ジャンプ
;		41:					前通常ジャンプ
;		42:					後ろ通常ジャンプ
;		43:					垂大ジャンプ
;		44:					前大ジャンプ
;		45:					後大ジャンプ
;		46:					垂小ジャンプ
;		47:					前小ジャンプ
;		48:					後小ジャンプ
;		49:					垂中ジャンプ
;		50:					前中ジャンプ
;		51:					後中ジャンプ
;		100:				ダッシュ
;		105:				バクステ
;		195:				挑発
;		200:				立A or JA
;		210:				立B or JB
;		220:				立C or JC
;		230:				立D or JD
;		300:				屈A
;		310:				屈B
;		320:				屈C
;		330:				屈D
;		600:				CD or JCD or GCCD
;		601:				溜CD or 溜JCD or GCCD
;		704:				突っ張り・追加入力
;		708:				喉輪・追加入力
;		710:				まえみつ叩き(3A)
;		720:				突っ張り(6B)
;		730:				喉輪(3C)
;		740:				EHキック(3D)
;		900:				C投げ or 空C投げ
;		910:				D投げ or 空D投げ
;		1100:				(空中)小手投げ(弱)
;		1101:				(空中)小手投げ(強)
;		1200:				寄り切り
;		1210:				(確定)寄り切り
;		1300:				掛け投げ(弱)
;		1301:				掛け投げ(強)
;		1310:				(確定)掛け投げ(弱)
;		1311:				(確定)掛け投げ(強)
;		1400:				突き上げ(弱)
;		1410:				突き上げ(強)
;		1420:				突き落とし
;		1500:				(空中)超頭突き(弱)
;		1502:				(空中)超頭突き(強)
;		1600:				がぶり寄り
;		1700:				ぶちかまし
;		1800:				四股(弱)
;		1801:				四股(強)
;		1900:				五輪突き(弱)
;		1901:				五輪突き(強)
;		3000:				合掌ひねり
;		3100:				MAX合掌ひねり
;		3200:				大一番
;		3210:				(確定)大一番
;		3300:				MAX大一番
;		3310:				(確定)MAX大一番
;		3400:				諸手突き
;		3500:				MAX諸手突き
;		3600:				我慢
;		3700:				MAX我慢
;		4000:				前緊急回避 or GC前AB
;		4070:				後緊急回避 or GC後AB
;		4090:				中緊急回避 or GC中AB
;		4100:				パワー溜め(パワー)
;		4101:				パワー溜(ライフ)
;		4500:				バースト
;		4600:				立シールド or Jシールド
;		4610:				屈シールド
;		5051:				リカバリー(空中1方向、地上押しっぱ後ろ方向)
;		5052:				リカバリー(空中2方向、地上押しっぱN方向)
;		5053:				リカバリー(空中3方向、地上押しっぱ前方向)
;		5054:				リカバリー(4方向)
;		5055:				リカバリー(N方向)
;		5056:				リカバリー(6方向)
;		5057:				リカバリー(7方向)
;		5058:				リカバリー(8方向)
;		5059:				リカバリー(9方向)
;	Var(57)	:	temp(AI用状態フラグ1)
;		0(1):				立ち(空中)ガード
;		1(2):				しゃがみガード
;		2(4):				確率で行動を起こすか
;		3(8):				生だし等の攻撃行動するか(ガード中はあまり立てないようにする)
;		4(16):				全ての行動可能状態
;		5(32):				準行動可能状態
;		6(64):				準々行動可能状態
;		7(128):				連打キャンセル可
;		8(256):				特殊技1でキャンセル可
;		9(512):				特殊技2でキャンセル可
;		10(1024):			必殺技1でキャンセル可
;		11(2048):			必殺技2でキャンセル可
;		12(4096):			SC超必殺技でキャンセル可
;		13(8192):			前方InGuardDist
;		14(16384):			後方InGuardDist
;		15(32768):			何かしらInGuardDist
;		16(65536):			鋼体中
;		17(131072):			信頼の置ける鋼体中
;		18(262144):			敵の仲間がAlive
;		19(524288):			敵の仲間がやられ硬直中ではない
;	Var(58)	:	このフレームでの共通で使える用の乱数値
;		0-9(1023):			乱数値1
;		10-19(1047552):		乱数値2
;		20-29(1072693248):	乱数値3
;
;	FVar(37):	HP倍率
;	FVar(38):	相手やられ時の移動方向(ヒットストップ中は未来予測の移動方向)
;	FVar(39):	相手の移動方向
;=====================================================================

[State 20015, Reset]
type		= VarSet
trigger1	= 1
var(57)		= 0
ignorehitpause	= 1

;------------------- Random値取得
[State 20015, GetRandom]
type		= VarSet
trigger1	= 1
var(58)		= Random + 1024*Random + 1048576*Random
ignorehitpause	= 1

;------------------- 敵のインデックスを取得
[State 20015, Get Enemy Idx]
type		= VarSet
trigger1	= 1
var(54)		= 0
ignorehitpause	= 1

[State 20015, Get Enemy Idx]
type		= VarSet
triggerall	= NumEnemy >= 2
trigger1	= EnemyNear(Var(54)),ID != Enemy(Var(54)),ID
var(54)		= 1
ignorehitpause	= 1

[State 20015, Get Enemy Idx]
type		= VarSet
triggerall	= NumEnemy >= 2
trigger1	= !Enemy(Var(54)),Alive
var(54)		= !Var(54)
ignorehitpause	= 1

;------------------- 敵相方の状態を記録
[State 20015, Get Enemy Partner State]
type		= VarSet
triggerall	= NumEnemy >= 2
trigger1	= Enemy(!Var(54)),Alive
var(57)		= (Var(57) | 262144)
ignorehitpause	= 1

[State 20015, Get Enemy Partner State]
type		= VarSet
triggerall	= NumEnemy >= 2
trigger1	= (Enemy(!Var(54)),Alive && Enemy(!Var(54)),StateType != L && Enemy(!Var(54)),MoveType != H)
var(57)		= (Var(57) | 524288)
ignorehitpause	= 1

;------------------- 相手の移動方向
[State 20015, Target Vel X]
type		= VarSet
trigger1	= 1
fvar(39)	= 0
ignorehitpause	= 1

[State 20015, Target Vel X]
type		= VarSet
trigger1	= NumEnemy
fvar(39)	= Enemy(Var(54)),Vel X * IfElse( Root,Facing != Enemy(Var(54)),Facing, -1.0, 1.0 )
ignorehitpause	= 1

[State 20015, Target HitVel X Init]
type		= VarSet
trigger1	= 1
fvar(38)	= 0
ignorehitpause	= 1

[State 20015, Target HitVel X Mode]
type		= VarSet
trigger1	= 1
var(53)		= 0
ignorehitpause	= 1

; ヒットストップじゃない
; ヒットストップが解けた最初の1F目は FVar(39)=0 になってしまう現象があるので
; この方法だと不味いかもしれません
[State 20015, Target HitVel X No HitStop]
type		= VarSet
triggerall	= NumEnemy
trigger1	= (Enemy(Var(54)),HitShakeOver) || (FVar(39) = 0 && Enemy(Var(54)),HitVel X = 0) || (FVar(39) != 0)
var(53)		= 1
ignorehitpause	= 1

; ヒットストップ中
[State 20015, Target HitVel X in HitStop]
type		= VarSet
triggerall	= NumEnemy
triggerall	= Var(53) = 0
trigger1	= !(Enemy(Var(54)),HitShakeOver) || (FVar(39) = 0 && Enemy(Var(54)),HitVel X != 0)
var(53)		= 2
ignorehitpause	= 1

[State 20015, Target HitVel X]
type		= VarSet
trigger1	= NumEnemy
fvar(38)	= (Var(53)=1)*(FVar(39)) + (Var(53)=2)*(IfElse(Root,Facing != Enemy,Facing, -1.0, 1.0) * Enemy(Var(54)),HitVel X * (1.0 - 0.5*!!(Var(1) & 256)))
ignorehitpause	= 1

;------------------- 位置関係計算
[State 20015, Relative Position Reset]
type		= VarSet
trigger1	= 1
var(52)		= 0
ignorehitpause	= 1

[State 20015, Relative Position Set on No Partner]
type		= Null
triggerall	= NumEnemy >= 2
triggerall	= Enemy(0),Alive && Enemy(1),Alive
triggerall	= !Root,NumPartner
trigger1	= (Root,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= EnemyNear(1),Pos X)
trigger1	= Var(52) := 1 || 1
trigger2	= (Root,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= EnemyNear(1),Pos X)
trigger2	= Var(52) := 1 || 1
trigger3	= Var(52) := 2 || 1
ignorehitpause	= 1

[State 20015, Relative Position Set on Partner Not Alive]
type		= Null
triggerall	= NumEnemy >= 2
triggerall	= Enemy(0),Alive && Enemy(1),Alive
triggerall	= Root,NumPartner
triggerall	= !Partner,Alive
trigger1	= (Root,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= EnemyNear(1),Pos X)
trigger1	= Var(52) := 1 || 1
trigger2	= (Root,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= EnemyNear(1),Pos X)
trigger2	= Var(52) := 1 || 1
trigger3	= Var(52) := 2 || 1
ignorehitpause	= 1

[State 20015, Relative Position Set on Partner Alive]
type		= Null
triggerall	= NumEnemy >= 2
triggerall	= Enemy(0),Alive && Enemy(1),Alive
triggerall	= Root,NumPartner
triggerall	= Partner,Alive
trigger1	= (Root,Pos X <= EnemyNear(0),Pos X) && (Partner,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= EnemyNear(1),Pos X)
trigger1	= Var(52) := 3 || 1
trigger2	= (Root,Pos X >= EnemyNear(0),Pos X) && (Partner,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= EnemyNear(1),Pos X)
trigger2	= Var(52) := 3 || 1
trigger3	= (Root,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= EnemyNear(1),Pos X) && (EnemyNear(1),Pos X <= Partner,Pos X)
trigger3	= Var(52) := 4 || 1
trigger4	= (Root,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= EnemyNear(1),Pos X) && (EnemyNear(1),Pos X >= Partner,Pos X)
trigger4	= Var(52) := 4 || 1
trigger5	= (EnemyNear(0),Pos X <= Root,Pos X) && (EnemyNear(0),Pos X <= Partner,Pos X) && (Root,Pos X <= EnemyNear(1),Pos X) && (Partner,Pos X <= EnemyNear(1),Pos X)
trigger5	= Var(52) := 5 || 1
trigger6	= (EnemyNear(0),Pos X >= Root,Pos X) && (EnemyNear(0),Pos X >= Partner,Pos X) && (Root,Pos X >= EnemyNear(1),Pos X) && (Partner,Pos X >= EnemyNear(1),Pos X)
trigger6	= Var(52) := 5 || 1
trigger7	= (Root,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= Partner,Pos X) && (Partner,Pos X <= EnemyNear(1),Pos X)
trigger7	= Var(52) := 6 || 1
trigger8	= (Root,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= Partner,Pos X) && (Partner,Pos X >= EnemyNear(1),Pos X)
trigger8	= Var(52) := 6 || 1
trigger9	= (Partner,Pos X <= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X <= Root,Pos X) && (Root,Pos X <= EnemyNear(1),Pos X)
trigger9	= Var(52) := 7 || 1
trigger10	= (Partner,Pos X >= EnemyNear(0),Pos X) && (EnemyNear(0),Pos X >= Root,Pos X) && (Root,Pos X >= EnemyNear(1),Pos X)
trigger10	= Var(52) := 7 || 1
trigger11	= Var(52) := 8 || 1
ignorehitpause	= 1

;------------------- HP倍率
[State 20015, HP Init]
type		= VarSet
trigger1	= 1
var(53)		= Root,Life
ignorehitpause	= 1

[State 20015, Now HP]
type		= VarSet
trigger1	= !(Root,Var(1) & 1024)
var(53)		= (Root,Var(17) & 268435455)
ignorehitpause	= 1

[State 20015, HP Rate]
type		= VarSet
trigger1	= 1
fvar(37)	= (Var(53)*1.0) / IfElse( Root,LifeMax > Root,Const(data.life), (Root,LifeMax*1.0), (Root,Const(data.life)*1.0) )
ignorehitpause	= 1

;------------------- 所持パワーゲージ
[State 20015, Now Power Gauge Set]
type		= VarSet
trigger1	= Root,PowerMax <= 0
var(51)		= Root,Const(data.power)
ignorehitpause	= 1

[State 20015, Now Power Gauge Set]
type		= VarSet
trigger1	= Root,PowerMax > 0
var(51)		= Floor( Root,Power * (1.0*Root,Const(data.power)) / (1.0*IfElse(Root,PowerMax<Root,Const(data.power),Root,PowerMax,Root,Const(data.power))) )
ignorehitpause	= 1

;=====================================================================
; キャンセル状態設定
;=====================================================================
;------------------- 全ての行動可能状態？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= Root,Ctrl
var(57)		= (Var(57) | 16)
ignorehitpause	= 1

;------------------- 準行動可能状態？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Var(57) & 16)
trigger2	= 0 ;Root,Alive && Root,MoveReversed && Root,MoveType != H
trigger3	= ((Root,Var(2) & 131071) = [100, 104])
var(57)		= (Var(57) | 32)
ignorehitpause	= 1

;------------------- 準々行動可能状態？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Var(57) & 32)
trigger2	= (Root,Var(2) & 131071) = 108
var(57)		= (Var(57) | 64)
ignorehitpause	= 1

;------------------- 連打キャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Root,Var(2) & 131071) = 201 && ( 0 <= Root,AnimElemTime(3) && Root,AnimElemTime(8) < 0 )
trigger2	= (Root,Var(2) & 131071) = 311 && ( 0 <= Root,AnimElemTime(3) && Root,AnimElemTime(8) < 0 )
var(57)		= (Var(57) | 128)
ignorehitpause	= 1

;------------------- 特殊技1でキャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Root,Var(2) & 131071) = 201 && ( 0 <= Root,AnimElemTime(3) && (Root,MoveContact || Root,AnimElemTime(7) < 0) )
trigger2	= (Root,Var(2) & 131071) = 211 && ( 0 <= Root,AnimElemTime(4) && (Root,MoveContact || Root,AnimElemTime(7) < 0) )
trigger3	= (Root,Var(2) & 131071) = 221 && ( 0 <= Root,AnimElemTime(5) && (Root,MoveContact || Root,AnimElemTime(11) < 0) )
trigger4	= (Root,Var(2) & 131071) = 226 && ( 0 <= Root,AnimElemTime(7) && (Root,MoveContact || Root,AnimElemTime(13) < 0) )
trigger5	= (Root,Var(2) & 131071) = 231 && ( 0 <= Root,AnimElemTime(6) && (Root,MoveContact || Root,AnimElemTime(14) < 0) )
trigger6	= (Root,Var(2) & 131071) = 301 && ( 0 <= Root,AnimElemTime(2) && (Root,MoveContact || Root,AnimElemTime(7) < 0) )
trigger7	= (Root,Var(2) & 131071) = 321 && ( 0 <= Root,AnimElemTime(10) && (Root,MoveContact || Root,AnimElemTime(19) < 0) )
trigger8	= (Root,Var(2) & 131071) = 331 && ( 0 <= Root,AnimElemTime(3) && (Root,MoveContact || Root,AnimElemTime(11) < 0) )
trigger9	= (Root,Var(2) & 131071) = 501 && ( Root,MoveContact )
trigger10	= (Root,Var(2) & 131071) = 511 && ( Root,MoveContact )
trigger11	= (Root,Var(2) & 131071) = 521 && ( 0 <= Root,AnimElemTime(4) && Root,MoveContact )
trigger12	= (Root,Var(2) & 131071) = 531 && ( 0 <= Root,AnimElemTime(4) && ((Root,Var(1) & 8192) || Root,MoveContact) )
trigger13	= (Root,Var(2) & 131071) = 606 && ( 0 <= Root,AnimElemTime(4) && (Root,MoveContact || Root,AnimElemTime(14) < 0) )
trigger14	= (Root,Var(2) & 131071) = 621 && ( Root,MoveContact )
trigger15	= 0 ;(Root,Var(2) & 131071) = 611 && ( Root,MoveContact )
trigger16	= 0 ;(Root,Var(2) & 131071) = 613 && ( Root,MoveContact )
var(57)		= (Var(57) | 256)
ignorehitpause	= 1

;------------------- 特殊技2でキャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Var(57) & 256)
trigger2	= (Root,Var(2) & 131071) = 709 && ( Root,MoveContact )
trigger3	= (Root,Var(2) & 131071) = 711 && ( 0 <= Root,AnimElemTime(7) && Root,AnimElemTime(11) < 0 )
trigger4	= (Root,Var(2) & 131071) = 721 && ( 0 <= Root,AnimElemTime(7) )
trigger5	= (Root,Var(2) & 131071) = 731 && ( 0 <= Root,AnimElemTime(10) )
var(57)		= (Var(57) | 512)
ignorehitpause	= 1

;------------------- 必殺技1でキャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Var(57) & 256)
trigger2	= ((Root,Var(2) & 131071) = [40, 41]) && (Root,AnimTime < -1)
trigger3	= (Root,Var(2) & 131071) = 705 && ( Root,MoveContact )
trigger4	= (Root,Var(2) & 131071) = 711 && ( ((Root,Var(1) & 8192) || Root,MoveContact) )
trigger5	= (Root,Var(2) & 131071) = 721 && ( Root,MoveContact )
trigger6	= (Root,Var(2) & 131071) = 731 && ( Root,MoveContact )
trigger7	= (Root,Var(2) & 131071) = 741 && ( Root,MoveContact )
trigger8	= (Root,Var(2) & 131071) = 1701 && ( -1 <= Root,AnimElemTime(38) )
var(57)		= (Var(57) | 1024)
ignorehitpause	= 1

;------------------- 必殺技2でキャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Var(57) & 1024)
trigger2	= (Root,Var(2) & 131071) = 1701 && ( -1 <= Root,AnimElemTime(21) )
var(57)		= (Var(57) | 2048)
ignorehitpause	= 1

;------------------- SC超必殺技でキャンセル可？
[State 20015, Cancel Enable Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024) || (Root,Var(1) & 134217728)
trigger1	= (Root,Var(2) & 131071) = 1238
trigger2	= ((Root,Var(1) & 8192) || Root,MoveContact) && (Root,Var(2) & 131071) = [1400, 1499]
trigger3	= ((Root,Var(1) & 8192) || Root,MoveContact) && (Root,Var(2) & 131071) = [1500, 1599]
trigger4	= ((Root,Var(1) & 8192) || Root,MoveContact) && (Root,Var(2) & 131071) = 1651
var(57)		= (Var(57) | 4096)
ignorehitpause	= 1

;=====================================================================
; InGuardDist設定
;=====================================================================
[State 20015, Front GuardDist]
type		= PosAdd
trigger1	= 1
x			= 100
ignorehitpause	= 1

[State 20015, Front GuardDist]
type		= VarSet
trigger1	= InGuardDist
var(57)		= (Var(57) | 8192)
ignorehitpause	= 1

[State 20015, Back GuardDist]
type		= PosAdd
trigger1	= 1
x			= -225
ignorehitpause	= 1

[State 20015, Back GuardDist]
type		= VarSet
trigger1	= InGuardDist
var(57)		= (Var(57) | 16384)
ignorehitpause	= 1

[State 20015, Pos Reset]
type		= PosAdd
trigger1	= 1
x			= 125
ignorehitpause	= 1

[State 20015, Any GuardDist]
type		= VarSet
trigger1	= InGuardDist || (Var(57) & 8192) || (Var(57) & 16384)
var(57)		= (Var(57) | 32768)
ignorehitpause	= 1

;=====================================================================
; 自分の状態設定
;=====================================================================
[State 20015, My State Reset]
type		= VarSet
trigger1	= 1
var(56)		= 0
ignorehitpause	= 1

[State 20015, My State Reset]
type		= VarSet
trigger1	= 1
var(55)		= 0
ignorehitpause	= 1

;------------------- 鋼体中か
[State -3, Is Koutai]
type		= VarSet
triggerall	= NumHelper(30000)
trigger1	= Helper(30000),Var(3) || Helper(30000),Var(7) || (Root,Var(18) & 1008)
var(57)		= (Var(57) | 65536)
ignorehitpause	= 1

[State -3, Is Koutai]
type		= VarSet
triggerall	= (Var(57) & 65536)
trigger1	= (Root,Var(32) & 7) < 4
var(57)		= (Var(57) | 131072)
ignorehitpause	= 1

;------------------- ガードフラグ
[State 20015, Guard Flag Reset]
type		= VarSet
trigger1	= 1
var(53)		= 0
ignorehitpause	= 1

[State 20015, Guard Flag Set]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !(Var(57) & 65536)
triggerall	= NumEnemy
trigger1	= Root,Ctrl
trigger2	= ( ((Root,Var(2) & 131071) = 120) || ((Root,Var(2) & 131071) = [130, 132]) || ((Root,Var(2) & 131071) = 140) || ((Root,Var(2) & 131071) = [150, 155]) )
trigger3	= (Var(57) & 32) && !( ((Root,Var(2) & 131071) = [100, 101]) )
var(53)		= 1
ignorehitpause	= 1

[State 20015, Guard Flag Set]
type		= VarSet
triggerall	= Var(53) = 1
trigger1	= ((Root,Var(2) & 131071) = [150, 155])
trigger2	= (Var(39) >= 8)
trigger3	= Random >= (1004 - 14*Var(39)*Var(39))
trigger4	= ( ((Root,Var(2) & 131071) = [130, 132]) || ((Root,Var(2) & 131071) = 140) )
trigger4	= Random >= (700 - 100*Var(39))
var(53)		= 2
ignorehitpause	= 1

;------------------- 立ち(空中)ガード
[State 20015, Stand Guard]
type		= VarSet
triggerall	= Var(53) = 2
triggerall	= (Var(57) & 32768)
trigger1	= (Enemy(Var(54)),StateType = A)
trigger2	= (Enemy(Var(54)),Time > 11) && !(Enemy(Var(54)),HitDefAttr = C, AA) && Random < 500
trigger3	= Enemy(Var(54)),NumProj > 0 && (Enemy(Var(54)),StateType = A)
trigger4	= NumEnemy >= 2 && (Enemy(Var(54)),StateType = A)
trigger4	= Enemy(Var(54)),NumProj > 0 || Enemy(!Var(54)),NumProj > 0
var(53)		= 3
ignorehitpause	= 1

;------------------- 屈ガード
[State 20015, Crouch Guard]
type		= VarSet
triggerall	= Var(53) = 2
trigger1	= (Var(57) & 32768)
var(53)		= 4
ignorehitpause	= 1

;------------------- ガード操作
[State -3, Guard Stand]
type		= VarSet
trigger1	= Var(53) = 3
var(57)		= (Var(57) | 1)
ignorehitpause	= 1

[State -3, Guard Crouch]
type		= VarSet
trigger1	= Var(53) = 4
var(57)		= (Var(57) | 2)
ignorehitpause	= 1

;------------------- 投げないか
[State 20015, Not Throw Check Reset]
type		= VarSet
trigger1	= Root,MoveType = H && !Root,Ctrl
trigger2	= Root,StateType = L
trigger3	= (Root,Var(1) & 1024)
var(41)		= (Var(41) | 64 | 128 | 8192 | 16384) - 64 - 128 - 8192 - 16384
ignorehitpause	= 1

; 投げられないリセット
[State 20015, Not Throw Reset Temp Reset]
type		= VarSet
trigger1	= 1
var(53)		= 0
ignorehitpause	= 1

[State 20015, Not Throw Reset Check]
type		= VarSet
triggerall	= !(Root,Var(1) & 1024)
triggerall	= (Root,Var(1) & 512)
triggerall	= (Root,NumTarget)
trigger1	= (Root,Var(2) & 131071) = 1206 && Root,AnimElemTime(3) <= 0
trigger2	= (Root,Var(2) & 131071) = 1302 && Root,AnimElemTime(3) <= 0
trigger3	= (Root,Var(2) & 131071) = 1611 && Root,AnimElemTime(3) <= 0
trigger4	= (Root,Var(2) & 131071) = 3201 && Root,AnimElemTime(15) <= 0
trigger5	= (Root,Var(2) & 131071) = 3301 && Root,AnimElemTime(15) <= 0
var(53)		= 1
ignorehitpause	= 1

[State 20015, Not Throw Reset Enemy 1]
type		= VarSet
triggerall	= Var(53)
triggerall	= NumEnemy
trigger1	= (Root,Var(30) - Root,Var(59)) = Enemy(0),ID
var(41)		= (Var(41) | 32 | 64 | 128 | 3840) - (32 | 64 | 128 | 3840)
ignorehitpause	= 1

[State 20015, Not Throw Reset Enemy 2]
type		= VarSet
triggerall	= Var(53)
triggerall	= NumEnemy >= 2
trigger1	= (Root,Var(30) - Root,Var(59)) = Enemy(1),ID
var(41)		= (Var(41) | 4096 | 8192 | 16384 | 491520) - (4096 | 8192 | 16384 | 491520)
ignorehitpause	= 1

; 投げられないセット
[State 20015, Not Throw Temp Reset]
type		= VarSet
trigger1	= 1
var(53)		= 0
ignorehitpause	= 1

[State 20015, Not Throw Check]
type		= VarSet
triggerall	= (Var(41) & 64) || (Var(41) & 128) || (Var(41) & 8192) || (Var(41) & 16384)
triggerall	= !(Root,Var(1) & 1024) && !(Root,Var(29) & 1015808)
trigger1	= (Root,Var(2) & 131071) = 1206 && 0 < Root,AnimElemTime(3)
trigger2	= (Root,Var(2) & 131071) = 1302 && 0 < Root,AnimElemTime(3)
trigger3	= (Root,Var(2) & 131071) = 1611 && 0 < Root,AnimElemTime(3)
trigger4	= (Root,Var(2) & 131071) = 3201 && 0 < Root,AnimElemTime(15)
trigger5	= (Root,Var(2) & 131071) = 3301 && 0 < Root,AnimElemTime(15)
var(53)		= 1
ignorehitpause	= 1

[State 20015, Not Throw Count Add]
type		= VarSet
triggerall	= Var(53)
triggerall	= (Var(41) & 64) || (Var(41) & 128)
trigger1	= (Var(41) & 3840) < 3840
var(41)		= (Var(41) | 3840) - 3840 + IfElse( (Var(41) & 3840) + 256*(2*!!(Var(41) & 64) + !!(Var(41) & 128)) < 3840, (Var(41) & 3840) + 256*(2*!!(Var(41) & 64) + !!(Var(41) & 128)), 3840 )
ignorehitpause	= 1

[State 20015, Not Throw Count Add]
type		= VarSet
triggerall	= Var(53)
triggerall	= (Var(41) & 8192) || (Var(41) & 16384)
trigger1	= (Var(41) & 491520) < 491520
var(41)		= (Var(41) | 491520) - 491520 + IfElse( (Var(41) & 491520) + 32768*(2*!!(Var(41) & 8192) + !!(Var(41) & 16384)) < 491520, (Var(41) & 491520) + 32768*(2*!!(Var(41) & 8192) + !!(Var(41) & 16384)), 491520 )
ignorehitpause	= 1

[State 20015, Not Throw Check Reset]
type		= VarSet
trigger1	= Var(53)
var(41)		= (Var(41) | 64 | 128 | 8192 | 16384) - 64 - 128 - 8192 - 16384
ignorehitpause	= 1

[State 20015, Not Throw Set]
type		= VarSet
trigger1	= Var(53)
var(41)		= (Var(41) | (32*((Var(41) & 3840) / 256 >= 4)) | (4096*((Var(41) & 491520) / 32768 >= 4)))
ignorehitpause	= 1

;------------------- インターバルカウンタ減算
[State 20015, AI Interval Counter Decrease]
type		= VarSet
trigger1	= Var(43)
var(43)		= IfElse( Var(43) >= 0, Var(43)-1, 0 )
ignorehitpause	= 1

;------------------- 諸手突きカウンタ
[State 20015, Morote Counter Add]
type		= VarAdd
triggerall	= (Var(44) & 3) < 3
triggerall	= Root,AnimElem = 1
trigger1	= (Root,Var(2) & 131071) = 3416
trigger2	= (Root,Var(2) & 131071) = 3516
var(44)		= 1
ignorehitpause	= 1

[State 20015, Morote Counter Reset]
type		= VarSet
trigger1	= Root,MoveType = H && !Root,Ctrl
trigger2	= Root,StateType = L
trigger3	= (Root,Var(1) & 1024)
trigger4	= Root,P2StateType != A || Root,P2MoveType != H
trigger5	= !Root,NumTarget
var(44)		= (Var(44) | 3) - 3
ignorehitpause	= 1

;------------------- 喉輪空中ヒット用カウンタ
[State 20015, AI Counter]
type		= VarSet
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),StateType = A && Enemy(Var(54)),MoveType = H
trigger1	= ((Root,Var(2) & 131071) = 731) && Root,AnimTime = -1 && Root,MoveHit
var(43)		= 2
ignorehitpause	= 1

;------------------- インターバルカウンタリセット
[State 20015, AI Counter Reset]
type		= VarSet
trigger1	= Root,MoveType = H && !Root,Ctrl
trigger2	= Root,StateType = L
trigger3	= (Root,Var(1) & 1024)
var(43)		= 0
ignorehitpause	= 1

;------------------- 起き攻めフラグ
[State 20015, Get Up Attack]
type		= VarSet
trigger1	= 1
var(53)		= 0
ignorehitpause	= 1

; この方法だと対象がヘルパーかは特定できない
[State 20015, Get Up Attack]
type		= VarSet
triggerall	= Root,NumTarget((10 + ((Root,Var(16) & 240)/16-1+16)%16))
triggerall	= (10 * (Var(12) & 127)) > Random
t;riggerall	= Random >= 50 + (Var(39) < 8)*( 7*(9 - Var(39))*(9 - Var(39)) )
trigger1	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [900, 904])
trigger2	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [910, 914])
trigger3	= ((Root,Var(26) & 131071) = [920, 924]) && ((Root,Var(2) & 131071) = [950, 951])
trigger4	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [1105, 1119])
trigger5	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [1235, 1239])
trigger6	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [1310, 1319])
trigger7	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [3030, 3039])
trigger8	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [3130, 3139])
trigger9	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [3220, 3221])
trigger10	= (Var(57) & 16) && ((Root,Var(26) & 131071) = [3350, 3351])
var(53)		= 1
ignorehitpause	= 1

[State 20015, Get Up Attack On]
type		= VarSet
triggerall	= Var(53)
triggerall	= (Root,Var(32) & 7) > 1
trigger1	= (Root,Var(32) & 7) >= 4
trigger1	= Random < 300*(Var(57) & 65536) + IfElse( FVar(37) > 0.2, 600.0 + 350.0*((1.0 - FVar(37)) / 0.8), 975 )
trigger2	= (Root,Var(32) & 7) = [2, 3]
trigger2	= Random < 400*(Var(57) & 65536) + IfElse( FVar(37) > 0.2, 600.0 + 350.0*((1.0 - FVar(37)) / 0.8), 975 )
var(53)		= 2
ignorehitpause	= 1

[State 20015, Get Up Attack Set]
type		= VarSet
trigger1	= Var(53) = 2
var(41)		= (Var(41) | 4)
ignorehitpause	= 1

[State 20015, Get Up Attack Type]
type		= VarSet
trigger1	= Var(53) = 2
var(44)		= (Var(44) | 28) - 28
ignorehitpause	= 1

[State 20015, Get Up Attack Type]
type		= VarSet
triggerall	= Var(53) = 2
trigger1	= (Root,Var(32) & 7) >= 4
trigger1	= Random < 400
trigger2	= (Root,Var(32) & 7) < 4
trigger2	= Random < 900
var(44)		= Var(44) + 4*IfElse( Random < IfElse((Root,Var(32) & 7) < 4, 750, 500), 1, 2 )
ignorehitpause	= 1

[State 20015, Get Up Attack Reset]
type		= VarSet
trigger1	= (Root,Var(1) & 1024) || Root,StateType = L || (Root,MoveType = H && !Root,Ctrl)
trigger2	= NumEnemy
trigger2	= !Enemy(Var(54)),Alive || Enemy(Var(54)),StateType = S || Enemy(Var(54)),StateType = C || (Enemy(Var(54)),StateType = A && Enemy(Var(54)),MoveType != H) || (Enemy(Var(54)),Ctrl)
trigger3	= NumEnemy
trigger3	= Enemy(Var(54)),StateType = L
trigger3	= !( (Enemy(Var(54)),StateNo = [7020, 7059]) || (Enemy(Var(54)),StateNo = [1120, 1129]) )
trigger4	= NumEnemy
trigger4	= Enemy(Var(54)),StateType = L
trigger4	= !( (Enemy(Var(54)),Anim = [5050, 5069]) || (Enemy(Var(54)),Anim = [5100, 5129]) || (Enemy(Var(54)),Anim = [5160, 5179]) || (Enemy(Var(54)),Anim = 7161) || (Enemy(Var(54)),Anim = 1120) )
var(41)		= (Var(41) | 4) - 4
ignorehitpause	= 1

[State 20015, Get Up Attack Type Reset]
type		= VarSet
trigger1	= !(Var(41) & 4)
var(44)		= (Var(44) | 28) - 28
ignorehitpause	= 1

;------------------- コマンド継続リセット
[State 20015, AI Command Continue Time Reset]
type		= VarSet
trigger1	= Root,MoveType = H && !Root,Ctrl
trigger2	= Root,StateType = L
trigger3	= (Root,Var(1) & 1024)
var(42)		= 0
ignorehitpause	= 1





;---------------------------------------------------------------------------- 確定行動
; 連続技、連携等
; ただし起き攻めは含まない

;------------------- ゲージ連続技を使わないか
[State 20015, Not Power Gauge Combo Buf]
type		= VarSet
trigger1	= 1
var(53)		= !!(Var(41) & 524288)
ignorehitpause	= 1

[State 20015, Not Power Gauge Combo Init Check]
type		= VarSet
triggerall	= (Var(51) >= 1000)
trigger1	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger2	= (Root,ProjHitTime(1800) = 1)	; 処理順の関係でヘルパーから見た場合、初期値は 1 から始まる
trigger3	= ((Root,Var(2) & 131071) = [1230, 1234])
var(41)		= (Var(41) | 524288)
ignorehitpause	= 1

[State 20015, Not Power Gauge Combo?]
type		= VarSet
triggerall	= !Var(53) && (Var(41) & 524288)
triggerall	= (Var(51) < 4000)
trigger1	= (Var(51) < 3000)
trigger1	= Random < IfElse( FVar(37) > 0.7, 800, IfElse(FVar(37) > 0.5, 600, IfElse(FVar(37) > 0.3, 200, 0)) )
trigger2	= (Var(51) >= 3000)
trigger2	= Random < IfElse( FVar(37) > 0.5, 500, 0 )
var(41)		= (Var(41) | 1)
ignorehitpause	= 1

[State 20015, Not Power Gauge Combo Init Reset]
type		= VarSet
; 諸手 + 3C でも解けないように
trigger1	= (Var(51) < 1000)
trigger1	= !( (Var(51) >= 1000+1 - 72*FVar(10)) && !(Root,Var(1) & 2) )
trigger2	= Root,P2MoveType != H
trigger3	= Root,P2StateType = L
trigger4	= Root,MoveType = H && !Root,Ctrl
trigger5	= (Root,Var(1) & 1024)
var(41)		= (Var(41) | 524288) - 524288
ignorehitpause	= 1

[State 20015, Not Power Gauge Combo Reset]
type		= VarSet
trigger1	= !(Var(41) & 524288)
var(41)		= (Var(41) | 1) - 1
ignorehitpause	= 1

;------------------- 空中連続技を使うか
[State 20015, Air Combo?]
type		= VarSet
trigger1	= (Root,Var(1) & 2)
trigger2	= (Root,Var(1) & 128)
trigger3	= ((Root,Var(2) & 131071) = [3400, 3599]) && (Root,MoveHit)
var(41)		= (Var(41) | 2)
ignorehitpause	= 1

[State 20015, Air Combo?]
type		= VarSet
trigger1	= Root,P2MoveType != H
trigger2	= Root,P2StateType != A
var(41)		= (Var(41) | 2) - 2
ignorehitpause	= 1

;------------------- 敵ののけぞり時間計算
[State 20015, Hit Back Type Set]
type		= VarSet
trigger1	= 1
var(53)		= 1023*(Root,P2MoveType = H) + 1024 * ((Root,P2MoveType = H) && (Root,P2StateNo != [150, 155]))
ignorehitpause	= 1

; slidetimeとctrltimeは残り時間を返すトリガーではないので、計測にはhittimeしか使えない
[State 20015, Hit Back Time Set]
type		= Null
triggerall	= (Root,P2MoveType = H)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive
trigger1	= (Enemy(Var(54)),MoveType = H) && (Enemy(Var(54)),StateNo = [7081, 7082]) && (Enemy(Var(54)),Anim = 7500)
trigger1	= 0 <= Abs(Enemy(Var(54)),AnimTime) && Abs(Enemy(Var(54)),AnimTime) < 1023
trigger1	= Var(53) := Var(53) - 1023 + Abs(Enemy(Var(54)),AnimTime) || 1
trigger2	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger2	= 0 <= (Enemy(Var(54)),GetHitVar(hitshaketime) + Enemy(Var(54)),GetHitVar(hittime) + 1+1) && (Enemy(Var(54)),GetHitVar(hitshaketime) + Enemy(Var(54)),GetHitVar(hittime) + 1+1) < 1023
trigger2	= Var(53) := Var(53) - 1023 + (Enemy(Var(54)),GetHitVar(hitshaketime) + Enemy(Var(54)),GetHitVar(hittime) + 1+1) || 1
ignorehitpause	= 1

;------------------- 喉輪
[State 20015, 3C]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= (Root,StateType = S) || (Root,StateType = C)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && (Root,MoveGuarded && !(Var(53) & 1024)) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (((Var(58) & 1047552)/1024) = [950, 1000))
trigger1	= (Root,P2StateType != A)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 空中やられの相手に
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= (Root,P2StateType = A) && ((Var(57) & 32) || (Var(57) & 256)) && !(Root,Var(1) & 2) && !(Root,Var(1) & 128)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 +61+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 15*FVar(39))
trigger2	= IfElse( (Root,P2Dist X >= 0), ( Root,FrontEdgeBodyDist >= 45*Root,Const(size.xscale) ) && ( Root,P2Dist X >= (8.0 + 40.0*(Root,P2BodyDist Y < -55 + -20*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale) - 15.0*FVar(39) ), 1 )
trigger2	= IfElse( (Root,P2Dist X >= 0), 1, ( Root,BackEdgeBodyDist >= 45*Root,Const(size.xscale) ) && ( Root,P2Dist X <= -(8.0 + 40.0*(Root,P2BodyDist Y < -55 + -20*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale) - 15.0*FVar(39) ) )
trigger2	= (Enemy(Var(54)),Vel Y > 0) || (Enemy(Var(54)),Vel Y + 4*Enemy(Var(54)),GetHitVar(yaccel) >= 0)
trigger2	= (Root,P2BodyDist Y = [-73 + -23*Enemy(Var(54)),Vel Y, -5 + -23*Enemy(Var(54)),Vel Y])
var(56)		= 730
ignorehitpause	= 1

;------------------- MAX諸手突き
[State 20015, Morotezuki MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 524288)
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= !((Var(57) & 32768) && !(Var(57) & 131072))
; 空中やられの相手に
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(44) & 3) < 3
trigger1	= (Root,P2StateType = A) && ((Var(57) & 64) || (Var(57) & 2048)) && (Root,Var(1) & 2)
trigger1	= (Enemy(Var(54)),Vel Y > 0 && Enemy(Var(54)),HitShakeOver)
trigger1	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger1	= IfElse( (Root,P2Dist X >= 0), (Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger1	= IfElse( (Root,P2Dist X >= 0), 1, (Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 画面端、超頭突きでの空中やられの相手に
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= (Var(44) & 3) < 3
trigger2	= (Var(51) >= 3000)
trigger2	= (Root,P2StateType = A) && ((Var(57) & 4096)) && (Root,Var(1) & 2) && ((Root,Var(2) & 131071) = [1520, 1529])	; 超頭突き後の起き上がり
trigger2	= (Enemy(Var(54)),Vel Y > 0 && Enemy(Var(54)),HitShakeOver)
trigger2	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger2	= (Root,FrontEdgeBodyDist < 75*Root,Const(size.xscale)) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger2	= (Root,P2Dist X > 15*Root,Const(size.xscale))
var(56)		= 3500
ignorehitpause	= 1

;------------------- 諸手突き
[State 20015, Morotezuki]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 524288)
triggerall	= (Var(51) >= 1000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= !((Var(57) & 32768) && !(Var(57) & 131072))
; 2ゲージ時寄り切りから
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(51) >= 2000)
trigger1	= Root,P2MoveType = H
trigger1	= ((Root,Var(2) & 131071) = 1238)
trigger1	= (Root,P2StateType = A) && (Var(57) & 4096) && !(Root,Var(1) & 2)
trigger1	= (Enemy(Var(54)),Vel Y >= -1)
trigger1	= (Root,P2BodyDist Y = [-60*Root,Const(size.yscale) + -7*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -7*Enemy(Var(54)),Vel Y])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger1	= IfElse( (Root,P2Dist X >= 0), (Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger1	= IfElse( (Root,P2Dist X >= 0), 1, (Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 2ゲージ時頭突きガードから
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (Var(51) >= 2000)
trigger2	= ((Root,Var(2) & 131071) = [1520, 1529]) && Root,MoveGuarded && ((Root,Var(18) & 528482304) / (528482304 / 63)) = 1
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger2	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 2ゲージ画面中央連続技
; MAX合掌ひねりを邪魔しないように
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= (Var(51) >= 2000+1 - 72*FVar(10)) && (Var(51) < 2000)
trigger3	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger3	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)	; まえみつ叩き2段目ヒット
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger3	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 3ゲージ画面中央連続技
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= (Var(51) >= 3000+1 - 72*FVar(10))
trigger4	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger4	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)	; まえみつ叩き2段目ヒット
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger4	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 突っ張りヒット時遠い場合
; 最大コンボになる(MAX)合掌ひねりを邪魔しないように
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= (Var(51) >= 3000+1 - 72*FVar(10)) || ((Var(51) < 2000) && (Var(51) >= 2000+1 - 72*FVar(10)))
trigger5	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger5	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger5	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 突っ張り・追加入力ヒット時遠い場合
; 最大コンボになる(MAX)合掌ひねりを邪魔しないように
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Var(51) >= 3000+1 - 72*FVar(10)) || ((Var(51) < 2000) && (Var(51) >= 2000+1 - 72*FVar(10)))
trigger6	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger6	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger6	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 弱突き上げヒットから
; 最大コンボになるSC(MAX)合掌ひねりを邪魔しないように
trigger7	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger7	= (Var(51) >= 4000+1 - 72*FVar(10)) || ((Var(51) < 3000) && (Var(51) >= 3000+1 - 72*FVar(10)))
trigger7	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger7	= ((Root,Var(2) & 131071) = 1401) && (Root,AnimElemNo(0) = [7, 12]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger7	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger7	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 強突き上げヒットから
; 最大コンボになるSC(MAX)合掌ひねりを邪魔しないように
trigger8	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger8	= (Var(51) >= 4000+1 - 72*FVar(10)) || ((Var(51) < 3000) && (Var(51) >= 3000+1 - 72*FVar(10)))
trigger8	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger8	= ((Root,Var(2) & 131071) = 1411) && (Root,AnimElemNo(0) = [21, 26]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger8	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger8	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 突き出しから
; 最大コンボになるSC(MAX)合掌ひねりを邪魔しないように
trigger9	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger9	= (Var(51) >= 4000+1 - 72*FVar(10)) || ((Var(51) < 3000) && (Var(51) >= 3000+1 - 72*FVar(10)))
trigger9	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger9	= ((Root,Var(2) & 131071) = 1651) && (Root,AnimElemNo(0) = [26, 27]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger9	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*4.1523365625)
trigger9	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 空中やられの相手に(通常追撃)
trigger10	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger10	= (Var(44) & 3) < 3
trigger10	= (Root,P2StateType = A) && ((Var(57) & 64) || (Var(57) & 2048)) && !(Root,Var(1) & 2)
trigger10	= (Enemy(Var(54)),Vel Y > 0 && Enemy(Var(54)),HitShakeOver)
trigger10	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger10	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger10	= IfElse( (Root,P2Dist X >= 0), (Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger10	= IfElse( (Root,P2Dist X >= 0), 1, (Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 画面端、超頭突きでの空中やられの相手に
trigger11	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger11	= (Var(44) & 3) < 3
trigger11	= (Var(51) >= 2000)
trigger11	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2) && ((Root,Var(2) & 131071) = [1520, 1529])	; 超頭突き後の起き上がり
trigger11	= (Enemy(Var(54)),Vel Y > 0 && Enemy(Var(54)),HitShakeOver)
trigger11	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger11	= (Root,FrontEdgeBodyDist < 75*Root,Const(size.xscale)) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger11	= (Root,P2Dist X > 15*Root,Const(size.xscale))
var(56)		= 3400
ignorehitpause	= 1

;------------------- MAX合掌ひねり
[State 20015, Gassyou Hineri MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; まえみつ叩き2段目ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突っ張りヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger2	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger2	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突っ張り・追加入力ヒット時遠い場合
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger3	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger3	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 弱突き上げヒットから
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= (Var(51) >= 3000)
trigger4	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger4	= ((Root,Var(2) & 131071) = 1401) && (Root,AnimElemNo(0) = [7, 12]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger4	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 強突き上げヒットから
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= (Var(51) >= 3000)
trigger5	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger5	= ((Root,Var(2) & 131071) = 1411) && (Root,AnimElemNo(0) = [21, 26]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger5	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突き出しから
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Var(51) >= 3000)
trigger6	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger6	= ((Root,Var(2) & 131071) = 1651) && (Root,AnimElemNo(0) = [26, 27]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger6	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 空中やられの相手に(諸手のゲージ無し or StateTypeが違う or 諸手カウンタが溜まった)
trigger7	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger7	= !(Var(51) >= 3000+1 - 72*FVar(10)) || (Root,StateType = A) || !((Var(44) & 3) < 3)
trigger7	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger7	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger7	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger7	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger7	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 空中やられの相手に(諸手では距離が遠い)
trigger8	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger8	= !(Root,P2BodyDist X + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1)+(16-(3-2))*Root,Const(velocity.run.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale) - (16+6)*FVar(39))
trigger8	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger8	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger8	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger8	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger8	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 空中やられの相手に(諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時))
trigger9	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger9	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger9	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger9	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger9	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger9	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger9	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手のゲージ無し or StateTypeが違う or 諸手カウンタが溜まった)
trigger10	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger10	= (Var(51) >= 3000)
trigger10	= !(Var(51) >= 4000+1 - 72*FVar(10)) || (Root,StateType = A) || !((Var(44) & 3) < 3)
trigger10	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger10	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger10	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger10	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger10	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger10	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手では距離が遠い)
trigger11	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger11	= (Var(51) >= 3000)
trigger11	= !((Root,FrontEdgeBodyDist < 75*Root,Const(size.xscale)) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 16*FVar(39)))
trigger11	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger12	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger11	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger11	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger11	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger11	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手だと敵との距離が近い)
trigger12	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger12	= (Var(51) >= 3000)
trigger12	= !(Root,P2Dist X > 15*Root,Const(size.xscale))
trigger12	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger13	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger12	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger12	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger12	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger12	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時)
trigger13	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger13	= (Var(51) >= 3000)
trigger13	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger13	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger13	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger13	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger13	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger13	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger13	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 強攻撃ヒットから(身の危険が迫ってる時)(空中の相手含む)
trigger14	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger14	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger14	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger14	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger14	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger14	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger14	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)(空中の相手含む)
trigger15	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger15	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger15	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger15	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger15	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger15	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger15	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= 3100
ignorehitpause	= 1

;------------------- MAX大一番
[State 20015, Oichiban MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -42*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上やられの相手に
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Root,P2StateNo != [150, 155])
trigger1	= (Var(57) & 64)
trigger1	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale) - FVar(38)*1)
trigger1	= (Var(53) & 1024) && ((Var(53) & 1023) = 1)
var(56)		= 3310
ignorehitpause	= 1

;------------------- 大一番
[State 20015, Oichiban]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= (Var(51) >= 1000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -42*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ヒットから(身の危険が迫ってる時)
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301)
trigger1	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 強攻撃ヒットから(身の危険が迫ってる時)
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger2	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger2	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger3	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger3	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 地上やられの相手に
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= (Root,P2StateNo != [150, 155])
trigger4	= (Var(57) & 64)
trigger4	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale) - FVar(38)*1)
trigger4	= (Var(53) & 1024) && ((Var(53) & 1023) = 1)
var(56)		= 3210
ignorehitpause	= 1

;------------------- 合掌ひねり
[State 20015, Gassyou Hineri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 1)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= (Var(51) >= 1000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; まえみつ叩き2段目ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突っ張りヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger2	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger2	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突っ張り・追加入力ヒット時遠い場合
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger3	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger3	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 弱突き上げヒットから
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= (Var(51) >= 2000)
trigger4	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger4	= ((Root,Var(2) & 131071) = 1401) && (Root,AnimElemNo(0) = [7, 12]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger4	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 強突き上げヒットから
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= (Var(51) >= 2000)
trigger5	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger5	= ((Root,Var(2) & 131071) = 1411) && (Root,AnimElemNo(0) = [21, 26]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger5	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 突き出しから
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Var(51) >= 2000)
trigger6	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || !(Root,Var(1) & 2)
trigger6	= ((Root,Var(2) & 131071) = 1651) && (Root,AnimElemNo(0) = [26, 27]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger6	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 空中やられの相手に(諸手のゲージ無し or StateTypeが違う or 諸手カウンタが溜まった)
trigger7	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger7	= (Var(51) >= 2000 && !(Var(51) >= 3000+1 - 72*FVar(10))) || ((Var(51) < 2000) && !(Var(51) >= 2000+1 - 72*FVar(10))) || (Root,StateType = A) || !((Var(44) & 3) < 3)
trigger7	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger7	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger7	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger7	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger7	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 空中やられの相手に(諸手では距離が遠い)
trigger8	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger8	= !(Root,P2BodyDist X + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1)+(16-(3-2))*Root,Const(velocity.run.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale) - (16+6)*FVar(39))
trigger8	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger8	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger8	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger8	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger8	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 空中やられの相手に(諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時)
trigger9	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger9	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger9	= (Root,P2StateType = A && Root,P2MoveType = H) && (Var(57) & 64) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger9	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger9	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger9	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger9	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手のゲージ無し or StateTypeが違う or 諸手カウンタが溜まった)
trigger10	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger10	= (Var(51) >= 2000)
trigger10	= (Var(51) >= 3000 && !(Var(51) >= 4000+1 - 72*FVar(10))) || ((Var(51) < 3000) && !(Var(51) >= 3000+1 - 72*FVar(10))) || (Root,StateType = A) || !((Var(44) & 3) < 3)
trigger10	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger10	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger10	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger10	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger10	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger10	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手では距離が遠い)
trigger11	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger11	= (Var(51) >= 2000)
trigger11	= !((Root,FrontEdgeBodyDist < 75*Root,Const(size.xscale)) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 16*FVar(39)))
trigger11	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger11	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger11	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger11	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger11	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger11	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手だと敵との距離が近い)
trigger12	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger12	= (Var(51) >= 2000)
trigger12	= !(Root,P2Dist X > 15*Root,Const(size.xscale))
trigger12	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger12	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger12	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger12	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger12	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger12	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 画面端、超頭突きでの空中やられの相手に(諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時)
trigger13	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger13	= (Var(51) >= 2000)
trigger13	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger13	= (Root,P2StateType = A) && ((Var(57) & 4096)) && !(Root,Var(1) & 2)
trigger13	= ((Root,Var(2) & 131071) = [1500, 1524]) || (((Root,Var(2) & 131071) = [1525, 1529]) && Root,AnimTime < -10)
trigger13	= (Enemy(Var(54)),Vel Y > -2.0 && (Enemy(Var(54)),HitShakeOver || (((Root,Var(2) & 131071) = [1500, 1519]) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1))))
trigger13	= (Root,P2BodyDist Y = [-125 + -25*Enemy(Var(54)),Vel Y, -5 + -25*Enemy(Var(54)),Vel Y])
trigger13	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 24*FVar(39))
trigger13	= (Root,P2Dist X > 1*Root,Const(size.xscale))
; 強攻撃ヒットから(身の危険が迫ってる時)(空中の相手含む)
trigger14	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger14	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger14	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger14	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger14	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger14	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger14	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)(空中の相手含む)
trigger15	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger15	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger15	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger15	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger15	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger15	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
trigger15	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (165 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= 3000
ignorehitpause	= 1

;------------------- ぶちかまし
[State 20015, Butikamashi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= (Root,Var(32) & 7) < 4
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 突っ張りヒット時遠い場合
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger1	= Root,P2MoveType = H
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 突っ張り・追加入力ヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger2	= Root,P2MoveType = H
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger2	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger2	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; ぶちかましガード or 空振りから
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= (Var(57) & 2048) && (Var(51) >= 500) && (Root,Var(32) & 7) < 4
trigger3	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || Root,P2MoveType != H 
trigger3	= ((Root,Var(2) & 131071) = 1701) && (-1 = Root,AnimElemTime(21)) && (((Var(58) & 1047552)/1024) >= 750)
var(56)		= 1700
ignorehitpause	= 1

;------------------- 掛け投げ
; 敵が1人(or 敵相方は死んでる)
[State 20015, Kakenage]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 突っ張りヒット時遠い場合
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger1	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 突っ張り・追加入力ヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger2	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 弱攻撃ヒットから(身の危険が迫ってる時)
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger3	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301)
trigger3	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 強攻撃ヒットから(身の危険が迫ってる時)
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger4	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger4	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger5	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger5	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 地上やられの相手に
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Root,P2StateNo != [150, 155])
trigger6	= (Var(57) & 64)
trigger6	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale) - FVar(38)*1)
trigger6	= (Var(53) & 1024) && ((Var(53) & 1023) = 1)
var(56)		= 1311 - 1*(IfElse( Root,BackEdgeBodyDist >= 120*Root,Const(size.xscale) && Root,FrontEdgeBodyDist >= 120*Root,Const(size.xscale), Random < 500, (Root,P2Dist X < 0) ^^ (Root,BackEdgeBodyDist < Root,FrontEdgeBodyDist) ))
ignorehitpause	= 1

; 敵が2人以上(敵相方は生きてる)
[State 20015, Kakenage]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy >= 2 && (Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 突っ張りヒット時遠い場合
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger1	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 突っ張り・追加入力ヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger2	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 弱攻撃ヒットから(身の危険が迫ってる時)
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger3	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301)
trigger3	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 強攻撃ヒットから(身の危険が迫ってる時)
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger4	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger4	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger5	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger5	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 地上やられの相手に(ヒットストップじゃない)
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Root,P2StateNo != [150, 155])
trigger6	= (Var(57) & 64)
trigger6	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale) - FVar(38)*1)
trigger6	= (Var(53) & 1024) && ((Var(53) & 1023) = 1)
var(56)		= 1311 - 1*((Root,P2Dist X < 0) ^^ ((Enemy(!Var(54)),Pos X - Root,Pos X)*Root,Facing < 0))
ignorehitpause	= 1

;------------------- 寄り切り
[State 20015, Yorikiri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 7)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; まえみつ叩き1段目ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Var(51) < 1000) || (Var(41) & 1)
trigger1	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) = [7, 10]) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (((Var(58) & 1047552)/1024) < 200)
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger2	= (((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) = [7, 10]) || (Root,Var(2) & 131071) = 731)
trigger2	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
var(56)		= 1210
ignorehitpause	= 1

[State 20015, Yorikiri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 7)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; ぶちかましガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 1701) && (Root,AnimElemTime(1) = 37) && (((Var(58) & 1047552)/1024) < 75)
trigger1	= Root,P2MoveType != H
var(56)		= 1200
ignorehitpause	= 1

;------------------- 小手投げ(弱)
[State 20015, Kotenage W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; まえみつ叩き2段目ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Root,P2MoveType = H) && ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (((Var(58) & 1047552)/1024) < IfElse(NumEnemy >= 2 && (Var(57) & 262144), 100, 700) )
trigger1	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 空中やられの相手に(通常追撃、ゲージ無し or ゲージ使わない or 諸手では距離が遠い or 諸手カウンタが溜まった)
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger2	= ((Var(57) & 64) || (Var(57) & 2048))
trigger2	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger2	= !(Root,Var(1) & 2)
trigger2	= (Var(51) < 1000) || (Var(41) & 1) || !(Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39)) || !((Var(44) & 3) < 3)
trigger2	= (Enemy(Var(54)),Vel Y > 0)
trigger2	= (Root,P2BodyDist Y = [-55 + -12*Enemy(Var(54)),Vel Y, -5 + -12*Enemy(Var(54)),Vel Y])
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (58 +28+10-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 9*FVar(39))
trigger2	= IfElse( (Root,P2Dist X >= 0), (Root,P2Dist X + 12*FVar(39) >= (13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger2	= IfElse( (Root,P2Dist X >= 0), 1, (Root,P2Dist X + 12*FVar(39) < -(13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 空中やられの相手に(通常追撃、諸手では距離が近すぎる)
trigger3	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger3	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger3	= ((Var(57) & 64) || (Var(57) & 2048))
trigger3	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger3	= !(Root,Var(1) & 2)
trigger3	= (Var(51) >= 1000)
trigger3	= IfElse( (Root,P2Dist X >= 0), !((Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))), 1 )
trigger3	= IfElse( (Root,P2Dist X >= 0), 1, !((Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))) )
trigger3	= (Enemy(Var(54)),Vel Y > 0)
trigger3	= (Root,P2BodyDist Y = [-55 + -12*Enemy(Var(54)),Vel Y, -5 + -12*Enemy(Var(54)),Vel Y])
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (58 +28+10-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 9*FVar(39))
trigger3	= IfElse( (Root,P2Dist X >= 0), (Root,P2Dist X + 12*FVar(39) >= (13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger3	= IfElse( (Root,P2Dist X >= 0), 1, (Root,P2Dist X + 12*FVar(39) < -(13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 空中やられの相手に(通常追撃、ゲージありで諸手の適正距離)
trigger4	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger4	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger4	= ((Var(57) & 64) || (Var(57) & 2048))
trigger4	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger4	= !(Root,Var(1) & 2)
trigger4	= (Var(51) >= 1000)
trigger4	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger4	= IfElse( (Root,P2Dist X >= 0), ((Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))), 1 )
trigger4	= IfElse( (Root,P2Dist X >= 0), 1, ((Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))) )
trigger4	= (Enemy(Var(54)),Vel Y > 0)
trigger4	= (Root,P2BodyDist Y = [-55 + -12*Enemy(Var(54)),Vel Y, -5 + -12*Enemy(Var(54)),Vel Y])
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (58 +28+10-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 9*FVar(39))
trigger4	= IfElse( (Root,P2Dist X >= 0), (Root,P2Dist X + 12*FVar(39) >= (13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger4	= IfElse( (Root,P2Dist X >= 0), 1, (Root,P2Dist X + 12*FVar(39) < -(13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 空中やられの相手に(通常追撃、諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時)
trigger5	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger5	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger5	= ((Var(57) & 64) || (Var(57) & 2048))
trigger5	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger5	= !(Root,Var(1) & 2)
trigger5	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger5	= (Enemy(Var(54)),Vel Y > 0)
trigger5	= (Root,P2BodyDist Y = [-55 + -12*Enemy(Var(54)),Vel Y, -5 + -12*Enemy(Var(54)),Vel Y])
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (58 +28+10-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 9*FVar(39))
trigger5	= IfElse( (Root,P2Dist X >= 0), (Root,P2Dist X + 12*FVar(39) >= (13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)), 1 )
trigger5	= IfElse( (Root,P2Dist X >= 0), 1, (Root,P2Dist X + 12*FVar(39) < -(13.0 + 7.0*(Root,P2BodyDist Y < -55 + -12*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale)) )
; 空中やられの相手に(無条件追撃、ゲージ無し or ゲージ使わない or 諸手では距離が遠い or 諸手カウンタが溜まった)
trigger6	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger6	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger6	= ((Var(57) & 64) || (Var(57) & 2048))
trigger6	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger6	= (Root,Var(1) & 2)
trigger6	= (Var(51) < 2000) || (Var(41) & 1) || !(Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39)) || !((Var(44) & 3) < 3)
trigger6	= (Enemy(Var(54)),Vel Y > 0)
trigger6	= (Root,P2BodyDist Y = [-85 + -16*Enemy(Var(54)),Vel Y, -5 + -16*Enemy(Var(54)),Vel Y])
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
; 空中やられの相手に(無条件追撃、諸手では距離が近すぎる)
trigger7	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger7	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger7	= ((Var(57) & 64) || (Var(57) & 2048))
trigger7	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger7	= (Root,Var(1) & 2)
trigger7	= (Var(51) >= 2000)
trigger7	= IfElse( (Root,P2Dist X >= 0), !((Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))), 1 )
trigger7	= IfElse( (Root,P2Dist X >= 0), 1, !((Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))) )
trigger7	= (Enemy(Var(54)),Vel Y > 0)
trigger7	= (Root,P2BodyDist Y = [-85 + -16*Enemy(Var(54)),Vel Y, -5 + -16*Enemy(Var(54)),Vel Y])
trigger7	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
; 空中やられの相手に(無条件追撃、ゲージありで諸手の適正距離)
trigger8	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger8	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger8	= ((Var(57) & 64) || (Var(57) & 2048))
trigger8	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger8	= (Root,Var(1) & 2)
trigger8	= (Var(51) >= 2000)
trigger8	= (Root,P2BodyDist Y = [-42*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y, -1*Root,Const(size.yscale) + -8*Enemy(Var(54)),Vel Y])
trigger8	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +17+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 6*FVar(39))
trigger8	= IfElse( (Root,P2Dist X >= 0), ((Root,FrontEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) >= (13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))), 1 )
trigger8	= IfElse( (Root,P2Dist X >= 0), 1, ((Root,BackEdgeBodyDist >= 13*Root,Const(size.xscale)) && (Root,P2Dist X + 6*FVar(39) < -(13.0 + 4.0*(Root,P2BodyDist Y < -55 + -6*Enemy(Var(54)),Vel Y))*Root,Const(size.xscale))) )
trigger8	= (Enemy(Var(54)),Vel Y > 0)
trigger8	= (Root,P2BodyDist Y = [-85 + -16*Enemy(Var(54)),Vel Y, -5 + -16*Enemy(Var(54)),Vel Y])
trigger8	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
; 空中やられの相手に(無条件追撃、諸手の適正かもだが、身の危険が迫ってる時、敵が複数いるとき時)
trigger9	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger9	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger9	= ((Var(57) & 64) || (Var(57) & 2048))
trigger9	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger9	= (Root,Var(1) & 2)
trigger9	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger9	= (Enemy(Var(54)),Vel Y > 0)
trigger9	= (Root,P2BodyDist Y = [-85 + -16*Enemy(Var(54)),Vel Y, -5 + -16*Enemy(Var(54)),Vel Y])
trigger9	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
; EHキックヒットから
trigger10	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger10	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger10	= ((Root,Var(2) & 131071) = 741) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger10	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
trigger10	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
; ぶちかましヒット(否カウンター)から
trigger11	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger11	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger11	= (Var(57) & 2048)
trigger11	= (Root,P2MoveType = H) && (Root,P2StateType = A)
trigger11	= (Var(51) < 2000)
trigger11	= ((Root,Var(2) & 131071) = 1701) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,Var(1) & 2)
trigger11	= (Enemy(Var(54)),Vel Y > -1.25 && Enemy(Var(54)),HitShakeOver)
trigger11	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 +28+30-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12*FVar(39))
trigger11	= (Root,P2BodyDist Y = [-150*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
; ぶちかましガードから
trigger12	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger12	= (Var(57) & 2048)
trigger12	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger12	= ((Root,Var(2) & 131071) = 1701) && (Root,AnimElemTime(1) = 32) && (((Var(58) & 1047552)/1024) = [75, 150))
trigger12	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (58 +28-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger12	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 喉輪ガードから
trigger13	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger13	= (Root,P2MoveType = H)
trigger13	= ((Root,Var(2) & 131071) = 731) && (Root,MoveGuarded && !(Var(53) & 1024) && (Var(53) & 1023) = 4) && (((Var(58) & 1047552)/1024) < 100)
; 弱攻撃ヒットから(身の危険が迫ってる時)
trigger14	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger14	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger14	= (Root,P2MoveType = H) && ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger14	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301)
trigger14	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger14	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger14	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 強攻撃ヒットから(身の危険が迫ってる時)
trigger15	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger15	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger15	= (Root,P2MoveType = H) && ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger15	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger15	= Root,AnimElemTime(3) >= 0 && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger15	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger15	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 特殊技ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger16	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger16	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger16	= (Root,P2MoveType = H) && ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger16	= ((Root,Var(2) & 131071) = 711 || (Root,Var(2) & 131071) = 721 || (Root,Var(2) & 131071) = 731)
trigger16	= (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger16	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger16	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
var(56)		= 1100
ignorehitpause	= 1

;------------------- 突き上げ(強)
[State 20015, Tsukiage S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; まえみつ叩き2段目ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 711) && (Root,AnimElemNo(0) >= 11) && (Root,MoveHit) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
var(56)		= 1410
ignorehitpause	= 1

;------------------- 五輪突き(強)
[State 20015, GorinDuki S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 突っ張りヒット時遠い場合
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+21-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016))
trigger1	= ((Root,Var(2) & 131071) = 721) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 突っ張り・追加入力ヒット時遠い場合
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((49 +25+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.55104504206923828125))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((63 +38+0-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.171659425092907018218994140625))
trigger2	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger2	= ((Root,Var(2) & 131071) = 705) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
var(56)		= 1901
ignorehitpause	= 1

;------------------- 立D
[State 20015, D]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-30*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上やられの相手に
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Root,P2StateNo != [150, 155])
trigger1	= (Var(57) & 32)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (33 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.354170637728515625)
trigger1	= (Var(53) & 1024) && ((Var(53) & 1023) >= 10)
var(56)		= 230
ignorehitpause	= 1

;------------------- 立A
[State 20015, A]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 屈B or 立Aヒットから(鋼体中 or 身の危険が迫ってない)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(57) & 128)
trigger1	= (Var(57) & 65536) || (!(Var(57) & 32768) && !(Var(57) & 524288))
trigger1	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger1	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 311) && Root,MoveHit
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.186625)
trigger1	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 地上やられの相手に(鋼体中 or 身の危険が迫ってない)(直前が突っ張り、突っ張り追加入力ではない)
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= (Root,P2StateNo != [150, 155])
trigger2	= (Var(57) & 65536) || (!(Var(57) & 32768) && !(Var(57) & 524288))
trigger2	= (Var(57) & 32) && !((Root,Var(26) & 131071) = 705 || (Root,Var(26) & 131071) = 721)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.186625)
trigger2	= (Var(53) & 1024) && ((Var(53) & 1023) >= 4)
var(56)		= 200
ignorehitpause	= 1

;------------------- 屈B
[State 20015, Crouch B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 屈B or 立Aヒットから(鋼体中 or 身の危険が迫ってない)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(57) & 128)
trigger1	= (Var(57) & 65536) || (!(Var(57) & 32768) && !(Var(57) & 524288))
trigger1	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger1	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 311) && Root,MoveHit
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (59 -4-1-2-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.70863125)
trigger1	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 地上やられの相手に(鋼体中 or 身の危険が迫ってない)(直前が突っ張り、突っ張り追加入力ではない)
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= (Root,P2StateNo != [150, 155])
trigger2	= (Var(57) & 65536) || (!(Var(57) & 32768) && !(Var(57) & 524288))
trigger2	= (Var(57) & 32) && !((Root,Var(26) & 131071) = 705 || (Root,Var(26) & 131071) = 721)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (59 -4-1-2-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.70863125)
trigger2	= (Var(53) & 1024) && ((Var(53) & 1023) >= 5)
var(56)		= 310
ignorehitpause	= 1

;------------------- 立B
[State 20015, B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中やられの相手に(通常追撃)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Root,P2StateType = A) && (Var(57) & 32)
trigger1	= !(Root,Var(1) & 2)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 +25+12-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 4*FVar(39))
trigger1	= (Enemy(Var(54)),Vel Y > 0)
trigger1	= (Root,P2BodyDist Y = [-40 + -5*Enemy(Var(54)),Vel Y, 0 + -5*Enemy(Var(54)),Vel Y])
; 屈B or 立Aヒットから(距離関係無しに100%振ってもらいたい)
trigger2	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger2	= (Var(57) & 128)
trigger2	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger2	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 311) && Root,MoveHit
trigger2	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 屈B or 立Aガードから
trigger3	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger3	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger3	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 311) && (Root,MoveGuarded && !(Var(53) & 1024)) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger3	= (Random < 900)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 +25-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.186625)
trigger3	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 地上やられの相手に
trigger4	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger4	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger4	= (Root,P2StateNo != [150, 155])
trigger4	= (Var(57) & 32)
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 +25-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*3.186625)
trigger4	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
trigger4	= (Var(53) & 1024) && ((Var(53) & 1023) >= 4)
var(56)		= 210
ignorehitpause	= 1

;------------------- 屈A
[State 20015, Crouch A]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上やられの相手に
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Root,P2StateNo != [150, 155])
trigger1	= (Var(57) & 32)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (52 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*1.85)
trigger1	= (Var(53) & 1024) && ((Var(53) & 1023) >= 2)
var(56)		= 300
ignorehitpause	= 1

;------------------- まえみつ叩き
[State 20015, 3A]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ヒットから(ランダム)
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (Random < 10)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (72 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 遠い場合の弱攻撃ヒットから(6Bが0HIT時、最長でも28ドット以上になったら出て欲しい)
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= Floor((28 -1-1+ Root,Const(size.ground.front))*Root,Const(size.xscale) * (1.00 - 0.065*((Root,Var(16) & 31457280) / (31457280 / 15)))))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (72 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger2	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 突っ張り2ヒット以上後の弱攻撃ヒットから
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1) && ((Root,Var(16) & 31457280) >= 31457280 / 15 * 2)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (72 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 弱or強攻撃ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 -4-1+ Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger4	= ((Root,Var(2) & 131071) = 201 || (Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301)
trigger4	= Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
; 弱or強攻撃ヒットから(身の危険が迫ってる時、敵が複数いるとき時)
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= ((Var(57) & 32768) && !(Var(57) & 131072)) || ((Var(57) & 524288) && !(Var(57) & 65536))
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 -4-1 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger5	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 231 || (Root,Var(2) & 131071) = 321)
trigger5	= Root,AnimElemTime(3) >= 0 && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
var(56)		= 710
ignorehitpause	= 1

;------------------- 突っ張り
[State 20015, 6B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-40*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ヒットから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 弱攻撃ガードから(最速キャンセル)
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && (Root,MoveGuarded && !(Var(53) & 1024)) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger2	= (((Var(58) & 1047552)/1024) < 700)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 弱攻撃ガードから(ディレイキャンセル)
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && (Root,MoveGuarded && !(Var(53) & 1024) && (Var(53) & 1023) = 7)
trigger3	= (Random < 250)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; (立D以外の)強攻撃ヒットから
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (63 +38-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.1225536914453125)
trigger4	= ((Root,Var(2) & 131071) = 221 || (Root,Var(2) & 131071) = 226 || (Root,Var(2) & 131071) = 321)
trigger4	= Root,AnimElemTime(3) >= 0 && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger4	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 立Dヒットから(立Bが届かない時に出す)
trigger5	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) > (49 +25-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*6.3090239346296253206632232666016)
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (63 +38-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.1225536914453125)
trigger5	= ((Root,Var(2) & 131071) = 231)
trigger5	= Root,AnimElemTime(3) >= 0 && Root,MoveHit && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger5	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
; 突っ張り・追加入力ヒットから
trigger6	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger6	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (63 +38-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(38)*5.1225536914453125)
trigger6	= (Var(57) & 32) && ((Root,Var(26) & 131071) = 705) && (Root,Var(29) & 992)
var(56)		= 720
ignorehitpause	= 1

;------------------- 突っ張り・追加入力
[State 20015, 6B・B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-50*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 突っ張りガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (((Var(58) & 1047552)/1024) < 750)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (48 +46-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*5.7183882857588525390625)
trigger1	= ((Root,Var(2) & 131071) = 721) && (Root,MoveGuarded && !(Var(53) & 1024)) && (Root,AnimElemTime(12) = -1)
var(56)		= 704
ignorehitpause	= 1

;------------------- 喉輪・追加入力
[State 20015, 3C・D]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S) || (Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-30*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 喉輪ガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (((Var(58) & 1047552)/1024) = [750, 850))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (33 +24+19-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*5.55104504206923828125)
trigger1	= ((Root,Var(2) & 131071) = 731) && (Root,MoveGuarded && !(Var(53) & 1024)) && (Root,AnimElemTime(20) = -1)
var(56)		= 708
ignorehitpause	= 1

;------------------- EHキック
[State 20015, 3D]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Root,P2StateType = S || Root,P2StateType = C)
triggerall	= (Root,P2BodyDist Y = [-30*Root,Const(size.yscale), 60*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (75 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && (Root,MoveGuarded && !(Var(53) & 1024)) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= (((Var(58) & 1047552)/1024) = [900, 950))
; 地上の遠い相手に喉輪ヒットから
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= (52 - 4 + Root,Const(size.ground.front))*Root,Const(size.xscale) < Abs(Root,P2BodyDist X) + Root,Const(size.ground.front)
trigger2	= ((Root,Var(2) & 131071) = 731) && Root,MoveHit && (Root,AnimTime = -10)
; 突っ張りガードから
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= (((Var(58) & 1047552)/1024) = [750, 850))
trigger3	= ((33 +24+19-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*5.55104504206923828125) < Abs(Root,P2BodyDist X) + Root,Const(size.ground.front)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (90 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*4.1523365625)
trigger3	= ((Root,Var(2) & 131071) = 721) && (Root,MoveGuarded && !(Var(53) & 1024)) && (Root,AnimElemTime(11) = -1)
var(56)		= 740
ignorehitpause	= 1

;------------------- がぶり寄り
[State 20015, Gaburi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (125 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 弱攻撃ガードから
trigger1	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger1	= ((Root,Var(2) & 131071) = 211 || (Root,Var(2) & 131071) = 301) && (Root,MoveGuarded && !(Var(53) & 1024)) && (((Root,Var(18) & 528482304) / (528482304 / 63)) = 1)
trigger1	= Root,P2MoveType = H
trigger1	= (((Var(58) & 1047552)/1024) = [775, 900))
; ぶちかましガードから
trigger2	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger2	= ((Root,Var(2) & 131071) = 1701) && (Root,AnimElemTime(1) = 25) && (((Var(58) & 1047552)/1024) = [150, 275))
trigger2	= Root,P2MoveType != H
; 突っ張りガードから
trigger3	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger3	= ((Root,Var(2) & 131071) = 721) && (Root,MoveGuarded && !(Var(53) & 1024)) && (Root,AnimElemTime(1) = 39 - 21)
trigger3	= Root,P2MoveType = H
trigger3	= (((Var(58) & 1047552)/1024) = [850, 950))
; 喉輪ガードから
trigger4	= (Var(58) & 1023) >= (Var(39) < 8)*( (33 + 8*(9 - Var(39))*(9 - Var(39))) - 160*(1.0 - FVar(37)) )
trigger4	= ((Root,Var(2) & 131071) = 731) && (Root,MoveGuarded && !(Var(53) & 1024) && (Var(53) & 1023) = 11) && (((Var(58) & 1047552)/1024) = [100, 400))
trigger4	= Root,P2MoveType = H
var(56)		= 1600
ignorehitpause	= 1

;------------------- 四股踏み
; 出る前に起き上がられて危険なので辞めます
[State 20015, Shiko W]
type		= Null;VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H
; バウンドやられの相手に
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Root,P2StateNo = [5101, 5109]) && (Root,P2StateType = L) && !(Enemy(Var(54)),Ctrl)
trigger1	= (Var(57) & 32)
var(56)		= 1800
ignorehitpause	= 1

;------------------- 突き落としに派生
[State 20015, Tsukiotoshi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2BodyDist Y = [-60*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上の相手に
trigger1	= ((Root,Var(2) & 131071) = 1401) && (Root,AnimElemNo(0) = [13, 14]) && (Root,MoveContact)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (30 - 4 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 地上の相手に
trigger2	= ((Root,Var(2) & 131071) = 1411) && (Root,AnimElemNo(0) = [27, 28]) && (Root,MoveContact)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (30 - 4 - 4 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= 1420
ignorehitpause	= 1

;------------------- JCD
[State 20015, JCD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*11*11 + Root,Vel Y*11 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*11*11 + Root,Vel Y*11 + 0.5*Enemy(Var(54)),Vel Y*11 = [(-59-22)*Root,Const(size.yscale), (-19+11)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*11 + FVar(39)*11 <= (41 +15 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*11 + FVar(39)*11 >= -(19 +15 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中やられの相手に
trigger1	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= !(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(57) & 32) && Root,P2StateType = A
var(56)		= 600
ignorehitpause	= 1

;------------------- 空中通常投げ
; 敵が1人(or 敵相方は死んでる)
[State 20015, J Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 262144)
triggerall	= Enemy(Var(54)),Alive && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H
triggerall	= (Root,P2BodyDist Y = [-122, 4])
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*1*1 + Root,Vel Y*1 + Enemy(Var(54)),Vel Y*1 = [-122*Root,Const(size.yscale) + 0.5*Root,Const(size.height), -20*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) - Root,Vel X*1 + FVar(39)*1 = [-(22 +15+9 + Root,Const(size.ground.front))*Root,Const(size.xscale), (22 -15+9 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中やられの相手に(身の危険が迫ってる時 or 位置関係が悪い時)
trigger1	= ((Var(57) & 32768) && !(Var(57) & 131072)) || (Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(57) & 32) && Root,P2StateType = A
var(56)		= 900 + 10*(IfElse( Root,BackEdgeBodyDist >= 120*Root,Const(size.xscale) && Root,FrontEdgeBodyDist >= 120*Root,Const(size.xscale), Random < 500, (Root,P2Dist X < 0) ^^ (Root,BackEdgeBodyDist < Root,FrontEdgeBodyDist) ))
ignorehitpause	= 1

; 敵が2人以上(敵相方は生きてる)
[State 20015, J Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy >= 2 && (Var(57) & 262144)
triggerall	= Enemy(Var(54)),Alive && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H
triggerall	= (Root,P2BodyDist Y = [-122, 4])
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*1*1 + Root,Vel Y*1 + Enemy(Var(54)),Vel Y*1 = [-122*Root,Const(size.yscale) + 0.5*Root,Const(size.height), -20*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) - Root,Vel X*1 + FVar(39)*1 = [-(22 +15+9 + Root,Const(size.ground.front))*Root,Const(size.xscale), (22 -15+9 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中やられの相手に(身の危険が迫ってる時 or 位置関係が悪い時)
trigger1	= ((Var(57) & 32768) && !(Var(57) & 131072)) || (Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
trigger1	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
trigger1	= (Var(57) & 32) && Root,P2StateType = A
var(56)		= 900 + 10*((Root,P2Dist X < 0) ^^ ((Enemy(!Var(54)),Pos X - Root,Pos X)*Root,Facing < 0))
ignorehitpause	= 1

;------------------- 追撃ジャンプ
[State 20015, Jump]	; 前中ジャンプ or 前大ジャンプ
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= (Var(58) & 1023) >= (985 - 15*Var(39)*Var(39)) - 200*(1.0 - FVar(37))
; 空中やられの相手に(ゲージ無し or ゲージ使わない)
trigger1	= !Var(43)
trigger1	= (Var(51) < 1000) || (Var(41) & 1)
trigger1	= ((Var(57) & 32))
trigger1	= (Root,P2StateType = A) && !(Root,Var(1) & 2) && (Root,Var(1) & 128)
trigger1	= Root,P2Dist X >= 0 && Enemy(Var(54)),Vel Y >= -2.0
trigger1	= (Root,P2BodyDist Y = [-115 + -11*(Enemy(Var(54)),Vel Y - Root,Const(velocity.jump.y)), 0 + -11*(Enemy(Var(54)),Vel Y - Root,Const(velocity.airjump.y))])
var(56)		= IfElse( Root,P2BodyDist Y < -80 -11*(Enemy(Var(54)),Vel Y - Root,Const(velocity.airjump.y)), 44, 50 )
ignorehitpause	= 1

[State 20015, Jump]	; 前小ジャンプ or 前通ジャンプにするか
type		= VarSet
triggerall	= Var(56) = 44 || Var(56) = 50
; 空中やられの相手に
trigger1	= (Root,P2BodyDist X + Root,Const(size.ground.front) <= (12*Root,Const(velocity.jump.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale) - 12.0*FVar(39))
var(56)		= Var(56) - 3
ignorehitpause	= 1

[State 20015, Jump]	; 垂直 or バックジャンプにするか
type		= VarSet
triggerall	= Var(56) = 41 || Var(56) = 47
; 空中やられの相手に
trigger1	= Root,P2Dist X + 16.0*FVar(39) < 1
var(56)		= Var(56) + IfElse( Root,P2Dist X + 16.0*FVar(39) > 12.0*Root,Const(velocity.jump.back.x)*Root,Const(size.xscale), -1, 1 )
ignorehitpause	= 1

;------------------- 追撃後退
[State 20015, Walk]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= (Var(57) & 32) && Root,P2StateType = A
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中やられの相手に(相手がちょっとこっちに来てる以下の時、すでに相手が後ろに居る場合)
trigger1	= (Var(57) & 16)
trigger1	= FVar(39) <= 0
trigger1	= Root,P2Dist X < 0
; 空中やられの相手に(相手がちょっとこっちに来てる時、下潜りしないぐらいの距離)
trigger2	= (Var(57) & 16)
trigger2	= FVar(39) = (-1.5, 0)
trigger2	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) >= 30*Root,Const(size.xscale))
trigger2	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger2	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) = [-14.0*Root,Const(size.xscale), 50.0*Root,Const(size.xscale)] )
; 空中やられの相手に(相手がこっちに来てる時、下潜りしないぐらいの距離)
trigger3	= (Var(57) & 16)
trigger3	= FVar(39) < 0
trigger3	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) >= 30*Root,Const(size.xscale))
trigger3	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger3	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) = [-9.0*Root,Const(size.xscale), 60.0*Root,Const(size.xscale)] )
; 空中やられの相手に(相手がちょっとこっちに来てる時、高度が低い、下潜りしないぐらいの距離との対応に注意)
trigger4	= (Var(57) & 16)
trigger4	= FVar(39) = (-1.5, 0)
trigger4	= !( (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) ) )
trigger4	= ( Root,P2Dist X >= 0 && Root,P2Dist X + 20.0*FVar(39) <= 42.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手がこっちに来てる時、高度が低い、下潜りしないぐらいの距離との対応に注意)
trigger5	= (Var(57) & 16)
trigger5	= FVar(39) < 0
trigger5	= !( (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) ) )
trigger5	= ( Root,P2Dist X >= 0 && Root,P2Dist X + 20.0*FVar(39) <= 55.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手があまり前に進んでいない未満の時、高度が低い、下潜りしないぐらいの距離との対応に注意)
trigger6	= (Var(57) & 16)
trigger6	= (FVar(39) = [0, 1))
trigger6	= !( (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) ) )
trigger6	= ( Root,P2Dist X >= 0 && Root,P2Dist X + 20.0*FVar(39) <= 50.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手が前に進んでる時、高度が低い、下潜りしないぐらいの距離との対応に注意)
trigger7	= (Var(57) & 16)
trigger7	= (FVar(39) >= 1)
trigger7	= !( (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) ) )
trigger7	= ( Root,P2Dist X >= 0 && Root,P2Dist X + 20.0*FVar(39) <= 40.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手があまり前に進んでいない未満の時)
trigger8	= (Var(57) & 16)
trigger8	= (FVar(39) = [0, 1))
trigger8	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) >= 60*Root,Const(size.xscale))
trigger8	= ( Root,P2Dist X + 20.0*FVar(39) = [-5.0, 60.0*Root,Const(size.xscale)] ) || (Root,FrontEdgeBodyDist < 50*Root,Const(size.xscale))
; 空中やられの相手に(相手が前に進んでる時)
trigger9	= (Var(57) & 16)
trigger9	= (FVar(39) >= 1)
trigger9	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) >= 50*Root,Const(size.xscale))
trigger9	= ( Root,P2Dist X + 20.0*FVar(39) = [-5.0, 20.0*Root,Const(size.xscale)] ) || (Root,FrontEdgeBodyDist < 50*Root,Const(size.xscale))
; 空中やられの相手に、ダッシュ中
trigger10	= FVar(39) < 0 && ((Root,Var(2) & 131071) = [101, 102])
trigger10	= ( Root,P2Dist X < -40 )
var(56)		= 21
ignorehitpause	= 1

;------------------- 追撃ダッシュ
[State 20015, Dash]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= Root,P2StateType = A
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= !((Var(57) & 32768) && !(Var(57) & 65536))
; 空中やられの相手に(ダッシュ中も込み)
trigger1	= ((Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])) || ((Root,Var(2) & 131071) = [101, 102])
trigger1	= (Root,FrontEdgeBodyDist >= 60*Root,Const(size.xscale))
trigger1	= FVar(39) >= 0
trigger1	= ( Root,P2Dist X + 20.0*FVar(39) >= 90.0*Root,Const(size.xscale) )
; 空中やられの相手に(ダッシュ中も込み)
trigger2	= ((Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])) || ((Root,Var(2) & 131071) = [101, 102])
trigger2	= FVar(39) < 0
trigger2	= ( Root,P2Dist X + 20.0*FVar(39) >= 110.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手がこっちに来てる時、下潜り)
trigger3	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
trigger3	= FVar(39) <= -1.0 || (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 30*Root,Const(size.xscale))
trigger3	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger3	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) <= 30*Root,Const(size.xscale) )
; 空中やられの相手に(相手があまり前に進んでいない未満の時、下潜り)
trigger4	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
trigger4	= FVar(39) < 1.0
trigger4	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 60*Root,Const(size.xscale))
trigger4	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger4	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) = [-20.0, 35*Root,Const(size.xscale)] )
; 空中やられの相手に(相手が前に進んでる時、下潜り)
trigger5	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
trigger5	= (FVar(39) >= 1)
trigger5	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 50*Root,Const(size.xscale))
trigger5	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger5	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) = [-20.0, 25*Root,Const(size.xscale)] )
; 空中やられの相手に、ダッシュ中(相手がこっちに来てる時、下潜り)
trigger6	= ((Root,Var(2) & 131071) = [101, 102])
trigger6	= FVar(39) < 0
trigger6	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger6	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) <= 30*Root,Const(size.xscale) )
trigger6	= ( Root,P2Dist X + 5.0*FVar(39) > -40*Root,Const(size.xscale) ) || (Root,BackEdgeBodyDist < 75*Root,Const(size.xscale))
; 空中やられの相手に、ダッシュ中(相手があまり前に進んでいない未満の時、下潜り)
trigger7	= ((Root,Var(2) & 131071) = [101, 102])
trigger7	= FVar(39) < 1.0
trigger7	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 60*Root,Const(size.xscale))
trigger7	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger7	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) <= 35*Root,Const(size.xscale) )
trigger7	= ( Root,P2Dist X + 5.0*FVar(39) > -40*Root,Const(size.xscale) )
; 空中やられの相手に、ダッシュ中(相手が前に進んでる時、下潜り)
trigger8	= ((Root,Var(2) & 131071) = [101, 102])
trigger8	= (FVar(39) >= 1)
trigger8	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 50*Root,Const(size.xscale))
trigger8	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger8	= ( Root,P2Dist X + 20.0*FVar(39) - 0.30*(-(Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y) - 60)*Root,Const(size.xscale) <= 25*Root,Const(size.xscale) )
trigger8	= ( Root,P2Dist X + 5.0*FVar(39) > -40*Root,Const(size.xscale) )
var(56)		= 100
ignorehitpause	= 1

;------------------- 追撃前進
[State 20015, Walk]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2MoveType = H && Root,P2StateType != L
triggerall	= !((Root,Var(2) & 131071) = [101, 102])
triggerall	= (Var(57) & 16) && Root,P2StateType = A
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= !((Var(57) & 32768) && !(Var(57) & 65536))
; 空中やられの相手に
trigger1	= !((Root,Var(2) & 131071) = [101, 102])
trigger1	= (FVar(39) < 0) || (Root,FrontEdgeBodyDist >= 60*Root,Const(size.xscale))
trigger1	= ( Root,P2Dist X + 20.0*FVar(39) >= 70.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手がこっちに来てる時、下潜り)
trigger2	= !((Root,Var(2) & 131071) = [101, 102])
trigger2	= FVar(39) <= -1.0 || (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 30*Root,Const(size.xscale))
trigger2	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger2	= ( Root,P2Dist X + 20.0*FVar(39) <= 30.0*Root,Const(size.xscale) )
; 空中やられの相手に(相手があまり前に進んでいない未満の時、下潜り)
trigger3	= !((Root,Var(2) & 131071) = [101, 102])
trigger3	= FVar(39) < 1.0
trigger3	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 60*Root,Const(size.xscale))
trigger3	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger3	= ( Root,P2Dist X + 20.0*FVar(39) = [-30.0*Root,Const(size.xscale), 30.0*Root,Const(size.xscale)] )
; 空中やられの相手に(相手が前に進んでる時、下潜り)
trigger4	= !((Root,Var(2) & 131071) = [101, 102])
trigger4	= (FVar(39) >= 1)
trigger4	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 50*Root,Const(size.xscale))
trigger4	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger4	= ( Root,P2Dist X + 20.0*FVar(39) = [-30.0*Root,Const(size.xscale), 30.0*Root,Const(size.xscale)] )
; 空中やられの相手に、前進中(相手がこっちに来てる時、下潜り)
trigger5	= Var(40) = 20
trigger5	= FVar(39) < 0
trigger5	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger5	= ( Root,P2Dist X + 20.0*FVar(39) <= 30.0*Root,Const(size.xscale) )
trigger5	= ( Root,P2Dist X >= -2*Root,Const(size.xscale) )
; 空中やられの相手に、前進中(相手があまり前に進んでいない未満の時、下潜り)
trigger6	= Var(40) = 20
trigger6	= FVar(39) < 1
trigger6	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 60*Root,Const(size.xscale))
trigger6	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger6	= ( Root,P2Dist X + 20.0*FVar(39) <= 30.0*Root,Const(size.xscale) )
trigger6	= ( Root,P2Dist X >= -2*Root,Const(size.xscale) )
; 空中やられの相手に、前進中(相手が前に進んでる時、下潜り)
trigger7	= Var(40) = 20
trigger7	= (FVar(39) >= 1)
trigger7	= (Root,BackEdgeBodyDist + Root,P2Dist X + 5.0*FVar(39) < 50*Root,Const(size.xscale))
trigger7	= (Root,P2BodyDist Y + 5*Enemy(Var(54)),Vel Y <= -60) && ( Enemy(Var(54)),Vel Y < 0 || (Root,P2BodyDist Y <= -(70 + 5*Enemy(Var(54)),Vel Y + 0.71*(Root,P2Dist X + 5*FVar(39))*(Root,P2Dist X >= 0))*Root,Const(size.yscale)) )
trigger7	= ( Root,P2Dist X + 20.0*FVar(39) <= 30.0*Root,Const(size.xscale) )
trigger7	= ( Root,P2Dist X >= -2*Root,Const(size.xscale) )
var(56)		= 20
ignorehitpause	= 1





;---------------------------------------------------------------------------- 起き攻め行動

;------------------- 起き上がり残り時間計算
[State 20015, Get Up Time Reset]
type		= VarSet
trigger1	= 1
var(53)		= -1
ignorehitpause	= 1

[State 20015, Get Up Time Set]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= (Var(41) & 4)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive
triggerall	= (Enemy(Var(54)),StateNo = 7021 || Enemy(Var(54)),StateNo = 7026) && Root,P2StateType = L && Root,P2MoveType = I
trigger1	= Enemy(Var(54)),Anim = [5110, 5119]
var(53)		= 30 - (Enemy(Var(54)),Time - 1)
ignorehitpause	= 1

[State 20015, Get Up Time Set]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= (Var(41) & 4)
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive
triggerall	= (Enemy(Var(54)),StateNo = 7021 || Enemy(Var(54)),StateNo = 7026) && Root,P2StateType = L && Root,P2MoveType = I
trigger1	= Enemy(Var(54)),Anim = [5120, 5129]
var(53)		= IfElse( Enemy(Var(54)),AnimTime <= 0 && -1*Enemy(Var(54)),AnimTime <= 90 - (Enemy(Var(54)),Time - 1), -1*Enemy(Var(54)),AnimTime, 90 - (Enemy(Var(54)),Time - 1) )
ignorehitpause	= 1

;------------------- ジャンプ
[State 20015, N Jump]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 32)
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (41 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
; 起き攻め(生出し 暴れ潰し)
trigger1	= !(Var(44) & 28)
trigger1	= Random < 600
trigger1	= Var(53) = 26-1
var(56)		= 40
ignorehitpause	= 1

[State 20015, F Jump]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 32)
triggerall	= !((Root,Var(2) & 131071) = [100, 104])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) > (41 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (36*Root,Const(velocity.jump.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
; 起き攻め(生出し 暴れ潰し)
trigger1	= !(Var(44) & 28)
trigger1	= Random < 600
trigger1	= Var(53) = 26-1
var(56)		= 41
ignorehitpause	= 1

[State 20015, F High Jump]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 32)
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) > (36*Root,Const(velocity.jump.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (36*Root,Const(velocity.runjump.fwd.x) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
; 起き攻め(生出し 暴れ潰し)
trigger1	= !(Var(44) & 28)
trigger1	= Random < 600
trigger1	= Var(53) = 26-1
var(56)		= 44
ignorehitpause	= 1

;------------------- 溜JCD
[State 20015, Charge JCD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= (Root,StateType = A)
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 起き攻め(生出し 暴れ潰し)
trigger1	= (Var(57) & 32)
trigger1	= ((Root,Var(2) & 131071) = [47, 51])
trigger1	= Var(53) = 18-1
; 継続
trigger2	= ((Root,Var(2) & 131071) = 611)
trigger2	= Var(42) > 0 && (Var(40) = 601)
var(56)		= 601
ignorehitpause	= 1

;------------------- 突っ張り
[State 20015, 6B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 32)
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (90 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
; 起き攻め(生出し すかし、暴れ潰し)
trigger1	= !(Var(44) & 28)
trigger1	= Random < 300
trigger1	= Var(53) = 31-1
; 起き攻め(生出し すかし、打撃)
trigger2	= (Var(44) & 28) = 4
trigger2	= Var(53) = 31-1
; 起き攻め(生出し すかし、投げ)
trigger3	= (Var(44) & 28) = 8
trigger3	= Random < 500
trigger3	= Var(53) = 31-1
var(56)		= 720
ignorehitpause	= 1

;------------------- 屈B
[State 20015, 2B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 32)
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (80 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
triggerall	= (Var(44) & 28) = 4
; 起き攻め(突っ張り すかしから)
trigger1	= ((Root,Var(26) & 131071) = 721)
trigger1	= Var(53) = [5-1, 6-1]
var(56)		= 310
ignorehitpause	= 1

;------------------- 突っ張り・追加入力
[State 20015, 6B・B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Var(53) >= 0
triggerall	= (Var(44) & 28) = 4
; 起き攻め(突っ張りから派生)
trigger1	= Random < 800
trigger1	= ((Root,Var(2) & 131071) = 721)
trigger1	= Var(53) = 11-1
var(56)		= 704
ignorehitpause	= 1

;------------------- がぶり寄り
[State 20015, Gaburi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (75 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
triggerall	= (Var(44) & 28) = 8
; 起き攻め(生出し)
trigger1	= Random < 800
trigger1	= (Var(57) & 64) || (Var(57) & 2048)
trigger1	= Var(53) = 21-1-4
; 起き攻め(生出し遅め)
trigger2	= (Var(57) & 64) || (Var(57) & 2048)
trigger2	= Var(53) = [1, 2]
; 起き攻め(突っ張り すかしから)
trigger3	= Random < 800
trigger3	= ((Root,Var(26) & 131071) = 721)
trigger3	= (Var(57) & 64)
var(56)		= 1600
ignorehitpause	= 1

;------------------- 寄り切り
[State 20015, Yorikiri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 7)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
triggerall	= (Var(44) & 28) = 8
; 起き攻め(生出し)
trigger1	= Random < 500
trigger1	= (Var(57) & 64) || (Var(57) & 2048)
trigger1	= Var(53) = 9-1-4
; 起き攻め(突っ張り すかしから)
trigger2	= ((Root,Var(26) & 131071) = 721)
trigger2	= (Var(57) & 64)
var(56)		= 1200
ignorehitpause	= 1

;------------------- 小手投げ(弱)
[State 20015, Kotenage W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (80 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
triggerall	= !(Var(44) & 28)
; 起き攻め(生出し)
trigger1	= Random < 300
trigger1	= (Var(57) & 64) || (Var(57) & 2048)
trigger1	= Var(53) = 2
var(56)		= 1100
ignorehitpause	= 1

;------------------- 超頭突き(弱)
[State 20015, Tyo Zutsuki W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (80 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
triggerall	= Var(53) >= 0
; 起き攻め(生出し)
trigger1	= (Var(57) & 64) || (Var(57) & 2048)
trigger1	= Var(53) = 1
var(56)		= 1500
ignorehitpause	= 1

;------------------- ダッシュ
[State 20015, Dash]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(41) & 4)
triggerall	= !InGuardDist || (Var(57) & 65536)
triggerall	= NumEnemy
; 起き攻め(生だし)
trigger1	= ((Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])) || ((Root,Var(2) & 131071) = [101, 102])
trigger1	= ((60 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
var(56)		= 100
ignorehitpause	= 1

;------------------- 前進
[State 20015, Walk Front]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(41) & 4)
triggerall	= !InGuardDist || (Var(57) & 65536)
triggerall	= NumEnemy
; 起き攻め(生だし)
trigger1	= (Var(57) & 16)
trigger1	= ((40 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
var(56)		= 20
ignorehitpause	= 1





;---------------------------------------------------------------------------- 生だし行動
; 自キャラが操作可能状態から出す行動、ただしタイミングの連続・連携は含まない
; 超反応行動やガード後や相殺後の行動もこっち
;
;
;技					x手前	x奥		(Var(58) & 1023)の範囲
;
;
;[近距離投げ]
;大一番				-42		42		0 <= x < 250
;通常投げ			-11		11		0 <= x < 250
;掛け投げ			-35		35		0 <= x < 250
;寄り切り			-51		51		250 <= x < 350
;
;
;[近中距離]
;小手投げ			-100	91		350 <= x < 450
;小手投げ(対)		-100	91		350 <= x < 500
;突き上げ			-105	105		500 <= x < 575
;がぶり				-35		125		600 <= x < 675
;
;
;[中距離]
;3D					50		70		0 <= x < 75
;6B					55		81		75 <= x < 200
;CD					65		79		200 <= x < 250
;溜CD				70		84		250 <= x < 300
;3C					70		92		300 <= x < 375
;五輪突き(強)		75		140		700 <= x < 850
;五輪突き(強、対)	75		140		700 <= x < 775
;ぶちかまし(対)		75		200		700 <= x < 880
;
;
;[近距離]
;屈A				-32		32		400 <= x < 1000
;屈B				-37		37		0 <= x < 700
;立B				-54		54		500 <= x < 1000
;屈C(対空)			-65		65		0 <= x < 200
;立A(対空)			-70		70		200 <= x < 400
;C投げ(対空)		-39		39		400 <= x < 750
;C投げ(対空)		-75		75		400 <= x < 600
;
;
;[遠距離]
;四股(弱)			160		-		25 <= x < 60
;四股(強)			175		-		60 <= x < 75
;
;
;[空中]
;D投げ				-20		20		200 <= x < 1000
;JCD				-29		26		600 <= x < 800
;溜JCD				-39		34		700 <= x < 900
;小手投げ(弱強)		-20		80		500 <= x < 550
;小手投げ(弱、対)	-20		80		500 <= x < 600
;ぶちかまし(対)		75		200		350 <= x < 490
;JD					-10		35		0 <= x < 300
;JC					-26		30		0 <= x < 300
;JA					1		43		0 <= x < 300
;JB					-10		34		0 <= x < 300
;
;
;[基本動作]
;後退				-		-		950 <= x < 1000
;後退(倒)			-		-		100 <= x < 1000
;前進				90		-		0 <= x < 800
;前進(近)			-		89		0 <= x < 400
;前進(近、倒)		-		89		0 <= x < 25

;------------------- 確率行動を起こすか
[State 20015, Move Check]
type		= VarSet
triggerall	= !(Var(41) & 2)
; 通常判定
trigger1	= Random < Floor(52.0 + 7.0*Var(39)*Var(39))
; 敵がやられ状態
trigger2	= 0
trigger2	= (Root,P2MoveType = H && !(Root,P2StateNo = [150, 155]))
; やられからのリバーサル状態(前フレがやられ状態)
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= Random < Floor(40.0 + 5.625*Var(39)*Var(39))
; 空中
trigger4	= (Root,StateType = A) && (Var(57) & 32)
trigger4	= Random < Floor(40.0 + 5.625*Var(39)*Var(39))
var(57)		= (Var(57) | 4)
ignorehitpause	= 1

;------------------- 生だし等の攻撃行動するか(ガード中はあまり立てないようにする)
[State 20015, Attack Check]
type		= VarSet
triggerall	= (Var(57) & 4)
triggerall	= (Var(1) & 32)
; 通常判定(ガードを選択して無い場合は強気)
trigger1	= IfElse( ((Var(57) & 1) || (Var(57) & 2)) && Root,StateType != A, Random < 250, 1 )
; 相手が攻撃状態だけど、結構な時間たってる時(おそらく攻撃が終わったと思われる時)
trigger2	= NumEnemy
trigger2	= Enemy(Var(54)),NumProj <= 0 && (P2StateType != L) && Enemy(Var(54)),Time >= 35
var(57)		= (Var(57) | 8)
ignorehitpause	= 1



;
; [他]
;



;------------------- 挑発
[State 20015, Provocation]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= NumEnemy
; 継続
trigger1	= ((Root,Var(2) & 131071) = 196)
trigger1	= (Var(40) = 195) || (Var(40) = 196)
trigger1	= (Var(39) <= 4) || !((Var(57) & 1) || (Var(57) & 2))		; ガードフラグが立っていない
;trigger1	= Root,P2StateType = L || Root,P2MoveType = H
; 生だし(AI LVが低い時)
trigger2	= !(Var(41) & 4)
trigger2	= (Var(39) <= 5)
trigger2	= (Var(57) & 8) || ((Var(39) <= 4) && (Var(57) & 4))
trigger2	= ((Var(57) & 32) || Root,MoveReversed)
trigger2	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || (Root,P2StateType = L)
trigger2	= Random < IfElse( Root,P2StateType = L || Root,P2BodyDist X >= 180, 100, 25 )
var(56)		= 195 + ((Root,Var(2) & 131071) = 196)
ignorehitpause	= 1

;------------------- パワー溜め
[State 20015, Power Charge]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= NumEnemy
; ライフ溜め生だし(鋼体あり)パートナー無し
trigger1	= (Root,Var(13) < Root,Var(12))
trigger1	= NumHelper(30000)
trigger1	= (Var(57) & 8) && (Helper(30000),Var(3) + Helper(30000),Var(7)) >= 3
trigger1	= (Var(57) & 64)
trigger1	= !Root,NumPartner
trigger1	= Random < 20
; ライフ溜め生だし(鋼体あり)パートナー有り(パートナーが死んでる時)
trigger2	= (Root,Var(13) < Root,Var(12))
trigger2	= NumHelper(30000)
trigger2	= (Var(57) & 8) && (Helper(30000),Var(3) + Helper(30000),Var(7)) >= 3
trigger2	= (Var(57) & 64)
trigger2	= Root,NumPartner
trigger2	= !Partner,Alive
trigger2	= Random < 20
; パワー溜中、ライフ溜め継続(鋼体あり)
trigger3	= (Root,Var(13) < Root,Var(12))
trigger3	= NumHelper(30000)
trigger3	= ((Root,Var(2) & 131071) = [4100, 4103])
trigger3	= (Helper(30000),Var(3) + Helper(30000),Var(7)) >= 2
trigger3	= Random < 998
; パワー溜め生だし(Z軸ずれ)
trigger4	= !(Root,P2BodyDist Z = (-9, 9))
;(size.z.width)trigger4	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger4	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger4	= (Root,Var(13) < Root,Var(12)) || (Root,Power < Root,PowerMax)
trigger4	= (Var(57) & 8)
trigger4	= (Var(57) & 64)
trigger4	= Random < 150
; パワー溜中、パワー溜め継続(Z軸ずれ)
trigger5	= !(Root,P2BodyDist Z = (-9, 9))
;(size.z.width)trigger5	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger5	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger5	= (Root,Var(13) < Root,Var(12)) || (Root,Power < Root,PowerMax)
trigger5	= ((Root,Var(2) & 131071) = [4100, 4103])
trigger5	= Random < 997
var(56)		= 4100 + (Root,Var(13) < Root,Var(12))
ignorehitpause	= 1

;------------------- MAX我慢
[State 20015, Endure MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= (Var(51) >= 2000)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= NumHelper(30000)
triggerall	= (Helper(30000),Var(3) + Helper(30000),Var(7)) < 5
triggerall	= Helper(30000),Var(3) <= 1*((Root,Var(32) & 7) = 2) + 5*((Root,Var(32) & 7) <= 1)
; 生だし(通常モード以外)
trigger1	= (Root,Var(32) & 7) < 4
trigger1	= ((Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || Root,P2StateType = L)
trigger1	= Random < 50
trigger1	= Random >= IfElse((Root,Var(32) & 7) < 3, 500, 700) * FVar(37)
; 相殺(通常モード以外)
trigger2	= (Root,Var(32) & 7) < 4
trigger2	= Random < 50 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
trigger2	= Random >= 700 * FVar(37)
trigger2	= Root,MoveReversed = 1
; 生だし(通常モード)
trigger3	= (Root,Var(32) & 7) = 4
trigger3	= ((Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || Root,P2StateType = L)
trigger3	= FVar(37) <= 0.275
trigger3	= Random < 80
trigger3	= Random >= 1250 * FVar(37)
; リバーサルでの生だし
trigger4	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger4	= Random < IfElse((Var(51) >= 3000), 150, 50) && (Root,P2MoveType != H)
; リバーサルでの生だし(起き上がり、タゲステからの回復)
trigger5	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger5	= Random < IfElse((Var(51) >= 3000), 250, 70) && (Root,P2MoveType != H)
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 生だし(Z軸ずれ)
;(size.z.width)trigger5	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger6	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger6	= Random < 400
var(56)		= 3700
ignorehitpause	= 1

;------------------- 我慢
[State 20015, Endure]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= (Var(51) >= 1000)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= NumHelper(30000)
triggerall	= (Helper(30000),Var(3) + Helper(30000),Var(7)) < 5
triggerall	= Helper(30000),Var(3) <= 1*((Root,Var(32) & 7) >= 3) + 2*((Root,Var(32) & 7) = 2) + 6*((Root,Var(32) & 7) <= 1)
; 生だし(通常モード以外)
trigger1	= (Root,Var(32) & 7) < 4
trigger1	= ((Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || Root,P2StateType = L)
trigger1	= (Helper(30000),Var(3) > 0) || (Var(51) < 2000)
trigger1	= Random < 40
trigger1	= Random >= IfElse((Root,Var(32) & 7) < 3, 550, 750) * FVar(37)
; 相殺(通常モード以外)
trigger2	= (Root,Var(32) & 7) < 4
trigger2	= (Helper(30000),Var(3) > 0) || (Var(51) < 2000)
trigger2	= Random < 40 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
trigger2	= Random >= 750 * FVar(37)
trigger2	= Root,MoveReversed = 1
; 生だし(通常モード)
trigger3	= (Root,Var(32) & 7) = 4
trigger3	= ((Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || Root,P2StateType = L)
trigger3	= (Helper(30000),Var(3) > 0) || (Var(51) < 2000)
trigger3	= FVar(37) <= 0.275
trigger3	= Random < 60
trigger3	= Random >= 1500 * FVar(37)
; リバーサルでの生だし
trigger4	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger4	= Random < IfElse((Var(51) >= 2000), 100, 40) && (Root,P2MoveType != H)
; リバーサルでの生だし(起き上がり、タゲステからの回復)
trigger5	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger5	= Random < IfElse((Var(51) >= 2000), 200, 50) && (Root,P2MoveType != H)
trigger5	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 生だし(Z軸ずれ)
;(size.z.width)trigger5	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger6	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger6	= Random < 400
var(56)		= 3600
ignorehitpause	= 1



;
; [近距離投げ]
;



;------------------- MAX大一番
[State 20015, Oichiban MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -42*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	=(Root,P2MoveType != H)
trigger1	= Random >= 750 * FVar(37)
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Random >= 750 * FVar(37) * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
trigger2	= Root,MoveReversed = 1 && Random <= 100
var(56)		= 3300
ignorehitpause	= 1

;------------------- 大一番
[State 20015, Oichiban]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= (Var(51) >= 1000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -42*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 42*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= Random >= 1500 * FVar(37)
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Random >= 1500 * FVar(37) * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
trigger2	= Root,MoveReversed = 1 && Random <= 100
var(56)		= 3200
ignorehitpause	= 1

;------------------- 通常投げ
; 敵が1人(or 敵相方は死んでる)
[State 20015, Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 32) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -11*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 11*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 900 + 10*(IfElse( Root,BackEdgeBodyDist >= 120*Root,Const(size.xscale) && Root,FrontEdgeBodyDist >= 120*Root,Const(size.xscale), Random < 500, (Root,P2Dist X < 0) ^^ (Root,BackEdgeBodyDist < Root,FrontEdgeBodyDist) ))
ignorehitpause	= 1

; 敵が2人以上(敵相方は生きてる)
[State 20015, Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy >= 2 && (Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 32) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -11*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 11*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 900 + 10*((Root,P2Dist X < 0) ^^ ((Enemy(!Var(54)),Pos X - Root,Pos X)*Root,Facing < 0))
ignorehitpause	= 1

;------------------- 掛け投げ
; 敵が1人(or 敵相方は死んでる)
[State 20015, Kakenage]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 1301 - 1*(IfElse( Root,BackEdgeBodyDist >= 120*Root,Const(size.xscale) && Root,FrontEdgeBodyDist >= 120*Root,Const(size.xscale), Random < 500, (Root,P2Dist X < 0) ^^ (Root,BackEdgeBodyDist < Root,FrontEdgeBodyDist) ))
ignorehitpause	= 1

; 敵が2人以上(敵相方は生きてる)
[State 20015, Kakenage]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy >= 2 && (Var(57) & 262144)
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= ((Var(58) & 1023) < 250) && Random < 950
; 相殺
trigger2	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 1301 - 1*((Root,P2Dist X < 0) ^^ ((Enemy(!Var(54)),Pos X - Root,Pos X)*Root,Facing < 0))
ignorehitpause	= 1

;------------------- 寄り切り
[State 20015, Yorikiri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 7)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2StateNo != [150, 155]) && ((Root,P2StateType = S) || (Root,P2StateType = C))
triggerall	= (Root,P2Dist X >= -35*Root,Const(size.xscale) - 2*Root,Const(size.ground.front))
triggerall	= (Root,P2BodyDist X <= 35*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= ((Var(58) & 1023) = [250, 350)) && Random < 950
; チーム戦での生だし
trigger2	= (Root,P2MoveType != H) && NumEnemy >= 2 && (Var(57) & 262144)
trigger2	= Random < 40
; リバーサルでの生だし
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= (Root,P2MoveType != H) && Random < 60
; 相殺
trigger4	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 1200
ignorehitpause	= 1



;
; [ぶっ放し(対空)]
;



;------------------- MAX諸手突き
[State 20015, Morotezuki MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-80*Root,Const(size.yscale), 50*Root,Const(size.yscale)])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (80 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上の相手の攻撃に対して生だし
trigger1	= (Root,P2MoveType = A) && !(Var(57) & 131072)
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= Enemy(Var(54)),Time <= 20
trigger1	= IfElse( Enemy(Var(54)),Time <= 12, Random < 15 + 1.5*Enemy(Var(54)),Time, Random < 35 )
; 空中の相手に対して生だし
trigger2	= (Root,P2StateType = A) && (Enemy(Var(54)),Vel Y > 0.25) && Random < 20
var(56)		= 3500
ignorehitpause	= 1

;------------------- MAX合掌ひねり
[State 20015, Gassyou Hineri MAX]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= (Var(51) >= 2000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-160*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (200 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 相手の攻撃に対して生だし
trigger1	= (Root,P2MoveType = A) && !(Var(57) & 131072) && (Enemy(Var(54)),Time <= 1)
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= Enemy(Var(54)),Time <= 10
trigger1	= IfElse( Enemy(Var(54)),Time <= 12, Random < 15 + 1.5*Enemy(Var(54)),Time, Random < 35 )
var(56)		= 3100
ignorehitpause	= 1

;------------------- 合掌ひねり
[State 20015, Gassyou Hineri]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)) || ((Root,StateType != A) && (Var(57) & 4096)))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= (Var(51) >= 1000)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-160*Root,Const(size.yscale), 40*Root,Const(size.yscale)])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (200 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 相手の攻撃に対して生だし
trigger1	= (Root,P2MoveType = A) && !(Var(57) & 131072) && (Enemy(Var(54)),Time <= 1)
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= Enemy(Var(54)),Time <= 10
trigger1	= IfElse( Enemy(Var(54)),Time <= 12, Random < 10 + 1.0*Enemy(Var(54)),Time, Random < 25 )
var(56)		= 3000
ignorehitpause	= 1

;------------------- 突き上げ(弱)
[State 20015, Tsukiage W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= ( (Enemy(Var(54)),Vel Y <= 0) && (Root,P2BodyDist Y = [-30-5*Enemy(Var(54)),Vel Y, 30-5*Enemy(Var(54)),Vel Y]) ) || ( (Enemy(Var(54)),Vel Y > 0.25) && (Root,P2BodyDist Y >= -100) )
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 対空
trigger1	= (Root,P2StateType = A) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Random < 60
var(56)		= 1400
ignorehitpause	= 1

;------------------- (空中)超頭突き(強)
[State 20015, Tyo Zutsuki S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || (Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= ((100 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
triggerall	= ( (Enemy(Var(54)),Vel Y <= 0) && (Root,P2BodyDist Y = [-40-5*Enemy(Var(54)),Vel Y, 40-5*Enemy(Var(54)),Vel Y]) ) || ( (Enemy(Var(54)),Vel Y > 0.25) && (Root,P2BodyDist Y >= -100) )
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= (Root,P2StateType = S || Root,P2StateType = C) && (Root,StateType = S || Root,StateType = C) && Random < 20
; チーム戦での生だし
trigger2	= (Root,P2MoveType != H) && NumEnemy >= 2 && (Var(57) & 262144)
trigger2	= Random < 60
; 相手の攻撃に対して生だし
trigger3	= !Enemy(Var(54)),Ctrl && (Root,P2MoveType = A || Enemy(Var(54)),NumProj > 0) && !(Var(57) & 131072)
trigger3	= Enemy(Var(54)),Time <= 10
trigger3	= IfElse( Enemy(Var(54)),Time <= 12, Random < 20 + 2.0*Enemy(Var(54)),Time, Random < 45 )
; 相手の飛び道具に対して生だし
trigger4	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger4	= Enemy(Var(54)),NumProj > 0 && Random < 60
var(56)		= 1502
ignorehitpause	= 1

;------------------- (空中)超頭突き(弱)
[State 20015, Tyo Zutsuki W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || (Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (120 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= ( (Enemy(Var(54)),Vel Y <= 0) && (Root,P2BodyDist Y = [-40-5*Enemy(Var(54)),Vel Y, 40-5*Enemy(Var(54)),Vel Y]) ) || ( (Enemy(Var(54)),Vel Y > 0.25) && (Root,P2BodyDist Y >= -100) )
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Root,P2MoveType != H)
trigger1	= (Root,P2StateType = S || Root,P2StateType = C) && (Root,StateType = S || Root,StateType = C) && Random < 10
; チーム戦での生だし
trigger2	= (Root,P2MoveType != H) && NumEnemy >= 2 && (Var(57) & 262144)
trigger2	= Random < 60
; リバーサルでの生だし
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= (Root,P2MoveType != H) && Random < 60
; 相手の攻撃に対して生だし
trigger4	= (Root,P2MoveType = A) && !(Var(57) & 131072)
trigger4	= Enemy(Var(54)),Time <= 15
trigger4	= IfElse( Enemy(Var(54)),Time <= 12, Random < 15 + 1.0*Enemy(Var(54)),Time, Random < 30 )
; 相手の飛び道具に対して生だし
trigger5	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger5	= Enemy(Var(54)),NumProj > 0 && Random < 50
; 対空
trigger6	= (Root,P2StateType = A) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && (Root,StateType = S || Root,StateType = C) && Random < 25
; 相殺
trigger7	= Root,MoveReversed = 1 && Random <= 125
var(56)		= 1500
ignorehitpause	= 1

;------------------- シールド
[State 20015, Shield]
type		= Null;VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= (Root,Var(32) & 7) < 4
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || (Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 近距離攻撃に生だし
trigger1	= !(Var(57) & 65536)
trigger1	= !((Root,Var(26) & 131071) = [4600 ,4629])
trigger1	= Random < 30 && (InGuardDist || (Var(57) & 16384))
trigger1	= Enemy(Var(54)),NumProj > 0 || (Enemy(Var(54)),Time >= 2 && Root,P2MoveType = A) && !(Var(57) & 131072)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (60 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= IfElse( Root,StateType != A, IfElse( Root,P2StateType != C, 4600, 4610 ), 4600 )
ignorehitpause	= 1



;
; [近中距離]
;



;------------------- 小手投げ(弱)
[State 20015, Kotenage W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= Random >= 900*(Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [350, IfElse( (Root,Var(32) & 7) < 4, 500, 450 ))) && Random < 500
trigger1	= (Root,P2MoveType != H)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [0, (58 +28+5 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
trigger1	= (Root,P2BodyDist Y = [-40, 40])
; チーム戦での生だし
trigger2	= Random < 30
trigger2	= NumEnemy >= 2 && (Var(57) & 262144)
trigger2	= (Root,P2MoveType != H)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [0, (58 +28+5 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
trigger2	= (Root,P2BodyDist Y = [-40, 40])
var(56)		= 1100
ignorehitpause	= 1

;------------------- 突き上げ(強)
[State 20015, Tsukiage S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [500, 575)) && Random < 500
trigger1	= (Root,P2MoveType != H)
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [(75 + Root,Const(size.ground.front))*Root,Const(size.xscale), (105 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
trigger1	= (Root,P2BodyDist Y = [-40, 40])
var(56)		= 1410
ignorehitpause	= 1

;------------------- がぶり寄り
[State 20015, Gaburi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= !(Var(41) & ((32*!Var(54)) | (4096*!!Var(54))))
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,P2BodyDist X = [-35*Root,Const(size.xscale), 125*Root,Const(size.xscale)])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger1	= (Root,P2MoveType != H)
trigger1	= ((Var(58) & 1023) = [600, 675)) && Random <= 500
; 相殺
trigger2	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger2	= (Root,P2MoveType != H)
trigger2	= Root,MoveReversed = 1 && Random <= 100 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
; 相手の攻撃に対して生だし
trigger3	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger3	= (Root,P2MoveType = A) && !(Var(57) & 131072)
trigger3	= Enemy(Var(54)),Time <= 15
trigger3	= IfElse( Enemy(Var(54)),Time <= 12, Random < 15 + 1.0*Enemy(Var(54)),Time, Random < 30 )
; 相手の飛び道具に対して生だし
trigger4	= ((Root,P2StateType = S) || (Root,P2StateType = C)) || ( (Root,P2StateType = A) && (Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y >= 0) )
trigger4	= (Root,P2MoveType != H)
trigger4	= Enemy(Var(54)),NumProj > 0 && Random < 90
; 着地しそうな相手に生だし
trigger5	= (Root,P2StateType = A) && (Root,P2MoveType != H) && (Root,P2BodyDist Y + 20*Enemy(Var(54)),Vel Y >= -5) && (Enemy(Var(54)),Vel Y > 0.5)
trigger5	= Random < 50
; チーム戦での生だし
trigger6	= (Root,P2MoveType != H) && NumEnemy >= 2 && (Var(57) & 262144)
trigger6	= Random < 75
trigger6	= ((Enemy(Var(54)),StateType = S) || (Enemy(Var(54)),StateType = C)) || ((Enemy(!Var(54)),StateType = S) || (Enemy(!Var(54)),StateType = C))
; リバーサルでの生だし
trigger7	= ((Root,P2StateType = S) || (Root,P2StateType = C))
trigger7	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger7	= (Root,P2MoveType != H) && Random < 60
var(56)		= 1600
ignorehitpause	= 1



;
; [中距離]
;



;------------------- EHキック
[State 20015, 3D]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [0, 75)) && Random < 950
trigger1	= (Root,P2StateType = S || Root,P2StateType = C)
trigger1	= (Root,P2BodyDist Y = [-30, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (50 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (90 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*4.1523365625)
var(56)		= 740
ignorehitpause	= 1

;------------------- 突っ張り
[State 20015, 6B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [75, 200)) && Random < 950
trigger1	= (Root,P2StateType = S) || (Root,P2StateType = C)
trigger1	= (Root,P2BodyDist Y = [-50, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (55 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (63 +38-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*4.85006316640625)
var(56)		= 720
ignorehitpause	= 1

;------------------- CD
[State 20015, CD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [250, 250)) && Random < 950
trigger1	= (Root,P2BodyDist Y = [-60, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (65 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (55 +28+5-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*6.171659425092907018218994140625)
var(56)		= 600
ignorehitpause	= 1

;------------------- 溜CD
[State 20015, Charge CD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [250, 300)) && Random < 950
trigger1	= NumEnemy
trigger1	= ((Var(57) & 32))
trigger1	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
trigger1	= (Root,P2BodyDist Y = [-60, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (70 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (55 +28+10-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*6.5838305492118652518831920759167)
;(size.z.width)trigger1	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger1	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 継続
trigger2	= ((Root,Var(2) & 131071) = 601)
trigger2	= Var(42) > 0 && (Var(40) = 601)
var(56)		= 601
ignorehitpause	= 1

;------------------- 喉輪
[State 20015, 3C]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [300, 375)) && Random < 950
trigger1	= (Root,P2BodyDist Y = [-60, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (70 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 +61-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*6.0843052059916553155517578125)
var(56)		= 730
ignorehitpause	= 1

;------------------- 五輪突き(強)
[State 20015, Gorinduki]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= (Root,StateType = S) || (Root,StateType = C)
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [700, IfElse( (Root,Var(32) & 7) >= 4, 850, 775 ))) && Random < 950
trigger1	= (Root,P2BodyDist Y = [-40, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (70 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (71 +61-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*6.4799749252762558525444566903114)
var(56)		= 1901
ignorehitpause	= 1

;------------------- ぶちかまし
[State 20015, Butikamashi]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= (Root,Var(32) & 7) < 4
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || ((Root,Var(32) & 7) < 4 && (Root,StateType = A)))
triggerall	= NumEnemy
triggerall	= (Var(57) & 64) || ((Var(57) & 1024) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || ((Var(57) & 2048) && (Root,Var(2) & 131071) = 1701 && (Var(51) >= 500) && (Root,Var(32) & 7) < 4)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 地上生だし
trigger1	= (Var(57) & 8)
trigger1	= Random < 950
trigger1	= ((Root,Var(32) & 7) < 4) || ((Var(58) & 1023) = [700, 850))
trigger1	= ((Root,Var(32) & 7) >= 4) || ((Var(58) & 1023) = [700, 880))
trigger1	= (Root,StateType = S) || (Root,StateType = C)
trigger1	= (Root,P2BodyDist Y = [-40, 40])
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (75 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Var(57) & 32768) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (200 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 空中生だし
trigger2	= (Var(57) & 8)
trigger2	= ((Var(58) & 1023) = [350, 490)) && Random < 950
trigger2	= (Root,StateType = A)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (20 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger2	= (Var(57) & 32768) || (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (200 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 相手の飛び道具に対して生だし
trigger3	= (Enemy(Var(54)),NumProj > 0 || (Enemy(Var(54)),HitDefAttr = SCA, AP)) && Random < 125
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) >= (40 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger3	= (Root,StateType = A) || (Root,P2BodyDist Y = [-150, 40])
; チーム戦での生だし
trigger4	= NumEnemy >= 2 && (Var(57) & 262144)
trigger4	= Random < 25
var(56)		= 1700
ignorehitpause	= 1



;
; [近距離]
;



;------------------- 屈A
[State 20015, Crouch A]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Enemy(Var(54)),Vel Y <= 0)
triggerall	= (Root,P2BodyDist Y = [-30, 50])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (52 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*1.85)
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [400, 1000)) && Random < 950
trigger1	= (Root,P2StateType != A || (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])))
; 相殺
trigger2	= (Var(57) & 8)
trigger2	= Root,MoveReversed = 1 && Random <= 200 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 300
ignorehitpause	= 1

;------------------- 屈B
[State 20015, Crouch B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-20, 60])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [0, 700)) && Random < 950
trigger1	= (Root,P2StateType != A || (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (57 -4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*3.70863125)
var(56)		= 310
ignorehitpause	= 1

;------------------- 立B
[State 20015, B]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-40, 40])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [500, 1000)) && Random < 950
trigger1	= (Root,P2StateType != A || (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])))
trigger1	= (Enemy(Var(54)),Vel Y <= 0)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (49 +25-4-1-(Root,Const(size.ground.front)-1) + Root,Const(size.ground.front))*Root,Const(size.xscale) - FVar(39)*3.186625)
var(56)		= 210
ignorehitpause	= 1

;------------------- 屈C
[State 20015, Crouch C]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-60, -1])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中の相手に生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [0, 200)) && Random < 950
trigger1	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= (Enemy(Var(54)),Vel Y <= 0)
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (65 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= 320
ignorehitpause	= 1

;------------------- 立A
[State 20015, A]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
triggerall	= (Root,P2BodyDist Y = [-50, -1])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中の相手に生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [200, 400)) && Random < 950
trigger1	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (70 + Root,Const(size.ground.front))*Root,Const(size.xscale))
var(56)		= 200
ignorehitpause	= 1

;------------------- C投げ
[State 20015, C Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 空中の相手に生だし(近距離)
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [400, 750)) && Random < 950
trigger1	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (22 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Root,P2BodyDist Y = [-120, -4])
; 空中の相手に生だし(遠距離)
trigger2	= (Var(57) & 8)
trigger2	= ((Var(58) & 1023) = [400, 600)) && Random < 950
trigger2	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) > (22 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (75 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger2	= (Root,P2BodyDist Y = [-110, -4])
var(56)		= 900
ignorehitpause	= 1



;
; [遠距離]
;



;------------------- 四股(弱)
[State 20015, Shiko W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 地上の相手に生だし(本体のZ軸攻撃範囲内)
trigger1	= (Var(57) & 8)
trigger1	= (Root,P2BodyDist Z = (-9, 9))
trigger1	= ((Var(58) & 1023) = [25, 60)) && Random < 950
trigger1	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= (Root,P2StateType = S || Root,P2StateType = C)
;(size.z.width)trigger1	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger1	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger1	= ((160 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; 寝てる相手に生だし(本体のZ軸攻撃範囲内)
trigger2	= (Var(57) & 8)
trigger2	= (Root,P2BodyDist Z = (-9, 9))
trigger2	= ((Var(58) & 1023) < 60) && Random < 950
trigger2	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger2	= (Root,P2StateType = L)
;(size.z.width)trigger2	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger2	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger2	= ((160 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; 着地しそうな相手に生だし(本体のZ軸攻撃範囲内)
trigger3	= (Var(57) & 8)
trigger3	= (Root,P2BodyDist Z = (-9, 9))
trigger3	= ((Var(58) & 1023) < 30) && Random < 950
trigger3	= (Root,P2StateType = A) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger3	= (Root,P2BodyDist Y + 20.0*Enemy(Var(54)),Vel Y >= 0) && (Root,P2BodyDist Y + 15.0*Enemy(Var(54)),Vel Y <= 0) && (Enemy(Var(54)),Vel Y > 0.0)
;(size.z.width)trigger3	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger3	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger3	= ((160 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; 地上の相手に生だし(本体のZ軸攻撃範囲外)
trigger4	= (Var(57) & 8)
trigger4	= (Root,P2BodyDist Z = (-9, 9))
trigger4	= ((Var(58) & 1023) < 200) && Random < 950
trigger4	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger4	= (Root,P2StateType = S || Root,P2StateType = C)
;(size.z.width)trigger4	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger4	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 寝てる相手に生だし(本体のZ軸攻撃範囲外)
trigger5	= (Var(57) & 8)
trigger5	= (Root,P2BodyDist Z = (-9, 9))
trigger5	= ((Var(58) & 1023) < 300) && Random < 950
trigger5	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger5	= (Root,P2StateType = L)
;(size.z.width)trigger5	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger5	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 着地しそうな相手に生だし(本体のZ軸攻撃範囲外)
trigger6	= (Var(57) & 8)
trigger6	= (Root,P2BodyDist Z = (-9, 9))
trigger6	= ((Var(58) & 1023) < 200) && Random < 950
trigger6	= (Root,P2StateType = A) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger6	= (Root,P2BodyDist Y + 20.0*Enemy(Var(54)),Vel Y >= 0) && (Root,P2BodyDist Y + 15.0*Enemy(Var(54)),Vel Y <= 0) && (Enemy(Var(54)),Vel Y > 0.0)
;(size.z.width)trigger6	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger6	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 画面外の相手に生だし(地中)
trigger7	= (Var(57) & 8)
trigger7	= (Root,P2BodyDist Z = (-9, 9))
trigger7	= ((Var(58) & 1023) < 80) && Random < 950
trigger7	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger7	= (Root,P2BodyDist Y >= 50)
; 画面外の相手に生だし(空中)
trigger8	= (Var(57) & 8)
trigger8	= (Root,P2BodyDist Z = (-9, 9))
trigger8	= (Root,Var(32) & 7) < 4
trigger8	= ((Var(58) & 1023) < 80) && Random < 950
trigger8	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger8	= (-400 >= Root,P2BodyDist Y)
; チーム戦での生だし
trigger9	= (Root,P2BodyDist Z = (-9, 9))
trigger9	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && NumEnemy >= 2 && (Var(57) & 262144)
trigger9	= Random < 20
trigger9	= (Root,P2StateType = S || Root,P2StateType = C)
trigger9	= ((160 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; Z軸ずれでの生だし(通常モード、地上)
trigger10	= !(Root,P2BodyDist Z = (-9, 9))
;(size.z.width)trigger10	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger10	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger10	= (Root,Var(32) & 7) >= 4
trigger10	= ((Var(58) & 1023) < 250) && Random < 950
trigger10	= (Root,P2StateType = S || Root,P2StateType = C)
; Z軸ずれでの生だし(通常モード、着地しそうな相手に)
trigger11	= !(Root,P2BodyDist Z = (-9, 9))
;(size.z.width)trigger11	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger11	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger11	= (Root,Var(32) & 7) >= 4
trigger11	= ((Var(58) & 1023) < 250) && Random < 950
trigger11	= (Root,P2StateType = A)
trigger11	= (Root,P2BodyDist Y + 20.0*Enemy(Var(54)),Vel Y >= -30) && (Root,P2BodyDist Y + 15.0*Enemy(Var(54)),Vel Y <= -30)
; Z軸ずれでの生だし(対モード以降)
trigger12	= !(Root,P2BodyDist Z = (-9, 9))
;(size.z.width)trigger12	= !(Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger12	= !(Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger12	= (Root,Var(32) & 7) < 4
trigger12	= ((Var(58) & 1023) < 400) && Random < 950
var(56)		= 1800
ignorehitpause	= 1

;------------------- 四股(強)
[State 20015, Shiko S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && Root,P2StateType != L
; 地上の相手に生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [60, 75)) && Random < 950
trigger1	= (Root,P2StateType = S || Root,P2StateType = C) && (Root,P2MoveType != H)
trigger1	= ((175 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
var(56)		= 1801
ignorehitpause	= 1



;
; [空中]
;



;------------------- 空中通常投げ
; 敵が1人(or 敵相方は死んでる)
[State 20015, J Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= NumEnemy = 1 || !(Var(57) & 262144)
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= (Root,P2BodyDist Y = [-122*Root,Const(size.yscale), 4])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (22 -15+5 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) = [200, 1000)) && Random < 950
var(56)		= 900 + 10*(IfElse( Root,BackEdgeBodyDist >= 120*Root,Const(size.xscale) && Root,FrontEdgeBodyDist >= 120*Root,Const(size.xscale), Random < 500, Root,BackEdgeBodyDist < Root,FrontEdgeBodyDist ))
ignorehitpause	= 1

; 敵が2人以上(敵相方は生きてる)
[State 20015, J Normal Throw]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy >= 2 && (Var(57) & 262144)
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= (Root,P2BodyDist Y = [-122, 4])
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (22 -15+5 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) = [200, 1000)) && Random < 950
var(56)		= 900 + 10*((Root,P2Dist X < 0) ^^ ((Enemy(!Var(54)),Pos X - Root,Pos X)*Root,Facing < 0))
ignorehitpause	= 1

;------------------- JCD
[State 20015, JCD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*11*11 + Root,Vel Y*11 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*11*11 + Root,Vel Y*11 + 0.5*Enemy(Var(54)),Vel Y*11 = [(-59-22)*Root,Const(size.yscale), (-19+11)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*11 + 0.5*FVar(39)*11 <= (41 +15 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*11 + 0.5*FVar(39)*11 >= -(19 +15 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) = [600, 800)) && Random < 950
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= 0)
var(56)		= 600
ignorehitpause	= 1

;------------------- 溜JCD
[State 20015, Charge JCD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(57) & 32))
trigger1	= NumEnemy
trigger1	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
trigger1	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*24*24 + Root,Vel Y*24 < 0
trigger1	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*24*24 + Root,Vel Y*24 + 0.5*Enemy(Var(54)),Vel Y*24 = [(-59-28)*Root,Const(size.yscale), (-19+14)*Root,Const(size.yscale) + Root,Const(size.height)])
trigger1	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*24 + 0.5*FVar(39)*24 <= (41 +25 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger1	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*24 + 0.5*FVar(39)*24 >= -(19 +25 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)trigger1	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
trigger1	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
trigger1	= ((Var(58) & 1023) = [700, 900)) && Random < 950
trigger1	= (Root,Vel X >= 0)
; 継続
trigger2	= ((Root,Var(2) & 131071) = 611)
trigger2	= Var(42) > 0 && (Var(40) = 601)
var(56)		= 601
ignorehitpause	= 1

;------------------- 空中小手投げ(強)
[State 20015, Air Kotenage S]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= (Root,P2BodyDist Y = [-5, 80])
triggerall	= (Root,P2BodyDist X = [-20, 80])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) = [500, IfElse( (Root,Var(32) & 7) < 4, 600, 550 ))) && Random < 950
trigger1	= (Root,P2StateType != L)
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= -1)
; 相殺
trigger2	= (Var(57) & 8)
trigger2	= Root,MoveReversed = 1 && Random <= 300 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 1101
ignorehitpause	= 1

;------------------- 空中小手投げ(弱)
[State 20015, Air Kotenage W]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32) || ((Var(57) & 2048) && (Root,MoveContact || (Root,Var(2) & 131071) = 1701)) || Root,MoveReversed)
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= (Root,P2BodyDist Y = [-80, 5])
triggerall	= (Root,P2BodyDist X = [-20, 80])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= ((Var(58) & 1023) = [500, 550)) && Random < 950
trigger1	= (Root,P2StateType != L)
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= -1)
; 相殺
trigger2	= (Var(57) & 8)
trigger2	= Root,MoveReversed = 1 && Random <= 300 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 1100
ignorehitpause	= 1

;------------------- 空中D投げ(JD)
[State 20015, JD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*1*1 + Root,Vel Y*1 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*5*5 + Root,Vel Y*5 + 0.5*Enemy(Var(54)),Vel Y*5 = [(-68-10)*Root,Const(size.yscale), (-37+5)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*5 + 0.5*FVar(39)*5 <= (51 +10 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*5 + 0.5*FVar(39)*5 >= -(-5 +10 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) < 300) && Random < 950
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= 0)
var(56)		= 910
ignorehitpause	= 1

;------------------- 空中C投げ(JC)
[State 20015, JC]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*1*1 + Root,Vel Y*1 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*5*5 + Root,Vel Y*5 + 0.5*Enemy(Var(54)),Vel Y*5 = [(-61-10)*Root,Const(size.yscale), (-27+5)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*5 + 0.5*FVar(39)*5 <= (45 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*5 + 0.5*FVar(39)*5 >= -(16 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) < 300) && Random < 950
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= 0)
var(56)		= 900
ignorehitpause	= 1

;------------------- JA
[State 20015, JA]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*3*3 + Root,Vel Y*3 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*3*3 + Root,Vel Y*3 + 0.5*Enemy(Var(54)),Vel Y*3 = [(-75-10)*Root,Const(size.yscale), (-44+5)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*3 + 0.5*FVar(39)*3 <= (58 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*3 + 0.5*FVar(39)*3 >= -(-16 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) < 300) && Random < 950
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= 0)
var(56)		= 200
ignorehitpause	= 1

;------------------- JB
[State 20015, JB]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = A))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H || (Root,P2StateNo = [150, 155]))
triggerall	= Root,Pos Y + 0.5*Root,Const(movement.yaccel)*3*3 + Root,Vel Y*3 < 0
triggerall	= (Root,P2BodyDist Y + 0.5*Root,Const(movement.yaccel)*3*3 + Root,Vel Y*3 + 0.5*Enemy(Var(54)),Vel Y*3 = [(-91-10)*Root,Const(size.yscale), (-46+5)*Root,Const(size.yscale) + Root,Const(size.height)])
triggerall	= (Root,P2BodyDist X + Root,Const(size.ground.front) - Root,Vel X*3 + 0.5*FVar(39)*3 <= (50 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist X - Root,Const(size.ground.front) - Root,Vel X*3 + 0.5*FVar(39)*3 >= -(-5 +8 + Root,Const(size.ground.front))*Root,Const(size.xscale))
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 生だし
trigger1	= (Var(57) & 8)
trigger1	= ((Var(58) & 1023) < 300) && Random < 950
trigger1	= (Root,P2StateType = A) || (Root,Vel Y >= 0)
var(56)		= 210
ignorehitpause	= 1



;
; [基本動作]
;



;------------------- 何かのジャンプ
[State 20015, Jump]	; 適当なので、厳密に取らない事にします
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 生ジャンプ
trigger1	= (Var(57) & 8)
trigger1	= ((Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) || Root,P2StateType = L)
trigger1	= (Random < IfElse(Root,P2StateType != L, IfElse(Root,P2StateType = A,150,75), 0))
trigger1	= (Abs(Root,P2BodyDist X) < 150*Root,Const(size.xscale))
var(56)		= 40 + IfElse( Random < IfElse(Abs(Root,P2BodyDist X) <= 80*Root,Const(size.xscale), 750, 500), 1, 2*(Random < IfElse(Abs(Root,P2BodyDist X) <= 80*Root,Const(size.xscale), 750, 500)) ) + 3*(Random%4)
ignorehitpause	= 1

;------------------- 前大ジャンプ
[State 20015, Jump]	; 適当なので、厳密に取らない事にします
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 32))
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 倒れている相手用
trigger1	= (Var(57) & 8)
trigger1	= !((Var(57) & 1) || (Var(57) & 2))
trigger1	= (Root,P2StateType = L) && (Root,P2BodyDist X = [0, 100)) && (Root,BackEdgeBodyDist < 100 - Root,P2BodyDist X)
var(56)		= 44
ignorehitpause	= 1

;------------------- 中緊急回避
[State 20015, M Dodge]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || Root,MoveReversed)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 生だし
trigger1	= Random < 35
trigger1	= (Root,P2MoveType != H) && Root,P2StateType != L
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [(90 + Root,Const(size.ground.front))*Root,Const(size.xscale), (160 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
; 遠距離飛び道具に生だし
trigger2	= !(Var(57) & 65536)
trigger2	= Enemy(Var(54)),NumProj > 0 && (InGuardDist || (Var(57) & 16384)) && Random < 150
trigger2	= ((100 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; リバーサルでの生だし
trigger3	= !(Var(57) & 65536)
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= Random < 30 && (Root,P2MoveType != H)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [(90 + Root,Const(size.ground.front))*Root,Const(size.xscale), (160 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
; 相殺
trigger4	= !(Var(57) & 65536)
trigger4	= Root,MoveReversed = 1 && Random <= 30 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 4090
ignorehitpause	= 1

;------------------- 前緊急回避
[State 20015, F Dodge]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || Root,MoveReversed)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 生だし
trigger1	= Random < 25
trigger1	= (Root,P2MoveType != H) && Root,P2StateType != L
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) = [(100 + Root,Const(size.ground.front))*Root,Const(size.xscale), (160 + Root,Const(size.ground.front))*Root,Const(size.xscale)])
; 近距離攻撃に生だし
trigger2	= !(Var(57) & 65536)
trigger2	= Random < 10 && (Enemy(Var(54)),NumProj > 0 || Root,P2MoveType = A) && (InGuardDist || (Var(57) & 16384)) && !(Var(57) & 131072)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (100 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 遠距離飛び道具に生だし
trigger3	= !(Var(57) & 65536)
trigger3	= Random < 80 && Enemy(Var(54)),NumProj > 0 && (InGuardDist || (Var(57) & 16384))
trigger3	= ((100 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; 相殺
trigger4	= !(Var(57) & 65536)
trigger4	= Root,MoveReversed = 1 && Random <= 30 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 4000
ignorehitpause	= 1

;------------------- 後緊急回避
[State 20015, F Dodge]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= ((Var(57) & 64) || Root,MoveReversed)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= IfElse( P2Dist X >= 0, Root,BackEdgeBodyDist, Root,FrontEdgeBodyDist ) >= 40*Root,Const(size.xscale)
; 生だし
trigger1	= Random < 25
trigger1	= (Root,P2MoveType != H) && Root,P2StateType != L
trigger1	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 近距離攻撃に生だし
trigger2	= !(Var(57) & 65536)
trigger2	= Random < 20 && (Enemy(Var(54)),NumProj > 0 || Root,P2MoveType = A) && (InGuardDist || (Var(57) & 16384)) && !(Var(57) & 131072)
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (60 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; リバーサルでの生だし
trigger3	= !(Var(57) & 65536)
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= Random < 30 && (Root,P2MoveType != H)
trigger3	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (50 + Root,Const(size.ground.front))*Root,Const(size.xscale))
; 相殺
trigger4	= !(Var(57) & 65536)
trigger4	= Root,MoveReversed = 1 && Random <= 30 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659])))
var(56)		= 4070
ignorehitpause	= 1

;------------------- ダッシュ
[State 20015, Dash]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= !(Var(41) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 生だし1
trigger1	= (Var(57) & 8)
trigger1	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
trigger1	= (Var(57) & 65536) || IfElse( !InGuardDist, 1, Random < 100 )
trigger1	= Random < 250
trigger1	= IfElse( Root,P2StateType != L, ((80 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front)), 1 )
trigger1	= IfElse( Root,P2StateType != L, 1, ((125 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front)) )
; 生だし2
trigger2	= (Var(57) & 8)
trigger2	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
trigger2	= (Var(57) & 65536) || IfElse( !InGuardDist, 1, Random < 100 )
trigger2	= RoundState = 2
trigger2	= !Enemy(Var(54)),Alive && Random < 250
; 継続
trigger3	= !((Var(57) & 1) || (Var(57) & 2))
trigger3	= ((Root,Var(2) & 131071) = [101, 102])
trigger3	= ((50 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
trigger3	= Var(42) > 0 && (Var(40) = 100)
var(56)		= 100
ignorehitpause	= 1

;------------------- バックステップ
[State 20015, Back Step]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= NumEnemy
triggerall	= (Var(57) & 64) && !((Root,Var(2) & 131071) = [100, 104])
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= IfElse( P2Dist X >= 0, Root,BackEdgeBodyDist, Root,FrontEdgeBodyDist ) >= 40*Root,Const(size.xscale)
; 生だし
trigger1	= !(Var(41) & 4)
trigger1	= Root,P2MoveType != H
trigger1	= (Random < IfElse( Root,P2StateType != L, 15, 5 ))
trigger1	= (Abs(Root,P2BodyDist X) <= 70)
; 近距離攻撃に生だし
trigger2	= !(Var(57) & 65536)
trigger2	= Root,P2MoveType != H
trigger2	= Random < 10 && (Root,P2MoveType = A) && (InGuardDist || (Var(57) & 16384)) && !(Var(57) & 131072)
trigger2	= (Abs(Root,P2BodyDist X) = [50, 100])
; リバーサルでの生だし
trigger3	= !(Var(57) & 65536)
trigger3	= Root,P2MoveType != H
trigger3	= (Root,StateType != L && (Root,Var(26) & 393216)/131072 = 3) || (Root,MoveType != H && (Root,Var(26) & 1572864)/524288 = 2) || ((Root,Var(1) & 1024) && (Root,Var(1) & 134217728))
trigger3	= Random < 30 && (Root,P2MoveType != H)
trigger3	= (Abs(Root,P2BodyDist X) <= 70)
; 倒れている相手用
trigger4	= !(Var(41) & 4)
trigger4	= Random < 300 && (Root,P2StateType = L)
trigger4	= (Abs(Root,P2BodyDist X) = [-5, 60])
; 相殺
trigger5	= !(Var(57) & 65536)
trigger5	= Root,P2MoveType != H
trigger5	= Random <= 10 * (1 - 0.75*(((Root,Var(2) & 131071) = [1510, 1519]) || ((Root,Var(2) & 131071) = [1650, 1659]))) && Root,MoveReversed = 1
var(56)		= 105
ignorehitpause	= 1

;------------------- 後退
[State 20015, Walk Back]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 16)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
; 生歩き
trigger1	= (Var(57) & 8)
trigger1	= Var(40) != 20
trigger1	= !((Var(57) & 1) || (Var(57) & 2))
trigger1	= ((Var(58) & 1023) >= 950)
; 倒れている相手用
trigger2	= (Var(57) & 8)
trigger2	= Var(40) != 20
trigger2	= !((Var(57) & 1) || (Var(57) & 2))
trigger2	= (Root,P2StateType = L)
trigger2	= (Root,P2BodyDist X = [-5, 100])
trigger2	= ((Var(58) & 1023) >= 100)
; 継続
trigger3	= Var(40) = 21
trigger3	= Var(42) > 0
var(56)		= 21
ignorehitpause	= 1

;------------------- 前進
[State 20015, Walk Front]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= (Var(57) & 16)
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= !((Root,Var(2) & 131071) = [101, 102])
; 生歩き(遠い時)
trigger1	= (Var(57) & 8)
trigger1	= Var(40) != 21
trigger1	= !((Var(57) & 1) || (Var(57) & 2)) || !InGuardDist || Random < 50
trigger1	= ((Var(58) & 1023) < 800)
trigger1	= ((90 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front))
; 生歩き(近い時)
trigger2	= (Var(57) & 8)
trigger2	= Var(40) != 21
trigger2	= !((Var(57) & 1) || (Var(57) & 2))
trigger2	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) < (90 + Root,Const(size.ground.front))*Root,Const(size.xscale))
trigger2	= ((Var(58) & 1023) < IfElse( ((30 + Root,Const(size.ground.front))*Root,Const(size.xscale) <= Abs(Root,P2BodyDist X) + Root,Const(size.ground.front)) && Root,P2StateType != L, 400, 25 ))
; 継続
trigger3	= !((Var(57) & 1) || (Var(57) & 2))
trigger3	= Var(40) = 20
trigger3	= Var(42) > 0
var(56)		= 20
ignorehitpause	= 1

;------------------- GCAB
[State 20015, GC AB]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || (Root,StateType = A))
triggerall	= NumEnemy
triggerall	= (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1)
triggerall	= (Root,Var(19) & 124) / (124/31) >= 14
triggerall	= (Var(51) >= IfElse( (Root,Var(32) & 7) >= 4, 1000, 500 ))
triggerall	= (Root,Var(2) & 131071) = [150, 155]
trigger1	= Random < IfElse( Root,BackEdgeBodyDist <= 50*Root,Const(size.xscale), 150, 100 )
var(56)		= IfElse( Random < 500 || Root,BackEdgeBodyDist <= 50*Root,Const(size.xscale), 4000, IfElse(Random < 700, 4090, 4070) )
ignorehitpause	= 1

;------------------- GCCD
[State 20015, GC CD]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56) && (Var(57) & 4)
triggerall	= ((Root,StateType = S) || (Root,StateType = C) || (Root,StateType = A))
triggerall	= NumEnemy
triggerall	= Enemy(Var(54)),Alive && (Root,HitPauseTime <= 1) && (((Root,Var(18) & 528482304) / (528482304 / 63)) <= 1) && (Root,P2MoveType != H) && Root,P2StateType != L
triggerall	= (Root,Var(19) & 124) / (124/31) >= 14
triggerall	= (Var(51) >= IfElse( (Root,Var(32) & 7) >= 4, 1000, 500 ))
triggerall	= (Root,Var(2) & 131071) = [150, 155]
triggerall	= (Abs(Root,P2BodyDist X) + Root,Const(size.ground.front) <= (IfElse( Root,StateType != A, 80, 55 ) + Root,Const(size.ground.front))*Root,Const(size.xscale))
triggerall	= (Root,P2BodyDist Y = [-35, 50])
;(size.z.width)triggerall	= (Root,P2BodyDist Z = [-(Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.front)), (Enemy(Var(54)),Const(size.z.width) + Root,Const(size.attack.z.width.back))])
triggerall	= (Root,P2BodyDist Z = [-(3 + Root,Const(size.attack.z.width.front)), (3 + Root,Const(size.attack.z.width.back))])
; 敵が1人のとき
trigger1	= NumEnemy <= 1
trigger1	= Random < 60
trigger1	= !Enemy(Var(54)),NumProj || Random < 250
; 敵が2人以上のとき
trigger2	= NumEnemy >= 2
trigger2	= Random < 60
trigger2	= !((Var(57) & 524288) && !(Var(57) & 65536)) || Random < 300
trigger2	= !(Enemy(Var(54)),NumProj || Enemy(!Var(54)),NumProj) || Random < 250
var(56)		= 600
ignorehitpause	= 1





;---------------------------------------------------------------------------- やられ中

;------------------- バースト
[State 20015, Burst]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(43) && !Var(56)
triggerall	= (Root,Var(32) & 7) < 4
triggerall	= Root,Alive
triggerall	= (Var(51) >= 2000)
; やられ中に脱出(通常モード以外)
trigger1	= (Root,Var(32) & 7) < 4
trigger1	= Random < (6*Var(39)*Var(39))
trigger1	= Var(13) >= 15 * 60
; やられ中に脱出
trigger2	= Random < (6*Var(39)*Var(39))
trigger2	= Var(13) >= 15 * 60
trigger2	= !(Root,Var(1) & 1024)
trigger2	= ((Root,Var(2) & 131071) = 5000) || ((Root,Var(2) & 131071) = 5010) || ((Root,Var(2) & 131071) = 5020)
var(56)		= 4500
ignorehitpause	= 1

;------------------- リカバリー用の壁判断
[State 20015, Recovery]
type		= VarSet
trigger1	= 1
var(53)		= IfElse( (Root,P2Dist X >= 0), 1, -1 ) * IfElse( (Root,BackEdgeBodyDist <= 35*Root,Const(size.xscale)), 1, -(Root,FrontEdgeBodyDist <= 35*Root,Const(size.xscale)) )
ignorehitpause	= 1

;------------------- 空中リカバリー(空中受身)
; 特殊下
[State 20015, Recovery]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= Root,Alive
triggerall	= Root,MoveType = H || (Root,Var(1) & 1024) || ((Root,Var(26) & 1572864)/524288 = 2)
triggerall	= (Root,Var(32) & 7) < 4 && Random < 600
trigger1	= Root,Ctrl && Root,MoveType != H
trigger2	= !(Root,Vel Y > 0)
trigger3	= !(Root,Pos Y >= -20)
var(56)		= 5052
ignorehitpause	= 1

; 通常下
[State 20015, Recovery]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= Root,Alive
triggerall	= Root,MoveType = H || (Root,Var(1) & 1024) || ((Root,Var(26) & 1572864)/524288 = 2)
triggerall	= Random < IfElse(Root,Pos Y < -100, 900, 700)
trigger1	= Root,Ctrl && Root,MoveType != H
trigger2	= !(Root,Vel Y > 0)
trigger3	= !(Root,Pos Y >= -20)
var(56)		= 5052 + IfElse( Root,Pos Y < -100, -1 + 2*(Random < 500), IfElse(Random < 250, (Random < 500), -1) )
ignorehitpause	= 1

; 通常それ以外
[State 20015, Recovery]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= Root,Alive
triggerall	= Root,MoveType = H || (Root,Var(1) & 1024) || ((Root,Var(26) & 1572864)/524288 = 2)
trigger1	= Root,Ctrl && Root,MoveType != H
trigger2	= !(Root,Vel Y > 0)
trigger3	= !(Root,Pos Y >= -20)
var(56)		= 5055 + 3*(Random < 750) + IfElse(Random < 250, (Random < 500), -1)
ignorehitpause	= 1

;------------------- 空中リカバリー(地上受身)
[State 20015, Recovery]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = A))
triggerall	= Root,Alive
triggerall	= Root,MoveType = H || (Root,Var(1) & 1024) || ((Root,Var(26) & 1572864)/524288 = 2)
triggerall	= !(Root,Ctrl && Root,MoveType != H)
triggerall	= Root,Vel Y > 0
trigger1	= Root,Pos Y >= -20
var(56)		= 5052 + (Var(53) = 0)*(1 - 2*(Random < 500)) + (Var(53) != 0)*(Var(53) - 2*Var(53)*(Random < 100))
ignorehitpause	= 1

;------------------- 起き上がりリカバリー
[State 20015, Recovery]
type		= VarSet
triggerall	= RoundState = 2
triggerall	= !Var(56)
triggerall	= ((Root,StateType = L))
triggerall	= Root,Alive
trigger1	= 1
var(56)		= 3*(Random < 100) + 5052 + (Var(53) = 0)*(-1 + (Random % 3)) + (Var(53) != 0)*IfElse(Random < 75, -Var(53), Var(53)*(Random < 915))
ignorehitpause	= 1

;---------------------------------------------------------------------------- 継続行動
; 上記までで記述しなかったもの用

;------------------- ジャンプ
[State 20015, Normal or Dai Jump]
type		= VarSet
triggerall	= !Var(43) && !Var(56)
triggerall	= ((Root,StateType = S) || (Root,StateType = C))
triggerall	= ((Root,Var(2) & 131071) = [40, 41])
; 継続
trigger1	= Var(42) > 0 && (Var(40) = [40, 51])
var(56)		= Var(40)
ignorehitpause	= 1

;---------------------------------------------------------------------------- 他
; 試合前の負傷など

;------------------- injure
[State 20015, Injure]
type		= VarSet
triggerall	= (Root,Var(22) & 64)
triggerall	= NumHelper(30000)
triggerall	= NumEnemy
triggerall	= Var(5)
trigger1	= RoundState = 2
trigger1	= (Var(58) & 1023) < Floor(2*Var(39))
trigger1	= Random > 934 + 60*FVar(37) || (Helper(30000),Var(22) & 32) || (Root,Var(32) & 7) < 2
trigger1	= (Root,Alive)
trigger1	= (Root,MoveType != H) || ((Root,Var(2) & 131071) = [150, 155])
trigger1	= (Root,P2MoveType != H || (Root,P2StateNo = [150, 155])) && (!(Helper(30000),Var(4) & 32640) || ((Helper(30000),Var(4) & 32640) >= 32640 / 255 * 62))
trigger2	= (Helper(30000),Var(22) & 64) && ((Helper(30000),Var(4) & 32640) = 32640 / 255) && (Root,P2StateNo = [3800, 3899]) && Root,P2MoveType = H
trigger3	= (Helper(30000),Var(4) & 32640) && ((Helper(30000),Var(4) & 32640) <= 32640 / 255 * 59) && Root,P2MoveType != H && Random < 100
var(55)		= (Var(55) | 1)
ignorehitpause	= 1

;------------------- injure_damage_up
[State 20015, Injure Damage Up]
type		= VarSet
triggerall	= (Root,Var(22) & 64)
triggerall	= NumHelper(30000)
triggerall	= NumEnemy
triggerall	= (30 <= (GameTime % 360) && (GameTime % 360) < 180)
; AIレベル8用
trigger1	= Var(39) >= 8
trigger1	= (GameTime % 30) = 0
; AIレベル1〜7用
trigger2	= Random >= (350 - 50*Var(39))
trigger2	= Var(39) < 8
trigger2	= (GameTime % 360) < 150
trigger2	= (GameTime % 30) = 0
var(55)		= (Var(55) | 2)
ignorehitpause	= 1

;------------------- injure_damage_down
[State 20015, Injure Damage Down]
type		= VarSet
triggerall	= NumHelper(30000)
triggerall	= NumEnemy
trigger1	= !(Root,Alive)
; AIレベル8用
trigger2	= (Root,Var(22) & 64)
trigger2	= (210 <= (GameTime % 360) && (GameTime % 360) <= 330)
trigger2	= Var(39) >= 8
trigger2	= (GameTime % 30) = 0
; AIレベル1〜7用
trigger3	= (Root,Var(22) & 64)
trigger3	= (210 < (GameTime % 360) && (GameTime % 360) <= 330)
trigger3	= Var(39) < 8
trigger3	= (GameTime % 30) = 0
var(55)		= (Var(55) | 4)
ignorehitpause	= 1

;=====================================================================
; Not Throw
;=====================================================================
[State 20015, Not Throw Check Reset]
type		= VarSet
trigger1	= Var(56)
var(41)		= (Var(41) | 64 | 128 | 8192 | 16384) - 64 - 128 - 8192 - 16384
ignorehitpause	= 1

[State 20015, Not Throw Check Set]
type		= VarSet
trigger1	= Var(56) = 1210
trigger2	= Var(56) = 1310
trigger3	= Var(56) = 1311
trigger4	= Var(56) = 3210
trigger5	= Var(56) = 3310
var(41)		= (Var(41) | (64*!Var(54)) | (8192*!!Var(54)))
ignorehitpause	= 1

[State 20015, Not Throw Check Set]
type		= VarSet
trigger1	= Var(56) = 1200
trigger2	= Var(56) = 1300
trigger3	= Var(56) = 1301
trigger4	= Var(56) = 1600
trigger5	= Var(56) = 3200
trigger6	= Var(56) = 3300
var(41)		= (Var(41) | (128*!Var(54)) | (16384*!!Var(54)))
ignorehitpause	= 1

;=====================================================================
; AI Command Buffer
;=====================================================================
;------------------- コマンド継続カウンタ減算
[State 20015, AI Command Continue Time Decrease]
type		= VarAdd
trigger1	= (Var(1) & 32)
trigger1	= Var(42) > 0
trigger2	= Var(42) = 0
var(42)		= -1
ignorehitpause	= 1

;------------------- コマンド継続リセット
[State 20015, AI Command Continue Time Reset]
type		= VarSet
trigger1	= Var(56) > 0
trigger1	= Var(40) != Var(56)
var(42)		= -1
ignorehitpause	= 1

;------------------- コマンド継続セット
;------------------- 歩き
[State 20015, AI Command Continue Time Set]
type		= VarSet
triggerall	= Var(42) < 0
triggerall	= !(Root,P2MoveType = H && Root,P2StateType = A)	; 空中やられ以外
trigger1	= Var(56) = 20
trigger2	= Var(56) = 21
var(42)		= 8 + Random % 23
ignorehitpause	= 1

;------------------- ダッシュ
[State 20015, AI Command Continue Time Set]
type		= VarSet
triggerall	= Var(42) < 0
triggerall	= !(Root,P2MoveType = H && Root,P2StateType = A)	; 空中やられ以外
trigger1	= Var(56) = 100
var(42)		= 90 + Random % 31
ignorehitpause	= 1

;------------------- ジャンプ
[State 20015, AI Command Continue Time Set]
type		= VarSet
triggerall	= Var(42) < 0
trigger1	= (Var(56) = [40, 51])
var(42)		= 4
ignorehitpause	= 1

;------------------- 溜CD or 溜JCD
[State 20015, AI Command Continue Time Set]
type		= VarSet
triggerall	= Var(42) < 0
trigger1	= Var(56) = 601
var(42)		= 30
ignorehitpause	= 1

;------------------- 今回の動作を記録
[State 20015, AI Command Buffer]
type		= VarSet
trigger1	= 1
var(40)		= Var(56)
ignorehitpause	= 1

;=====================================================================
; Command Bit Flag AI
;=====================================================================
;------------------- ビットリセット
[State 20015, Reset]
type		= ParentVarSet
trigger1	= 1
var(25)		= (Parent,Var(25) & (-268435456))
ignorehitpause	= 1

[State 20015, Reset]
type		= ParentVarSet
trigger1	= 1
var(34)		= (Parent,Var(34) & 15)
ignorehitpause	= 1

;------------------- "x"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= 0
var(25)		= (Parent,Var(25) | 1)
ignorehitpause	= 1

;------------------- "y"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= 0
var(25)		= (Parent,Var(25) | 2)
ignorehitpause	= 1

;------------------- "z"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(55) & 1)	; 試合前の負傷
var(25)		= (Parent,Var(25) | 4)
ignorehitpause	= 1

;------------------- "a"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 4500)	; バースト
var(25)		= (Parent,Var(25) | 8)
ignorehitpause	= 1

;------------------- "b"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= 0
var(25)		= (Parent,Var(25) | 16)
ignorehitpause	= 1

;------------------- "c"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(55) & 1)	; 試合前の負傷
var(25)		= (Parent,Var(25) | 32)
ignorehitpause	= 1

;------------------- "s"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= 0
var(25)		= (Parent,Var(25) | 64)
ignorehitpause	= 1

;------------------- "holdup"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(57) & 32) && (Var(56) = [40, 51])	; 生ジャンプ
trigger2	= (Var(56) = [40, 45])	; 通常or大ジャンプ
trigger2	= ((Root,Var(2) & 131071) = [40, 41])	; 通常or大ジャンプ
trigger3	= ((Root,Var(2) & 131071) = [3000, 3001]) || ((Root,Var(2) & 131071) = [3100, 3101])	; 合掌ひねり用
trigger3	= (Root,P2StateType = A) && (Root,P2BodyDist Y <= -50)	; 合掌ひねり用; 空中やられの相手に
trigger4	= (Var(56) = [5057, 5059])	; リカバリー
var(25)		= (Parent,Var(25) | 128)
ignorehitpause	= 1

;------------------- "holddown"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 300) || (Var(56) = 310) || (Var(56) = 320) || (Var(56) = 330)	; 屈攻撃
trigger2	= (Var(56) = 710)			; まえみつ叩き
trigger3	= (Var(56) = 730)			; 喉輪
trigger4	= (Var(56) = 740)			; EHキック
trigger5	= (Var(56) = 1700)			; ぶちかまし
trigger6	= (Var(56) = 4610)			; 屈シールド
trigger7	= (Var(56) = 4101)			; パワー溜め(ライフ)
trigger8	= (Var(56) = [5051, 5053])	; リカバリー
var(25)		= (Parent,Var(25) | 256)
ignorehitpause	= 1

;------------------- "holdfwd"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 20)	; 生歩き
trigger2	= ((Root,Var(2) & 131071) = [40, 41])	; 前ジャンプ
trigger2	= (Var(56) = 41) || (Var(56) = 44) || (Var(56) = 47) || (Var(56) = 50)	; 前ジャンプ
trigger3	= (Var(56) = 100)	; ダッシュ
trigger4	= (Var(56) = 710)	; まえみつ叩き
trigger5	= (Var(56) = 720)	; 突っ張り
trigger6	= (Var(56) = 730)	; 喉輪
trigger7	= (Var(56) = 740)	; EHキック
trigger8	= (Var(56) = 900)	; C投げ
trigger9	= (Var(56) = 910)	; D投げ
trigger10	= ((Root,Var(2) & 131071) = [3000, 3011]) || ((Root,Var(2) & 131071) = [3100, 3111])	; 合掌ひねり用
trigger10	= ((70 + Root,Const(size.ground.front))*Root,Const(size.xscale) - 16*FVar(39) <= Root,P2BodyDist X + Root,Const(size.ground.front))	; 合掌ひねり用
trigger11	= (Var(56) = 4000)	; 前緊急回避
trigger12	= (Var(56) = 5053 || Var(56) = 5056 || Var(56) = 5059)	; リカバリー
var(25)		= (Parent,Var(25) | 512)
ignorehitpause	= 1

;------------------- "holdback"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 21)	; 生歩き
trigger2	= ((Root,Var(2) & 131071) = [40, 41])	; 後ジャンプ
trigger2	= (Var(56) = 42) || (Var(56) = 45) || (Var(56) = 48) || (Var(56) = 51)	; 後ジャンプ
trigger3	= (Var(56) = 105)	; バクステ
trigger4	= ((Root,Var(2) & 131071) = [3000, 3011]) || ((Root,Var(2) & 131071) = [3100, 3111])	; 合掌ひねり用
trigger4	= (Root,P2StateType = A)																; 合掌ひねり用
trigger4	= (Root,P2BodyDist X + Root,Const(size.ground.front) < (60 + Root,Const(size.ground.front))*Root,Const(size.xscale))	; 合掌ひねり用
trigger5	= (Var(56) = 4070)	; 後緊急回避
trigger6	= (Var(56) = 5051 || Var(56) = 5054 || Var(56) = 5057)	; リカバリー
var(25)		= (Parent,Var(25) | 1024)
ignorehitpause	= 1

;------------------- "hold_x"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 4100)	; パワー溜め(パワー)
trigger2	= (Var(56) = 4101)	; パワー溜め(ライフ)
var(25)		= (Parent,Var(25) | 2048)
ignorehitpause	= 1

;------------------- "hold_y"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 4100)	; パワー溜め(パワー)
trigger2	= (Var(56) = 4101)	; パワー溜め(ライフ)
trigger3	= (Var(56) = 601)	; 溜CD
trigger4	= (Var(56) = 1420)	; 突き落とし
var(25)		= (Parent,Var(25) | 4096)
ignorehitpause	= 1

;------------------- "hold_z"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= Root,StateType = A && (Var(56) = [5050, 5059])	; 空中リカバリー
trigger2	= (Var(55) & 1)	; 試合前の負傷
var(25)		= (Parent,Var(25) | 8192)
ignorehitpause	= 1

;------------------- "hold_a"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 4100)	; パワー溜め(パワー)
trigger2	= (Var(56) = 4101)	; パワー溜め(ライフ)
trigger3	= (Var(56) = 704)	; 突っ張り・追加入力
var(25)		= (Parent,Var(25) | 16384)
ignorehitpause	= 1

;------------------- "hold_b"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 601)	; 溜CD
trigger2	= (Var(56) = 4500)	; バースト
trigger3	= (Var(56) = 708)	; 喉輪・追加入力
var(25)		= (Parent,Var(25) | 32768)
ignorehitpause	= 1

;------------------- "hold_c"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = 4500)			; バースト
trigger2	= (Var(56) = [5051, 5053])	; 起き上がりリカバリー
trigger3	= (Var(55) & 1)				; 試合前の負傷
var(25)		= (Parent,Var(25) | 65536)
ignorehitpause	= 1

;------------------- "hold_s"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= 0
var(25)		= (Parent,Var(25) | 131072)
ignorehitpause	= 1

;------------------- "hold_right"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Root,Facing >= 0) && (Root,P2Dist X >= 0)
trigger1	= (Parent,Var(25) & 512)
trigger2	= (Root,Facing >= 0) && (Root,P2Dist X < 0)
trigger2	= (Parent,Var(25) & 1024)
trigger3	= (Root,Facing < 0) && (Root,P2Dist X >= 0)
trigger3	= (Parent,Var(25) & 1024)
trigger4	= (Root,Facing < 0) && (Root,P2Dist X < 0)
trigger4	= (Parent,Var(25) & 512)
var(25)		= (Parent,Var(25) | 262144)
ignorehitpause	= 1

;------------------- "hold_left"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Root,Facing >= 0) && (Root,P2Dist X >= 0)
trigger1	= (Parent,Var(25) & 1024)
trigger2	= (Root,Facing >= 0) && (Root,P2Dist X < 0)
trigger2	= (Parent,Var(25) & 512)
trigger3	= (Root,Facing < 0) && (Root,P2Dist X >= 0)
trigger3	= (Parent,Var(25) & 512)
trigger4	= (Root,Facing < 0) && (Root,P2Dist X < 0)
trigger4	= (Parent,Var(25) & 1024)
var(25)		= (Parent,Var(25) | 524288)
ignorehitpause	= 1

;------------------- "recovery"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(56) = [5050, 5059])	; リカバリー
var(25)		= (Parent,Var(25) | 4194304)
ignorehitpause	= 1

;------------------- "hatakikomi"
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= !(Root,Var(1) & 1024)
triggerall	= NumEnemy
triggerall	= ((Root,Var(2) & 131071) = 1621) && (Root,AnimElemTime(2) = -1)
triggerall	= (Var(58) & 1023) >= (Var(39) < 8)*( (7 + 7*(9 - Var(39))*(9 - Var(39))) - 200*(1.0 - FVar(37)) )
; 敵が1人(or 敵相方は死んでる)
trigger1	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= NumEnemy = 1 || !(Var(57) & 262144)
trigger1	= (((Var(58) & 1047552)/1024) < 350)
var(25)		= (Parent,Var(25) | 16777216)
ignorehitpause	= 1

;------------------- "tsukidashi"
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= !(Root,Var(1) & 1024)
triggerall	= NumEnemy
triggerall	= ((Root,Var(2) & 131071) = 1621) && (Root,AnimElemTime(2) = -1)
triggerall	= (Var(58) & 1023) >= (Var(39) < 8)*( (7 + 7*(9 - Var(39))*(9 - Var(39))) - 200*(1.0 - FVar(37)) )
; 敵が1人(or 敵相方は死んでる)
trigger1	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= NumEnemy = 1 || !(Var(57) & 262144)
trigger1	= (((Var(58) & 1047552)/1024) = [350, 450))
; 敵が1人(or 敵相方は死んでる)、身の危険が迫ってる時
trigger2	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger2	= NumEnemy = 1 || !(Var(57) & 262144)
trigger2	= (((Var(58) & 1047552)/1024) < 700)
; 味方がいなくて敵が2人以上(敵相方は生きてる)
trigger3	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger3	= NumEnemy >= 2 && (Var(57) & 262144)
trigger3	= (Var(52) = 0 || Var(52) = 1 || Var(52) = 2)
trigger3	= (((Var(58) & 1047552)/1024) < 800)
; 味方がいなくて敵が2人以上(敵相方は生きてる)、身の危険が迫ってる時
trigger4	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger4	= NumEnemy >= 2 && (Var(57) & 262144)
trigger4	= (Var(52) = 0 || Var(52) = 1 || Var(52) = 2)
trigger4	= (((Var(58) & 1047552)/1024) < 700)
; 味方が生きてて敵が2人以上(敵相方は生きてる)、身の危険関係なし
trigger5	= NumEnemy >= 2 && (Var(57) & 262144)
trigger5	= (Var(52) = 3 || Var(52) = 4 || Var(52) = 6)
var(25)		= (Parent,Var(25) | 33554432)
ignorehitpause	= 1

;------------------- "ketaguri"
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= !(Root,Var(1) & 1024)
triggerall	= NumEnemy
triggerall	= ((Root,Var(2) & 131071) = 1621) && (Root,AnimElemTime(2) = -1)
triggerall	= (Var(58) & 1023) >= (Var(39) < 8)*( (7 + 7*(9 - Var(39))*(9 - Var(39))) - 200*(1.0 - FVar(37)) )
; 敵が1人(or 敵相方は死んでる)
trigger1	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= NumEnemy = 1 || !(Var(57) & 262144)
trigger1	= (((Var(58) & 1047552)/1024) = [450, 800))
; 味方が生きてて敵が2人以上(敵相方は生きてる)
trigger2	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger2	= NumEnemy >= 2 && (Var(57) & 262144)
trigger2	= (Var(52) = 5 || Var(52) = 7 || Var(52) = 8)
; 味方が生きてて敵が2人以上(敵相方は生きてる)、身の危険が迫ってる時
trigger3	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger3	= NumEnemy >= 2 && (Var(57) & 262144)
trigger3	= (Var(52) = 5 || Var(52) = 7)
var(25)		= (Parent,Var(25) | 67108864)
ignorehitpause	= 1

;------------------- "yorikiri2"
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= !(Root,Var(1) & 1024)
triggerall	= NumEnemy
triggerall	= ((Root,Var(2) & 131071) = 1621) && (Root,AnimElemTime(2) = -1)
triggerall	= (Var(58) & 1023) >= (Var(39) < 8)*( (7 + 7*(9 - Var(39))*(9 - Var(39))) - 200*(1.0 - FVar(37)) )
; 敵が1人(or 敵相方は死んでる)
trigger1	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger1	= NumEnemy = 1 || !(Var(57) & 262144)
; 敵が1人(or 敵相方は死んでる)、身の危険が迫ってる時
trigger2	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger2	= NumEnemy = 1 || !(Var(57) & 262144)
; 味方がいなくて敵が2人以上(敵相方は生きてる)
trigger3	= !((Var(57) & 32768) && !(Var(57) & 131072))
trigger3	= NumEnemy >= 2 && (Var(57) & 262144)
trigger3	= (Var(52) = 0 || Var(52) = 1 || Var(52) = 2)
; 味方がいなくて敵が2人以上(敵相方は生きてる)、身の危険が迫ってる時
trigger4	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger4	= NumEnemy >= 2 && (Var(57) & 262144)
trigger4	= (Var(52) = 0 || Var(52) = 1 || Var(52) = 2)
; 味方が生きてて敵が2人以上(敵相方は生きてる)、身の危険が迫ってる時
trigger5	= ((Var(57) & 32768) && !(Var(57) & 131072))
trigger5	= NumEnemy >= 2 && (Var(57) & 262144)
trigger5	= (Var(52) = 8)
var(25)		= (Parent,Var(25) | 134217728)
ignorehitpause	= 1

;------------------- ガード(AI用)
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= ((Var(57) & 1) || (Var(57) & 2))
trigger1	= (Var(56) = 0)				; 何も無し
trigger2	= (Var(56) = [5050, 5059])	; リカバリー
var(34)		= (Parent,Var(34) | 16)
ignorehitpause	= 1

;------------------- 屈ガードにするようの 屈状態(AI用)
[State 20015, Input Bit]
type		= ParentVarSet
triggerall	= (Var(57) & 2)
trigger1	= (Var(56) = 0)				; 何も無し
trigger2	= (Var(56) = [5050, 5059])	; リカバリー
var(34)		= (Parent,Var(34) | 32)
ignorehitpause	= 1

;------------------- "injure"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(55) & 1)	; 試合前の負傷
var(34)		= (Parent,Var(34) | 64)
ignorehitpause	= 1

;------------------- "injure_damage_up"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(55) & 2)	; 試合前の負傷、ダメージUP
var(34)		= (Parent,Var(34) | 128)
ignorehitpause	= 1

;------------------- "injure_damage_down"
[State 20015, Input Bit]
type		= ParentVarSet
trigger1	= (Var(55) & 4)	; 試合前の負傷、ダメージDOWN
var(34)		= (Parent,Var(34) | 256)
ignorehitpause	= 1

;=====================================================================
; Char Mode
;=====================================================================
[State 20015, Char Mode Reset]
type		= VarSet
trigger1	= 1
var(58)		= -1
ignorehitpause	= 1

[State 20015, Char Mode Normal]
type		= VarSet
triggerall	= (Root,Var(32) & 7) > 4
trigger1	= 0
var(58)		= 4
ignorehitpause	= 1

[State 20015, Char Mode Strong Counter]
type		= VarSet
triggerall	= (Root,Var(32) & 7) > 3
trigger1	= 0
var(58)		= 3
ignorehitpause	= 1

[State 20015, Char Mode Strong]
type		= VarSet
triggerall	= (Root,Var(32) & 7) > 2
trigger1	= Root,PalNo = [11, 12]
var(58)		= 2
ignorehitpause	= 1

[State 20015, Char Mode God]
type		= VarSet
triggerall	= (Root,Var(32) & 7) > 1
trigger1	= 0
var(58)		= 1
ignorehitpause	= 1

[State 20015, Char Mode SUMOU]
type		= VarSet
triggerall	= (Root,Var(32) & 7) > 0
trigger1	= 0
var(58)		= 0
ignorehitpause	= 1

[State 20015, Char Mode Set]
type		= VarSet
trigger1	= Var(58) >= 0
var(23)		= Var(58)
ignorehitpause	= 1

[State 20015, Char Mode Set]
type		= ParentVarSet
trigger1	= Var(58) >= 0
var(32)		= (Parent,Var(32) | 7) - 7 + Var(23)
ignorehitpause	= 1

;=====================================================================
; User Config
;=====================================================================
;------------------- フラグ可変
[State 20015, User Config Attack Rate Type]
type		= ParentVarSet
trigger1	= 0
trigger2	= (Root,Alive)
trigger2	= (Root,Var(32) & 7) < 3
var(22)		= IfElse( (Parent,Var(22) & 16), (Parent,Var(22) - 16), (Parent,Var(22) | 16) )
ignorehitpause	= 1

[State 20015, User Config Entire No Atemi]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 32), (Parent,Var(22) - 32), (Parent,Var(22) | 32) )
ignorehitpause	= 1

[State 20015, User Config Entire Eternal Target]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 64), (Parent,Var(22) - 64), (Parent,Var(22) | 64) )
ignorehitpause	= 1

[State 20015, User Config HP Damage NotHit Penalty]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 128), (Parent,Var(22) - 128), (Parent,Var(22) | 128) )
ignorehitpause	= 1

[State 20015, User Config No Target Penalty]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 256), (Parent,Var(22) - 256), (Parent,Var(22) | 256) )
ignorehitpause	= 1

[State 20015, User Config HitOverride Penalty]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 512), (Parent,Var(22) - 512), (Parent,Var(22) | 512) )
ignorehitpause	= 1

[State 20015, User Config F1 NotHit]
type		= Null;ParentVarSet
trigger1	= 0
var(22)		= IfElse( (Parent,Var(22) & 1024), (Parent,Var(22) - 1024), (Parent,Var(22) | 1024) )
ignorehitpause	= 1

[State 20015, End]
type		= ChangeState
trigger1	= 1
value		= 20016
ignorehitpause	= 1

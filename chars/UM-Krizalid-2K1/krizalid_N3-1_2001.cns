;===========================================================================
;DOMAX3発動
[Statedef 8000]
type    = S
movetype= A
physics = S
juggle  = 20
poweradd= -3000
velset = 0,0
ctrl = 0
anim = 8000
sprpriority = 2

[State 8000, 1]
type = PlaySnd
trigger1 = Time = 0
;trigger1 = AnimElem = 1,1
value = s12, 6

[State 8000, 1]
type = PlaySnd
trigger1 = Time = 0
;trigger1 = AnimElem = 1,2
value = s12, 6

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 4
value = S6, 1
channel = -1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 11
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 15
value = 0,0,0
under = 1
time = 20



[State 8000, 7]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7520
postype = p1
;pos = 0,-90

pos = 15,-145

sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7525
postype = p1
;pos = -0,-90

pos = 15,-145

sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 5,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
movetime = 40
anim = 7500
darken = 0
p2defmul = 1

;[State 2000, 2]
;type = SuperPause
;trigger1 = time = 10
;time = 40
;movetime = 40
;p2defmul = 1
;anim = -1
;anim = 7500

;[State 8000, 0]
;type = BGPalFX
;trigger1 = 1
;time = 1
;invertall = 1
;ignorehitpause = 1




[State 8000, Hit.D]
type = HitDef
trigger1 = AnimElem = 1
;Trigger1 = p2stateno != [120,159]
;Trigger1 = p2stateno != 40
trigger1 = p2statetype != A
attr = S, HT
damage = 0,0
hitflag = M
priority = 6, Miss

;Trigger1 = Time = 1
;attr = S, NT         
;hitflag = M-         
;priority = 1, Miss    

sparkno = s7035
sparkxy = -10,-85
sprpriority = 2
pausetime = 0,3      
p2facing = 1          
p1stateno = 6100 
p2stateno = 6200     
;p2stateno = ifelse (command = "holdfwd", 8200, 822)

     
fall = 1              
fall.recover = 0
numhits = 0
hitsound   = s4,0
kill = 0


[State 8000, Hit.D-2]
type = HitDef
trigger1 = AnimElem = 3
;Trigger1 = p2stateno != [120,159]
;Trigger1 = p2stateno != 40
trigger1 = p2statetype = A
attr = A, HT
damage = 0,0
hitflag = AF
priority = 6, Miss

;Trigger1 = Time = 1
;attr = S, NT         
;hitflag = M-         
;priority = 1, Miss    

sparkno = s7035
sparkxy = -5,-105
sprpriority = 2
pausetime = 0,3      
p2facing = 1          
p1stateno = 8100 
p2stateno = 8200     
;p2stateno = ifelse (command = "holdfwd", 8200, 822)

     
fall = 1              
fall.recover = 0
numhits = 0
hitsound   = s4,0
kill = 0

[State 8000, 1]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 8000, 1]
type = VarSet
trigger1 = command = "b"
var(3) = 1

[State 8000, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;DOMAX3投げ
[Statedef 8100]
type    = S
movetype= A
physics = N
anim = 8100
poweradd = 0
sprpriority = 3

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 2,3
value = S6, 1
channel = -1

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 3, 35
value = s12,1

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 3, 36
value = s12,1

[State 8100, 5]
type = EnvColor
trigger1 = Time = 11
value = 248,248,248
under = 1
time = 4

[State 8100, 6]
type = EnvColor
trigger1 = Time = 15
value = 0,0,0
under = 1
time = 20

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8100, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG



[State 8100, 7]
type = Explod
trigger1 = AnimElem = 3,1
anim = 7520
postype = p1
;pos = 0,-90

pos = 15,-145

sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8100, 8]
type = Explod
trigger1 = AnimElem = 3,1
anim = 7525
postype = p1
;pos = -0,-90

pos = 15,-145

sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8100, 0]
type = BGPalFX
trigger1 = Time = 20
time = 250
invertall = 1
ignorehitpause = 1

[State 8100, P.Snd-1]
type = PlaySnd
trigger1 = AnimElem = 3,110
trigger2 = AnimElem = 3,111
value = s7, 4

;[State 8100, P.Snd-1]
;type = PlaySnd
;trigger1 = AnimElem = 3,111
;value = s7, 4

[State 8100, P.Snd-1]
type = PlaySnd
trigger1 = AnimElem = 14,7
trigger2 = AnimElem = 14,8
value = s7, 3

;[State 8100, P.Snd-1]
;type = PlaySnd
;trigger1 = AnimElem = 11,5
;value = s7, 5


[State 8100, P.Snd-2]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
value = S4,3

[State 8100, 8]
type = EnvColor
;trigger1=AnimElem=5||AnimElem=9||AnimElem=13||AnimElem=17
trigger1=AnimElem=20,25
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 8100, 4]
type = HitAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
trigger5 = AnimElem = 20,25
value = 1

[State 8100, turn]
type = turn
triggerall = var(3) = 1  
trigger1 = AnimElem = 2

[State 8100, width]
type = width
triggerall = var(3) = 1  
trigger1 = AnimElem = 2
edge = 50,0

[State 8100, P.Snd-3]
type = PlaySnd
trigger1 = AnimElem = 43
value = s7, 4

[State 8100, P.Snd-3]]
type = PlaySnd
trigger1 = AnimElem = 20,24
value = S5, 4
channel = -1

[State 8100, T.LifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
;value = -20
value = Ceil(-0.2*const(Data.attack))
kill = 0



[State 8100, T.LifeAdd-2]
type = TargetLifeAdd
trigger1 = AnimElem = 20,25
;value = -80
value = Ceil(-0.8*const(Data.attack))
kill = 0



[State 8100, T.Bind-1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 25, 0

[State 8100, T.Bind-2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 25, -140

[State 8100, T.Bind-3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 20
pos = 10, -155

[State 8100, palfx]
type = palfx
trigger1 = AnimElem = 20,25
palfx.time = 55
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3



[State 8100, T.Bind-4]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
pos = 10, -90


[State 8100, T.Bind-5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
pos = 5, 0

[State 8100, T.Bind-6]
type = TargetBind
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
pos = 8, 0


[State 8100, T.Bind-7]
type = TargetBind
trigger1 = AnimElem = 21
;trigger2 = AnimElem = 22
;trigger3 = AnimElem = 23
pos = 0, 0


[State 8100, T.Bind-8]
type = TargetBind
trigger1 = AnimElem = 22
pos = 10, 0

[State 8100, T.Bind-9]
type = TargetBind
trigger1 = AnimElem = 23
pos = 20, 0

[State 8100, T.Bind-10]
type = TargetBind
trigger1 = AnimElem = 24
pos = 30, 0

[State 8100, T.Bind-11]
type = TargetBind
trigger1 = AnimElem = 25
pos = 40, 0


[State 8100, E.Shake]
type = EnvShake
trigger1 = AnimElem = 5,2
trigger2 = AnimElem = 9,2
trigger3 = AnimElem = 13,2
trigger4 = AnimElem = 17,2
Time = 10
ampl = 3
freq = 90

[State 8100, E.Shake]
type = EnvShake
trigger1 = AnimElem = 20,22
Time = 20
ampl = 10
freq = 150

[State 8100, 3]
type = explod
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
postype = p2
pos = 5, 10
sprpriority = -1
anim = 7040
persistent = 1

[State 8100, 4]
type = explod
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
postype = p2
pos = 5, 10
sprpriority = 6
anim = 7045
persistent = 1

[State 8100, 5]
type = explod
trigger1 = AnimElem = 20,24
postype = p2
pos = -10, 10
sprpriority = 6
anim = 7315


[State 8100, 11]
type = SprPriority
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
value = 1

[State 8100,CS]
type = ChangeState
trigger1 = animtime = 0
value = 8605
ctrl = 0


;---------------------------------------------------------------------------
;DOMAX3投げ_喰らい
[Statedef 8200]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 8200,2]
type = Turn
trigger1 = Time >= 1
trigger1 = P2Dist X < 0

[State 8200, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 8200

[State 8200, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 8200, palfx]
type = palfx
trigger1 = AnimElem = 18,24
time = 20
mul = 240,210,130
add = 160,40,20
mul = 140,40,20
sinadd = 60,30,0,20
invertall = 3

[State 8200,CS]
type = ChangeState
trigger1 = animtime = 0
value = 8620
ctrl = 0





;---------------------------------------------------------------------------
; DOMAX3成功・壁まで
[Statedef 8605]
type    = S
movetype= A
physics = S
anim = 8505
poweradd = 0
sprpriority = 3

[State 8605, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1


[State 8605, ps]
type = PlaySnd
trigger1 = AnimElem = 1
value = S5, 2


[State 8605, Width]
type = Width
trigger1 = 1
value = 17,0

[State 8605, VelS-2]
type = VelSet
trigger1 = AnimElem = 1,> 0 
x = 13

[State 8605, Bind-2]
type = TargetBind
trigger1 = AnimElem = 1
;pos = 30, -60
pos = 30, -60
bindtime = -1

[State 8605, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 
;pos = -20, -60
pos = -20, -60
bindtime = -1

[State 8605, Bind-2]
type = TargetState
trigger1 = FrontEdgeBodydist <=15
trigger2 = AnimTime = 0
trigger3 = time >=260
value = 8625

[STate 8605,3]
type = Screenbound
triggerall != FrontEdgeBodydist <=15
trigger1 = time >=260
value = 0

;[State 8605, AI]
;type = AfterImage
;trigger1 = Time = 0
;time = 260
;palmul = 1,1,1
;palcontrast = 160,120,200
;palbright = 60,20,100
;PalAdd = 15,10,30
;length = 9
;framegap = 3
;trans = add1
;sprpriority = 2

[STate -2]
type=AfterImagetime
trigger1 = FrontEdgeBodydist <=15 
time=0

[STate 8605]
type = ChangeState
trigger1 = FrontEdgeBodydist <=15 
trigger2 = time >=260
value = 8510
ctrl = 0

;---------------------------------------------------------------------------
; DOMAX3成功・壁で止まる
[Statedef 8510]
type    = S
physics = N
anim = 8510
sprpriority = 3
velset = 0,0
ctrl = 0

[State 8510, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1

[State 8510, ps]
type = PlaySnd
trigger1 = Time = 0
value = S4, 2

[State 8510, EnvS]
type = EnvShake
trigger1 = AnimElem = 2
Time = 18
ampl = 3
freq = 85

[State 8510, Width-1]
type = Width
trigger1 = AnimElem = 2,>= 0 
edge = 50,0

[State 8510, Width-1]
type = Width
trigger1 = AnimElem = 3,>= 0 
edge = 70,0

[State 8510, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 40, 0

[State 8510, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8510, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 8610
ctrl = 0

;---------------------------------------------------------------------------
; DOMAX3成功・バックステップ
[Statedef 8610]
type    = S
physics = N
anim = 8515
sprpriority = 3
ctrl = 0

[State 8610, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1

[State 8610, ps]
type = PlaySnd
trigger1 = time = 0
value = S3,3
channel = 5
volume = -30

[State 8610, sts]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 8610, vset]
type = VelSet
trigger1 = AnimElem = 1
x = -4.2
y = -3.6

[State 8610, va]
type = VelAdd
trigger1 = Time > 2
y = .55

[State 8610, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8610, cs]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 8615
ctrl = 0

;---------------------------------------------------------------------------
; DOMAX3成功・ぶッ潰れろ〜
[Statedef 8615]
type    = S
movetype= A
physics = S
anim = 86150
velset = 0,0
sprpriority = 3
ctrl = 0

[State 8615, 0]
type = BGPalFX
trigger1 = AnimElem = 1,>=0 && AnimElem = 170, < 0
time = 1
invertall = 1
ignorehitpause = 1

[State 8615]
type = PlaySnd
trigger1 = AnimElem = 170,7
value = S26,1

[State 8615]
type = Explod
trigger1 = AnimElem = 170,6
postype = left
pos = 0, 0
sprpriority = -4
anim = 7610
bindtime = -1
persistent = 1
ownpal = 1
removeongethit = 1
scale = 0.5, 0.5

[State 8615, 5]
type = EnvColor
trigger1 = AnimElem = 170,1
value = 248,248,248
under = 1
time = 5





[State 8615, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8615, Width]
type = Width
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 148,<0
value = 135, 0

[State 8520, Bind-2]
type = TargetBind
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 148,<0
pos = 135, 0
bindtime = -1

[State 8520, NHB]
type = HitBy
trigger1 = P2Stateno = 3040
value = S,HA
time = 1

[State 8520, ps]
type = PlaySnd
trigger1 = Time = 0
value = S3, 6
channel = 5
volume = -30

[State 8520, ps]
type = PlaySnd
trigger1 = AnimElem = 3,2
value = S9, 0
channel = -1

[State 8520, ps]
type = PlaySnd
trigger1 = AnimElem = 3,3
value = S9, 0
channel = -1



;[State 8520, ps]
;type = PlaySnd
;trigger1 = AnimElem = 147,2
;trigger2 = AnimElem = 147,3
;value = S7, 4
;channel = -1

;[State 8520, ps]
;type = PlaySnd
;trigger1 = AnimElem = 158,2
;trigger2 = AnimElem = 158,3
;value = S7, 3
;channel = -1

[State 8520, ps]
type = PlaySnd
trigger1 = AnimElem = 169,2
value = S9, 1
channel = -1

[State 8520, ps]
type = PlaySnd
trigger1 = AnimElem = 169,3
value = S9, 1
channel = -1

[State 8520, ps]
type = PlaySnd
trigger1 = AnimElem = 170
value = S1, 5
channel = -1
volume = -90

[State 8520, ps]
type = PlaySnd
trigger1=AnimElem=4||AnimElem=6||AnimElem=8||AnimElem=10||AnimElem=12||AnimElem=14||AnimElem=16
trigger2=AnimElem=17||AnimElem=19||AnimElem=21||AnimElem=23||AnimElem=25||AnimElem=27
trigger3=AnimElem=29||AnimElem=31||AnimElem=33||AnimElem=35||AnimElem=37||AnimElem=39

trigger4=AnimElem=41||AnimElem=43||AnimElem=45||AnimElem=47||AnimElem=49||AnimElem=51
trigger5=AnimElem=53||AnimElem=55||AnimElem=57||AnimElem=59||AnimElem=61||AnimElem=63

trigger6=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger7=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger8=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger9=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger10=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger11=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
value = S1, 1 + (random %3)
channel = -1
persistent = 1
volume = -40

[State 8520, ps]
type = PlaySnd

trigger1=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger2=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger3=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger4=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger5=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger6=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
value = S5, 6 + (random %3)
channel = -1
persistent = 1
volume = -50




[State 8700, ps]
type = PlaySnd
trigger1 = AnimElem = 170,2 && MoveHit 
value = S5, 4
channel = -1



[State 8700, ps]
type = PlaySnd
trigger1 = AnimElem = 170,2 && MoveHit 
value = S5, 5
channel = -1

[State 8700, ps]
type = PlaySnd
trigger1 = AnimElem = 147,1 && MoveHit 
trigger2 = AnimElem = 154,1 && MoveHit 
value = S5, 4
channel = -1



[State 8520,7]
type = TargetLifeAdd
trigger1 = AnimElem = 4,>=0
trigger1 = AnimElem = 136,<0
;value = -1
value = ifelse (Var(41)=1,-2,-1)
kill = 0

[State 8520,7]
type = TargetPowerAdd
trigger1 = AnimElem = 4,>=0
trigger1 = AnimElem = 136,<0
value = 2

[State 8520,7]
type = TargetPowerAdd
trigger1 = AnimElem = 147
trigger2 = AnimElem = 154
trigger3 = AnimElem = 170
value = 70

[State 8520, 4]
type = HitAdd
trigger1=AnimElem=4||AnimElem=6||AnimElem=8||AnimElem=10||AnimElem=12||AnimElem=14||AnimElem=16
trigger2=AnimElem=17||AnimElem=19||AnimElem=21||AnimElem=23||AnimElem=25||AnimElem=27
trigger3=AnimElem=29||AnimElem=31||AnimElem=33||AnimElem=35||AnimElem=37||AnimElem=39

trigger4=AnimElem=41||AnimElem=43||AnimElem=45||AnimElem=47||AnimElem=49||AnimElem=51
trigger5=AnimElem=53||AnimElem=55||AnimElem=57||AnimElem=59||AnimElem=61||AnimElem=63
trigger6=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger7=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger8=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger9=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger10=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger11=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
value = 1

[State 8520, 8]
type = EnvColor
;trigger1=AnimElem=4||AnimElem=6||AnimElem=8||AnimElem=10||AnimElem=12||AnimElem=14||AnimElem=16
;trigger2=AnimElem=17||AnimElem=19||AnimElem=21||AnimElem=23||AnimElem=25||AnimElem=27
;trigger3=AnimElem=29||AnimElem=31||AnimElem=33||AnimElem=35||AnimElem=37||AnimElem=39

;trigger4=AnimElem=41||AnimElem=43||AnimElem=45||AnimElem=47||AnimElem=49||AnimElem=51
;trigger5=AnimElem=53||AnimElem=55||AnimElem=57||AnimElem=59||AnimElem=61||AnimElem=63
;trigger6=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
;trigger7=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

;trigger8=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
;trigger9=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
;trigger10=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
;trigger11=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
;trigger12=AnimElem=147||AnimElem=154||AnimElem=170

;trigger1=AnimElem=147,1||AnimElem=154,1||AnimElem=170,1

trigger1=AnimElem=147,1||AnimElem=154,1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 8520, pset]
type = PosSet
trigger1 = Time = 0
y = 0

[State 8520, exp-1]
type = explod
trigger1=AnimElem=4||AnimElem=6||AnimElem=8||AnimElem=10||AnimElem=12||AnimElem=14||AnimElem=16
trigger2=AnimElem=17||AnimElem=19||AnimElem=21||AnimElem=23||AnimElem=25||AnimElem=27
trigger3=AnimElem=29||AnimElem=31||AnimElem=33||AnimElem=35||AnimElem=37||AnimElem=39

trigger4=AnimElem=41||AnimElem=43||AnimElem=45||AnimElem=47||AnimElem=49||AnimElem=51
trigger5=AnimElem=53||AnimElem=55||AnimElem=57||AnimElem=59||AnimElem=61||AnimElem=63

trigger6=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger7=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger8=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger9=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger10=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger11=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
postype = p1
pos = 135, -65
sprpriority = 4
anim = 7005 
persistent = 1
ownpal = 1
random = 15,95

[State 8520, E.Shake]
type = EnvShake
trigger1=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger2=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger3=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger4=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger5=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger6=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
Time = 3
ampl = 2
freq = 150


[State 8520, exp-1-1]
type = explod
trigger1=AnimElem=53||AnimElem=55||AnimElem=57||AnimElem=59||AnimElem=61||AnimElem=63

trigger2=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger3=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger4=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger5=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger6=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger7=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135
postype = p1
pos = 130, -55
sprpriority = 4
anim = 8650
persistent = 1
ownpal = 1
random = 15,95




[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 147,1
trigger2 = AnimElem = 154,1
trigger3 = AnimElem = 170,30
postype = p1
;pos = 132, -30
pos = 132, -60
sprpriority = 6
;anim = 8645
anim = 8660
persistent = 1
ownpal = 1
bindtime = -1


[State 8520, exp-2]
type = explod
trigger1 = AnimElem = 147,1
trigger2 = AnimElem = 154,1
trigger3 = AnimElem = 170,30
postype = p1
pos = 112, -20
sprpriority = 4
anim = 8640
persistent = 1
ownpal = 1
bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 147,1
trigger2 = AnimElem = 154,1
;trigger3 = AnimElem = 170,30
postype = p1
pos = 132, -30
sprpriority = 4
anim = 8645
persistent = 1
ownpal = 1
bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 145,1
postype = p1
pos = 0, 20
sprpriority = 5
anim = 86151
persistent = 1
ownpal = 1
bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 152,1
postype = p1
pos = 80, -90
sprpriority = 5
anim = 86152
persistent = 1
ownpal = 1
bindtime = -1

;[State 8700, ps]
;type = PlaySnd
;trigger1 = AnimElem = 146,1 && MoveHit 
;trigger2 = AnimElem = 153,1 && MoveHit 
;value = S20, 1
;channel = -1


[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 170,2
postype = p2
pos = 0, -60
sprpriority = 5
anim = 7315
persistent = 1
ownpal = 1
;bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 170,30
postype = p2
pos = 0, -50
sprpriority = 4
anim = 8645
persistent = 1
ownpal = 1
;bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 169
postype = p1
pos = 0, 0
sprpriority = 5
anim = 8655
persistent = 1
ownpal = 1
bindtime = -1

[State 8520, exp-1]
type = explod
trigger1 = AnimElem = 172
postype = p1
pos = 20, 10
sprpriority = 5
anim = 7380
persistent = 1
ownpal = 1
bindtime = -1



[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<6

trigger1=AnimElem=149||AnimElem=150,3||AnimElem=150,7||AnimElem=151||AnimElem=152
trigger2=AnimElem=160||AnimElem=161,3||AnimElem=161,7||AnimElem=162||AnimElem=163

trigger3=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174

;trigger1=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174
anim = 7300
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<6


trigger1=AnimElem=149||AnimElem=150,3||AnimElem=150,7||AnimElem=151||AnimElem=152
trigger2=AnimElem=160||AnimElem=161,3||AnimElem=161,7||AnimElem=162||AnimElem=163

trigger3=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174

;trigger1=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174
anim = 7305
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<8


trigger1=AnimElem=149||AnimElem=150,3||AnimElem=150,7||AnimElem=151||AnimElem=152
trigger2=AnimElem=160||AnimElem=161,3||AnimElem=161,7||AnimElem=162||AnimElem=163

trigger3=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174

;trigger1=AnimElem=171||AnimElem=172,3||AnimElem=172,7||AnimElem=173||AnimElem=174
anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1




[State 8520, HD-1]
type = HitDef
triggerall = P2Stateno = 8635
trigger1 = AnimElem = 147
attr = S, HA
animtype  = Heavy
damage    =30,20
guardflag = MA
pausetime = 0,46
sparkno = s7015
guard.sparkno = S7030
sparkxy = 0,-60
hitsound   = s1,5
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -5,-9

p2stateno = 8635



;fall =1

fall =0

fall.recover = 0
yaccel = .52
envshake.time = 30
envshake.ampl = 5
envshake.freq = 90
;envshake.phase = -3

P2facing = 1
palfx.time = 60
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
kill = 0






[State 8520, HD-2]
type = HitDef
triggerall = P2Stateno = 8635
trigger1 = AnimElem = 154
attr = S, HA
animtype  = Heavy
damage    =30,20
guardflag = MA
pausetime = 0,46
sparkno = s7015
guard.sparkno = S7030
sparkxy = 0,-60
hitsound   = s1,5
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -5,-9

p2stateno = 8635

;fall =1

fall =0

fall.recover = 0
yaccel = .52
envshake.time = 30
envshake.ampl = 5
envshake.freq = 90
;envshake.phase = -3

P2facing = 1
palfx.time = 60
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
kill = 0


[State 8520, HD-3]
type = HitDef
triggerall = P2Stateno = 8635
trigger1 = AnimElem = 170
attr = S, HA
animtype  = diegup
damage    =90,20
guardflag = MA
;pausetime = 0,46

pausetime = 0,65

sparkno = s7015
guard.sparkno = S7030
sparkxy = 0,-60
hitsound   = s1,5
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -5,-9


;p2stateno = 1002

fall =1


fall.recover = 0
yaccel = .52
envshake.time = 40
envshake.ampl = 10
envshake.freq = 90
;envshake.phase = -3

P2facing = 1
palfx.time = 95
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3


[State 8620, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 8740
ctrl = 1

;---------------------------------------------------------------------------
; DOMAX3相手・掴まれて壁まで
[Statedef 8620]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 8620, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 8620, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 8620

[STate 8620,3]
type = Screenbound
trigger1 = 1
value = 0

[State 8620, CS]
type = ChangeState
trigger1 = P2StateNo = 8510
value = 8625
ctrl = 0

[State 8620, CS]
type = SelfState
trigger1 = Time = 500
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DOMAX3相手・壁よろけ
[Statedef 8625]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 8625, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8625, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 8625, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3035
;value = 8625


[State 8625, SBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8625, CS]
type = ChangeState
trigger1 = P2StateNo = 8615
trigger2 = Time = 41
value = 8630
ctrl = 0

[State 8625, CS]
type = SelfState
trigger1 = Time = 200
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DOMAX3相手・連打喰らい
[Statedef 8630]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 8630, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8630, CA2]
type = ChangeAnim2
trigger1 = Time = 0
;value = 3130              ;air anime
value = 8630

[State 8630, SBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8640,00]
type = Palfx
trigger1=AnimElem=65||AnimElem=67||AnimElem=69||AnimElem=71||AnimElem=73||AnimElem=75
trigger2=AnimElem=77||AnimElem=79||AnimElem=81||AnimElem=83||AnimElem=85||AnimElem=87

trigger3=AnimElem=89||AnimElem=91||AnimElem=93||AnimElem=95||AnimElem=97||AnimElem=99
trigger4=AnimElem=101||AnimElem=103||AnimElem=105||AnimElem=107||AnimElem=109||AnimElem=111
trigger5=AnimElem=113||AnimElem=115||AnimElem=117||AnimElem=119||AnimElem=121||AnimElem=123
trigger6=AnimElem=125||AnimElem=127||AnimElem=129||AnimElem=131||AnimElem=133||AnimElem=135

time = 20
mul = 240,210,130
add = 160,40,20
mul = 140,40,20
sinadd = 60,30,0,20
invertall = 3








[State 8630, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 8635
ctrl = 0

[State 8630, CS]
type = SelfState
trigger1 = Time = 300
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DOMAX3相手・ピヨひこ
[Statedef 8635]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3045, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3045, HB]
type = HitBy
trigger1 = time >= 0
value = S,HA
time = 1

[State 3045, PPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 8635, CA]
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300





[State 8635, CS]
type = SelfState
trigger1 = Time = 200
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;DOMAX3・こんなもので勝てるのか
[Statedef 8740]
type = S
ctrl = 0
anim = 8740
velset = 0,0

[State 8740, P.snd-12,5]
type = PlaySnd
trigger1 = AnimElem = 7
value = S12,5
channel = 4

[State 8740, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;===========================================================================

;EOHMAX3発動
[Statedef 6000]
type    = S
movetype= A
physics = S
juggle  = 20
poweradd= -3000
velset = 0,0
ctrl = 0
anim = 8000
sprpriority = 2

[State 8000, 1]
type = PlaySnd
trigger1 = Time = 0
;trigger1 = AnimElem = 1,1
value = s12, 6

[State 8000, 1]
type = PlaySnd
trigger1 = Time = 0
;trigger1 = AnimElem = 1,2
value = s12, 6

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 4
value = S6, 1
channel = -1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 11
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 15
value = 0,0,0
under = 1
time = 20



[State 8000, 7]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7520
postype = p1
;pos = 0,-90

pos = 15,-145

sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7525
postype = p1
;pos = -0,-90

pos = 15,-145

sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 5,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
movetime = 40
anim = 7500
darken = 0
p2defmul = 1

;[State 2000, 2]
;type = SuperPause
;trigger1 = time = 10
;time = 40
;movetime = 40
;p2defmul = 1
;anim = -1
;anim = 7500

;[State 8000, 0]
;type = BGPalFX
;trigger1 = 1
;time = 1
;invertall = 1
;ignorehitpause = 1




[State 8000, Hit.D]
type = HitDef
trigger1 = AnimElem = 1
Trigger1 = p2stateno != [120,159]
Trigger1 = p2stateno != 40
trigger1 = p2statetype != A
attr = S, HT
damage = 0,0
hitflag = M
priority = 6, Miss

;Trigger1 = Time = 1
;attr = S, NT         
;hitflag = M-         
;priority = 1, Miss    

sparkno = s7035
sparkxy = -10,-85
sprpriority = 2
pausetime = 0,3      
p2facing = 1          
p1stateno = 6100 
p2stateno = 6200     
;p2stateno = ifelse (command = "holdfwd", 8200, 822)

     
fall = 1              
fall.recover = 0
numhits = 0
hitsound   = s4,0
kill = 0


[State 8000, Hit.D-2]
type = HitDef
trigger1 = AnimElem = 3
Trigger1 = p2stateno != [120,159]
Trigger1 = p2stateno != 40
trigger1 = p2statetype = A
attr = A, HT
damage = 0,0
hitflag = AF
priority = 6, Miss

;Trigger1 = Time = 1
;attr = S, NT         
;hitflag = M-         
;priority = 1, Miss    

sparkno = s7035
sparkxy = -5,-105
sprpriority = 2
pausetime = 0,3      
p2facing = 1          
p1stateno = 8100 
p2stateno = 8200     
;p2stateno = ifelse (command = "holdfwd", 8200, 822)

     
fall = 1              
fall.recover = 0
numhits = 0
hitsound   = s4,0
kill = 0

[State 8000, 1]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 8000, 1]
type = VarSet
trigger1 = command = "b"
var(3) = 1

[State 8000, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;EOHMAX3投げ
[Statedef 6100]
type    = S
movetype= A
physics = N
anim = 6100
poweradd = 0
sprpriority = 3

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 2,3
value = S6, 1
channel = -1

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 3, 35
value = s7,6

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 3, 36
value = s7,6

[State 8100, 5]
type = EnvColor
trigger1 = Time = 11
value = 248,248,248
under = 1
time = 4

[State 8100, 6]
type = EnvColor
trigger1 = Time = 15
value = 0,0,0
under = 1
time = 20

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8100, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8100, 7]
type = Explod
trigger1 = AnimElem = 3,1
anim = 7520
postype = p1
;pos = 0,-90

pos = 15,-145

sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8100, 8]
type = Explod
trigger1 = AnimElem = 3,1
anim = 7525
postype = p1
;pos = -0,-90

pos = 15,-145

sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8100, 0]
type = BGPalFX
trigger1 = Time = 20
;time = 1
;time = 117
time = 250
invertall = 1
ignorehitpause = 1



[State 8100, width]
type = width
triggerall = var(3) = 1  
trigger1 = AnimElem = 2
edge = 50,0



[State 8100, 4]
type = HitAdd
trigger1 = AnimElem = 3,111
trigger2 = AnimElem = 3,137
trigger3 = AnimElem = 3,163
trigger4 = AnimElem = 3,189
value = 1


[State 8100, P.Snd-3]]
type = PlaySnd
trigger1 = AnimElem = 3,110
trigger2 = AnimElem = 3,136
trigger3 = AnimElem = 3,162
trigger4 = AnimElem = 3,188
value = S5, 4
channel = -1

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 3, 179
trigger2 = AnimElem = 3, 180
value = s9,2






[State 8100, T.Bind-1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 25, 0

[State 8100, T.Bind-2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 25, -140

[State 8100, T.Bind-3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 10, -155


[State 8100, T.Bind-7]
type = TargetBind
trigger1 = AnimElem = 4
pos = 0, 0


[State 8100, T.Bind-8]
type = TargetBind
trigger1 = AnimElem = 5
pos = 10, 0

[State 8100, T.Bind-9]
type = TargetBind
trigger1 = AnimElem = 6
pos = 20, 0

[State 8100, T.Bind-10]
type = TargetBind
trigger1 = AnimElem = 7
pos = 30, 0

[State 8100, T.Bind-11]
type = TargetBind
trigger1 = AnimElem = 8
pos = 40, 0






[State 8100, T.LifeAdd-2]
type = TargetLifeAdd
trigger1 = AnimElem = 3,111
trigger2 = AnimElem = 3,137
trigger3 = AnimElem = 3,163
trigger4 = AnimElem = 3,189
;value = -55
value = Ceil(-0.6*const(Data.attack))
kill = 0







[State 8100, E.Shake]
type = EnvShake
trigger1 = AnimElem = 3,111
trigger2 = AnimElem = 3,137
trigger3 = AnimElem = 3,163
trigger4 = AnimElem = 3,189
Time = 20
ampl = 10
freq = 150


[State 8520, 8]
type = EnvColor
trigger1 = AnimElem = 3,111
trigger2 = AnimElem = 3,137
trigger3 = AnimElem = 3,163
trigger4 = AnimElem = 3,189
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1




[State 8700, 8]
type = Explod
;triggerall = Movehit&&random%10<6
triggerall = random%10<6

trigger1=AnimElem=3,112||AnimElem=3,119||AnimElem=3,123||AnimElem=3,125||AnimElem=3,128
trigger2=AnimElem=3,138||AnimElem=3,145||AnimElem=3,149||AnimElem=3,151||AnimElem=3,154
trigger3=AnimElem=3,164||AnimElem=3,171||AnimElem=3,175||AnimElem=3,177||AnimElem=3,180
trigger4=AnimElem=3,189||AnimElem=3,190||AnimElem=3,191

anim = 7300
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1


[State 8700, 8]
type = Explod
;triggerall = Movehit&&random%10<6
triggerall = random%10<6

trigger1=AnimElem=3,112||AnimElem=3,119||AnimElem=3,123||AnimElem=3,125||AnimElem=3,128
trigger2=AnimElem=3,138||AnimElem=3,145||AnimElem=3,149||AnimElem=3,151||AnimElem=3,154
trigger3=AnimElem=3,164||AnimElem=3,171||AnimElem=3,175||AnimElem=3,177||AnimElem=3,180
trigger4=AnimElem=3,189||AnimElem=3,190||AnimElem=3,191

anim = 7305
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1


[State 8700, 8]
type = Explod
;triggerall = Movehit&&random%10<8
triggerall = random%10<8

trigger1=AnimElem=3,112||AnimElem=3,119||AnimElem=3,123||AnimElem=3,125||AnimElem=3,128
trigger2=AnimElem=3,138||AnimElem=3,145||AnimElem=3,149||AnimElem=3,151||AnimElem=3,154
trigger3=AnimElem=3,164||AnimElem=3,171||AnimElem=3,175||AnimElem=3,177||AnimElem=3,180
trigger4=AnimElem=3,189||AnimElem=3,190||AnimElem=3,191

anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1






[State 8100, 5]
type = explod
trigger1 = AnimElem = 3,112
trigger2 = AnimElem = 3,138
trigger3 = AnimElem = 3,164
postype = p2
pos = -10, 10
sprpriority = 6
anim = 7315


[State 8100, 5]
type = explod
trigger1 = AnimElem = 3,190
postype = p2
pos = -10, 60
sprpriority = 6
anim = 8660



[State 8100,CS]
type = ChangeState
trigger1 = animtime = 0
value = 6205
ctrl = 0

;---------------------------------------------------------------------------
;EOHMAX3投げ_喰らい
[Statedef 6200]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 8200,2]
type = Turn
trigger1 = Time >= 1
trigger1 = P2Dist X < 0




;[State 3045, HB]
;type = HitBy
;trigger1 = time >= 0
;value = S,HA
;time = 1




[State 8100, palfx]
type = palfx
trigger1 = AnimElem = 2,115
trigger2 = AnimElem = 2,141
trigger3 = AnimElem = 2,167
trigger4 = AnimElem = 2,193
trigger5 = AnimElem = 3
time = 55
mul = 240,210,130
add = 160,40,20
mul = 140,40,20
sinadd = 60,30,0,20
invertall = 3

[State 8200, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 6200

[State 8200, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0


[State 8200,CS]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------












;---------------------------------------------------------------------------
;EOHMAX3BS
[Statedef 6205]
type    = S
physics = N
ctrl = 0
anim = 6205
sprpriority = 1

[State 8615, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1

[State 105, P.Snd-3,3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,3
channel = 5
volume = -40

[State 105, S.T.Set]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 105, Vel.S]
type = VelSet
trigger1 = AnimElem = 1
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, Vel.A]
type = VelAdd
trigger1 = AnimElem = 1,> 0
;x = .2
;y = .47

x = .6
y = .87

[State 105, C.State-106]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 6206

ctrl = 0


;---------------------------------------------------------------------------
; バックステップ_着地
[Statedef 6206]
type    = S
physics = S
ctrl = 0
anim = 6206
velset = 0,0

[State 8615, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1

[State 106, P.Snd-3,6]
type = PlaySnd
trigger1 = Time = 0
value = S3, 6
channel = 5
volume = -40

[State 106, P.Set]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, C.State-0]
type = ChangeState
trigger1 = AnimTime = 0
value = 6210
ctrl = 0

;---------------------------------------------------------------------------
; EOHMAX3エデン
[Statedef 6210]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 6210
sprpriority = 3


[State 8615, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 1

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 4,>= 0 && AnimElem = 9,< 0
x = 15

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 8000]
type = NotHitBy 
trigger1 = animelem = 34,<=0
value = SCA


[State 3200, 1]
type = PlaySnd
trigger1 = AnimElem = 21
trigger2 = AnimElem = 21,1
value = s9, 3
;channel = 2

[State 8100, ps]
type = PlaySnd
trigger1 = AnimElem = 11,1 && MoveHit 
value = s5,5


[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<4

trigger1=AnimElem=5||AnimElem=7,1||AnimElem=9,1||AnimElem=9,4||AnimElem=9,7
trigger2=AnimElem=12||AnimElem=14,1||AnimElem=17,1||AnimElem=19||AnimElem=21
trigger3=AnimElem=23||AnimElem=25

anim = 7300
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1


[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<4

trigger1=AnimElem=5||AnimElem=7,1||AnimElem=9,1||AnimElem=9,4||AnimElem=9,7
trigger2=AnimElem=12||AnimElem=14,1||AnimElem=17,1||AnimElem=19||AnimElem=21
trigger3=AnimElem=23||AnimElem=25

anim = 7305
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<6


trigger1=AnimElem=5||AnimElem=7,1||AnimElem=9,1||AnimElem=9,4||AnimElem=9,7
trigger2=AnimElem=12||AnimElem=14,1||AnimElem=17,1||AnimElem=19||AnimElem=21
trigger3=AnimElem=23||AnimElem=25

anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1


[State 1012, exp-1]
type = explod
trigger1 = AnimElem = 10,2
postype = p1
pos = -16, 5
sprpriority = -1
anim = 7040
persistent = 1

[State 1040, 3]
type = explod
trigger1 = AnimElem = 10,2
postype = p1
pos = -16, 5
sprpriority = -1
anim = 7050
persistent = 1





[State 3200, 8]
type = Explod
trigger1 = AnimElem = 11
;anim = 7255
anim = 8666
postype = p1
pos = -16,-5
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1

[State 3300, 8]
type = EnvColor
triggerall = movehit
trigger1 = AnimElem = 11 || AnimElem = 13,1 || AnimElem = 16
;trigger1=AnimElem=4,1||AnimElem=6,1||AnimElem=7,1
;trigger2=AnimElem=8,1||AnimElem=9,1||AnimElem=10,1
value = 235,235,235
time = 1
under = 1
ignorehitpause = 1



[State 3300, 1]
type = HitDef
trigger1=AnimElem=4||AnimElem=5||AnimElem=6||AnimElem=6,1||AnimElem=7||AnimElem=7,1
trigger2=AnimElem=8||AnimElem=8,1||AnimElem=9||AnimElem=9,1||AnimElem=10
attr = S, HA
animtype  = hard
;damage    = 15,5
damage    = ifelse (Var(41)=1,20,15),5
getpower= 0,50
hitflag = MAPF
guardflag = M
priority = 7, Hit
pausetime = 12,12
sparkno = s7005
guard.sparkno = S7030
sparkxy = -10,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0

kill = 0

P2facing = 1
palfx.time = 20
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 3
envshake.ampl = 2
envshake.freq = 150
;envshake.phase = -3




[State 3300, 1]
type = HitDef
trigger1 = AnimElem = 11 || AnimElem = 13,1 || AnimElem = 16
attr = S, HA
animtype  = Up
;damage    = 35,10
damage    = ifelse (Var(41)=1,50,35),10
getpower = 0,0
hitflag = MAPF
guardflag = M
priority = 7, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = S7030
sparkxy = 0,-80
hitsound   = s13,0
guardsound = s2,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 10
ground.velocity = -1,-13
air.velocity = -1,-12
air.hittime = 10
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5
P2Stateno = 3230
P2facing = 1
palfx.time = 55
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
;kill = 0
envshake.time = 30
envshake.ampl = 5
envshake.freq = 90
;envshake.phase = -3


;[State 3200, 13]
;type = ChangeState
;;triggerall = power >= 1000 
;trigger1 = command = "a+x" 
;trigger1 = time > 40
;trigger1 = Time > 45
;value = 6215
;ctrl = 1

[State 3200, 13]
type = ChangeState
trigger1 = command != "hold_x" && command != "hold_y" 
;trigger1 = time > 73
trigger1 = time > 81
trigger2 = Time > 81
trigger3 = var(20) = 1 && Time > 81
;trigger4 = command = "hold_c" && command = "hold_z" 
value = 6220





;---------------------------------------------------------------------------
; ブレーキング
;[Statedef 6215]
;type    = S
;movetype= A
;physics = S
;juggle  = 0
;;poweradd= -1000
;ctrl = 0
;anim = 3205
;sprpriority = 2

;[State 3205, 1]
;type = PlaySnd
;trigger1 = AnimElem = 1
;value = s6, 0
;channel = 2

;[State 851, 1]
;type = explod
;trigger1 = AnimElem = 1
;postype = p1
;pos = -30, -75
;sprpriority = 3
;anim = 7055
;persistent = 1
;ownpal = 1

;[State -2, 1]
;type = PalFX
;trigger1 = gametime%2
;trigger1 = time<=6
;time = 1
;add = 200,0,0
;ignorehitpause = 1

;[State 3205, C.State]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1






;---------------------------------------------------------------------------
；EOHMAX3・クロス
[Statedef 6220]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3210
ctrl = 0
sprpriority = 3


;------割れ演出--------
[State 6620, 0]
type = BGPalFX
trigger1 = time = 1
time = 20
invertall = 1
ignorehitpause = 1

[State 6620]
type = PlaySnd
trigger1 = AnimElem = 6,9
value = S26,1

[State 6620]
type = Explod
trigger1 = AnimElem = 6,8
postype = left
pos = 0, 0
sprpriority = -4
anim = 7610
bindtime = -1
persistent = 1
ownpal = 1
removeongethit = 1
scale = 0.5, 0.5

[State 6620, 5]
type = EnvColor
trigger1 = AnimElem = 6,3
value = 248,248,248
under = 1
time = 5

;--------------




[State 8000]
type = NotHitBy 
trigger1 = animelem = 9,<=0
value = SCA

[State 3025, ps]
type = PlaySnd
trigger1 = AnimElem = 4
value = S5, 5
channel = -1

[State 3025, ps]
type = PlaySnd
trigger1 = AnimElem = 6,2 && movehit
value = S5, 4
channel = -1

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 6,1
trigger2 = AnimElem = 6,2
anim = 7250
postype = p1
pos = 0,0
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1



[State 8520, exp-1]
type = explod
triggerall = movehit
;trigger1 = AnimElem = 6,3
trigger1 = AnimElem = 6,5
anim = 8660
postype = p1
pos = 105, -80
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
ignorehitpause = 1

[State 3210,7]
type = TargetPowerAdd
triggerall = Movehit
trigger1=AnimElem=6,1
value = 100

[State 3210, HD-1]
type = HitDef
trigger1 = AnimElem = 6 
attr = S, HA
animtype  = hard
;damage    = 110,20
damage    = ifelse (Var(41)=1,180,110),20
getpower = 0,0
hitflag = MAPF
guardflag = MA
priority = 7, Hit
;pausetime = 0,12

pausetime = 0,30

sparkno = s7010
guard.sparkno = S7030
sparkxy = 0,-90
hitsound = s5,7
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -4,-6
guard.velocity = -10
airguard.velocity = -4,-5
ground.cornerpush.veloff = 0
yaccel = .46
fall = 1
fall.recover = 0
P2Stateno = 3220
palfx.time = 60
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 40
envshake.ampl = 10
envshake.freq = 90
;envshake.phase = -3


[State 1005, HD-1]
type = HitDef
triggerall = p2bodydist Y >= -40
trigger1 = AnimElem = 6,2
attr = S, HA
animtype  = hard
damage    = 110,10
getpower = 0,0
hitflag = MAPF
guardflag = MA
priority = 7, Hit
;pausetime = 0,12

pausetime = 0,30

sparkno = s7010
guard.sparkno = S7030
sparkxy = 0,-90
hitsound = s5,7
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -4,-6
guard.velocity = -10
airguard.velocity = -4,-5
ground.cornerpush.veloff = 0
yaccel = .46
fall = 1
fall.recover = 0
P2Stateno = 3220
palfx.time = 60
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 40
envshake.ampl = 10
envshake.freq = 90
;envshake.phase = -3


[State 3020, 8]
type = EnvColor
trigger1 = MoveHit && AnimElem = 6,1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 3020, 8]
type = EnvColor
triggerall = p2bodydist Y >= -40
trigger1 = MoveHit && AnimElem = 6,3
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 3215, 8]
type = Explod
trigger1 = Movehit&&(AnimElem=6||AnimElem=7||AnimElem=8||AnimElem=9)&&random%10<6
anim = 7300
postype = p2
pos = 0,-65
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80

[State 3215, 8]
type = Explod
trigger1 = Movehit&&(AnimElem=6||AnimElem=7||AnimElem=8||AnimElem=9)&&random%10<6
anim = 7305
postype = p2
pos = 0,-65
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80

[State 8700, 8]
type = Explod
triggerall = Movehit&&random%10<8
trigger1 = Movehit&&(AnimElem=6||AnimElem=7||AnimElem=8||AnimElem=9)&&random%10<6
anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1

[State 3200, 13]
type = VarSet
trigger1 = Movehit
var(8)=1

[State 3200, 13]
type = VarSet
trigger1 = Movehit
var(11)=1

[State 3200, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
；ライトニング
[Statedef 3600]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -3000
velset = 0,0
anim = 3600
ctrl = 0
sprpriority = 3

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 4
value = S6, 1
channel = -1


[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 13
value = S26, 0

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 5
value = S9, 1

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 6
value = S9, 1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 11
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 15
value = 0,0,0
under = 1
time = 20



[State 8000, 7]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7520
postype = p1
pos = -15,-75
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 4,1
anim = 7525
postype = p1
pos = -15,-75
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 16,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
movetime = 40
anim = 7500
darken = 0
p2defmul = 1


；――――――――――――

[State 3100, 1]
type = BGPalFX
trigger1 = Time = 20
time = 145
sprpriority = 6
add = -255,-255,-255

[State 3100, 1]
type = EnvColor 
trigger1 = Time = 20
time = 145
value = 0,0,0
under = 1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 143
value = 248,248,248
under = 1
time = 4

[State 3100, 1]
type = BGPalFX
trigger1 = Time = 145
time = 2
sprpriority = 6
add = -255,-255,-255

[State 3100, 1]
type = EnvColor 
trigger1 = Time = 145
time = 2
value = 0,0,0
under = 1


[State 8000, 5]
type = AssertSpecial
trigger1 = animelem=1,>0 && animelem=14,<0
flag = noFG
flag2 = noshadow 


[State 8000, 8]
type = Explod
trigger1 = Time = 145
;anim = 73795
;postype = back
pos = 0,0
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1

postype = left
anim = 7606
scale = 0.5, 0.5


[State 8000, ps]
type = PlaySnd
trigger1 = time = 145
value = S26, 1

[State 8610, 3]
type = ScreenBound
trigger1 = animelem=13,>0 && animelem=14,<0
movecamera = 0,0
value = 1

；――――――――――――

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 9,>= 0 && AnimElem = 12,< 0
x = 8

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 13,>= 0 && AnimElem = 15,< 0
x = 2

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 16
x = 0


[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 7
trigger2 = AnimElemtime(13) = 11
trigger3 = AnimElemtime(13) = 18
trigger4 = AnimElemtime(13) = 30
trigger5 = AnimElemtime(13) = 44
trigger6 = AnimElemtime(13) = 49
trigger7 = AnimElemtime(13) = 52
trigger8 = AnimElemtime(13) = 68
trigger9 = AnimElemtime(13) = 78
trigger10 = AnimElemtime(13) = 90
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73710
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 4
trigger2 = AnimElemtime(13) = 15
trigger3 = AnimElemtime(13) = 23
trigger4 = AnimElemtime(13) = 37
trigger5 = AnimElemtime(13) = 46
trigger6 = AnimElemtime(13) = 58
trigger7 = AnimElemtime(13) = 61
trigger8 = AnimElemtime(13) = 70
trigger9 = AnimElemtime(13) = 85
trigger10 = AnimElemtime(13) = 97
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73740
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 6
trigger2 = AnimElemtime(13) = 17
trigger3 = AnimElemtime(13) = 25
trigger4 = AnimElemtime(13) = 33
trigger5 = AnimElemtime(13) = 49
trigger6 = AnimElemtime(13) = 51
trigger7 = AnimElemtime(13) = 63
trigger8 = AnimElemtime(13) = 74
trigger9 = AnimElemtime(13) = 86
trigger10 = AnimElemtime(13) = 94
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73720
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 9
trigger2 = AnimElemtime(13) = 13
trigger3 = AnimElemtime(13) = 21
trigger4 = AnimElemtime(13) = 39
trigger5 = AnimElemtime(13) = 43
trigger6 = AnimElemtime(13) = 55
trigger7 = AnimElemtime(13) = 69
trigger8 = AnimElemtime(13) = 71
trigger9 = AnimElemtime(13) = 89
trigger10 = AnimElemtime(13) = 95
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73750
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 1
trigger2 = AnimElemtime(13) = 10
trigger3 = AnimElemtime(13) = 22
trigger4 = AnimElemtime(13) = 37
trigger5 = AnimElemtime(13) = 41
trigger6 = AnimElemtime(13) = 57
trigger7 = AnimElemtime(13) = 67
trigger8 = AnimElemtime(13) = 75
trigger9 = AnimElemtime(13) = 84
trigger10 = AnimElemtime(13) = 91
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73770
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 1
trigger2 = AnimElemtime(13) = 10
trigger3 = AnimElemtime(13) = 22
trigger4 = AnimElemtime(13) = 37
trigger5 = AnimElemtime(13) = 41
trigger6 = AnimElemtime(13) = 57
trigger7 = AnimElemtime(13) = 67
trigger8 = AnimElemtime(13) = 75
trigger9 = AnimElemtime(13) = 84
trigger10 = AnimElemtime(13) = 91
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73780
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 15
trigger2 = AnimElemtime(13) = 31
trigger3 = AnimElemtime(13) = 57
trigger4 = AnimElemtime(13) = 84
trigger5 = AnimElemtime(13) = 93
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73730
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 7
trigger2 = AnimElemtime(13) = 25
trigger3 = AnimElemtime(13) = 41
trigger4 = AnimElemtime(13) = 73
trigger5 = AnimElemtime(13) = 80
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73760
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 4
trigger2 = AnimElemtime(13) = 18
trigger3 = AnimElemtime(13) = 36
trigger4 = AnimElemtime(13) = 58
trigger5 = AnimElemtime(13) = 94
postype = p1
pos = 0, -150
sprpriority = 4
anim = 73790
persistent = 1
ownpal = 1
random = 600,200

[State 8520, exp-1]
type = explod
trigger1 = AnimElemtime(13) = 3
trigger2 = AnimElemtime(13) = 6
trigger3 = AnimElemtime(13) = 9
trigger4 = AnimElemtime(13) = 12
trigger5 = AnimElemtime(13) = 15
trigger6 = AnimElemtime(13) = 18
trigger7 = AnimElemtime(13) = 21
trigger8 = AnimElemtime(13) = 24
trigger9 = AnimElemtime(13) = 27
trigger10 = AnimElemtime(13) = 30
trigger11 = AnimElemtime(13) = 33
trigger12 = AnimElemtime(13) = 36
trigger13 = AnimElemtime(13) = 39
trigger14 = AnimElemtime(13) = 42
trigger15 = AnimElemtime(13) = 45
trigger16 = AnimElemtime(13) = 48
trigger17 = AnimElemtime(13) = 51
trigger18 = AnimElemtime(13) = 54
trigger19 = AnimElemtime(13) = 57
trigger20 = AnimElemtime(13) = 60
trigger21 = AnimElemtime(13) = 63
trigger22 = AnimElemtime(13) = 66
trigger23 = AnimElemtime(13) = 69
trigger24 = AnimElemtime(13) = 72
trigger25 = AnimElemtime(13) = 75
trigger26 = AnimElemtime(13) = 78
trigger27 = AnimElemtime(13) = 81
trigger28 = AnimElemtime(13) = 84
trigger29 = AnimElemtime(13) = 87
trigger30 = AnimElemtime(13) = 90
trigger31 = AnimElemtime(13) = 93
trigger32 = AnimElemtime(13) = 96
trigger33 = AnimElemtime(13) = 99
postype = p1
pos = 0, -100
sprpriority = 4
anim = 73700
persistent = 1
ownpal = 1
random = 600,100

[State 8520, exp-1]
type = explod
triggerall = movehit
trigger1 = AnimElemtime(13) = 3
trigger2 = AnimElemtime(13) = 6
trigger3 = AnimElemtime(13) = 9
trigger4 = AnimElemtime(13) = 12
trigger5 = AnimElemtime(13) = 15
trigger6 = AnimElemtime(13) = 18
trigger7 = AnimElemtime(13) = 21
trigger8 = AnimElemtime(13) = 24
trigger9 = AnimElemtime(13) = 27
trigger10 = AnimElemtime(13) = 30
trigger11 = AnimElemtime(13) = 33
trigger12 = AnimElemtime(13) = 36
trigger13 = AnimElemtime(13) = 39
trigger14 = AnimElemtime(13) = 42
trigger15 = AnimElemtime(13) = 45
trigger16 = AnimElemtime(13) = 48
trigger17 = AnimElemtime(13) = 51
trigger18 = AnimElemtime(13) = 54
trigger19 = AnimElemtime(13) = 57
trigger20 = AnimElemtime(13) = 60
trigger21 = AnimElemtime(13) = 63
trigger22 = AnimElemtime(13) = 66
trigger23 = AnimElemtime(13) = 69
trigger24 = AnimElemtime(13) = 72
trigger25 = AnimElemtime(13) = 75
trigger26 = AnimElemtime(13) = 78
trigger27 = AnimElemtime(13) = 81
trigger28 = AnimElemtime(13) = 84
trigger29 = AnimElemtime(13) = 87
trigger30 = AnimElemtime(13) = 90
postype = p2
pos = 0, -100
sprpriority = 4
anim = 7011
persistent = 1
ownpal = 1

[State 3600]
type = HitDef
trigger1 = AnimElemtime(13) = 3
trigger2 = AnimElemtime(13) = 6
trigger3 = AnimElemtime(13) = 9
trigger4 = AnimElemtime(13) = 12
trigger5 = AnimElemtime(13) = 15
trigger6 = AnimElemtime(13) = 18
trigger7 = AnimElemtime(13) = 21
trigger8 = AnimElemtime(13) = 24
trigger9 = AnimElemtime(13) = 27
trigger10 = AnimElemtime(13) = 30
trigger11 = AnimElemtime(13) = 33
trigger12 = AnimElemtime(13) = 36
trigger13 = AnimElemtime(13) = 39
trigger14 = AnimElemtime(13) = 42
trigger15 = AnimElemtime(13) = 45
trigger16 = AnimElemtime(13) = 48
trigger17 = AnimElemtime(13) = 51
trigger18 = AnimElemtime(13) = 54
trigger19 = AnimElemtime(13) = 57
trigger20 = AnimElemtime(13) = 60
trigger21 = AnimElemtime(13) = 63
trigger22 = AnimElemtime(13) = 66
trigger23 = AnimElemtime(13) = 69
trigger24 = AnimElemtime(13) = 72
trigger25 = AnimElemtime(13) = 75
trigger26 = AnimElemtime(13) = 78
trigger27 = AnimElemtime(13) = 81
trigger28 = AnimElemtime(13) = 84
trigger29 = AnimElemtime(13) = 87
;trigger30 = AnimElemtime(13) = 90
attr = S,HA
getpower = 0
;damage = 16,7
damage    = ifelse (Var(41)=1,20,16),7
animtype = up
hitflag = MAFD
guardflag = M
priority = 5
pausetime = 1,2
sparkno = -1
sparkxy = -15,-65
hitsound = -1;s1,4
guardsound = s2,1
guard.sparkno = S7030
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,-2
guard.velocity = -5
air.velocity = 0,-5
p2facing = 1
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime  = 10
air.fall = 1
air.fall.recover = 0
yaccel = .48

[State 3600]
type = HitDef
trigger1 = AnimElemtime(13) = 90
attr = S,HA
getpower = 0
;damage = 25,9
damage    = ifelse (Var(41)=1,30,25),9
animtype = digaup
hitflag = MAFD
guardflag = M
priority = 5
pausetime = 1,2
sparkno = -1
sparkxy = -15,-65
hitsound = -1;s1,4
guardsound = s2,1
guard.sparkno = S7030
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = -1,-2
guard.velocity = -10
air.velocity = -4,-7
p2facing = 1
P2Stateno = 1002
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime  = 10
air.fall = 1
air.fall.recover = 0
yaccel = .48

[State 3000]
type = Projectile
trigger1 = AnimElem = 13
projID = 3610
projanim = 3610
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 8
projshadow = 0,0,0
projremovetime = 90
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 0,0
hitflag = MAF
guardflag = M
air.fall = 1
air.fall.recover = 0



[State 1000, ステート変更]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;エンドオブヘブン・発動
[Statedef 3760]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -2000
velset = 0,0
ctrl = 0
anim = 3760
sprpriority = 2

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 1
value = S6, 1
channel = -1


;[State 8000, ps]
;type = PlaySnd
;trigger1 = AnimElem = 13
;value = S26, 0

[State 8000, 5]
type = EnvColor
;trigger1 = Time = 11
trigger1 = Time = 6
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
;trigger1 = Time = 15
trigger1 = Time = 10
value = 0,0,0
under = 1
time = 20



[State 8000, 7]
type = Explod
trigger1 = AnimElem = 1,1
anim = 7520
postype = p1
pos = -2,-95
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 1,1
anim = 7525
postype = p1
pos = -2,-95
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 16,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 1
time = 77
movetime = 77
anim = 7500
darken = 0
p2defmul = 1




[State 246, PS]
type = PlaySnd
trigger1 = AnimElem = 1,10 || AnimElem = 1,11
value = S9,3

[State 246, PS]
type = PlaySnd
trigger1 = AnimElem = 2
value = S5,5
channel = -1


[State 1000, ステート変更]
type = ChangeState
trigger1 = Animtime = 0
value = 3761
ctrl = 1

;---------------------------------------------------------------------------
;エンドオブヘブン・降下
[Statedef 3761]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,15
ctrl = 0
anim = 3761
sprpriority = 2

[State 3310]
type = posset
trigger1 = time = 0
;x = enemy,pos X 
x = enemynear,pos X
y = -362.1

[State 1980]
type = veladd
trigger1 = 1
y = 3

[State 1980]
type = Screenbound
trigger1 = 1
value = 0


[State 3215, 8]
type = Explod
trigger1 = time = 0
anim = 7385
postype = p1
pos = 0,30
scale = 1.5,1.8
sprpriority = 7
ownpal = 1
bindtime = -1

[State 8520, 8]
type = EnvColor
trigger1=movehit=1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 3700]
type = HitDef
trigger1 = AnimElem = 1
attr = S,HA
hitflag = MAF
getpower = 0
damage = 350,50
animtype = up
;guardflag = M
priority = 5
pausetime = 1,2
sparkno = -1
sparkxy = -15,-65
hitsound = s5,7
guardsound = s2,0
guard.sparkno = S7030
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = -6,-10
guard.velocity = -10
air.velocity = -6,-10
p2facing = 1
;P2Stateno = 1002
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime  = 10
air.fall = 1
air.fall.recover = 0
yaccel = .46
palfx.time = 60
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 40
envshake.ampl = 10
envshake.freq = 90





[State 3310]
type = changestate
trigger1 = pos Y > 0 && vel Y > 0
value = 3762
ctrl = 0

;---------------------------------------------------------------------------
;エンドオブヘブン・着地
[Statedef 3762]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3762
sprpriority = 2

[State 3215, 8]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 90
ampl = 10

[State 3215, 8]
type = Explod
trigger1 = time = 0
anim = 7386
postype = p1
pos = 0,0
scale = 1.5,1.8
sprpriority = 7
ownpal = 1
bindtime = -1

[State 3215, 8]
type = Explod
trigger1 = time = 0
anim = 7387
postype = p1
pos = 0,0
scale = 1.5,1.8
sprpriority = 7
ownpal = 1
bindtime = -1


[State 246, PS]
type = PlaySnd
trigger1 = AnimElem = 1
value = S5,5
;channel = -1

[State 246, PS]
type = PlaySnd
trigger1 = AnimElem = 1
value = S5,6
;channel = -1

[State 246, PS]
type = PlaySnd
trigger1 = AnimElem = 1
value = S13,0
;channel = -1



[State 3447, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;白羅・開始
[Statedef 3770]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3770
sprpriority = 2

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 7
value = S6, 1
channel = -1

[State 8000, 5]
type = EnvColor
;trigger1 = Time = 11
trigger1 = AnimElem = 7
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
;trigger1 = Time = 15
trigger1 = AnimElem = 7,4
value = 0,0,0
under = 1
time = 210
;time = 20


[State 8000, 7]
type = Explod
trigger1 = AnimElem = 7,1
anim = 7520
postype = p1
;pos = 22,-95
pos = 62,-110
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 7,1
anim = 7525
postype = p1
;pos = 22,-95
pos = 62,-110
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 7,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,210]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 7
time = 60
movetime = 60
anim = 7500
darken = 0
p2defmul = 1

[State 3700, ps]
type = PlaySnd
trigger1 = AnimElem = 7,20 || AnimElem = 7,21
value = S12, 1
volume = 110




[State 3771, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3771

;---------------------------------------------------------------------------
;白羅・攻撃
[Statedef 3771]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3771
sprpriority = 2

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,210]
flag = NoFG


[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 1
value = S21, 1
channel = 6

[State 3215, 8]
type = Explod
trigger1 = time = 0
anim = 3775
postype = p1
pos = 62,-110
sprpriority = 1
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1



[State 3300, 1]
type = HitDef
trigger1=AnimElem=1||AnimElem=4||AnimElem=7||AnimElem=10||AnimElem=13||AnimElem=16||AnimElem=19
;trigger1=AnimElem=1||AnimElem=5||AnimElem=9||AnimElem=13||AnimElem=17||AnimElem=21
attr = S, HA
animtype  = hard
damage    = 100,5
getpower= 0,50
hitflag = MAFD
;guardflag = M
priority = 7, Hit
pausetime = 0,15
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 2
ground.hittime  = 10
ground.velocity = -10,-5
air.velocity = -10,-5
air.hittime = 10
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5

P2facing = 1
palfx.time = 50
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 10
envshake.ampl = 10
envshake.freq = 90








[State 3300, 1]
type = HitDef
trigger1=AnimElem=22
attr = S, HA
animtype  = up
damage    = 120,5
getpower= 0,50
hitflag = MAFD
;guardflag = M
priority = 7, Hit
pausetime = 0,15
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 2
ground.hittime  = 10
ground.velocity = -5,-5
air.velocity = -5,-5
air.hittime = 10
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5

P2facing = 1
palfx.time = 50
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 10
envshake.ampl = 10
envshake.freq = 90



[State 3000]
type = Projectile
trigger1 = time = 1||time = 91
projID = 3610
projanim = 3610
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 8
projshadow = 0,0,0
projremovetime = 90
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 0,0
hitflag = MAF
guardflag = M
air.fall = 1
air.fall.recover = 0




[State 3771, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3772

;---------------------------------------------------------------------------
;白羅・終了
[Statedef 3772]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3772
sprpriority = 2

[State 8000, ps]
type = PlaySnd
trigger1 = time = 4
value = S26, 1

[State 3100, 1]
type = EnvColor
trigger1 = Time = 4
time = 2
sprpriority = 6
add = 248,248,248
;under = 1


[State 8000, 8]
type = Explod
trigger1 = Time = 4
anim = 73795
postype = back
pos = 0,0
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1

[State 3215, 8]
type = Explod
trigger1 = time = 0
anim = 3776
postype = p1
pos = 0,10
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3700, ps]
type = PlaySnd
trigger1 = AnimElem = 1
value = S13, 3
volume = -40
channel = 6

[State 3447, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;白羅2001・開始
[Statedef 3780]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -3000
velset = 0,0
ctrl = 0
anim = 3780
sprpriority = 2

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 2
value = S6, 1
channel = -1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 0
;trigger1 = AnimElem = 7
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 4
;trigger1 = AnimElem = 7,4
value = 0,0,0
under = 1
time = 20

[State 2000, 5]
type = bgpalfx
trigger1 = Time = 23
time = 30
mul = 180,80,20
ignorehitpause = 1

[State 8000, 7]
type = Explod
trigger1 = AnimElem = 2
anim = 7520
postype = p1
;pos = 22,-95
pos = 0,-75
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 2
anim = 7525
postype = p1
;pos = 22,-95
pos = 0,-75
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 6,<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,210]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 2
time = 40
movetime = 40
anim = 7500
darken = 0
p2defmul = 1

[State 3700, ps]
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 5,1
value = S12, 1
volume = 110


[State 3771, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3781

;---------------------------------------------------------------------------
;白羅2001・攻撃
[Statedef 3781]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3781
sprpriority = 2

[State 2000, 5]
type = bgpalfx
trigger1 = Time = 1
time = 224
mul = 180,80,20
ignorehitpause = 1

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,301]
flag = NoFG


[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 1
value = S21, 1
channel = 6

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem  = 74
value = S26, 1
channel = 6

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem  = 5,1
value = S4, 3

[State 3100, 1]
type = EnvColor
trigger1 = AnimElem = 74
time = 2
sprpriority = 6
add = 248,248,248
;under = 1

[State 2000]
type = EnvShake
trigger1 = AnimElem = 5,1
time = 30
freq = 30
ampl = 15

[State 810, 3]
type = explod
trigger1 = AnimElem = 5
postype = p1
pos = 0, 10
sprpriority = -1
anim = 7040
persistent = 1

[State 810, 4]
type = explod
trigger1 = AnimElem = 5
postype = p1
pos = 0, 10
sprpriority = 6
anim = 7045
persistent = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem  = 74
;anim = 73795
postype = back
pos = 0,0
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1

anim = 7607
scale = 0.5 , 0.5

[State 3215, 8]
type = Explod
trigger1 = AnimElem = 6
anim = 3785
postype = p1
pos = 6,0
sprpriority = 3
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3300, 1]
type = HitDef
trigger1=AnimElem=4
attr = S, HA
animtype  = hard
damage    = ifelse (Var(41)=1,90,60),10
getpower= 0,50
hitflag = MAFD
guardflag = M
priority = 7, Hit
pausetime = 0,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
air.velocity = 0,-5
air.hittime = 20
guard.velocity = -12
ground.cornerpush.veloff = 0
;fall = 1
fall.recover = 0
yaccel = .5

P2facing = 1
palfx.time = 50
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 15
envshake.ampl = 15
envshake.freq = 30


[State 3300, 1]
type = HitDef
trigger1=AnimElem=15||AnimElem=24||AnimElem=33||AnimElem=42||AnimElem=51||AnimElem=60
attr = S, HA
animtype  = hard
damage    = ifelse (Var(41)=1,90,60),10
getpower= 0,50
hitflag = MAFD
guardflag = M
priority = 7, Hit
pausetime = 0,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-5
air.velocity = -7,-5
air.hittime = 20
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5

P2facing = 1
palfx.time = 50
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 15
envshake.ampl = 15
envshake.freq = 30








[State 3300, 1]
type = HitDef
trigger1=AnimElem=69
attr = S, HA
animtype  = up
damage    = ifelse (Var(41)=1,90,60),10
getpower= 0,50
hitflag = MAFD
guardflag = M
priority = 7, Hit
pausetime = 0,15
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s5,6
guardsound = s2,1
ground.type = low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5
air.velocity = -5,-5
air.hittime = 10
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5

P2facing = 1
palfx.time = 50
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 15
envshake.ampl = 15
envshake.freq = 30



[State 3000]
type = Projectile
trigger1 = time = 16 ||time = 118
projID = 3610
projanim = 3610
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 8
projshadow = 0,0,0
projremovetime = 90
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 0,0
hitflag = MAF
guardflag = M
air.fall = 1
air.fall.recover = 0




[State 3771, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1994



;---------------------------------------------------------------------------
;CD・MAX2・開始
[Statedef 3550]
type    = S
movetype= A
physics = S
anim = 3550
velset = 0,0
poweradd= -3000
juggle  = 20
ctrl = 0

;超必殺エフェクト----------------------


[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 8
value = S6, 1
channel = -1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 15
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 19
value = 0,0,0
under = 1
time = 20

[State 8000, 7]
type = Explod
trigger1 = AnimElem = 8,1
anim = 7520
postype = p1
pos = -30,-75
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 8,1
anim = 7525
postype = p1
pos = -30,-75
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 17<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 5
time = 45
movetime = 45
anim = 7500
darken = 0
p2defmul = 1



;--------------------------------------

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 3 ||AnimElem = 3,1
value = S9, 2
;volume = 110


[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = s5, 2
volume = -90

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 15,>= 0 && AnimElem = 17,< 0
x = 13

[State 3300, 1]
type = HitDef
triggerall= P2life >= 1
triggerall = Stateno=3550 && !movecontact
trigger1=AnimElem = 15,>= 0 && AnimElem = 17,< 0
attr = S, HA
animtype  = hard
damage    = 30,0
getpower= 0,50
hitflag = MAF
guardflag = M
priority = 7, Hit
pausetime = 1,12
sparkno = s7005
guard.sparkno = S7030
sparkxy = -15,-50
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
envshake.time = 3
envshake.ampl = 2
envshake.freq = 150
P1stateno = 3552
P2stateno = 3560
kill = 0

[State 3300, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 3551
ctrl = 1


;---------------------------------------------------------------------------
;CD・MAX2・開始[CPU用]
[Statedef 3559]
type    = S
movetype= A
physics = S
anim = 3550
velset = 0,0
poweradd= -3000
juggle  = 0
ctrl = 0

;超必殺エフェクト----------------------


[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 8
value = S6, 2
channel = -1

[State 8000, 5]
type = EnvColor
trigger1 = Time = 15
value = 248,248,248
under = 1
time = 4

[State 8000, 6]
type = EnvColor
trigger1 = Time = 19
value = 0,0,0
under = 1
time = 20

[State 8000, 7]
type = Explod
trigger1 = AnimElem = 8,1
anim = 7520
postype = p1
pos = -30,-75
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000, 8]
type = Explod
trigger1 = AnimElem = 8,1
anim = 7525
postype = p1
pos = -30,-75
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 8000]
type = NotHitBy 
trigger1 = animelem = 17<=0
value = SCA

[State AIT0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 8000, AS]
type = AssertSpecial
trigger1 = Time = [0,38]
flag = NoFG

[State 8000, 4]
type = SuperPause
trigger1 = AnimElem = 5
time = 45
movetime = 45
anim = 7500
darken = 0
p2defmul = 1



;--------------------------------------

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 3 ||AnimElem = 3,1
value = S9, 2
;volume = 110


[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = s5, 2
volume = -90

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 15,>= 0 && AnimElem = 17,< 0
x = 13

[State 3300, 1]
type = HitDef
triggerall= P2life >= 1
triggerall = Stateno=3559 && !movecontact
trigger1=AnimElem = 15,>= 0 && AnimElem = 17,< 0
attr = S, HA
animtype  = hard
damage    = 30,0
getpower= 0,50
hitflag = MAF
guardflag = M
priority = 7, Hit
pausetime = 1,12
sparkno = s7005
guard.sparkno = S7030
sparkxy = -15,-50
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
envshake.time = 3
envshake.ampl = 2
envshake.freq = 150
P1stateno = 3552
P2stateno = 3560
kill = 0

[State 3300, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 3551
ctrl = 1


;---------------------------------------------------------------------------
; CD・失敗
[Statedef 3551]
type    = S
movetype= A
physics = S
anim = 3551
velset = 0,0
poweradd= 0
juggle  = 0
ctrl = 0

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 1,>= 0 && AnimElem = 2,< 0
x = 3

[State 3001, VelS-2]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3447, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; CD・MAX2・成功・1
[Statedef 3552]
type    = S
movetype= A
physics = S
anim = 3552
velset = 0,0
poweradd= 0
juggle  = 0
ctrl = 0


[State 3552, 1]
type = Width
Trigger1 = 1
edge = 40,0

[State 3552, 1]
type = PlayerPush
Trigger1 = AnimElem = 1,>= 0
value = 1

[State 3552, 1]
type = TargetBind
Trigger1 = AnimElem = 2,>= 0 && AnimElem = 127,< 0
pos = 60, 0

[State 2302]
type = posadd
Trigger1 = AnimElem = 2,>= 0 && AnimElem = 35,< 0
x = .7

[State 2302]
type = posadd
Trigger1 = AnimElem = 39,>= 0 && AnimElem = 127,< 0
x = 1.2

[State 8000, ps]
type = PlaySnd
triggerall = movehit=1
;trigger1=AnimElem=47||AnimElem=53||AnimElem=63||AnimElem=65||AnimElem=74||AnimElem=79
;trigger2=AnimElem=88||AnimElem=89||AnimElem=99||AnimElem=105||AnimElem=120

trigger1=AnimElem=46,1||AnimElem=52,1||AnimElem=62,1||AnimElem=64,1||AnimElem=73,1||AnimElem=78,1
trigger2=AnimElem=87,1||AnimElem=88,1||AnimElem=98,1||AnimElem=104,1||AnimElem=119,1

;value = S1, 3
value = S5, 6
channel = -1
volume = -40

[State 8520, P2エフェクト通常]
type = explod
triggerall=movehit=1
trigger1=AnimElem=5,1||AnimElem=12,1||AnimElem=16,1||AnimElem=25,1||AnimElem=29,1||AnimElem=35,1
;trigger2=AnimElem=47||AnimElem=53||AnimElem=63||AnimElem=65||AnimElem=74||AnimElem=79
;trigger3=AnimElem=88||AnimElem=89||AnimElem=99||AnimElem=105||AnimElem=120

trigger2=AnimElem=46,1||AnimElem=52,1||AnimElem=62,1||AnimElem=64,1||AnimElem=73,1||AnimElem=78,1
trigger3=AnimElem=87,1||AnimElem=88,1||AnimElem=98,1||AnimElem=104,1||AnimElem=119,1

postype = p2
pos = -15,-50
sprpriority = 5
anim = 7005 
persistent = 1
ownpal = 1
random = 15,85


[State 8520, P2エフェクト火]
type = explod
triggerall=movehit=1
;trigger1=AnimElem=47||AnimElem=53||AnimElem=63||AnimElem=65||AnimElem=74||AnimElem=79
;trigger2=AnimElem=88||AnimElem=89||AnimElem=99||AnimElem=105||AnimElem=120

trigger1=AnimElem=46,1||AnimElem=52,1||AnimElem=62,1||AnimElem=64,1||AnimElem=73,1||AnimElem=78,1
trigger2=AnimElem=87,1||AnimElem=88,1||AnimElem=98,1||AnimElem=104,1||AnimElem=119,1

postype = p2
pos = -15,-50
sprpriority = 5
anim = 8650 
persistent = 1
ownpal = 1
random = 15,85

[State 8520, P2エフェクト火]
type = explod
triggerall=movehit=1
;trigger1=AnimElem=47||AnimElem=53||AnimElem=63||AnimElem=65||AnimElem=74||AnimElem=79
;trigger2=AnimElem=88||AnimElem=89||AnimElem=99||AnimElem=105||AnimElem=120

trigger1=AnimElem=46,1||AnimElem=52,1||AnimElem=62,1||AnimElem=64,1||AnimElem=73,1||AnimElem=78,1
trigger2=AnimElem=87,1||AnimElem=88,1||AnimElem=98,1||AnimElem=104,1||AnimElem=119,1

postype = p2
pos = -15,-50
sprpriority = 5
anim = 7300 
persistent = 1
ownpal = 1
random = 15,85

[State 8520, P2エフェクト火]
type = explod
triggerall=movehit=1
;trigger1=AnimElem=47||AnimElem=53||AnimElem=63||AnimElem=65||AnimElem=74||AnimElem=79
;trigger2=AnimElem=88||AnimElem=89||AnimElem=99||AnimElem=105||AnimElem=120

trigger1=AnimElem=46,1||AnimElem=52,1||AnimElem=62,1||AnimElem=64,1||AnimElem=73,1||AnimElem=78,1
trigger2=AnimElem=87,1||AnimElem=88,1||AnimElem=98,1||AnimElem=104,1||AnimElem=119,1

postype = p2
pos = -15,-50
sprpriority = 5
anim = 7310 
persistent = 1
ownpal = 1
random = 15,85


[State 3552, P2上段]
type = HitDef
trigger1=AnimElem=12||AnimElem=35
attr = S, HA
animtype  = hard
damage    = 12,5
getpower= 0,50
hitflag = MAF
priority = 7, Hit
pausetime = 2,2
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
P2stateno = 3560
envshake.time = 3
envshake.ampl = 2
envshake.freq = 150
kill = 0

[State 3552, P2下段]
type = HitDef
trigger1=AnimElem=5||AnimElem=16||AnimElem=25||AnimElem=29
attr = S, HA
animtype  = hard
damage    = 15,5
getpower= 0,50
hitflag = MAF
priority = 7, Hit
pausetime = 2,2
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
P2stateno = 3561
envshake.time = 3
envshake.ampl = 2
envshake.freq = 150
kill = 0


[State 3552, P2火上段]
type = HitDef
trigger1=AnimElem=87||AnimElem=88||AnimElem=98||AnimElem=104
attr = S, HA
animtype  = hard
damage    = 15,5
getpower= 0,50
hitflag = MAF
priority = 7, Hit
pausetime = 3,3
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
;hitsound   = s5,6
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
p2stateno = 3560
palfx.time = 20
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
;envshake.time = 3
;envshake.ampl = 2
;envshake.freq = 150
envshake.time = 3
envshake.ampl = 10
envshake.freq = 90
kill = 0

[State 3552, P2火下段]
type = HitDef
trigger1=AnimElem=46||AnimElem=52||AnimElem=62||AnimElem=64||AnimElem=73||AnimElem=78||AnimElem=119
attr = S, HA
animtype  = hard
damage    = 20,5
getpower= 0,50
hitflag = MAF
priority = 7, Hit
pausetime = 3,3
sparkno = -1
guard.sparkno = S7030
sparkxy = -15,-60
;hitsound   = s5,6
hitsound   = s1,3
guardsound = s2,1
ground.type = low
ground.slidetime = 11
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1,-4
air.hittime = 6
ground.cornerpush.veloff = 0
P2facing = 1
p2stateno = 3561
palfx.time = 20
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
;envshake.time = 3
;envshake.ampl = 2
;envshake.freq = 150
envshake.time = 3
envshake.ampl = 10
envshake.freq = 90
kill = 0

[State 3552, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3553
;ctrl = 1

;---------------------------------------------------------------------------
; CD・MAX2・成功・2
[Statedef 3553]
type    = S
movetype= A
physics = S
anim = 3553
velset = 0,0
poweradd= 0
juggle  = 0
ctrl = 0



[State 3552, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype  = Up
damage    = 40,10
getpower = 0,0
hitflag = MAF
;guardflag = M
priority = 7, Hit
pausetime = 10,15
sparkno = S8645
guard.sparkno = S7030
sparkxy = 10,-80
hitsound   = s5,4
guardsound = s2,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 10
ground.velocity = -1,-1
air.velocity = -1,-2
air.hittime = 10
guard.velocity = -12
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .5
P2Stateno = 3562
P2facing = 1
palfx.time = 85
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 40
envshake.ampl = 10
envshake.freq = 90
kill = 0

;[State 3552, 6]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

[State 3105, cs]
type = ChangeState
;triggerall= P2life >= 1
trigger1 = AnimTime = 0 
value = 3554
ctrl = 0

;[State 3105, cs]
;type = ChangeState
;triggerall= P2life = 0
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1


;---------------------------------------------------------------------------
; CD・成功・DO・1(開始)
[Statedef 3554]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3554
ctrl = 0
sprpriority = 3

[State 8000]
type = NotHitBy 
trigger1 = animelem = 12,<=0
value = SCA

[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5, 2
;volume = -40

[State 3100, VelS-1]
type = VelSet
trigger1 = AnimElem = 4
x = 10

[State 3100, VelS-2]
type = VelSet
trigger1 = AnimElem = 5,>= 0 && AnimElem = 7,< 0
x = 14

[State 3100, VelS-3]
type = VelSet
trigger1 = AnimElem = 9
x = 4

[State 3100, HD-1]
type = HitDef
triggerall= P2life >= 1
Trigger1 = Time = 1&&alive = 1
attr = S, HA
;guardflag = M                  
priority = 6
damage    = 0,0
getpower= 0,0
sparkno = s7010
guard.sparkno = S7030
sparkxy = 10,-60
sprpriority = 1
pausetime = 0,0
p2facing = 1 
numhits = 1
hitsound   = s1,2
guardsound = s2,0

p1stateno = 3555
p2stateno = 3563


[State 3100, CS-2] 
type = ChangeState
trigger1 = moveguarded = 1
value = 3002

[State 3100, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; CD・成功・DO・2(壁まで)
[Statedef 3555]
type    = S
movetype= A
physics = S
anim = 3005
poweradd = 0
sprpriority = 3

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 1 ||AnimElem = 1,1
value = S9, 0
;volume = 110

[State 3101, Width]
type = Width
trigger1 = 1
value = 17,0

[State 3101, VelS-2]
type = VelSet
trigger1 = AnimElem = 1,> 0 
x = 15

[State 3101, Bind-2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30, -60
bindtime = -1

[State 3101, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 
pos = -20, -60
bindtime = -1

[State 3101, Bind-2]
type = TargetState
trigger1 = FrontEdgeBodydist <=15
trigger2 = AnimTime = 0
trigger3 = time >=260
;value = 3125
value = 3564

[STate 3101,3]
type = Screenbound
triggerall != FrontEdgeBodydist <=15
trigger1 = time >=260
value = 0


[STate -2]
type=AfterImagetime
trigger1 = FrontEdgeBodydist <=15 
time=0

[STate 3101]
type = ChangeState
trigger1 = FrontEdgeBodydist <=15 
trigger2 = time >=260
value = 3556
ctrl = 0


;---------------------------------------------------------------------------
; CD・成功・DO・3(壁で止まる)
[Statedef 3556]
type    = S
physics = N
anim = 3010
sprpriority = 3
velset = 0,0
ctrl = 0


;[State 3105, ps]
;type = PlaySnd
;trigger1 = Time = 0
;value = S4, 2

[State 3557,7]
type = TargetLifeAdd
trigger1 = AnimElem = 2
;value = -50
;value = Ceil(-0.8*const(Data.attack))
value = ifelse (Var(41)=1,-160,-80)
kill = 0

[State 8520, 4]
type = HitAdd
trigger1=AnimElem=2
value = 1

[State 3105, ps]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = S5, 4

[State 3115, 8]
type = EnvColor
trigger1=AnimElem=2,1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = random%10<6
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7300
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 3557,7]
type = Explod
triggerall = random%10<6
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7305
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = random%10<8
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1

;[State 8520, exp-1]
;type = explod
;trigger1 = AnimElem = 2,1
;postype = p2
;pos = 0, -80
;sprpriority = 6
;anim = 8660
;persistent = 1
;ownpal = 1
;bindtime = -1

;[State 8520, exp-2]
;type = explod
;trigger1 = AnimElem = 2,1
;postype = p2
;pos = 0, -50
;sprpriority = 4
;anim = 8640
;persistent = 1
;ownpal = 1
;bindtime = -1

;[State 8520, exp-1]
;type = explod
;trigger1 = AnimElem = 2,1
;postype = p2
;pos = 0, -30
;sprpriority = 4
;anim = 8645
;persistent = 1
;ownpal = 1
;bindtime = -1

[State 3105, EnvS]
type = EnvShake
trigger1 = AnimElem = 2
Time = 40
ampl = 10
freq = 90

[State 3105, Width-1]
type = Width
trigger1 = AnimElem = 2,>= 0 
edge = 50,0

[State 3105, Width-1]
type = Width
trigger1 = AnimElem = 3,>= 0 
edge = 70,0

[State 3105, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 40, 0

[State 3105, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3105, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 3557
ctrl = 0

;---------------------------------------------------------------------------
; CD・成功・DO・4(バックステップ)
[Statedef 3557]
type    = S
physics = N
anim = 3015
sprpriority = 3
ctrl = 0

[State 3110, ps]
type = PlaySnd
trigger1 = time = 0
value = S3,3
channel = 5
volume = -30

[State 3110, sts]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 3110, vset]
type = VelSet
trigger1 = AnimElem = 1
x = -4.2
y = -3.6

[State 3110, va]
type = VelAdd
trigger1 = Time > 2
y = .55

[State 3110, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3110, cs]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3558
ctrl = 0


;---------------------------------------------------------------------------
; CD・成功・DO・5(串刺)
[Statedef 3558]
type    = S
movetype= A
physics = S
anim = 3555
velset = 0,0
sprpriority = 3
ctrl = 0

[State 3557, ps]
type = PlaySnd
trigger1 = Time = 0
value = S3, 6
channel = 5
volume = -30

[State 3557, ps]
type = PlaySnd
trigger1 = AnimElem = 9
value = S5, 1
channel = -1

[State 3557, ps]
type = PlaySnd
trigger1 = AnimElem = 10
value = S9, 1
channel = -1
volume = -20

[State 3557, ps]
type = PlaySnd
trigger1 = AnimElem = 10,1
value = S9, 1
channel = -1
volume = -20

[State 3557, ps]
type = PlaySnd
trigger1 = AnimElem = 13
value = S5, 1
channel = -1

[State 3557, ps]
type = PlaySnd
trigger1 = AnimElem = 13
value = S1, 5
channel = -1

[State 3557, exp-1]
type = explod
trigger1 = AnimElem = 5
postype = p1
pos = 0, 0
sprpriority = 4
;anim = 7240
anim = 3558
persistent = 1
ownpal = 1
bindtime = -1

[State 3557, exp-1]
type = explod
trigger1 = AnimElem = 10,2
postype = p2
pos = 0, 0
sprpriority = 4
anim = 7060
persistent = 1
ownpal = 1
bindtime = -1

[State 3557, exp-1]
type = explod
trigger1 = AnimElem = 13
postype = p1
pos = 85, -65
sprpriority = 7
;anim = 7245
anim = 3559
persistent = 1
ownpal = 1
bindtime = 1

[State 3115, 8]
type = EnvColor
trigger1=AnimElem=10,1||AnimElem=13,1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 3557,7]
type = TargetLifeAdd
trigger1 = AnimElem = 10
;value = -50
;value = Ceil(-0.7*const(Data.attack))
value = ifelse (Var(41)=1,-130,-70)
kill = 0

[State 3557,7]
type = TargetLifeAdd
trigger1 = AnimElem = 13
;value = -63
;value = Ceil(-1.0*const(Data.attack))
value = ifelse (Var(41)=1,-160,-90)
kill = 1

[State 8520, 4]
type = HitAdd
trigger1=AnimElem=13
value = 1

[State 3110, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3557, Bind-2]
type = TargetBind
trigger1 = AnimElem = 10,1
pos = 90, -60

[State 3557, Bind-2]
type = TargetBind
trigger1 = AnimElem = 12,2
pos = 90, 0

[State 3557, HD-1]
type = HitDef
trigger1 = AnimElem = 10 && P2Stateno = 3045
;trigger1 = AnimElem = 10 
attr = S, HA
;guardflag = MA                        
priority = 4 
damage    = 0,0
getpower= 0,0
sparkno = s7215
sparkxy = 15,-65
sprpriority = 1
pausetime = 0,0
;p2facing = 1 
p2stateno = 3565
;p2stateno = 3561
numhits = 1
hitsound   = s1,6

[State 3557, EnvS]
type = EnvShake
trigger1 = AnimElem = 13
Time = 30
ampl = 6
freq = 90

[State 3557, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CD・P2・1
[Statedef 3560]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3560, NHB]
type = NotHitBy
trigger1 = 1
value = , NA, SA, AP, AT

[State 3560, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3560, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3556

[STate 3560,3]
type = VelSet
Trigger1 = time = 0
x = 0
y = 0


[State 3560, CS]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CD・P2・2
[Statedef 3561]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3561, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3560, NHB]
type = NotHitBy
trigger1 = 1
value = , NA, SA, AP, AT

[State 3561, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3557

[STate 3561,3]
type = VelSet
Trigger1 = time = 0
x = 0
y = 0


[State 3561, CS]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------
; CD・P2・3
[Statedef 3562]
type = A
movetype = H
physics = N
velset = 0,0

[State 3560, NHB]
type = NotHitBy
trigger1 = 1
value = , NA, SA, AP, AT

[State 3562, CA2-1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3230

[State 3562, CA-2]
type = ChangeAnim
trigger1 = Time = 2
value = 5030

[State 3562, CA-4]
type = ChangeAnim
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value = 5050

[State 3562, VA-1]
type = VelAdd
trigger1 = Time = 2
X = -1.1
Y = -11.2

[State 3562, VA-2]
type = VelAdd
trigger1 = Time >= 4
Y = .53

[STate 3562,3]
type = Screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3562, SeS]
type = SelfState
trigger1 = Time > 4
trigger1 = Pos Y >= 0
value = 5100
;Trigger1 = Animtime = 0
;value = ifelse(alive,0,5050)






;---------------------------------------------------------------------------
; CD・P2・4(壁まで)
[Statedef 3563]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3120, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3120, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3120

[STate 3120,3]
type = Screenbound
trigger1 = 1
value = 0

[State 3120, CS]
type = ChangeState
trigger1 = P2StateNo = 3556
value = 3564
ctrl = 0

[State 3120, CS]
type = SelfState
trigger1 = Time = 500
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CD・P2・5(壁よろけ)
[Statedef 3564]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3125, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 8520, exp-1]
type = PalFX
trigger1 = AnimElem = 2,1
time = 100
mul = 240,210,130
add = 160,40,20
mul = 140,40,20
sinadd = 60,30,0,20
invertall = 3

[State 3125, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3125, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3035

[State 3125, SBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3125, CS]
type = ChangeState
trigger1 = P2StateNo = 3557
trigger2 = Time = 41
;value = 3135
value = 3045
ctrl = 0

[State 3125, CS]
type = SelfState
trigger1 = Time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CD・P2・6(喰らい)
[Statedef 3565]
type = A
movetype = H
physics = N
velset = 0,0

[State 3140, NHB]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 3140, CA2-1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3140

[State 3140, CA-2]
type = ChangeAnim
trigger1 = Time = 30
value = 5030

[State 3140, CA-4]
type = ChangeAnim
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value = 5050

[State 3140, VA-1]
type = VelAdd
trigger1 = Time = 30
X = -4.5
Y = -8

[State 3140, VA-2]
type = VelAdd
trigger1 = Time >= 32
Y = .54

[STate 3140,3]
type = Screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3140,00]
type = Palfx
trigger1 = Time = 29
mul = 240,210,130
add = 160,40,20
mul = 140,40,20
sinadd = 60,30,0,20
invertall = 1
time = 40

[State 3140, SeS]
type = SelfState
trigger1 = Time > 33
trigger1 = Pos Y >= 0
value = 5100



;---------------------------------------------------------------------------
;デモン2001・MAX2・DO・1
[Statedef 3455]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
velset = 0,0
anim = 3455
ctrl = 0
sprpriority = 3

[State 8000]
type = NotHitBy 
trigger1 = animelem = 3,<=0
value = SCA

[State 3455, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 34551
;ctrl = 1

;---------------------------------------------------------------------------
;デモン2001・MAX2・DO・2
[Statedef 34551]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 3

[State 3100, ps]
type = PlaySnd
trigger1 = AnimElem = 2
value = S6, 1
channel = -1

[State 3100, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5, 2

[State 3100, 3]
type = NotHitBy
;trigger1 = Time = 0
;value = S,NA
;time = 35
trigger1 = animelem = 10,<=0
value = SCA


[State 3100, AS]
type = AssertSpecial
trigger1 = Time = [0,29]
flag = NoFG

[State 3100, 4]
type = SuperPause
trigger1 = AnimElem = 2
time = 30
movetime = 30
anim = 7500
darken = 0
p2defmul = 1
;unhittable = 1

[State 3100, 5]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
under = 1
time = 4

[State 3100, 6]
type = EnvColor
trigger1 = Time = 4
value = 0,0,0
under = 1
time = 26

[State 3100, 7]
type = Explod
trigger1 = Time = 2
anim = 7520
postype = p1
pos = 45,-70
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3100, 8]
type = Explod
trigger1 = Time = 2
anim = 7525
postype = p1
pos = 45,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3100, VelS-1]
type = VelSet
trigger1 = AnimElem = 4
x = 10

[State 3100, VelS-2]
type = VelSet
trigger1 = AnimElem = 5,>= 0 && AnimElem = 7,< 0
x = 11

[State 3100, VelS-3]
type = VelSet
trigger1 = AnimElem = 9
x = 4


[State 3100, HD-1]
type = HitDef
Trigger1 = Time = 1
attr = S, HA
guardflag = M                  
priority = 6
damage    = 0,0
getpower= 0,0
sparkno = s7010
guard.sparkno = S7030
sparkxy = 10,-60
sprpriority = 1
pausetime = 0,0
p2facing = 1 
;p1stateno = 3101
;p2stateno = 3120
numhits = 1
hitsound   = s1,2
guardsound = s2,0

p1stateno = 34552
p2stateno = 3563


[State 3100, CS-2] 
type = ChangeState
trigger1 = moveguarded = 1
value = 3002

[State 3100, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; デモン2001・MAX2・DO・3(壁まで)
[Statedef 34552]
type    = S
movetype= A
physics = S
anim = 3005
poweradd = 0
sprpriority = 3

[State 8000, ps]
type = PlaySnd
trigger1 = AnimElem = 1 ||AnimElem = 1,1
;value = S9, 0
;value = S8, 2
value = S12, 0
volume = 110

[State 3101, Width]
type = Width
trigger1 = 1
value = 17,0

[State 3101, VelS-2]
type = VelSet
trigger1 = AnimElem = 1,> 0 
x = 15

[State 3101, Bind-2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30, -60
bindtime = -1

[State 3101, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 
pos = -20, -60
bindtime = -1

[State 3101, Bind-2]
type = TargetState
trigger1 = FrontEdgeBodydist <=15
trigger2 = AnimTime = 0
trigger3 = time >=260
;value = 3125
value = 3564

[STate 3101,3]
type = Screenbound
triggerall != FrontEdgeBodydist <=15
trigger1 = time >=260
value = 0


[STate -2]
type=AfterImagetime
trigger1 = FrontEdgeBodydist <=15 
time=0

[STate 3101]
type = ChangeState
trigger1 = FrontEdgeBodydist <=15 
trigger2 = time >=260
value = 34553
ctrl = 0


;---------------------------------------------------------------------------
; デモン2001・MAX2・DO・4(壁で止まる)
[Statedef 34553]
type    = S
physics = N
anim = 3010
sprpriority = 3
velset = 0,0
ctrl = 0

[State 3557,7]
type = TargetLifeAdd
trigger1 = AnimElem = 2
;value = -50
;value = Ceil(-0.7*const(Data.attack))
value = ifelse (Var(41)=1,-150,-70)
kill = 0

[State 8520, 4]
type = HitAdd
trigger1=AnimElem=2
value = 1

[State 3105, ps]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = S5, 4

[State 3115, 8]
type = EnvColor
trigger1=AnimElem=2,1
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = random%10<6
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7300
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 3557,7]
type = Explod
triggerall = random%10<6
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7305
postype = p2
pos = 0,-60
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 80,80
ignorehitpause = 1

[State 8700, 8]
type = Explod
triggerall = random%10<8
trigger1=AnimElem=3,3||AnimElem=4,3||AnimElem=5||AnimElem=6||AnimElem=6,4
anim = 7310
postype = p2
pos = 0,-70
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 2
ownpal = 1
random = 100,100
ignorehitpause = 1


[State 3105, EnvS]
type = EnvShake
trigger1 = AnimElem = 2
Time = 40
ampl = 10
freq = 90

[State 3105, Width-1]
type = Width
trigger1 = AnimElem = 2,>= 0 
edge = 50,0

[State 3105, Width-1]
type = Width
trigger1 = AnimElem = 3,>= 0 
edge = 70,0

[State 3105, Bind-2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 40, 0

[State 3105, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3105, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 34554
ctrl = 0

;---------------------------------------------------------------------------
; デモン2001・MAX2・DO・5(バックステップ)
[Statedef 34554]
type    = S
physics = N
anim = 3015
sprpriority = 3
ctrl = 0

[State 3110, ps]
type = PlaySnd
trigger1 = time = 0
value = S3,3
channel = 5
volume = -30

[State 3110, sts]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 3110, vset]
type = VelSet
trigger1 = AnimElem = 1
;x = -4.2
;y = -3.6
x = -4.4
y = -3.8

[State 3110, va]
type = VelAdd
trigger1 = Time > 2
y = .55

[State 3110, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3110, cs]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3456
;ctrl = 1

;---------------------------------------------------------------------------
;デモン2001・MAX2・DO・6(ヘブン)
[Statedef 3456]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3456
ctrl = 0
sprpriority = 3

[State 3025, ps]
type = PlaySnd
trigger1 = AnimElem = 10||AnimElem = 10,1
;value = S8, 2
;value = S9, 1
value = S8, 2
;channel = -1

[State 3025, ps]
type = PlaySnd
trigger1 = AnimElem = 12
value = S5, 5
channel = -1
volume = 110

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 14
anim = 7251
postype = p1
pos = 39,0
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1

[State 3115, 8]
type = EnvColor
trigger1=AnimElem=14,1&&movehit
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1


[State 3210, HD-1]
type = HitDef
trigger1 = AnimElem = 14 
attr = S, HA
animtype  = hard
;damage    = 100,20
damage = ifelse (Var(41)=1,150,100)
getpower = 0,0
hitflag = MAPF
;guardflag = MA
priority = 7, Hit
pausetime = 0,12
;sparkno = s7010

;sparkno = s7315
sparkno = -1

;sparkno = s8645
guard.sparkno = S7030
sparkxy = 0,-90
hitsound = s5,7
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -4,-6
guard.velocity = -10
airguard.velocity = -4,-5
ground.cornerpush.veloff = 0
yaccel = .46
fall = 1
fall.recover = 0
P2Stateno = 3220
palfx.time = 55
palfx.mul = 240,210,130
palfx.add = 160,40,20
palfx.mul = 140,40,20
palfx.sinadd = 60,30,0,20
palfx.invertall = 3
envshake.time = 40
envshake.ampl = 10
envshake.freq = 110



[State 3456, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
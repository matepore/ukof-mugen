;=============================================
; Ramon X's KOF2001/Original Moves' Code File
;=============================================

;FLYING Elbow Drop
[Statedef 2400]
type = A
movetype = A
physics = N
poweradd = 50
juggle = 1
anim = 2400
velset = 4.7,-5.5
ctrl = 0

[State 2400, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4
volume = 100

[State 2400, 6]
type = veladd
trigger1 = time > 0
y = .47

[State 2400, hitdef1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = P2statetype = L
trigger1 = AnimElem = 5
attr = S, SA
damage = 59,5
hitflag = MAFD
guardflag = MA
animtype = Hard
ground.animtype = low
pausetime = 12,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -12
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
p2getp1stateno = 1
p2stateno = 1335
envshake.time = 20
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2

[State 2400, hitdef2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = p2statetype != L
trigger1 = AnimElem = 5
attr = S, SA
damage = 59,5
hitflag = MAFD
guardflag = MA
animtype = Hard
ground.animtype = low
pausetime = 12,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -12
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
envshake.time = 14
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2

[State 2400, 3]
type = GameMakeAnim
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 61
pos = 0, -5
postype = p2
under = SysVar(1) <= 10

[State 2400, Crunchy]
type = PlaySnd
trigger1 = movehit
ignorehitpause = 1
persistent = 0
volume = 200
value = 8,4

[State 2400, GrndEX1]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1507
anim = 1507
pos = 0,-5
postype = p2
sprpriority = -3
ownpal = 1
removeongethit = 1

[State 2400, GrndEX2]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1508
anim = 1508
postype = p2
pos = 0,-5
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 2400, 6]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 27
value = 1025
ctrl = 0

;----------------------------------------------

;FLYING Elbow Drop 2
[Statedef 2405]
type = A
movetype = A
physics = N
poweradd = 50
juggle = 1
anim = 2400
velset = 6,-5.5
ctrl = 0

[State 2405, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4
volume = 100

[State 2405, 6]
type = veladd
trigger1 = time > 0
y = .47

[State 2405, hitdef1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = P2statetype = L
trigger1 = AnimElem = 5
attr = S, SA
damage = 59,5
hitflag = MAFD
guardflag = MA
animtype = Hard
ground.animtype = low
pausetime = 12,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -12
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
p2getp1stateno = 1
p2stateno = 1335
envshake.time = 20
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2

[State 2405, hitdef2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = p2statetype != L
trigger1 = AnimElem = 5
attr = S, SA
damage = 59,5
hitflag = MAFD
guardflag = MA
animtype = Hard
ground.animtype = low
pausetime = 12,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -12
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
envshake.time = 14
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2

[State 2405, 3]
type = GameMakeAnim
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 61
pos = 0, -5
postype = p2
under = SysVar(1) <= 10

[State 2405, Crunchy]
type = PlaySnd
trigger1 = movehit
ignorehitpause = 1
persistent = 0
volume = 200
value = 8,4

[State 2405, GrndEX1]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1507
anim = 1507
pos = 0,-5
postype = p2
sprpriority = -3
ownpal = 1
removeongethit = 1

[State 2405, GrndEX2]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1508
anim = 1508
postype = p2
pos = 0,-5
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 2405, 6]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 27
value = 1025
ctrl = 0

;----------------------------------------------

;Pick UP
[Statedef 2500]
type = S
movetype = A
physics = N
poweradd = 50
juggle = 0
anim = 2500
velset = 0,0
ctrl = 0

[State 2500, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2500, hitGrnd Snd]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 100
value = F7,0

[State 2500, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, -10
under = SysVar(1) <= 10

[State 2500, Posadd1]
type = posadd
trigger1 = AnimElem = 1
x = -16

[State 2500, Posadd1]
type = posadd
trigger1 = AnimElem = 2
x = -8

[State 2500, hitdef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 24,5
hitflag = MAFD
guardflag = MA
animtype = Hard
ground.animtype = low
pausetime = 12,14
sparkno = S304
guard.sparkno = S1042
sparkxy = 15,-4
hitsound = S10,4
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -11
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
p2getp1stateno = 1
p2stateno = 2505
p2facing = 1
kill = 0

[State 2500, 3]
type = Targetbind
trigger1 = movehit
trigger1 = animelem = 2
ignorehitpause = 1
pos = 20,0
time = 1

[State 2500, 3]
type = Targetbind
trigger1 = movehit
trigger1 = animelem = 3
pos = 10,0
time = 1

[State 2500, 3]
type = Targetbind
trigger1 = movehit
trigger1 = animelem = 5
pos = 20,-35
time = 1

[State 2500, 3]
type = Targetbind
trigger1 = movehit
trigger1 = animelem = 6
pos = 35,-72
time = 1

[State 2500, 3]
type = Targetbind
trigger1 = movehit
trigger1 = animelem = 7
pos = 22,0
time = 1

[State 2500, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------

;-----------------------------------------------------
;(GRABBED)
[Statedef 2505]
type    = S
movetype = H
physics  = N
sprpriority = -2
velset = 0,0
ctrl = 0

[State 2505, 2]
type = Screenbound
Trigger1 = 1
value = 0

[State 2505, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 2505, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2505

[State 2505, liftoff]
type = Statetypeset
Trigger1 = animelem = 8
statetype = S

[State 2505, liftoff]
type = Hitfallset
Trigger1 = animelem = 8
value = 0

[State 2505, NH]
type = nothitby
trigger1 = animelem = 1, >= 0
Trigger1 = animelem = 8, < 0
value = ,NT,ST,NA,SA
time = 1

[State 2505, NH]
type = Nothitby
Trigger1 = animelem = 8, >= 0
value = , AT
time = 1

[State 2505, NH]
type = Nothitby
Trigger1 = animtime = 0
value = SCA
time = 3

[State 2505, liftoff]
type = Selfstate
trigger1 = !Alive
Trigger1 = AnimTime = 0
value = 5100
ctrl = 0

[State 2505, liftoff]
type = Selfstate
trigger1 = Alive
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------

;====================================================================================
;----| Jack Knife |----
;-----------------------------------------------------
;Jack Knife 1
[Statedef 2550]
type    = S
physics = S
movetype = A
velset = 0,0
sprpriority = 0
poweradd = 50
ctrl = 0

[State 2550, Changeanim]
type = Nothitby
trigger1 = 1
value = ,AA,AP

[State 2550, ARMOR]
type = HitOverride
trigger1 = var(37) > 0
time = 1
slot = 2
attr = SCA, AA, AP
stateno = 4810

[State 2550, armor2]
type = VarSet
trigger1 = var(37) > 0
trigger1 = time = 0
var(38) = 1120
ignorehitpause = 1

[State 2550, Changeanim]
type = Changeanim
trigger1 = time = 0
trigger1 = anim != 2550
value = 2550

[State 2550, Wire]
type = Varset
trigger1 = Animelem = 1
var(23) = 0

[State 2550, Wire]
type = Varset
trigger1 = ifelse(p2movetype = H,(p2stateno != [3000,3015]), 1)
trigger1 = random <= 500
trigger1 = Animelem = 2
var(23) = 1

[State 2550, Wire]
type = PalFX
trigger1 = var(23) = 1
trigger1 = Animelem = 2
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 2550, Jump]
type = ChangeState
trigger1 = animtime = 0
value = 2555
ctrl = 0

;-----------------------------------------------------

;Back Flip 1
[Statedef 2555]
type = A
movetype = A
physics = N
anim = 2555
juggle = 13
velset = -1,-5
sprpriority = 2
ctrl = 0

[State 2555, V]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 150
value = 7,1
channel = 0

[State 2555, FX]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 20
value = 7,2

[State 2555, Posadd1]
type = posadd
trigger1 = time = 0
x = 0
y = -20

[State 2555, Posadd1]
type = Veladd
trigger1 = time > 0
y = .42

[State 2555, 1]
type = Width
trigger1 = animelem = 6, <= 0
edge = 40,20

[State 2555, hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = var(23) > 0
trigger1 = AnimElem = 2
attr = A, SA
damage = 129,5
hitflag = MAF
guardflag = MA
animtype = Back
ground.animtype = High
pausetime = 12,12
sparkno = S1041
guard.sparkno = S1042
sparkxy = -6,-24
hitsound = S280,0
guardsound = S200,3
ground.velocity = -8,-10
air.velocity = -8,-9
guard.velocity = -11
fall = 1
fall.recovertime = 35
airguard.velocity = -4,-1.5
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .47
p2stateno = 3000
p2getp1stateno = 1

[State 2555, hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = var(23) <= 0
trigger1 = AnimElem = 2
attr = A, SA
damage = 129,5
hitflag = MAF
guardflag = MA
animtype = Hard
ground.animtype = High
pausetime = 12,12
sparkno = S1041
guard.sparkno = S1042
sparkxy = -6,-24
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
guard.velocity = -11
fall = 1
fall.recovertime = 35
airguard.velocity = -4,-1.5
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .47

[State 2555, 0]
type = ScreenBound
trigger1 = time > 0
trigger1 = var(22) = 1
movecamera = 0,1

[State 2555, 1]
type = Varset
trigger1 = time = 0
var(22) = 0

[State 2555, 2]
type = Varset
trigger1 = command = "holdback"
trigger1 = command = "a" || command =  "b"
var(22) = 1

[State 2555, 1]
type = ChangeState
triggerall = BackEdgeBodyDist <= -5
trigger1 = var(22) = 1
trigger2 = var(9) = 1
value = 2580
ctrl = 0

[State 2555, 1]
type = ChangeState
trigger1 = vel y > 0  && pos y >= 0
value = 2560
ctrl = 0
;----------------------------------------------

;Jack Knife 2
[Statedef 2570]
type    = S
physics = S
movetype = A
velset = 0,0
sprpriority = 0
poweradd = 50
ctrl = 0

[State 2570, Changeanim]
type = Nothitby
trigger1 = 1
value = ,AA,AP

[State 2570, ARMOR]
type = HitOverride
trigger1 = var(37) > 0
time = 1
slot = 2
attr = SCA, AA, AP
stateno = 4810

[State 2570, armor2]
type = VarSet
trigger1 = var(37) > 0
trigger1 = time = 0
var(38) = 1120
ignorehitpause = 1

[State 2570, Changeanim]
type = Changeanim
trigger1 = time = 0
trigger1 = anim != 2550
value = 2550

[State 2570, Jump]
type = ChangeState
trigger1 = animtime = 0
value = 2575
ctrl = 0

;-----------------------------------------------------

;Back Flip 2
[Statedef 2575]
type = A
movetype = A
physics = N
anim = 2575
juggle = 13
velset = -2,-7
sprpriority = 2
ctrl = 0

[State 2575, V]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 150
value = 7,1
channel = 0

[State 2575, FX]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 20
value = 7,2

[State 2575, Posadd1]
type = posadd
trigger1 = time = 0
x = 0
y = -20

[State 2575, Posadd1]
type = Veladd
trigger1 = time > 0
y = .42

[State 2575, 1]
type = Width
trigger1 = animelem = 6, <= 0
edge = 40,22

[State 2575, hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = AnimElem = 2
attr = A, SA
damage = 155,5
hitflag = MAF
guardflag = MA
animtype = Hard
ground.animtype = High
pausetime = 12,12
sparkno = S1041
guard.sparkno = S1042
sparkxy = -6,-24
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9.5
air.velocity = -4,-8
guard.velocity = -11
fall = 1
fall.recovertime = 35
airguard.velocity = -4,-1.5
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .47

[State 2575, 0]
type = ScreenBound
trigger1 = time > 0
trigger1 = var(22) = 1
movecamera = 0,1

[State 2575, 1]
type = Varset
trigger1 = time = 0
var(22) = 0

[State 2575, 2]
type = Varset
trigger1 = command = "holdback"
trigger1 = command = "a" || command =  "b"
var(22) = 1

[State 2575, 1]
type = ChangeState
triggerall = BackEdgeBodyDist <= -5
trigger1 = var(22) = 1
trigger2 = var(9) = 1
value = 2580
ctrl = 0

[State 2575, 1]
type = ChangeState
trigger1 = vel y > 0  && pos y >= 0
value = 2560
ctrl = 0
;----------------------------------------------

;Land
[Statedef 2560]
type    = S
physics = S
movetype = I
anim = 2560
ctrl = 0

[State 2560, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 2560, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 2560, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;Play sound when landing
[State 2560, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 60

[State 2560, Posadd1]
type = posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = -8

[State 2560, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------

;Wall Spring
[Statedef 2580]
type = A
movetype = A
physics = N
anim = 2580
velset = 0,0
poweradd = 100
sprpriority = 2
ctrl = 0

[State 2580, Screen]
type = turn
trigger1 = time = 0
trigger1 = frontedgebodydist <= 15

[State 2580, Screen]
type = playsnd
trigger1 = time = 0
value = 1,5
volume = 100

[State 2580, Screen]
type = ScreenBound
trigger1 = 1
movecamera = 0,1

[State 2580, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 2580, 0]
type = PosSet
trigger1 = Facing = 1
trigger1 = time > 0
trigger1 = backedgebodydist <= 20
x = -129

[State 2580, 0]
type = PosSet
trigger1 = time > 0
trigger1 = Facing = -1
trigger1 = backedgebodydist <= 20
x = 128

[State 2580, 3]
type = GameMakeAnim
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
value = 72
pos = -30,-65
postype = p1
bindtime = -1

[State 2580, 6]
type = ChangeState
triggerall = animelem = 3, >= 5
trigger1 = command = "x" || command = "y"
value = 50
ctrl = 0

[State 2580, 6]
type = ChangeState
trigger1 = animelem = 3, >= 5
trigger1 = command != "holda" && command != "holdb"
trigger2 = Animelem = 3, >= 70
trigger3 = var(9) = 1 && animelem = 3, >= 5
trigger3 = p2statetype = A
value = 2585
ctrl = 0


;=======================================
;FLYING BODY ATTACK ON AIR
[Statedef 2585]
type = A
movetype = A
physics = N
poweradd = 50
juggle = 1
anim = 1020
velset = 6.4,-5.5
ctrl = 0

[State 2585, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4
volume = 100

[State 2585, 6]
type = veladd
trigger1 = time > 0
y = .47

[State 2585, 6]
type = veladd
trigger1 = command = "holddown"
y = .25

[State 2585, 6]
type = veladd
trigger1 = command = "holdfwd"
trigger2 = var(9) = 1
trigger2 = p2bodydist x >= 30
x = .2

[State 2585, 6]
type = veladd
trigger1 = command = "holdback"
trigger2 = var(9) = 1
trigger2 = p2bodydist x <= 0
x = -.3

[State 2585, hitdef1]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = P2statetype = L
trigger1 = AnimElem = 5
attr = A, SA
damage = 129,5
hitflag = MAFD
guardflag = HA
animtype = Hard
ground.animtype = low
pausetime = 9,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
guard.velocity = -11
fall = 1
fall.recovertime = 35
airguard.velocity = -4,-1.5
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
p2getp1stateno = 1
p2stateno = 1335
envshake.time = 20
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2

[State 2585, hitdef2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = p2statetype != L
trigger1 = AnimElem = 5
attr = A, SA
damage = 129,5
hitflag = MAFD
guardflag = HA
animtype = Hard
ground.animtype = low
pausetime = 9,14
sparkno = S1041
guard.sparkno = S1042
sparkxy = 6,-21
hitsound = S280,0
guardsound = S200,3
ground.velocity = -4,-9
air.velocity = -4,-7
down.velocity = -3, -8
airguard.velocity = -4,-1.5
guard.velocity = -11
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
getpower = 60,20
givepower = 60,20
yaccel = .55
envshake.time = 14
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2

[State 2585, 3]
type = GameMakeAnim
trigger1 = movehit
trigger1 = p2statetype = L
persistent = 0
ignorehitpause = 1
value = 61
pos = 0, 0
postype = p2
under = SysVar(1) <= 10

[State 2585, Crunchy]
type = PlaySnd
trigger1 = movehit
ignorehitpause = 1
persistent = 0
volume = 200
value = 8,4

[State 2585, GrndEX1]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1507
anim = 1507
pos = 0,-3
postype = p2
sprpriority = -3
ownpal = 1
removeongethit = 1

[State 2585, GrndEX2]
type = Explod
trigger1 = Movehit
trigger1 = P2statetype = L
ignorehitpause = 1
persistent = 0
id = 1508
anim = 1508
postype = p2
pos = 0,-3
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 2585, 6]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 15
value = 2590
ctrl = 0

;----------------------------------------------

;<><><><<><><><><>>>><><><><<><><<><>><<>><<<>>><<><><<><><><<><<><<<<><><><>>><<<>><><><><
; Land
[Statedef 2590]
type    = S
movetype= H
physics = S
anim = 2590
ctrl = 0

[State 2590, snd]
type = turn
trigger1 = Time = 0
trigger1 = command = "holdback"

[State 2590, snd]
type = PlaySnd
trigger1 = Time = 0
volume = 120
value = 2,0
channel = 0

[State 2590, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 2590, 2.1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 12
x = 4.5

[State 2590, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2590, 4]
type = NotHitBy
trigger1 = time <= 8
value = SCA
time = 1

[State 2590, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------

;Tiger Load
[Statedef 3100]
type    = S
physics = S
movetype = A'
velset = 0,0
poweradd = 100
anim = 3100
ctrl = 0

[State 3100, 1]
type = hitby
trigger1 = Animelem = 4, <0
value = , AT

[State 3100, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 3100, Posadd1]
type = posadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 8

[State 3100, Turn]
type = turn
trigger1 = animtime = 0

[State 3100, 6]
type = Varset
trigger1 = time = 0
var(22) = 0

[State 3100, 6]
type = Varset
trigger1 = command = "stop"
var(22) = 1

[State 3100, 6]
type = ChangeState
trigger1 = var(22) = 1
trigger1 = Animtime = 0
value = 3120
ctrl = 0

[State 3100, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 3105
ctrl = 0
;-----------------------------------------------

;Run
[Statedef 3105]
type = S
movetype = A
physics = N
velset = 0,0
anim = 3105
juggle = 0
ctrl = 0

[State 3105, 6]
type = ChangeState
trigger1 = command = "stop"
value = 3120
ctrl = 0

[State 3105, 0]
type = ScreenBound
trigger1 = time > 0
trigger1 = var(22) = 1
movecamera = 0,1

[State 3105, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x) + 1.5

; Play sound when running
[State 3105, 2]
type = PlaySnd
trigger1 = timemod = 70, 1
value = 1,1
volume = 0
channel = 20

[State 3105, 6]
type = Varset
trigger1 = time = 0
var(22) = 0

[State 3105, 6]
type = Varset
trigger1 = command = "b" || command = "a"
var(22) = 1

[State 3105, 6]
type = ChangeState
trigger1 = frontedgebodydist <= 25
value = 3110
ctrl = 0
;===========================================

;Jump start
[Statedef 3110]
type = S
movetype = A
physics = N
velset = 0,0
anim = 40
juggle = 0
velset = 0,0
ctrl = 0

[State 3110, 0]
type = ScreenBound
trigger1 = time > 0
trigger1 = var(22) = 1
movecamera = 0,1

[State 3110, 6]
type = ChangeState
trigger1 = animtime = 0
value = 3112
ctrl = 0

;=======================================
;Jump
[Statedef 3112]
type = A
movetype = A
physics = N
anim = 42
juggle = 0
velset = 3,-8
ctrl = 0

[State 3112, 6]
type = veladd
trigger1 = 1
y = .45

[State 3112, 0]
type = ScreenBound
trigger1 = time > 0
movecamera = 0,1

[State 3112, 6]
type = ChangeState
trigger1 = time >= 15
value = 3114
ctrl = 0
;---------------------------------

;Wall Spring
[Statedef 3114]
type = A
movetype = A
physics = N
anim = 2580
velset = 0,0
poweradd = 100
sprpriority = 2
ctrl = 0

[State 3114, Screen]
type = turn
trigger1 = time = 0
trigger1 = frontedgebodydist <= 15

[State 3114, Screen]
type = playsnd
trigger1 = time = 0
value = 1,5
volume = 100

[State 3114, Screen]
type = ScreenBound
trigger1 = 1
movecamera = 0,1

[State 3114, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 3114, 0]
type = PosSet
trigger1 = Facing = 1
trigger1 = time > 0
trigger1 = backedgebodydist <= 20
x = -129

[State 3114, 0]
type = PosSet
trigger1 = time > 0
trigger1 = Facing = -1
trigger1 = backedgebodydist <= 20
x = 128

[State 3114, 3]
type = GameMakeAnim
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
value = 72
pos = -30,-65
postype = p1
bindtime = -1

[State 3114, 6]
type = ChangeState
triggerall = animelem = 3, >= 5
trigger1 = var(22) = 0
value = 50
ctrl = 0

[State 3114, 6]
type = ChangeState
trigger1 = animelem = 3, >= 5
trigger1 = var(22) = 1
trigger2 = var(9) = 1 && animelem = 3, >= 5
trigger2 = p2statetype = A
value = 2585
ctrl = 0

;=======================================





;===========================================
;Tiger Load Halt
[Statedef 3120]
type    = S
physics = S
movetype = A
velset = 0,0
poweradd = 100
anim = 3120
ctrl = 0

[State 3120, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 3120, Posadd1]
type = posadd
trigger1 = Animelem = 3
x = 8

[State 3120, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
volume = 100
value = 5,2
channel = 0

[State 3120, Hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = AnimElem = 3
attr = S, SA
animtype = hard
damage = 122,5
guardflag = MA
hitflag = MAF
pausetime = 9,12
sparkno = S1041
guard.sparkno = S1042
sparkxy = 0,-57
hitsound = S280,0
guardsound = S200,3
ground.type = low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.velocity = -3.5,-6
airguard.velocity = -4,-6
guard.velocity = -12
getpower = 100,60
givepower = 50,20
air.juggle = 15
fall = ifelse(p2statetype = A, 1, 0)
yaccel = .5

[State 3120, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------




;=================================================================================
;----|SDM AMARILLO|--------------------
;======================================
;===========================================================
;START UP
[Statedef 2600]
type    = S
movetype= A
physics = S
juggle  = 13
velset = 0,0
ctrl = 0
anim = 2100
sprpriority = 2

[State 2600, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2600, env]
type = EnvColor
triggerall = var(40) <= 0
trigger1 = animelem = 3
value = 0,0,0
time = 28
under = 1

[State 2600, Chime]
type = PlaySnd
trigger1 = animelem = 3
value = 14,4
volume = -10

;========================================
[State 2600, Cancel penalty]
type = poweradd
trigger1 = Time = 0
trigger1 = var(45) > 0
ignorehitpause = 1
value = -1000

[State 2600, 2K1 Var]
type = varset
trigger1 = time > 1
trigger1 = var(45) > 0
ignorehitpause = 1
var(45) = 0

[State 2600, PALFX]
type = PalFX
triggerall = Var(45) > 0
trigger1 = time = 0
ignorehitpause = 1
time = 20
add = 200,152,32
sinadd = 100,100,100,2
ignorehitpause = 1
;=========================================

[State 2600, Super Pause]
type = SuperPause
trigger1 = animelem = 3
movetime = 4
poweradd = -2000
time = 28
anim = -1
darken = 1

[State 2600,Explod1]
type = Explod
trigger1 = animelem = 3
anim = 1351
id   = 1351
pos = 27,-80
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 2600,Explod2]
type = Explod
trigger1 = animelem = 3
anim = 1352
id   = 1352
pos = 27,-80
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 2600, NOTHITBY]
type = Nothitby
trigger1 = animelem = 4, <= 0
value = SCA

[State 2600, 3]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2605
ctrl = 0

;=============================================================
;Run Forward
[Statedef 2605]
type = S
movetype = A
physics = N
velset = 0,0
anim = 2105
juggle = 13
ctrl = 0

[State 2605, Dampen]
type = varset
trigger1 = time = 0
trigger1 = (p2stateno = [1030,1040]) && p2movetype != A
var(17) = 1

[State 2605, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2605, AFTER]
type = AfterImage
trigger1 = time = 0
time = 63
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2605, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x) + 1.5

; Play sound when running
[State 2605, 2]
type = PlaySnd
trigger1 = timemod = 70, 1
value = 1,1
volume = 0
channel = 20

[State 2605, Hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = roundstate = 2
trigger1 = AnimElem = 1
attr = S, HA
hitflag = MAF
animtype = hard
damage = 10,0
guardflag = M
pausetime = 9,9
guard.pausetime = 9,12
sparkno = S1040
guard.sparkno = S1042
sparkxy = -10,-70
hitsound = S240,0
guardsound = S200,3
ground.type = low
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = 0
airguard.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
snap = 38,0
yaccel = .5
p1stateno = 2650
p2getp1stateno = 1
p2stateno = 2110
p2facing = 1
kill = 0

[State 2605, 6]
type = ChangeState
trigger1 = moveguarded
value = 2160
ctrl = 0

[State 2605, 6]
type = ChangeState
triggerall = !movecontact
trigger1 = time >= 63
trigger2 = time >= 17
trigger2 = p2statetype = L
trigger2 = p2bodydist x <= 0
value = 1510
ctrl = 0

;-----------------------------------------------
;MADNESS SDM
[Statedef 2650]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2650
ctrl = 0

[State 2650, 2KStyleSDM]
type = Width
trigger1 = 1
edge = 40,0

[State 2650, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2650, AFTER]
type = AfterImage
trigger1 = time = 0
time = 300
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2650, V]
type = PlaySnd
trigger1 = AnimElem = 39
trigger2 = Animelem = 81
trigger3 = Animelem = 85
trigger4 = Animelem = 89
volume = 150
value = 5,2
channel = 0

[State 2650, @Lk]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = Animelem = 21
attr = S, HA
hitflag = MAF
animtype = hard
damage = 22,5
guardflag = M
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -5,-15
hitsound = S220,0
guardsound = S200,3
ground.type = Low
ground.slidetime = 0
ground.hittime = 20
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 40,0
yaccel = .5
kill = 0

[State 2650, Lk]
type = HitDef
trigger1 = AnimElem = 17
trigger2 = Animelem = 36
attr = S, HA
hitflag = MAF
animtype = hard
damage = 22,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -6,-61
hitsound = S220,0
guardsound = S200,3
ground.type = Low
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 45,0
yaccel = .5
kill = 0

[State 2650, @Hk]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = Animelem = 26
attr = S, HA
hitflag = MAF
animtype = hard
damage = 23,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -8,-45
hitsound = S260,0
guardsound = S200,3
ground.type = Low
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 43,0
yaccel = .5
kill = 0

[State 2650, Hk]
type = HitDef
trigger1 = AnimElem = 12
trigger2 = Animelem = 31
attr = S, HA
hitflag = MAF
animtype = hard
damage = 23,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -2,-91
hitsound = S260,0
guardsound = S200,3
ground.type = High
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 44,0
yaccel = .5
kill = 0

[State 2650, CD]
type = HitDef
trigger1 = Animelem = 41
attr = S, HA
hitflag = MAF
animtype = hard
damage = 29,5
guardflag = MA
pausetime = 33,33
sparkno = S1040
guard.sparkno = S1042
sparkxy = -6,-71
hitsound = S8,4
guardsound = S200,3
ground.type = High
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
envshake.time = 33
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2
p2getp1stateno = 1
p2stateno = 2110
snap = 45,0
yaccel = .5
kill = 0

[State 2650, Lp]
type = HitDef
trigger1 = AnimElem = 46
trigger2 = Animelem = 50
trigger3 = AnimElem = 66
trigger4 = Animelem = 70
attr = S, HA
hitflag = MAF
animtype = hard
damage = 23,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = 0,-89
hitsound = S200,0
guardsound = S200,3
ground.type = High
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 44,0
yaccel = .5
kill = 0

[State 2650, @HP1]
type = HitDef
trigger1 = AnimElem = 55
trigger2 = AnimElem = 75
attr = S, HA
hitflag = MAF
animtype = hard
damage = 24,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -10,-70
hitsound = S240,0
guardsound = S200,3
ground.type = Low
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 44,0
yaccel = .5
kill = 0

[State 2650, @HP2]
type = HitDef
trigger1 = Animelem = 57
trigger2 = Animelem = 77
attr = S, HA
hitflag = MAF
animtype = hard
damage = 23,5
guardflag = MA
pausetime = 1,1
sparkno = S1040
guard.sparkno = S1042
sparkxy = -10,-91
hitsound = S240,0
guardsound = S200,3
ground.type = High
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 46,0
yaccel = .5
kill = 0

[State 2650, HP1]
type = HitDef
trigger1 = Animelem = 62
trigger2 = AnimElem = 82
trigger3 = Animelem = 86
attr = S, HA
hitflag = MAF
animtype = hard
damage = 22,5
guardflag = MA
pausetime = 3,3
sparkno = S1040
guard.sparkno = S1042
sparkxy = -10,-57
hitsound = S240,0
guardsound = S200,3
ground.type = Low
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
p2getp1stateno = 1
p2stateno = 2110
snap = 52,0
yaccel = .5
kill = 0

[State 2650, HP2]
type = HitDef
trigger1 = AnimElem = 90
attr = S, HA
hitflag = MAF
animtype = hard
damage = 28,5
guardflag = MA
pausetime = 29,33
sparkno = S1040
guard.sparkno = S1042
sparkxy = -10,-57
hitsound = S8,4
guardsound = S200,3
ground.type = Low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = -12
guard.velocity = -12
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
getpower = 0,0
givepower = 20,20
fall = 0
envshake.time = 33
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2
p2getp1stateno = 1
p2stateno = 2114
snap = 54,0
yaccel = .5
kill = 0

[State 2650, 6]
type = ChangeState
trigger1 = animtime = 0
value = 2655
ctrl = 0

;========================================

;Taunt
[Statedef 2655]
type = S
movetype = A
physics = N
velset = 0,0
anim = 181
ctrl = 0

[State 2655, V]
type = PlaySnd
trigger1 = AnimElem = 5
volume = 100
value = 3,3
channel = 0

[State 2655, FX]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 100
value = 8,3

[State 2655, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2655, AFTER]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2655, 1]
type = ChangeState
trigger1 = Animelem = 6, >= 50
value = 2660
ctrl = 0

;========================================
;Run Forward Far
[Statedef 2660]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 2660, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2660, AFTER]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2660, Anim]
type = Changeanim
trigger1 = time = 0
trigger1 = anim != 1500
value = 1500

[State 2660, 1]
type = VelSet
trigger1 = time > 9
x = const(velocity.run.fwd.x)

; Play sound when running
[State 2660, 2]
type = PlaySnd
trigger1 = timemod = 70, 13
value = 1,1
channel = 20
volume = 0

[State 2660, 6]
type = ChangeState
trigger1 = animelem = 3, >= 0
trigger1 = p2bodydist x <= 10
value = 2670
ctrl = 0

[State 2660, 6]
type = ChangeState
trigger1 = time >= 80
trigger2 = animelem = 3, > 0
trigger2 = command = "stop"
value = 1510
ctrl = 0
;----------------------------------------------

;Attempt Ride
[Statedef 2670]
type = S
movetype = A
physics = N
anim = 1515
velset = 0,0
juggle = 0
sprpriority = 2
ctrl = 0

[State 2670, Veladd]
type = TargetState
trigger1 = Animelem = 2, >= 3
trigger1 = p2bodydist x <= 11
trigger1 = !movecontact
persistent = 0
value = 2119
ctrl = 0

[State 2670, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2670, AFTER]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2670, Posadd1]
type = posadd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
x = -8

[State 2670, 2]
type = HitDef
Trigger1 = animelem = 3
attr = S, HT
hitflag = MAF
animtype = Diagup
priority = 7, miss
sparkno = -1
sprpriority = 1
p1sprpriority = 1
hitsound = -1
p2facing = 1
p1stateno = 2700
p2stateno = 1530
hitonce = 0
fall = 1
ground.velocity = .1,-11.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .4
guard.dist = -100

[State 2670, 1]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------


;Ride
[Statedef 2700]
type = S
movetype = A
physics = N
anim = 1520
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2700, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2700, AFTER]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2700, Posadd1]
type = Targetstate
trigger1 = Time = 0
value = 1530

[State 2700, Posadd1]
type = posadd
trigger1 = AnimElem = 2, = 1
trigger2 = AnimElem = 3, = 1
x = 8

[State 2700, Explod]
type = Explod
trigger1 = AnimElem = 1
id = 304
anim = 304
pos = 33,-48
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 2700, Explod]
type = Explod
trigger1 = AnimElem = 6
id = 1040
anim = 1040
pos = 53,-82
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 2700, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
volume = 70
value = 7,4

[State 2700, Grab Snd]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 70
value = 10,4

[State 2700, HitSnd]
type = PlaySnd
trigger1 = animelem = 6
volume = 100
value = 280,0

[State 2700, 1]
type = TargetBind
trigger1 = animelem = 6, <= 0
pos = 33,0
time = 1

[State 2700, DAMAGE]
type = targetlifeadd
Trigger1 = Animelem = 6
value = -85

[State 2700, DAMAGE]
type = Hitadd
Trigger1 = Animelem = 6
value = 1

[State 2700, End]
type = ChangeState
trigger1 = animtime = 0
value = 2750
ctrl = 0
;----------------------------------------------

;Back Flip
[Statedef 2750]
type = A
movetype = A
physics = N
anim = 1525
velset = -2,-4
sprpriority = 2
ctrl = 0

[State 2750, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2750, AFTER]
type = AfterImage
trigger1 = time = 0
time = 100
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2750, Posadd1]
type = posadd
trigger1 = time = 0
x = ifelse(var(22)=1,0,-40)
y = -45

[State 2750, Posadd1]
type = Veladd
trigger1 = time > 0
y = .42

[State 2750, 1]
type = Width
trigger1 = animelem = 6, <= 0
edge = 40,20

[State 2750, 1]
type = ChangeState
trigger1 = vel y > 0  && pos y >= 0
value = 2760
ctrl = 0
;----------------------------------------------


;Land
[Statedef 2760]
type    = S
physics = S
movetype = I
anim = 1527
ctrl = 0

[State 2760, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2760, AFTER]
type = AfterImage
trigger1 = time = 0
time = 20
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2760, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 2760, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 2760, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;Play sound when landing
[State 2760, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 60

[State 2760, Posadd1]
type = posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = -8

[State 2760, 6]
type = ChangeState
trigger1 = Animelem = 3
value = 2780
ctrl = 0
;-----------------------------------------------

;-----------------------------------------------------
;Feint Step Jump Kick Start
[Statedef 2780]
type    = S
physics = S
movetype = A
velset = 0,0
anim = 1120
sprpriority = 0
ctrl = 0

[State 2780, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2780, AFTER]
type = AfterImage
trigger1 = time = 0
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2780, 1]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 2780, Jump]
type = ChangeState
trigger1 = animtime = 0
value = 2800
ctrl = 0

;-----------------------------------------------------
;Feint Step Jump Kick Air
[Statedef 2800]
type    = A
physics = N
movetype = A
velset = 6,-5.5
juggle = 0
sprpriority = 0
ctrl = 0

[State 2800, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 2800, AFTER]
type = AfterImage
trigger1 = time = 0
time = 134
trans = add1
timegap = 1
framegap = 2
length = 8

[State 2800, 1]
type = Varset
trigger1 = 1
var(6) = 0

[State 2800, 1]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 2800, Changeanim]
type = Changeanim
trigger1 = time = 0
trigger1 = anim != 1000
value = 1125

[State 2800, V]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 150
value = 5,2
channel = 0

[State 2800, FX]
type = PlaySnd
trigger1 = AnimElem = 1
volume = 0
value = 7,2

[State 2800, Boom]
type = playsnd
trigger1 = movehit
ignorehitpause = 1
persistent = 0
volume = 0
value = 8,6

[State 2800, Veladd]
type = Veladd
trigger1 = time > 0
y = .43

[State 2800, Hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = AnimElem = 5
attr = S, HA
damage = 105,5
hitflag = MAF
guardflag = MA
animtype = Diagup
ground.animtype = low
pausetime = 33,34
sparkno = S1040
guard.sparkno = S1042
sparkxy = 0,-67
hitsound = S280,0
guardsound = S200,3
ground.velocity = -6,-9
air.velocity = -6,-8
guard.velocity = -11
fall = 1
fall.recover = 0
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
fall.yvelocity = -4
getpower = 0,0
givepower = 90,40
yaccel = .55
envshake.time = 33
envshake.freq = 90
envshake.ampl = -4
envshake.phase = -2
p2getp1stateno = 1
p2stateno = 1300

[State 2800, Land]
type = ChangeState
trigger1 = pos y >= 20 && vel y > 0
value = 1130
ctrl = 0
;-------------------------------------------

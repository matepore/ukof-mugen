;-| AI Motions |--------------------------------------------------------

[Command]
name = "AI0"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI1"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI2"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI3"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI4"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI5"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI6"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI7"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI8"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI9"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0
[Command]
name = "AI18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z
time = 0
[Command]
name = "AI38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z
time = 0
[Command]
name = "AI39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI41"
command = z,z,z,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,z
time = 0
[Command]
name = "AI42"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI43"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,a,a,z
time = 0
[Command]
name = "AI44"
command = z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,a,a,a,z
time = 0
[Command]
name = "AI45"
command = z,z,z,z,z,z,a,a,z,z,z,z,z,a,a,a,a,z,z
time = 0
[Command]
name = "AI46"
command = z,z,z,z,z,z,z,z,a,a,a,a,a,a,z,z,z,z,z
time = 0
[Command]
name = "AI47"
command = z,z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI48"
command = z,z,z,z,z,a,a,a,z,z,z,a,a,a,z,z,a,z,a
time = 0
[Command]
name = "AI49"
command = z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,z
time = 0
[Command]
name = "AI50"
command = z,z,z,a,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z
time = 0

;-| 超必殺技 |--------------------------------------------------------

[Command]
name = "NeoMAX"
command = ~D,DB,B,D,DF,F,c
time = 35

[Command]
name = "MAX2"
command = ~D,DF,F,D,DF,F,c
time = 35

[Command]
name = "MAX零技の礎"
command = ~D,DB,B,DB,D,DF,F,x+y
time = 35

[Command]
name = "三神技之参"
command = ~D,DF,F,D,DF,F,x+y
time = 35


[Command]
name = "三籟の布陣"
command = ~D,DF,F,D,DF,F,b
time = 35

[Command]
name = "三籟の布陣"
command = ~D,DF,F,D,DF,F,a
time = 35


[Command]
name = "零技の礎"
command = ~D,DB,B,DB,D,DF,F,y
time = 35

[Command]
name = "零技の礎"
command = ~D,DB,B,DB,D,DF,F,x
time = 35


;-| 必殺技 |------------------------------------------------------
[Command]
name = "頂門の一針・B"
command = ~D,D, b

[Command]
name = "頂門の一針・A"
command = ~D,D, a

[Command]
name = "頂門の一針・Y"
command = ~D,D, y

[Command]
name = "頂門の一針・X"
command = ~D,D, x


[Command]
name = "神速の祝詞・縦B"
command = ~F,D,B, b

[Command]
name = "神速の祝詞・縦A"
command = ~F,D,B, a

[Command]
name = "神速の祝詞・縦Y"
command = ~F,D,B, y

[Command]
name = "神速の祝詞・縦X"
command = ~F,D,B, x


[Command]
name = "神速の祝詞・横B"
command = ~D,DB,B, b

[Command]
name = "神速の祝詞・横A"
command = ~D,DB,B, a

[Command]
name = "神速の祝詞・横Y"
command = ~D,DB,B, y

[Command]
name = "神速の祝詞・横X"
command = ~D,DB,B, x


[Command]
name = "玉響の瑟音・強"
command = ~D,DF,F,y

[Command]
name = "玉響の瑟音・弱"
command = ~D,DF,F,x


[Command]
name = "天神の理・強"
command = ~F,D,y

[Command]
name = "天神の理・弱"
command = ~F,D,x


[Command]
name = "緊急回避前"
command = x+a
time = 1
buffer.time = 6

[Command]
name = "緊急回避前"
command = z
time = 1
buffer.time = 6

[Command]
name = "緊急回避後"
command = /$B,x+a
time = 1

[Command]
name = "緊急回避後"
command = /$B,z
time = 1

;-| ２回押し技 |-----------------------------------------------------------
[Command]
name = "FF"     
command = F, F
time = 10

[Command]
name = "BB"     
command = B, B
time = 10

[Command]
name = "jump"    
command = D, $U
time = 12

;-| ２・３個の同時押し技 |-----------------------------------------------

[Command]
name = "MAX発動"
command = a+y
time = 1

[Command]
name = "MAX発動"
command = c
time = 1

[Command]
name = "ゲージ溜め発動"
command = z+c
time = 1

[Command]
name = "recovery"
command = x+y
time = 1

[Command]
name = "投げ"
command = y+b
time = 1

[Command]
name = "ふっ飛ばし"
command = c
time = 1

[Command]
name = "おしっぱなしx"
command = /$x
time = 1

[Command]
name = "おしっぱなしy"
command = /$y
time = 1

[Command]
name = "おしっぱなしa"
command = /$a
time = 1

[Command]
name = "おしっぱなしb"
command = /$b
time = 1

[Command]
name = "おしっぱなしz"
command = /$z
time = 1

[Command]
name = "おしっぱなしc"
command = /$c
time = 1

;-| 方向とボタンで出す技 |---------------------------------------------------------
[Command]
name = "フェニックスボム"
command = /$D,a
time = 1


[Command]
name = "連還腿"
command = /$F,a
time = 1


[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

;-| ボタン設定（いじらない）|---------------------------------------------------------
[Command]
name = "DF"
command = DF
time = 1

[Command]
name = "UF"
command = UF
time = 1

[Command]
name = "U"
command = U
time = 1

[Command]
name = "D"
command = D
time = 1

[Command]
name = "B"
command = B
time = 1

[Command]
name = "F"
command = F
time = 1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| 押しっぱなし設定（いじらない）-------------------------------------------------------

[Command]
name = "holdx"
command = /$x
time = 1

[Command]
name = "holdy"
command = /$y
time = 1

[Command]
name = "holda"
command = /$a
time = 1

[Command]
name = "holdb"
command = /$b
time = 1

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

;-| AI Helper |----------------------------------------------------------------
[command]
name="fwd"
command=F
time=1
[command]
name="back"
command=B
time=1
[command]
name="up"
command=U
time=1
[command]
name="down"
command=D
time=1

;---------------------------------------------------------------------------
; 下の記述↓は絶対に消さないでください。
[Statedef -1]

;NeoMAX
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2600
triggerall = var(59) = 0
triggerall = enemy,var(34) = 0
triggerall = command = "NeoMAX"
triggerall = power >= 3000 && var(40) = 0 || power >= 2000 && var(40) > 0
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 215 && animelem = 3,>= 0
trigger4 = stateno = 235 && movecontact
trigger5 = stateno = 410 && animelem = 4,>= 0
trigger6 = stateno = 430
trigger7 = stateno = 290
trigger8 = stateno = 250 && movecontact
trigger9 = stateno = 255 && movecontact
trigger10= stateno = 260 && movecontact
trigger11= stateno = 265 && movecontact
trigger12= var(11) = 1
trigger13 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------

;MAX2
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2500
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = numhelper(2510) = 0;神技分身
triggerall = numhelper(2515) = 0;神技分身
triggerall = numhelper(2520) = 0;神技分身
triggerall = numhelper(2525) = 0;神技分身
triggerall = numhelper(2530) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "MAX2"
triggerall = power >= 3000 && var(40) = 0 || power >= 2000 && var(40) > 0
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2]) 
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 215 && animelem = 3,>= 0
trigger4 = stateno = 235 && movecontact
trigger5 = stateno = 410 && animelem = 4,>= 0
trigger6 = stateno = 430
trigger7 = stateno = 290
trigger8 = stateno = 250 && movecontact
trigger9 = stateno = 255 && movecontact
trigger10= stateno = 260 && movecontact
trigger11= stateno = 265 && movecontact
trigger12= var(11) = 1
trigger13 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・三神技之参
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2200
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "三神技之参"
triggerall = power >= 2000 && var(40) = 0 || power >= 1000 && var(40) > 0
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2]) 
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 215 && animelem = 3,>= 0
trigger4 = stateno = 235 && movecontact
trigger5 = stateno = 410 && animelem = 4,>= 0
trigger6 = stateno = 430
trigger7 = stateno = 290
trigger8 = stateno = 250 && movecontact
trigger9 = stateno = 255 && movecontact
trigger10= stateno = 260 && movecontact
trigger11= stateno = 265 && movecontact
trigger12 = var(11) = 1
trigger13 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・裏面壱活・三籟の布陣
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "三籟の布陣"
triggerall = power >= 1000 && var(40) = 0 || var(40) > 0
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・裏面八拾伍活・零技の礎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2050
triggerall = var(59) = 0
triggerall = command = "MAX零技の礎"
triggerall = power >= 2000 && var(40) = 0 || power >= 1000 && var(40) > 0
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・裏面八拾伍活・零技の礎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(59) = 0
triggerall = command = "零技の礎"
triggerall = power >= 1000 && var(40) = 0 || var(40) > 0
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百拾弐活　乙式　頂門の一針
[State -1, a]
type = ChangeState
value = 1400
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "頂門の一針・X" || command = "頂門の一針・Y" || command = "頂門の一針・A" || command = "頂門の一針・B"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 290 && movecontact
trigger12 = var(11) = 1
trigger13 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・打ち上げ・4
[State -1, a]
type = ChangeState
value = 1220
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・縦B"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・打ち上げ・3
[State -1, a]
type = ChangeState
value = 1270
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・縦Y"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・打ち上げ・2
[State -1, a]
type = ChangeState
value = 1200
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・縦A"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・打ち上げ・1
[State -1, a]
type = ChangeState
value = 1250
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・縦X"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・叩きつけ・4
[State -1, a]
type = null;ChangeState
value = 1230
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・横B"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・叩きつけ・3
[State -1, a]
type = null;ChangeState
value = 1220
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・横A"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・叩きつけ・2
[State -1, a]
type = null;ChangeState
value = 1210
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・横Y"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・弐百十弐活・神速の祝詞・叩きつけ・1
[State -1, a]
type = null;ChangeState
value = 1200
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "神速の祝詞・横X"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・百活　天神の理・強
[State -1, a]
type = ChangeState
value = 1005
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "天神の理・強"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・百活　天神の理・弱
[State -1, a]
type = ChangeState
value = 1000
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(59) = 0
triggerall = command = "天神の理・弱"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13= stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・百八活　玉響の瑟音・強
[State -1, a]
type = ChangeState
value = 1051
triggerall = var(59) = 0
triggerall = command = "玉響の瑟音・強"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;ちづる・百八活　玉響の瑟音・弱
[State -1, a]
type = ChangeState
value = 1050
triggerall = var(59) = 0
triggerall = command = "玉響の瑟音・弱"
triggerall = statetype != A
triggerall = enemy,var(34) = 0
trigger1 = ctrl || (stateno = [100,101]) || (var(9)= [1,2])
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact
trigger9 = stateno = 250 && movecontact
trigger10= stateno = 253 && movecontact
trigger11= stateno = 450 && movecontact
trigger12= stateno = 290 && movecontact
trigger13 = var(11) = 1
trigger14 = stateno = 1411 && var(40) > 0

;---------------------------------------------------------------------------
;MAX発動
[State -1, MAX発動]
type = ChangeState
value = 750
triggerall = var(59) != 1
triggerall = command = "MAX発動"
triggerall = power >= 1000 && var(40) = 0
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) || stateno = 115

;---------------------------------------------------------------------------
;クイックMAX
[State -1, クイックMAX]
type = ChangeState
value = 751
triggerall = var(59) != 1
triggerall = command = "MAX発動"
triggerall = power >= 1000 && var(40) = 0
triggerall = statetype != A
trigger1 = (stateno = [200,499]) && movecontact = [1,6]

;---------------------------------------------------------------------------
;ちづる・ふっ飛ばし攻撃
[State -1, 290]
type = ChangeState
value = 290
triggerall = var(59) = 0
triggerall = command = "ふっ飛ばし"
triggerall = statetype != A
trigger1 = ctrl

;---------------------------------------------------------------------------
;ちづる・空中ふっ飛ばし攻撃
[State -1, Jump Strong Kick]
type = ChangeState
value = 690
triggerall = var(59) = 0
triggerall = command = "ふっ飛ばし"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;緊急回避後
[State -1, Taunt]
type = ChangeState
value = 701
triggerall = var(59) = 0
triggerall = command = "緊急回避後"
trigger1 = statetype != A
trigger1 = ctrl
;---------------------------------------------------------------------------
;ガードキャンセル緊急回避後
[State -1, 701]
type = ChangeState
value = 701
triggerall = var(59) = 0
triggerall = command = "緊急回避後"
triggerall = power >= 1000
trigger1 = stateno = 150
trigger2 = stateno = 151
;---------------------------------------------------------------------------
;緊急回避前
[State -1, Taunt]
type = ChangeState
value = 700
triggerall = var(59) = 0
triggerall = command = "緊急回避前"
trigger1 = statetype != A
trigger1 = ctrl
;---------------------------------------------------------------------------
;ガードキャンセル緊急回避前
[State -1, 700]
type = ChangeState
value = 700
triggerall = var(59) = 0
triggerall = command = "緊急回避前"
triggerall = power >= 1000
trigger1 = stateno = 150
trigger2 = stateno = 151
;---------------------------------------------------------------------------
;ACタクティカルステップ
[State -1, 700]
type = ChangeState
value = 700
triggerall = var(59) = 0
triggerall = command = "緊急回避前"
triggerall = power >= 1000
trigger1 = stateno = [200,249]
;---------------------------------------------------------------------------
;ダウン回避
[State -1, Taunt]
type = ChangeState
value = 5201
triggerall = var(59) = 0
triggerall = command = "緊急回避前"
triggerall = alive = 1
trigger1 = stateno = 5050
trigger1 = pos y > 0
trigger1 = vel y > 0

;---------------------------------------------------------------------------
;ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 100
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;後退ダッシュ
[State -1, Run Back]
type = ChangeState
value = 105
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = command = "投げ"
triggerall = statetype != A
trigger1 = ctrl

;---------------------------------------------------------------------------
;除活・錚錚
[State -1, a]
type = ChangeState
value = 250
triggerall = var(59) = 0
triggerall = command = "x"
triggerall = command = "holdfwd" || command = "holdback"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact

;---------------------------------------------------------------------------
;除活・王倉王倉
[State -1, a]
type = ChangeState
value = 252
triggerall = var(59) = 0
triggerall = command = "a"
triggerall = command = "holdfwd"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact

;---------------------------------------------------------------------------
;除活・淙淙
[State -1, a]
type = ChangeState
value = 450
triggerall = var(59) = 0
triggerall = command = "a"
triggerall = command = "holdfwd"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 205 && movecontact
trigger4 = stateno = 215 && movecontact
trigger5 = stateno = 235 && movecontact
trigger6 = stateno = 240 && movecontact
trigger7 = stateno = 400 && movecontact
trigger8 = stateno = 410 && movecontact

;---------------------------------------------------------------------------
;ちづる・遠距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(59) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・近距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(59) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(59) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・遠距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・近距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 235
triggerall = var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・遠距離立ち強キック1
[State -1, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;挑発
[State -1, Taunt]
type = ChangeState
value = 199
triggerall = command = "start"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・しゃがみ弱パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59) = 0
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59) = 0
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 
trigger2 = stateno = 200
trigger2 = animelem = 5,>=0
trigger3 = stateno = 205
trigger3 = animelem = 5,>=0
trigger4 = stateno = 400
trigger4 = animelem = 5,>=0
trigger5 = stateno = 430
trigger5 = animelem = 3,>=0

;---------------------------------------------------------------------------
;ちづる・しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(59) = 0
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno = [100,101]) 

;---------------------------------------------------------------------------
;ちづる・空中弱パンチ
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = var(59) = 0
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;ちづる・空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = var(59) = 0
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;ちづる・空中弱キック
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = var(59) = 0
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;ちづる・空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = var(59) = 0
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
; 各種ヘルパー
;---------------------------------------------------------------------------
[State -3, AI起動ヘルパー]
Type = Helper
TriggerAll = var(59) = 0
Trigger1 =!NumHelper(30000)
Trigger1 =!IsHelper
Trigger1 = roundstate <= 2 && alive
Trigger1 =!Ctrl && StateNo=0
HelperType = normal
Name = "AI"
StateNo = 30000
ID = 30000
Pos = 0,0
KeyCtrl = 1
PauseMoveTime = 9999999
SuperMoveTime = 9999999
Persistent = 0

[State -3, ガードチェックヘルパー]
Type = Helper
TriggerAll = var(59) = 1
TriggerAll = RoundState = 2
Trigger1 =!NumHelper(31000+id)
Trigger1 =!IsHelper
HelperType = Normal
Name = "Guard"
PosType = left
StateNo = 31000
ID = 31000+id
PauseMoveTime = 0
Pos = 0,9999
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647
Persistent = 0
IgnoreHitPause = 1
KeyCtrl = 0
Ownpal = 1

[State -3, 飛び道具確認ヘルパー]
Type = Helper
TriggerAll = var(59) = 1
Trigger1 =!NumHelper(32000)
Trigger1 =!ishelper
HelperType = Normal
Name = "TOBIDOUGU"
StateNo = 32000
ID = 32000
Pos = 9999,9999
KeyCtrl = 0
persistent = 0
PauseMoveTime=2147483647
superMoveTime=2147483647

[State -3, 飛び道具確認ヘルパー]
Type = Helper
TriggerAll = var(59) = 1
Trigger1 =!NumHelper(32500)
Trigger1 =!ishelper
HelperType = Normal
Name = "TOBIDOUGU ITI A"
StateNo = 32500
ID = 32500
Pos = 9999,9999
KeyCtrl = 0
persistent = 0
PauseMoveTime=2147483647
superMoveTime=2147483647

[State -3, 飛び道具確認ヘルパー]
Type = Helper
TriggerAll = var(59) = 1
Trigger1 =!NumHelper(32501)
Trigger1 =!ishelper
HelperType = Normal
Name = "TOBIDOUGU ITI B"
StateNo = 32500
ID = 32501
Pos = 9999,9999
KeyCtrl = 0
persistent = 0
PauseMoveTime=2147483647
superMoveTime=2147483647

[State -3]
Type = Helper
Trigger1 = !numhelper(33000)
HelperType = normal
name = "AI left"
ID = 33000
StateNo = 33000
Postype = p1
Facing = -1
PauseMoveTime = 0
Persistent = 0
IgnorehitPause = 1
KeyCtrl = 0
Ownpal = 1

[State -3]
Type = Helper
Trigger1 =!NumHelper(20000+ID)
Trigger1 =!IsHelper
HelperType = normal
Name = "Edge of Stage Right"
PosType = P1
StateNo = 20000
ID = 20000+ID
PauseMoveTime = 0
Persistent= 0
IgnorehitPause= 1
KeyCtrl= 0
Ownpal= 1

[State -3]
Type= Helper
Trigger1 =!NumHelper(20001+ID)
Trigger1 =!IsHelper
HelperType = normal
Name = "Edge of Stage Left"
PosType = P1
StateNo = 20001
ID = 20001+ID
PauseMoveTime = 0
Persistent = 0
IgnorehitPause = 1
KeyCtrl = 0
Ownpal = 1

;---------------------------------------------------------------------------
[State -3]
Type = ChangeState
Trigger1 = IsHelper
Trigger1 = IsHelper(20000+root,ID)
Trigger1 = StateNo != 20000
Value = 20000

[State -3]
Type = ChangeState
Trigger1 = IsHelper
Trigger1 = IsHelper(20001+root,ID)
Trigger1 = StateNo != 20001
Value = 20001

[State -3, 関係無いステートに行かないように]
Type = ChangeState
Trigger1 = ishelper(30000)
Trigger1 = StateNo != 30000
Value = 30000

[State -3, 関係無いステートに行かないように]
Type = ChangeState
Trigger1 = ishelper
Trigger1 = ishelper(31000+root,id)
Trigger1 = StateNo != 31000
Value = 31000

[State -3]
Type = ChangeState
Trigger1 = ishelper(33000)
Trigger1 = StateNo != 33000
Value = 33000

[State -3, 関係無いステートに行かないように]
Type = SelfState
Trigger1 = ishelper(32000)
Trigger1 = StateNo != 32000
Value = 32000

[State -3, 関係無いステートに行かないように]
Type = SelfState
Trigger1 = ishelper(32500) || ishelper(32501)
Trigger1 = StateNo != 32500
Value = 32500

;---------------------------------------------------------------------------

; AI switch -> ON
;;;;;;;AI
[State -3, AI判定]
Type = VarSet
triggerall = !ishelper || isHelper(30000)
triggerall = var(59) = 0
Triggerall = RoundState = [1,2]
Trigger1 = Command = "AI0"
Trigger2 = Command = "AI1"
Trigger3 = Command = "AI2"
Trigger4 = Command = "AI3"
Trigger5 = Command = "AI4"
Trigger6 = Command = "AI5"
Trigger7 = Command = "AI6"
Trigger8 = Command = "AI7"
Trigger9 = Command = "AI8"
Trigger10 = Command = "AI9"
Trigger11 = Command = "AI10"
Trigger12 = Command = "AI11"
Trigger13 = Command = "AI12"
Trigger14 = Command = "AI13"
Trigger15 = Command = "AI14"
Trigger16 = Command = "AI15"
Trigger17 = Command = "AI16"
Trigger18 = Command = "AI17"
Trigger19 = Command = "AI18"
Trigger20 = Command = "AI19"
Trigger21 = Command = "AI20"
Trigger22 = Command = "AI21"
Trigger23 = Command = "AI22"
Trigger24 = Command = "AI23"
Trigger25 = Command = "AI24"
Trigger26 = Command = "AI25"
Trigger27 = Command = "AI26"
Trigger28 = Command = "AI27"
Trigger29 = Command = "AI28"
Trigger30 = Command = "AI29"
Trigger31 = Command = "AI30"
Trigger32 = Command = "AI31"
Trigger33 = Command = "AI32"
Trigger34 = Command = "AI33"
Trigger35 = Command = "AI34"
Trigger36 = Command = "AI35"
Trigger37 = Command = "AI36"
Trigger38 = Command = "AI37"
Trigger39 = Command = "AI38"
Trigger40 = Command = "AI39"
Trigger41 = Command = "AI40"
Trigger42 = Command = "AI41"
Trigger43 = Command = "AI42"
Trigger44 = Command = "AI43"
Trigger45 = Command = "AI44"
Trigger46 = Command = "AI45"
Trigger47 = Command = "AI46"
Trigger48 = Command = "AI47"
Trigger49 = Command = "AI48"
Trigger50 = Command = "AI49"
Trigger51 = Command = "AI50"
trigger52 = NumHelper(30000)
trigger52 = Helper(30000),var(59)
trigger52 = Helper(30000),time > 5
Trigger53 = 1
var(59) = 1

;-----------------------------------------------------------------------------
;相手の起き上がりの投げ無敵を調べる
;-----------------------------------------------------------------------------
[State -3, VarSet]
Type = VarSet
Trigger1 = EnemyNear(var(58)),StateType = L
V = 53
Value = -1
IgnoreHitPause = 1

[State -3, VarSet]
Type = VarAdd
TriggerAll = var(53) > 0
Trigger1 = EnemyNear(var(58)),StateType != L
V = 53
Value = -1
IgnoreHitPause = 1

[State -3, VarSet]
Type = VarSet
TriggerAll = var(53) = -1
Trigger1 = EnemyNear(var(58)),StateType != L
V = 53
Value = 12
IgnoreHitPause = 1

;-----------------------------------------------------------------------------
;タッグ用生死判別
;-----------------------------------------------------------------------------
[State -3, VarSet]
Type = VarSet
Trigger1 = NumEnemy = 1
Trigger2 = NumEnemy = 2
Trigger2 = EnemyNear,Life > 0
var(58) = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -3, VarSet]
Type = VarSet
Trigger1 = NumEnemy > 1
Trigger1 = Enemynear,Life = 0
var(58) = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;-----------------------------------------------------------------------------
; AIレベル管理
;-----------------------------------------------------------------------------
[State -3, リミッター]
Type = VarSet
Trigger1 = var(57) > 8
Trigger2 = Var(56) > 10
var(57) = 0

[State -3, 反応速度制限]
Type = VarSet
Trigger1 = var(56) > var(57) + 2
var(56) = var(57) + 2

[State -3, リミッター]
Type = VarSet
Trigger1 = var(57) != 8
var(57) = 8

[State -3, リミッター]
Type = VarSet
Trigger1 = var(56) != 10
var(56) = 10

;────────────────────────────────────────
; 反応時間制限
;────────────────────────────────────────
[State -3,制限解除条件]
Type = VarSet
Trigger1 = PrevStateNo = [140,160)
Trigger2 = PrevStateNo = [700,702]
Trigger3 = PrevStateNo = 52000
Trigger4 = PrevStateNo = [5000,5270]
var(38) = 2

[State -3,↑解除]
Type = VarAdd
Trigger1 = var(38) > 0
var(38) = -1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; タッグ用
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, 敵が１人]
Type = VarSet
Trigger1 = NumEnemy != 2
Trigger2 = !(EnemyNear(0),Alive && EnemyNear(1),Alive)
v = 51
Value = 0

[State -3, 敵が２人かつ前方のみ]
Type = VarSet
TriggerAll = NumEnemy = 2
TriggerAll = EnemyNear(0),Alive
TriggerAll = EnemyNear(1),Alive
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
v = 51
Value = 1

[State -3, 自分、パートナー、敵、敵]
Type = VarSet
TriggerAll = NumEnemy = 2
TriggerAll = NumPartner
TriggerAll = EnemyNear(0),Alive
TriggerAll = EnemyNear(1),Alive
TriggerAll = Partner,Alive
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X > 0,EnemyNear(0),Pos X - Partner,Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X > 0,EnemyNear(1),Pos X - Partner,Pos X < 0)
v = 51
Value = 2

[State -3, 自分、敵、パートナー、敵]
Type = VarSet
TriggerAll = NumEnemy = 2
TriggerAll = NumPartner
TriggerAll = EnemyNear(0),Alive
TriggerAll = EnemyNear(1),Alive
TriggerAll = Partner,Alive
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X < 0,EnemyNear(0),Pos X - Partner,Pos X > 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X > 0,EnemyNear(1),Pos X - Partner,Pos X < 0)
v = 51
Value = 3

[State -3, 自分、敵、敵、パートナー]
Type = VarSet
TriggerAll = NumEnemy = 2
TriggerAll = NumPartner
TriggerAll = EnemyNear(0),Alive
TriggerAll = EnemyNear(1),Alive
TriggerAll = Partner,Alive
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X < 0,EnemyNear(0),Pos X - Partner,Pos X > 0)
Trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X < 0,EnemyNear(1),Pos X - Partner,Pos X > 0)
v = 51
Value = 4

[State -3, 背後に敵有り]
Type = VarSet
TriggerAll = NumEnemy = 2
TriggerAll = EnemyNear(0),Alive
TriggerAll = EnemyNear(1),Alive
Trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X < 0,EnemyNear(0),Pos X - Pos X > 0)
Trigger2 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X < 0,EnemyNear(1),Pos X - Pos X > 0)
v = 51
Value = 5

;---------------------------------------------------------------------------
[State -3, パートナー不在]
Type = VarSet
TriggerAll = TeamMode = Simul
Trigger1 = !NumPartner
Trigger2 = !Partner,Alive
v = 52
Value = 0

[State -3, パートナー後衛]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
Trigger1 = ifelse(facing = 1,Partner,Pos X - Pos X < 0,Partner,Pos X - Pos X > 0)
v = 52
Value = 1

[State -3, パートナー前衛]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
Trigger1 = ifelse(facing = 1,Partner,Pos X - Pos X > 0,Partner,Pos X - Pos X < 0)
v = 52
Value = 2

[State -3, パートナー被ダメージ]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
TriggerAll = Partner,MoveType = H
TriggerAll = ifelse(facing = 1,Partner,Pos X - Pos X > 0,Partner,Pos X - Pos X < 0)
Trigger1 = Partner,StateNo = [5000,5100)
Trigger2 = Partner,StateNo = [120,159]
v = 52
Value = 3

[State -3, パートナー攻撃中]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
TriggerAll = Partner,MoveType = A
TriggerAll = Partner,MoveType != H
TriggerAll = EnemyNear(var(58)),MoveType = H
TriggerAll = ifelse(facing = 1,Partner,Pos X - Pos X > 0,Partner,Pos X - Pos X < 0)
Trigger1 = EnemyNear(var(58)),StateNo = [5000,5100)
v = 52
Value = 4

[State -3, パートナー被ステート奪取]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
TriggerAll = Partner,MoveType = H
TriggerAll = ifelse(facing = 1,Partner,Pos X - Pos X > 0,Partner,Pos X - Pos X < 0)
Trigger1 = Partner,StateNo != [5000,5500]
Trigger1 = Partner,StateNo != [120,159]
v = 52
Value = 5

[State -3, パートナーステート奪取]
Type = VarSet
TriggerAll = TeamMode = Simul
TriggerAll = NumPartner
TriggerAll = Partner,Alive
TriggerAll =(Partner,StateNo = [2000,4999]) || Partner,StateNo > 5500
Trigger1 = EnemyNear(var(58)),MoveType = H
Trigger1 = EnemyNear(var(58)),StateNo != [5000,5500]
Trigger1 = EnemyNear(var(58)),StateNo != [120,159]
v = 52
Value = 6

;------------------------------------------------------------------------------------
[State -3,ステージ前方端までの距離]
Type = VarSet
TriggerAll =(NumHelper(20000+ID) && NumHelper(20001+ID))
Trigger1 = TeamSide = 1
var(41) = floor(Abs(ifelse(facing = 1,Helper(20000+ID),RootDist X,Helper(20001+ID),RootDist X)))

[State -3]
Type = VarSet
TriggerAll =(NumHelper(20000+ID) && NumHelper(20001+ID))
Trigger1 = TeamSide = 2
var(41) = floor(Abs(ifelse(facing = 1,Helper(20001+ID),RootDist X,Helper(20000+ID),RootDist X)))

[State -3,ステージ後方端までの距離]
Type = VarSet
TriggerAll =(NumHelper(20000+ID) && NumHelper(20001+ID))
Trigger1 = TeamSide = 1
var(42) = floor(Abs(ifelse(facing = 1,Helper(20001+ID),RootDist X,Helper(20000+ID),RootDist X)))

[State -3]
Type = VarSet
TriggerAll =(NumHelper(20000+ID) && NumHelper(20001+ID))
Trigger1 = TeamSide = 2
var(42) = floor(Abs(ifelse(facing = 1,Helper(20000+ID),RootDist X,Helper(20001+ID),RootDist X)))

;==============================================================================
;AIガード切り替え
;==============================================================================
[State -3, 防御する必要がない状況]
Type = VarSet
TriggerAll = !IsHelper
Trigger1 = NumEnemy = 0
Trigger2 = !InGuardDist
var(48) = 0
IgnoreHitPause = 1

[State -3, 立ち]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateNo != 0
Trigger1 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(10)
Trigger2 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(11)
Trigger3 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(12)
Trigger4 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(13)
Trigger5 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(14)
var(48) = 2
IgnoreHitPause = 1

[State -3, しゃがみ]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateNo != 0
Trigger1 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(20)
Trigger2 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(21)
Trigger3 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(22)
Trigger4 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(23)
Trigger5 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(24)
var(48) = 1
IgnoreHitPause = 1

[State -3, 立ち]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(20)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(21)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(22)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(23)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(24)
Trigger1 = var(57) = [1,4]
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger1 = Random <= ((var(57) * 12.5) * var(56))
Trigger1 = Random <= 250
Trigger2 = var(57) > 4
Trigger2 = EnemyNear(var(58)),StateType = A
Trigger3 = var(57) > 4
Trigger3 = EnemyNear(var(58)),StateType = S
Trigger3 = EnemyNear(var(58)),Time >= 20
Trigger3 =!Enemy,NumProj
Trigger4 = var(57) > 4
Trigger4 = EnemyNear(var(58)),StateType = S
Trigger4 = EnemyNear(var(58)),AnimTime > 0
Trigger4 =!EnemyNear(var(58)),NumProj
var(48) = 2
IgnoreHitPause = 1

[State -3, しゃがみ]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),AnimTime <= 0
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(10)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(11)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(12)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(13)
TriggerAll = EnemyNear(var(58)),StateNo != Helper(31000+ID),var(14)
Trigger1 = var(57) = [1,4]
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger1 = Random <= ((var(57) * 12.5) * var(56))
Trigger1 = Random <= 250
Trigger2 = var(57) > 4
Trigger2 = EnemyNear(var(58)),StateType = C
Trigger3 = var(57) > 4
Trigger3 = EnemyNear(var(58)),StateType = S
Trigger3 = EnemyNear(var(58)),Time < 20
Trigger3 =!EnemyNear(var(58)),NumProj
Trigger4 = var(57) > 4
Trigger4 = EnemyNear(var(58)),StateType = S
Trigger4 = Enemy,NumProj
var(48) = 1
IgnoreHitPause = 1

[State -3, 立ち]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = MoveType != H
Trigger1 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(10)
Trigger2 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(11)
Trigger3 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(12)
Trigger4 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(13)
Trigger5 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(14)
var(48) = 2
IgnoreHitPause = 1

[State -3, しゃがみ]
Type = VarSet
TriggerAll = var(59) = 1
TriggerAll =!IsHelper
TriggerAll = NumEnemy
TriggerAll = NumHelper(31000+ID)
TriggerAll = StateType != A
TriggerAll = MoveType != H
Trigger1 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(20)
Trigger2 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(21)
Trigger3 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(22)
Trigger4 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(23)
Trigger5 = EnemyNear(var(58)),StateNo = Helper(31000+ID),var(24)
var(48) = 1
IgnoreHitPause = 1

;------------------------------------------------------------------------------------

[State -3 ,movereversed]
type = varset
trigger1 = movereversed
v = 27
value = enemy,prevstateno
ignorehitpause = 1

[State -3 ,movereversed]
type = varset
trigger1 = movereversed
v = 28
value = enemy,stateno
ignorehitpause = 1

;-----------------------------------------------------------------------------

[State -3, Combo]
Type = VarSet
TriggerAll = !ishelper
Trigger1 = 1
var(9) = 0

[State -3, Combo]
Type = VarSet
TriggerAll = !ishelper
Trigger1 = StateNo = 200 && AnimElemTime(4) > 0
Trigger2 = StateNo = 205 && AnimElemTime(4) > 0
Trigger3 = StateNo = 210 && AnimElemTime(4) > 0
Trigger4 = StateNo = 215 && AnimElemTime(4) > 0
Trigger5 = StateNo = 230 && AnimElemTime(3) > 0
Trigger6 = StateNo = 235 && AnimElemTime(5) > 0
Trigger7 = StateNo = 240 && AnimElemTime(11) > 0
Trigger8 = StateNo = 245 && AnimElemTime(3) > 0
Trigger9 = StateNo = 250 && AnimElemTime(9) > 0
Trigger10 = StateNo = 400 && AnimElemTime(3) > 0
Trigger11 = StateNo = 410 && AnimElemTime(4) > 0
Trigger12 = StateNo = 430 && AnimElemTime(2) > 0
Trigger13 = StateNo = 440 && AnimElemTime(5) > 0
Trigger14 = StateNo = 450 && AnimElemTime(3) > 0
Trigger15 = StateNo = 10200 && AnimElemTime(4) > 0
Trigger16 = StateNo = 10205 && AnimElemTime(4) > 0
Trigger17 = StateNo = 10210 && AnimElemTime(9) > 0
Trigger18 = StateNo = 10215 && AnimElemTime(4) > 0
Trigger19 = StateNo = 10230 && AnimElemTime(3) > 0
Trigger20 = StateNo = 10235 && AnimElemTime(5) > 0
Trigger21 = StateNo = 10240 && AnimElemTime(6) > 0
Trigger22 = StateNo = 10245 && AnimElemTime(3) > 0
Trigger23 = StateNo = 10250 && AnimElemTime(2) > 0
Trigger24 = StateNo = 10251 && AnimElemTime(4) > 0
Trigger25 = StateNo = 10450 && AnimElemTime(4) > 0
Trigger26 = StateNo = 10400 && AnimElemTime(3) > 0
Trigger27 = StateNo = 10410 && AnimElemTime(2) > 0
Trigger28 = StateNo = 10430 && AnimElemTime(2) > 0
Trigger29 = StateNo = 10440 && AnimElemTime(3) > 0
Trigger30 = StateNo = 15002 && AnimElemTime(4) > 0
var(9) = 1

[State -3, Combo]
Type = VarSet
TriggerAll = !ishelper
Trigger1 = StateNo = 290 && AnimElemTime(7) > 0
Trigger2 = StateNo = 10290 && AnimElemTime(8) > 0
var(9) = 2

[State -1, Combo]
type = VarSet
triggerall = !ishelper
trigger1 = 1
var(11) = 0

[State -1, MC]
type = VarSet
triggerall = !ishelper
triggerall = var(40) > 0
triggerall = movecontact = [1,8]
trigger1 = (stateno = [200,499])
trigger2 = (stateno = [1011,2999])
trigger2 = stateno != 1000 && stateno != 1010
var(11) = 1

[State -2]
Type = ChangeState
Value = 199
TriggerAll = var(59)
TriggerAll =!var(52)
TriggerAll = RoundState = 3
TriggerAll = StateType != A
TriggerAll = Ctrl
Trigger1 = StateNo != 199
Trigger1 = Life > P2Life
Trigger1 = EnemyNear(var(58)),StateNo = [5100,5150]
Trigger1 = BackEdgeBodyDist > 60
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno = 99 && time >= 5
trigger1 = P2BodyDist X = [-15,10]

;クイックMAX
[State -1, クイックMAX]
type = ChangeState
value = 751
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = palno = [1,6]
triggerall = power >= 2000 && var(40) = 0
triggerall = numhelper(2110) = 0 
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 300 && fvar(22) = 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit = [1,4]
trigger1 = (stateno = [210,219]) || (stateno = [240,259]) || stateno = 410 || stateno = 450 
trigger1 = p2bodydist x = [-10,40]
trigger2 = (stateno = [200,209]) || (stateno = [230,239]) || stateno = 400 || stateno = 430
trigger2 = p2bodydist x = [-10,10]

;クイックMAX
[State -1, クイックMAX]
type = ChangeState
value = 751
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = power >= 1000 && var(40) = 0
triggerall = numhelper(2110) = 0 
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 300 && fvar(22) = 0
triggerall = random <= 400
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit = [1,4]
trigger1 = (stateno = [210,219]) || (stateno = [240,259]) || stateno = 410 || stateno = 450 
trigger1 = p2bodydist x = [-10,40]
trigger2 = (stateno = [200,209]) || (stateno = [230,239]) || stateno = 400 || stateno = 430
trigger2 = p2bodydist x = [-10,10]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[state -1,BC1]
type = changestate
value = 1260
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = var(40) = [101,1000] 
triggerall = statetype!= A
triggerall = P2statetype!= A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
triggerall = movehit
trigger1 = stateno = [200,499]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[state -1,BC1]
type = changestate
value = 1050
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = var(40) = [151,1000]
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1261
trigger1 = movehit

[state -1,BC1]
type = changestate
value = 1286
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = var(40) = [151,1000]
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1050
trigger1 = frontedgebodydist > 60
trigger1 = movehit
trigger2 = stateno = 1050
trigger2 = frontedgebodydist <= 60
trigger2 = time = 32

[state -1,BC1]
type = changestate
value = 1400
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = var(40) = [151,1000]
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1287
trigger1 = movehit

[state -1,BC1]
type = changestate
value = 1288
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = var(40) = [151,1000]
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1411

[state -1,BC1]
type = changestate
value = 2600
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = power >= 2000 && var(40) > 0
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1289
trigger1 = movehit

[state -1,BC1]
type = changestate
value = 2050
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = power >= 1000 && var(40) > 0
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1289
trigger1 = movehit

[state -1,BC1]
type = changestate
value = 2000
triggerall = var(59) = 1
;triggerall = life > 500
triggerall = power < 1000 && var(40) > 0
triggerall = statetype!= A
;triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = enemy,alive = 1
trigger1 = stateno = 1289
trigger1 = movehit

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;飛び道具対策
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;前転(飛び道具対策)
[State -3, FRoll]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= ((var(57) * 12.5) * var(56))
TriggerAll = Random <= 600
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = InGuardDist
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149])
Trigger1 = P2bodyDist X >= 200 || (EnemyNear(var(58)),AnimTime <= -35 && !EnemyNear(var(58)),Ctrl)
Trigger1 = (Enemy,NumHelper > 0 && Enemy,NumHelper > Helper(32000),var(1)) || Enemy,Numproj != 0
Trigger1 = var(45) = 1

[State -3,ブラックアウト 空キャン]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = var(57) >= 7
TriggerAll = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = MoveType != H
TriggerAll = EnemyNear(var(58)),MoveType != H
triggerall = EnemyNear(var(58)),Time <= 1
TriggerAll = (StateNo = [200,245]) || (StateNo = [400,440]) || (StateNo = [10200,10245]) || (StateNo = [10400,10440])
Trigger1 = Enemy,StateNo = var(27)
Trigger1 = StateNo != [700,701]
Trigger1 = (var(27) != [0,1])
Trigger2 = Enemy,StateNo = var(28)
Trigger2 = StateNo != [700,701]
Trigger2 = (var(28) != [0,1])
IgnoreHitPause = 1

[State -3,ブラックアウト 空キャン]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = var(57) >= 7
TriggerAll =!var(51) || var(51) = 5 || EnemyNear(var(58)),MoveType = A
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = FrontEdgeBodyDist >= 80 || var(51) = 5 || P2Dist X < 0
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),Time >= 40-var(56)*5 || var(56) > 9
TriggerAll = EnemyNear(var(58)),facing != facing || P2Dist X < 0
TriggerAll = Random < EnemyNear(var(58)),Time*50 || var(56) > 9
Trigger1 = Var(9) = [1,2]
ignorehitpause = 1

[State -3,ブラックアウト 空キャン]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = var(57) >= 7
TriggerAll =!var(51) || var(51) = 5 || EnemyNear(var(58)),MoveType = A
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = FrontEdgeBodyDist >= 80 || P2Dist X < 0
TriggerAll = Abs(EnemyNear(var(58)),Pos X - Pos X) < 50
TriggerAll = EnemyNear(var(58)),Vel X >= 0
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),StateNo != 5120
TriggerAll = EnemyNear(var(58)),facing != facing || P2Dist X < 0
Trigger1 = Var(9) = [1,2]
ignorehitpause = 1

[State -3,ブラックアウト 空キャン]
Type = ChangeState
Value = 1005
TriggerAll = var(59)
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),Ctrl = 0
TriggerAll = EnemyNear(var(58)),Vel X >= 0
TriggerAll = EnemyNear(var(58)),AnimTime <= -6
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateType != L
triggerall = P2BodyDist X = [-10+floor(6*(EnemyNear(var(58)),vel X)),40+floor(6*(EnemyNear(var(58)),vel X))]
triggerall = P2BodyDist Y = [-50-floor(6*(EnemyNear(var(58)),vel Y)+(6*(6+1)/2)*fvar(20)),0-floor(6*(EnemyNear(var(58)),vel Y)+(6*(6+1)/2)*fvar(20))]
Trigger1 = (var(9) = [1,2]) && !MoveContact && MoveType != H
ignorehitpause = 1

[State -3]
type = Turn
triggerall = p2dist x < 0 && !time && var(59)
trigger1 = stateno = [150,154]

[State -3,ｵｱ?angshen ]
type = ChangeState
value = 15000									  
triggerall = var(59) = 1 && statetype != A
 triggerall = (palno = [1,5]) && life <= 500
triggerall = EnemyNear(floor(var(58))),movetype = A
triggerall = EnemyNear(floor(var(58))),statetype != A
triggerall = ctrl || stateno = [120,159] 
TriggerAll = EnemyNear(floor(var(58))),AnimTime <= -18
trigger1 = p2bodydist x >= 0 && p2bodydist x <= 70

[State -3,ｵｱ?angshen ]
type = ChangeState
value = 15000									  
triggerall = var(59) = 1 && statetype != A
triggerall = palno = [6,12]
triggerall = EnemyNear(floor(var(58))),movetype = A
triggerall = EnemyNear(floor(var(58))),statetype != A
triggerall = ctrl || stateno = [120,159] 
TriggerAll = EnemyNear(floor(var(58))),AnimTime <= -18
trigger1 = p2bodydist x >= 0 && p2bodydist x <= 70

[State -3, KuzuKaze]
Type = ChangeState
Value = 15000
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && Random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = var(53) = 0 
triggerall = (palno = [1,5]) && life <= 300
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = Random <= var(57) * 125 || var(57) > 9
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),StateNo < 1000 && EnemyNear(var(58)),AnimTime <= -1 || EnemyNear(var(58)),StateNo < 2000 && EnemyNear(var(58)),AnimTime >= -25 || EnemyNear(var(58)),StateNo >= 2000 && EnemyNear(var(58)),AnimTime >= -4
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38)
TriggerAll = InGuardDist || !InGuardDist && !Helper(20000+ID),InGuardDist || var(38)
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [99,101]) || (StateNo = [120,149]) || (fvar(1) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-40+floor(4*(EnemyNear(var(58)),vel X)),45+floor(4*(EnemyNear(var(58)),vel X))]

[State -3, KuzuKaze]
Type = ChangeState
Value = 15000
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && Random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = var(53) = 0 
TriggerAll = palno = 6 && Life <= 500
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = Random <= var(57) * 125 || var(57) > 9
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),StateNo < 1000 && EnemyNear(var(58)),AnimTime <= -1 || EnemyNear(var(58)),StateNo < 2000 && EnemyNear(var(58)),AnimTime >= -25 || EnemyNear(var(58)),StateNo >= 2000 && EnemyNear(var(58)),AnimTime >= -4
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38)
TriggerAll = InGuardDist || !InGuardDist && !Helper(20000+ID),InGuardDist || var(38)
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [99,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-40+floor(4*(EnemyNear(var(58)),vel X)),45+floor(4*(EnemyNear(var(58)),vel X))]

[State -3, KuzuKaze]
Type = ChangeState
Value = 15000
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && Random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = var(53) = 0 
TriggerAll = palno = [7,12] 
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = Random <= var(57) * 125 || var(57) > 9
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),StateNo < 1000 && EnemyNear(var(58)),AnimTime <= -1 || EnemyNear(var(58)),StateNo < 2000 && EnemyNear(var(58)),AnimTime >= -25 || EnemyNear(var(58)),StateNo >= 2000 && EnemyNear(var(58)),AnimTime >= -4
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38)
TriggerAll = InGuardDist || !InGuardDist && !Helper(20000+ID),InGuardDist || var(38)
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [99,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-40+floor(4*(EnemyNear(var(58)),vel X)),45+floor(4*(EnemyNear(var(58)),vel X))]

[State -3, KUZUKAZE]
Type = ChangeState
Value = 15000
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1 
TriggerAll = (palno = [1,5]) && life <= 500
TriggerAll =(var(52)!= [5,6]) && var(53) = 0
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || (!Time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= 300 
TriggerAll = StateType != A
TriggerAll =!EnemyNear(var(58)),Ctrl
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),Facing != Facing
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38) || var(56) > 9
TriggerAll = Random < 50 || EnemyNear(var(58)),StateNo < 2000
TriggerAll =!Enemy,NumProj
TriggerAll = InGuardDist 
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-10+floor(9*(EnemyNear(var(58)),Vel X)),40+floor(9*(EnemyNear(var(58)),Vel X))]
Trigger1 = EnemyNear(var(58)),AnimTime <= -9

[State -3, KUZUKAZE]
Type = ChangeState
Value = 15000
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1 
TriggerAll = palno = [6,11]
TriggerAll =(var(52)!= [5,6]) && var(53) = 0
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || (!Time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= 500 
TriggerAll = StateType != A
TriggerAll =!EnemyNear(var(58)),Ctrl
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),Facing != Facing
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38) || var(56) > 9
TriggerAll = Random < 50 || EnemyNear(var(58)),StateNo < 2000
TriggerAll =!Enemy,NumProj
TriggerAll = InGuardDist 
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-10+floor(9*(EnemyNear(var(58)),Vel X)),40+floor(9*(EnemyNear(var(58)),Vel X))]
Trigger1 = EnemyNear(var(58)),AnimTime <= -9

[State -3, KUZUKAZE]
Type = ChangeState
Value = 15000
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1 
TriggerAll = palno = 12
TriggerAll =(var(52)!= [5,6]) && var(53) = 0
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || (!Time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
TriggerAll = StateType != A
TriggerAll =!EnemyNear(var(58)),Ctrl
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),Facing != Facing
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || var(38) || var(56) > 9
TriggerAll = Random < 50 || EnemyNear(var(58)),StateNo < 2000
TriggerAll =!Enemy,NumProj
TriggerAll = InGuardDist 
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-10+floor(9*(EnemyNear(var(58)),Vel X)),40+floor(9*(EnemyNear(var(58)),Vel X))]
Trigger1 = EnemyNear(var(58)),AnimTime <= -9

[State -3]
type = ChangeState
value = 15000
triggerall = var(59)
TriggerAll = (palno = [1,5]) && life <= 300
triggerall = Roundstate = 2
triggerall = P2Movetype = A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H 
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-10,25]
triggerall = p2stateno != [31,50]
trigger1 = EnemyNear(floor(var(58))),facing != facing
trigger1 = EnemyNear(floor(var(58))),time
trigger1 = EnemyNear(floor(var(58))),Ctrl = 0
trigger1 = EnemyNear(floor(var(58))),HitDefAttr = SCA,AA,AP,AT

[State -3]
type = ChangeState
value = 15000
triggerall = var(59)
TriggerAll = palno = 6 && life <= 500
triggerall = Roundstate = 2
triggerall = P2Movetype = A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H 
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-10,25]
triggerall = p2stateno != [31,50]
trigger1 = EnemyNear(floor(var(58))),facing != facing
trigger1 = EnemyNear(floor(var(58))),time
trigger1 = EnemyNear(floor(var(58))),Ctrl = 0
trigger1 = EnemyNear(floor(var(58))),HitDefAttr = SCA,AA,AP,AT

[State -3]
type = ChangeState
value = 15000
triggerall = var(59)
TriggerAll = palno = [7,12]
triggerall = Roundstate = 2
triggerall = P2Movetype = A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H 
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-10,25]
triggerall = p2stateno != [31,50]
trigger1 = EnemyNear(floor(var(58))),facing != facing
trigger1 = EnemyNear(floor(var(58))),time
trigger1 = EnemyNear(floor(var(58))),Ctrl = 0
trigger1 = EnemyNear(floor(var(58))),HitDefAttr = SCA,AA,AP,AT

[State -1]
type = ChangeState
value = 15000
trigger1 = var(59) = 1
TriggerAll = palno = 6 && life <= 300
triggerall = statetype != A
triggerall = P2statetype != L
TriggerAll = Random <= var(57) * 125
triggerall = EnemyNear(var(58)),movetype = A 
triggerall = EnemyNear(var(58)),StateNo != 5201
triggerall = EnemyNear(var(58)),StateNo != 52000
triggerall = ctrl || (stateno = [20,22]) || (stateno = [99,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !movecontact && movetype != H 
trigger1 = stateno = [0,999]
trigger2 = stateno = 52000 
trigger3 = stateno = 5201

[State -1]
type = ChangeState
value = 15000
trigger1 = var(59) = 1
TriggerAll = palno = [7,12]
triggerall = statetype != A
triggerall = P2statetype != L
TriggerAll = Random <= var(57) * 125
triggerall = EnemyNear(var(58)),movetype = A 
triggerall = EnemyNear(var(58)),StateNo != 5201
triggerall = EnemyNear(var(58)),StateNo != 52000
triggerall = ctrl || (stateno = [20,22]) || (stateno = [99,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !movecontact && movetype != H 
trigger1 = stateno = [0,999]
trigger2 = stateno = 52000 
trigger3 = stateno = 5201

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;隙突き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 720
triggerall = statetype != A
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno >= 200
triggerall = enemynear(var(58)),animtime <= -4
triggerall = enemy,numproj = 0
triggerall =!InGuardDist || enemynear(var(58)),facing = facing || (prevstateno = [130,155]) || var(38)
triggerall = p2bodydist X < 24
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
trigger1 = p2bodydist x = [-5,24]

;近距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = 430
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 700
triggerall = statetype != A
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno >= 200
triggerall = enemynear(var(58)),animtime <= -3
triggerall = enemy,numproj = 0
triggerall =!InGuardDist || (prevstateno = [130,155]) || var(38)
triggerall = p2bodydist X < 30
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
trigger1 = p2bodydist x = [-20,30]

;近距離立ち弱キック
[State -3]
Type = ChangeState
Value = 235
TriggerAll = var(59) = 1
triggerall = var(57) >= 1
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= var(57) * 100 || var(56) > 9
TriggerAll = StateType != A
TriggerAll = P2BodyDist X <= 25
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll =!EnemyNear(var(58)),HitDefAttr = SCA, NT, ST, HT
TriggerAll = EnemyNear(var(58)),AnimTime <= -4
TriggerAll = EnemyNear(var(58)),Time >= 40-var(56)*5 || var(56) > 9
TriggerAll =!InGuardDist || (prevstateno = [130,155]) || var(38)
Trigger1 = Ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H

[State -3, BB]
Type = ChangeState
Value = ifelse(frontedgedist <= 50,701,700)
TriggerAll = var(59)
TriggerAll = var(57) >= 3
TriggerAll = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateNo = 5120 && AnimTime = [-3,0]
TriggerAll = Abs(EnemyNear(var(58)),Pos X - Pos X) = [0,80]
Trigger1 = Random <= var(56)*100

;しゃがみ弱パンチ
[State -3]
Type = ChangeState
Value = 400
TriggerAll = var(59) = 1
triggerall = var(57) >= 1
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= var(57) * 100 || var(56) > 9
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll =!EnemyNear(var(58)),HitDefAttr = SCA, NT, ST, HT
TriggerAll = EnemyNear(var(58)),AnimTime <= -3
TriggerAll = EnemyNear(var(58)),Time >= 40-var(56)*5 || var(56) > 9
TriggerAll =!InGuardDist || (prevstateno = [130,155]) || var(38)
TriggerAll = Ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
Trigger1 = P2BodyDist X = [-5,40]

[State -3, Crouching Light Kick]
Type = ChangeState
Value = 215
TriggerAll = var(59)
TriggerAll = var(57) >= 3
triggerall = numhelper(2110) = 0 
triggerall = numhelper(2120) = 0;三籟分身
TriggerAll = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = H
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = stateno = 1444
TriggerAll = P2bodyDist X = [-15,25]
TriggerAll = !InGuardDist
Trigger1 = Random <= var(56)*100

[State -3, Crouching Light Kick]
Type = ChangeState
Value = 430
TriggerAll = var(59)
TriggerAll = var(57) >= 3
triggerall = numhelper(2110) != 0 || numhelper(2120) != 0;三籟分身
TriggerAll = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = H
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || stateno = 1444
TriggerAll = P2bodyDist X = [-15,25]
TriggerAll = !InGuardDist
Trigger1 = Random <= var(56)*100

[State -3, Crouching Light Kick]
Type = ChangeState
Value = ifelse(Random <= 500,400,430)
TriggerAll = var(59)
TriggerAll = var(57) >= 3
triggerall = numhelper(2110) = 0 
triggerall = numhelper(2120) = 0;三籟分身
TriggerAll = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = H
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) 
TriggerAll = P2bodyDist X = [-15,25]
TriggerAll = !InGuardDist
Trigger1 = Random <= var(56)*100

[State -3, Crouching Light Kick]
Type = ChangeState
Value = 215
TriggerAll = var(59)
TriggerAll = var(57) >= 3
triggerall = numhelper(2110) = 0 
triggerall = numhelper(2120) = 0;三籟分身
TriggerAll = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = H
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [99,101]) || (StateNo = [120,149]) 
TriggerAll = P2bodyDist X = [-15,25]
TriggerAll = !InGuardDist
Trigger1 = Random <= var(56)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,400,430)
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
triggerall = statetype != A
triggerall = Ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
triggerall = P2BodyDist X = [-20+floor(5*(EnemyNear(var(58)),vel X)),30+floor(5*(EnemyNear(var(58)),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(var(58)),vel Y)+(5*(5+1)/2)*fvar(20)),0-floor(5*(EnemyNear(var(58)),vel Y)+(5*(5+1)/2)*fvar(20))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(56)*90

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,215,400)
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = roundstate = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
triggerall = statetype != A
triggerall = Ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
triggerall = P2BodyDist X = [-5+floor(5*(EnemyNear(var(58)),vel X)),15+floor(5*(EnemyNear(var(58)),vel X))]
triggerall = P2BodyDist Y >= 0--floor(5*(EnemyNear(var(58)),vel Y)+(5*(5+1)/2)*fvar(20))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(56)*90

;近距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = 400
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 720
triggerall = statetype != A
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno >= 200
triggerall = enemynear(var(58)),animtime <= -3
triggerall = enemy,numproj = 0
triggerall =!InGuardDist || enemynear(var(58)),facing = facing || (prevstateno = [130,155]) || (prevstateno = [700,720]) || prevstateno = 52000 || var(38)
triggerall = p2bodydist X < 20
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H
trigger1 = p2bodydist x = [-15,20]

;投げ
[State -3, Throw]
type = ChangeState
value = ifelse(backedgedist <= 120,850,800)
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = var(18) = 0 && var(53) = 0
triggerall = Roundstate = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = P2Movetype != H
triggerall = P2stateno != [5000,5050]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (StateNo = [120,149])
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2stateno != 5120
triggerall = p2bodydist X < 15
triggerall = p2bodydist x = [-10,15]
trigger1 = EnemyNear(var(58)),facing != facing
trigger2 = EnemyNear(var(58)),Animtime < -5
trigger2 = EnemyNear(var(58)),facing  = facing

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,205,215)
triggerall = var(59) = 1
TriggerAll = StateType != A
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-15,20]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
TriggerAll = EnemyNear(var(58)),AnimTime <= -3 
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || var(38)
triggerall = EnemyNear(var(58)),ctrl = 0
Trigger1 = Random<= var(57)*125

;K投げ
[State -3, Throw]
type = ChangeState
value = 850
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = var(18) = 0 && var(53) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 550
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),stateno != [30,49]
triggerall = enemynear(var(58)),stateno != 105
triggerall = enemynear(var(58)),stateno != [150,155]
triggerall = enemynear(var(58)),stateno != [5100,5299]
triggerall = enemynear(var(58)),animtime > -3
triggerall = backedgedist <= 120
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
triggerall = p2bodydist X < 15
trigger1 = p2bodydist x = [-10,15]

;P投げ
[State -3, Throw]
type = ChangeState
value = 800
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = var(18) = 0 && var(53) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 550
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),stateno != [30,49]
triggerall = enemynear(var(58)),stateno != 105
triggerall = enemynear(var(58)),stateno != [150,155]
triggerall = enemynear(var(58)),stateno != [5100,5299]
triggerall = enemynear(var(58)),animtime > -3
triggerall = backedgedist > 120
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
triggerall = p2bodydist X < 15
trigger1 = p2bodydist x = [-10,15]

[State -3,後緊急回避 タッグ 背後取られた場合]
Type = ChangeState
Value = 701
TriggerAll = var(59)
TriggerAll = var(51) = 5
TriggerAll = var(42) >= 60 && BackEdgeBodyDist >= 20
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= var(56) * 100 || var(56) > 9
TriggerAll = StateType != A
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) || Power >= 1000 && StateNo = [150,151]
Trigger1 = ifelse(facing = 1,(EnemyNear(0),Pos X - Pos X = [-60,0]),(EnemyNear(0),Pos X - Pos X = [0,60]))
Trigger1 = EnemyNear(0),BackEdgeBodyDist >= 40
Trigger1 = EnemyNear(0),facing = facing
Trigger2 = ifelse(facing = 1,(EnemyNear(1),Pos X - Pos X = [-60,0]),(EnemyNear(1),Pos X - Pos X = [0,60]))
Trigger2 = EnemyNear(1),BackEdgeBodyDist >= 40
Trigger2 = EnemyNear(1),facing = facing

;ダッシュ(隙突き)
[State -3, Dash]
Type = ChangeState
Value = 100
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= ((var(57) * 12.5) * var(56))
TriggerAll = StateType != A
TriggerAll = P2Dist X > 0
TriggerAll =!InGuardDist
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [120,149]) 
Trigger1 = P2bodyDist x > 120 || EnemyNear(var(58)),facing = facing
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger1 = EnemyNear(var(58)),MoveType = A
Trigger1 =!EnemyNear(var(58)),HitDefAttr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
Trigger1 = EnemyNear(var(58)),Time >= 60
Trigger2 = EnemyNear(var(58)),MoveType != H
Trigger2 = EnemyNear(var(58)),StateType = A
Trigger2 = P2bodyDist x >= 40
Trigger2 =!EnemyNear(var(58)),Ctrl
Trigger2 = EnemyNear(var(58)),facing = facing
Trigger3 = EnemyNear(var(58)),MoveType != H
Trigger3 = EnemyNear(var(58)),StateType != A
Trigger3 =!EnemyNear(var(58)),Ctrl
Trigger3 = EnemyNear(var(58)),facing = facing
Trigger3 = EnemyNear(var(58)),HitDefAttr = SC, NA, SA, HA

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;切り返し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;前転
[State -3, FRoll]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = EnemyNear(var(58)),Time >= 50-var(56)*5 || (!Time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
TriggerAll = Random <= ((var(57) * 12.5) * var(56))
TriggerAll = Random <= 600
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll =!EnemyNear(var(58)),HitDefAttr = SCA, AT
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = InGuardDist
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) 
Trigger1 = P2bodyDist x = [-10,150]
Trigger1 = EnemyNear(var(58)),AnimTime <= -30

[State -3, S ONIYAKI]
type = ChangeState
value = 205
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 600
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = enemynear(var(58)),facing != facing
triggerall = InGuardDist
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])  || (var(9) = [1,2]) && !movecontact && movetype != H && enemynear(var(58)),statetype = S
trigger1 = p2bodydist x = [-5,20]
trigger1 = enemynear(var(58)),animtime <= -3

[State -3, S ONIYAKI]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = enemynear(var(58)),facing = facing
triggerall = !InGuardDist
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || (var(9) = [1,2]) && !movecontact && movetype != H
trigger1 = p2bodydist x = [-10,25]
trigger1 = enemynear(var(58)),animtime >= -3

[State -3, S ONIYAKI]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 600
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = enemynear(var(58)),facing = facing
triggerall = InGuardDist
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])  || (var(9) = [1,2]) && !movecontact && movetype != H
trigger1 = p2bodydist x = [-10,25]
trigger1 = enemynear(var(58)),animtime <= -3

[State -3, S ONIYAKI]
type = ChangeState
value = 215
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 600
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = enemynear(var(58)),facing = facing
triggerall = InGuardDist
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])  || (var(9) = [1,2]) && !movecontact && movetype != H
trigger1 = p2bodydist x = [-5,24]
trigger1 = p2bodydist y = [-45-floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)),0-floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20))]
trigger1 = enemynear(var(58)),animtime <= -15

[State -3, 中ジャンプ(対投げ用)]
Type = ChangeState
Value = 34
TriggerAll = var(59)
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= ((var(57) * 12.5) * var(56))
TriggerAll = Random <= 250
TriggerAll = StateType != A
TriggerAll =!Enemy,NumProj
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149]) 
Trigger1 = P2bodyDist x = [-20,100]
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger1 = EnemyNear(var(58)),HitDefAttr = SC, NT, ST, HT

;後転
[State -3, BRoll]
type = ChangeState
value = 701
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(56) >= 10
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 600
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),Vel X <= 0
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = enemynear(var(58)),MoveType = A
triggerall =!enemynear(var(58)),HitDefAttr = SCA, NT, ST, HT
triggerall = enemynear(var(58)),facing != facing
triggerall = p2bodydist x <= 25 && enemynear(var(58)),AnimTime > -5 || p2bodydist x > 25
triggerall = BackEdgeBodyDist >= 20
triggerall = InGuardDist
triggerall =!enemy,numproj
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x <= 45 && enemynear(var(58)),AnimTime >= -5
trigger2 = p2bodydist x <= 55 && enemynear(var(58)),AnimTime >= -16
trigger3 = p2bodydist x <= 65 && enemynear(var(58)),AnimTime >= -17
trigger4 = p2bodydist x <= 75 && enemynear(var(58)),AnimTime >= -18
trigger5 = p2bodydist x <= 85 && enemynear(var(58)),AnimTime >= -19
trigger6 = p2bodydist x <= 95 && enemynear(var(58)),AnimTime >= -20

[State -3, 中ジャンプ(対投げ用)]
type = ChangeState
value = 34
triggerall = var(59)
triggerall = var(57) >= 3
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 250
triggerall = StateType != A
triggerall =!Enemy,NumProj
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) 
trigger1 = p2bodydist x = [-20,100]
trigger1 = enemynear(var(58)),statetype != A
trigger1 = enemynear(var(58)),HitDefAttr = SC, NT, ST, HT

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;防御(ガード等)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード
[State -3, Guard]
Type = ChangeState
Value = ifelse(StateNo = 100,101,120)
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 5
TriggerAll = StateNo != [120,159]
TriggerAll = Ctrl || StateNo = 0 || (StateNo = [20,22]) || StateNo = 100 && Time >= 8 || (StateNo = [105,106])
Trigger1 = inguarddist
Trigger1 = Random <= ((var(57) * 12.5) * var(56)) && Random <= 600 || var(57) > 4
Trigger2 = inguarddist
Trigger2 = P2bodyDist x > 90 || EnemyNear(var(58)),Time > 50
Trigger2 = Random <= ((var(57) * 12.5) * var(56))
Trigger3 = inguarddist
Trigger3 = EnemyNear(var(58)),numhelper > 0 || enemy,numproj > 0
Trigger4 = EnemyNear(var(58)),MoveType = A
Trigger4 = !EnemyNear(var(58)),hitdefattr = SCA, NT, ST, HT
Trigger4 = StateNo != 100 || StateNo = 100 && p2dist y > -45 || numenemy >= 2
Trigger4 = P2bodyDist x < 0
Trigger4 = p2dist x > 0 || p2dist x < 0
Trigger5 = inguarddist
Trigger5 = numenemy > 1
Trigger5 = enemy(0),numhelper+enemy(1),numhelper > 0 || enemy(0),numproj+enemy(1),numproj > 0
Trigger6 = numhelper(31000+id)
Trigger6 = helper(31000+id),inguarddist
Trigger6 = !EnemyNear(var(58)),hitdefattr = SCA, NT, ST, HT

;ダウン回避(空中)
[State -3, HITFall_AIRRECOVER]
Type = ChangeState
Value = 5210
TriggerAll = var(59)
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2
TriggerAll = Random <= ((20 + (var(57) * 10)) * var(56))
TriggerAll = Random <= 800
TriggerAll = StateNo = 5050
TriggerAll = Vel Y > -1
TriggerAll = alive
TriggerAll = CanRecover
Trigger1 = Vel Y > 0
Trigger1 = Pos Y < -20 && Pos Y > -80
Trigger1 = P2bodyDist x = [-60,60]
Trigger1 = P2bodyDist Y = [-40,40]
Trigger1 = EnemyNear(var(58)),MoveType = A
Trigger1 = EnemyNear(var(58)),Time < 15

;受身
[State -3, UKEMI]
Type = ChangeState
Value = 5200
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2
TriggerAll = Random <= ((var(57) * 12.5) * var(56))
TriggerAll = Random <= 1000
TriggerAll = alive = 1
Trigger1 = StateNo = 5050 || StateNo = 5071
Trigger1 = Anim != 5052 && Anim != 5062
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= -20

[State -3,受身]
Type = ChangeState
Value = 52000
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Alive
TriggerAll = CanRecover || EnemyNear(var(58)),MoveType = A
TriggerAll = StateNo = 5050
TriggerAll = pos y > -30
TriggerAll = vel y > 0 && vel y < 9
Trigger1 = Random < 500
Trigger2 = EnemyNear(var(58)),MoveType = A
Trigger2 = EnemyNear(var(58)),Time < 15

[State -3,ダウン回避]
Type = ChangeState
Value = 52000
TriggerAll = var(59)
TriggerAll = RoundState = 3
TriggerAll = Alive
TriggerAll = Vel Y > 0 && Vel Y < 9
TriggerAll = Pos Y > -30
Trigger1 = StateNo = 5050

;ガードキャンセル前転
[State -3, GCFRoll]
Type = ChangeState
Value = 700
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2
TriggerAll = power >= 1000
TriggerAll = Random <= var(57) * 125
TriggerAll = StateType != A
TriggerAll = (StateNo = 150 || StateNo = 152) && HitShakeOver
Trigger1 = P2bodyDist x = [0,50]
Trigger1 = EnemyNear(var(58)),StateNo >= 200
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger1 = EnemyNear(var(58)),MoveType = A
Trigger1 = EnemyNear(var(58)),AnimTime <= -30

[State -3, T S]
Type = ChangeState
Value = 700
TriggerAll = var(59)
TriggerAll = roundstate = 2
TriggerAll = StateNo = [150,152]
TriggerAll = power >= 1000
TriggerAll = StateType != A
TriggerAll = P2MoveType = A
TriggerAll = P2StateType != L
TriggerAll = EnemyNear(var(58)),AnimTime <= -40
TriggerAll = EnemyNear(var(58)),BackEdgeBodyDist >= 40
TriggerAll = BackEdgeBodyDist <= 16
TriggerAll = P2bodyDist X = [0,120]
Trigger1 = Random <= var(57)*125

[State -3, Throw]
Type = ChangeState
Value = 290
TriggerAll = var(59)
TriggerAll = roundstate = 2
TriggerAll = StateNo = [150,152]
TriggerAll = power >= 1000
TriggerAll = EnemyNear(var(58)),AnimTime <= -10 || EnemyNear(var(58)),Time <= 1
TriggerAll = StateType != A
TriggerAll = P2MoveType = A
TriggerAll = P2StateType != L
TriggerAll = P2bodyDist X = [-5,40]
TriggerAll = P2bodyDist y = [-40,5]
Trigger1 = Random <= var(57)*125

;ガードキャンセルふっとばし攻撃
[State -3, GCA]
Type = ChangeState
Value = 290
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 3
TriggerAll = RoundState = 2
TriggerAll = power >= 1000
TriggerAll = Random <= var(57) * 125
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo >= 200
TriggerAll = P2bodyDist x = [-5,50]
TriggerAll = (StateNo = 150 || StateNo = 152) && HitShakeOver
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger2 = EnemyNear(var(58)),StateType = A
Trigger2 = P2bodyDist y = [-50-floor(5*(EnemyNear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)),0-floor(5*(EnemyNear(var(58)),vel y)+(5*(5+1)/2)*fvar(20))]

;---------------------------------------------------------------------------
;起き攻め
;---------------------------------------------------------------------------
[State -3, 起き攻め選択]
type = VarSet
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = var(44) = 0
triggerall = roundstate = 2
triggerall = enemynear(var(58)),statetype = L && enemynear(var(58)),movetype != A
triggerall = enemynear(var(58)),ctrl = 0
triggerall = enemynear(var(58)),stateno != 5120 || enemynear(var(58)),animtime < -4
trigger1 = statetype != L && movetype != H
trigger1 = p2bodydist X <= 150
var(44) = 1 + (random % 4)

[State -3, リセット]
type = varset
triggerall = var(44) != 0
trigger1 = roundstate != 2 || movetype = H || movetype = A || statetype = L
var(44) = 0

[State -3];上のリセット
type = varset
triggerall = var(44) != 0
trigger1 = var(44) = 1 && enemynear(var(58)),stateno = 5120
trigger1 = enemynear(var(58)),animtime = 0
trigger2 = var(44) = 2 && enemynear(var(58)),stateno = 5120
trigger2 = enemynear(var(58)),animtime > -6
trigger2 = !((stateno = [30,39]) || statetype = A)
trigger3 = var(44) = 3 && enemynear(var(58)),stateno = 5120
trigger3 = enemynear(var(58)),animtime > -5
trigger4 = var(44) = 4 && enemynear(var(58)),stateno = 5120
var(44) = 10

[State -3, Crouch Light Punch]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = var(57) >= 1
triggerall = var(44) = 1
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2BodyDist X = [-20,40]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = enemynear(var(58)),animtime = -1

[State -3, 小ジャンプ 中段起き攻め]
Type = ChangeState
Value = 32
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(44) = 2
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2BodyDist X = [-20,60]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = enemynear(var(58)),animtime = [-18,-12]

[State -3, 中ジャンプ 中段起き攻め]
type = ChangeState
value = 34
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(44) = 2
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2BodyDist X = [-20,100]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = enemynear(var(58)),animtime = [-18,-12]

[State -3, ジャンプ強パンチ 起き攻め]
type = ChangeState
value = 610
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(44) = 2
triggerall = RoundState = 2
triggerall = StateType = A
triggerall = ctrl
trigger1 = Vel Y > 0

[State -3, バックステップ／ハイジャンプ 起き攻め放棄]
type = ChangeState
value = ifelse(BackEdgeBodyDist <= 20,36,105)
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(44) = 3
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),statetype = L && p2bodydist X <= 80 && !Inguarddist
trigger1 = enemynear(var(58)),stateno != 5120
trigger2 = enemynear(var(58)),stateno = 5120
trigger2 = enemynear(var(58)),animtime >= -10

[State -3, murakumo]
type = ChangeState
value = 2500
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = numhelper(2510) = 0;神技分身
triggerall = numhelper(2515) = 0;神技分身
triggerall = numhelper(2520) = 0;神技分身
triggerall = numhelper(2525) = 0;神技分身
triggerall = numhelper(2530) = 0;神技分身
triggerall = power >= 3000 || power >= 2000 && var(40) > 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = enemynear(var(58)),time >= 50-var(56)*5 || (!time && var(56) > 7) || life <= var(57)*var(56)*8 || Random <= var(57)*var(56) || var(57) >= 5 && p2life <= 500 || var(56) >= 10
triggerall = Random <= ((20 + (var(57) * 10)) * var(56))
triggerall = Random <= 600 || var(57) >= 5 && p2life <= 500 || var(57) >= 9
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = P2BodyDist X > 80
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = P2BodyDist X <= 50 && enemynear(var(58)),AnimTime < -6
trigger2 = P2BodyDist X <= 75 && enemynear(var(58)),AnimTime < -8
trigger3 = P2BodyDist X <= 100 && enemynear(var(58)),AnimTime < -12
trigger4 = P2BodyDist X <= 150 && enemynear(var(58)),AnimTime < -14
trigger5 = P2BodyDist X <= 175 && enemynear(var(58)),AnimTime < -16
trigger6 = P2BodyDist X <= 200 && enemynear(var(58)),AnimTime < -18
trigger7 = P2BodyDist X > 200 && enemynear(var(58)),AnimTime < -20

;?服?器(タッグ時の割り込み)
[State -3, murakumo]
type = ChangeState
value = 2500
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(52) = [2,4]
triggerall = var(51) = [1,4]
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = numhelper(2510) = 0;神技分身
triggerall = numhelper(2515) = 0;神技分身
triggerall = numhelper(2520) = 0;神技分身
triggerall = numhelper(2525) = 0;神技分身
triggerall = numhelper(2530) = 0;神技分身
triggerall = power >= 3000 || power >= 2000 && var(40) > 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((20 + (var(57) * 10)) * var(56))
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),MoveType = A
triggerall = enemynear(var(58)),StateNo >= 200
triggerall = P2BodyDist X > 80
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = P2BodyDist X <= 50 && enemynear(var(58)),AnimTime < -6
trigger2 = P2BodyDist X <= 75 && enemynear(var(58)),AnimTime < -8
trigger3 = P2BodyDist X <= 100 && enemynear(var(58)),AnimTime < -12
trigger4 = P2BodyDist X <= 150 && enemynear(var(58)),AnimTime < -14
trigger5 = P2BodyDist X <= 175 && enemynear(var(58)),AnimTime < -16
trigger6 = P2BodyDist X <= 200 && enemynear(var(58)),AnimTime < -18
trigger7 = P2BodyDist X > 200 && enemynear(var(58)),AnimTime < -20

;---------------------------------------------------------------------------
;その他牽制
;---------------------------------------------------------------------------

;ちづる・弐百拾弐活　乙式　頂門の一針
[State -1, S PW]
type = ChangeState
value = 1400
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0
triggerall = Random <= (200 + (var(57) * 100))
triggerall = statetype != A 
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall =!InGuardDist
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = ctrl || (stateno = [20,22]) || (stateno = [99,101]) || (stateno = [120,149]) 
trigger1 = p2bodydist x >= 200
trigger1 = Random <= 20

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ち回り、技振り(地上)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;---------------------------------------------------------------------------
;投げ
;---------------------------------------------------------------------------
;K投げ
[State -3, Throw]
type = ChangeState
value = 850
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(18) = 0 && var(53) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = Random <= 500
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [30,49]
triggerall = enemynear(var(58)),stateno != 105
triggerall = enemynear(var(58)),stateno != [150,155]
triggerall = enemynear(var(58)),stateno != [5100,5299]
triggerall = backedgedist <= 120
triggerall = p2bodydist x = [-10,20]
trigger1 = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])

;P投げ
[State -3, Throw]
type = ChangeState
value = 800
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(18) = 0 && var(53) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = Random <= 500
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [30,49]
triggerall = enemynear(var(58)),stateno != 105
triggerall = enemynear(var(58)),stateno != [150,155]
triggerall = enemynear(var(58)),stateno != [5100,5299]
triggerall = backedgedist > 120
triggerall = p2bodydist x = [-10,20]
trigger1 = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])

[State -1]
type = ChangeState
value = 15000
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = var(53) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = Random <= 400
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [30,49]
triggerall = enemynear(var(58)),stateno != 105
triggerall = enemynear(var(58)),stateno != [150,155]
triggerall = enemynear(var(58)),stateno != [5100,5299]
triggerall = enemynear(var(58)),stateno != [5710,5715]
triggerall = p2bodydist X = [-10,40]
trigger1 = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])

;────────────────────────────────────────
; 投げ
;────────────────────────────────────────
[State -3,投げ]
Type = ChangeState
Value = ifelse((!var(51) && var(41) < var(42) || (var(51) = [1,4])),800,850)
TriggerAll = var(59)
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= var(56) * 100 || var(56) > 9
TriggerAll = StateType != A
TriggerAll = P2bodyDist X = [-5,15]
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = EnemyNear(var(58)),StateType = S || EnemyNear(var(58)),StateType = C
TriggerAll = EnemyNear(var(58)),StateNo != [5100,5299]
TriggerAll = EnemyNear(var(58)),StateNo <= 2000
TriggerAll = EnemyNear(var(58)),facing != facing || EnemyNear(var(58)),StateNo = [700,999]
Trigger1 = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149])
Trigger1 = ifelse(EnemyNear(var(58)),MoveType = I && (EnemyNear(var(58)),StateNo = [700,999]),Random < var(56) * 30,Random < var(56) * 10)

;---------------------------------------------------------------------------
;対空
;---------------------------------------------------------------------------

[State -1]
Type = ChangeState
Value = 2600
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1 && (var(57) < 4 && Random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),Life > 0 && fvar(22) = 0
TriggerAll = Random <= 600 || var(57) >= 9
TriggerAll = StateType != A
triggerall = power >= 3000 && var(40) = 0  || power >= 2000 && var(40) > 0
TriggerAll = EnemyNear(var(58)),StateType = A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType != H
;TriggerAll = EnemyNear(var(58)),MoveType = A
TriggerAll = EnemyNear(var(58)),StateNo != [5020,5040]
TriggerAll = EnemyNear(var(58)),Facing != Facing
TriggerAll = Ctrl || (StateNo = [20,22]) || (stateno = [99,101]) || (StateNo = [120,149]) || (var(9) = [1,2]) && !MoveContact && MoveType != H 
Trigger1 = P2BodyDist X = [15+floor(7*(EnemyNear(var(58)),Vel X)),70+floor(7*(EnemyNear(var(58)),Vel X))]
Trigger1 = P2BodyDist Y = [-70-floor(7*(EnemyNear(var(58)),Vel Y)+(7*(7+1)/2)*fvar(20)),0-floor(7*(EnemyNear(var(58)),Vel Y)+(7*(7+1)/2)*fvar(20))]

;ちづる・百活　天神の理・弱
[State -3, LW]
Type = ChangeState
Value = 1000
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0 && fvar(22) = 0
TriggerAll = Random <= ((20 + (var(57) * 10)) * var(56))
TriggerAll = Random <= 600 || var(57) >= 9
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType = A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = EnemyNear(var(58)),StateNo != [5020,5040]
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149])
trigger1 = p2bodydist x = [-10+floor(5*(enemynear(var(58)),vel x)),50+floor(5*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-100-floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)),0-floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20))]

; ちづる・百活　天神の理・強
[State -3, SW]
type = ChangeState
value = 1005
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = StateType != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),StateType != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5020,5040]
triggerall = enemynear(var(58)),facing != facing
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),50+floor(9*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-100-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)),0-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20))]

;近距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = 245
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = StateType != A
triggerall = enemynear(var(58)),StateType = A
Triggerall = enemynear(var(58)),StateType != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5020,5040]
triggerall = enemynear(var(58)),facing != facing
triggerall =!InGuardDist
triggerall = p2bodydist X < 30
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) 
trigger1 = p2bodydist x = [0+floor(6*(enemynear(var(58)),vel x)),39+floor(6*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-80-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]

;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = statetype != A
triggerall = enemynear(var(58)),StateType = A
Triggerall = enemynear(var(58)),StateType != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5020,5040]
triggerall = enemynear(var(58)),facing != facing
triggerall =!InGuardDist
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) 
trigger1 = p2bodydist x = [-10+floor(8*(enemynear(var(58)),vel x)),23+floor(8*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-100-floor(8*(enemynear(var(58)),vel y)+(8*(8+1)/2)*fvar(20)),0-floor(8*(enemynear(var(58)),vel y)+(8*(8+1)/2)*fvar(20))]

;遠距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = statetype != A
triggerall = enemynear(var(58)),StateType = A
Triggerall = enemynear(var(58)),StateType != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5020,5040]
triggerall = enemynear(var(58)),facing != facing
triggerall =!InGuardDist
triggerall = p2bodydist x <= 18
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) 
trigger1 = p2bodydist x = [-18,12]
trigger1 = abs(enemynear(var(58)),Pos Y - Pos Y) = [0,40]

[State -3, 後小ジャンプ 空対空]
Type = ChangeState
Value = 33
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = StateType != A
triggerall =!Enemy,NumProj
triggerall = enemynear(var(58)),Vel X > 0
triggerall = enemynear(var(58)),Vel Y < 0
triggerall = enemynear(var(58)),MoveType != H
triggerall = enemynear(var(58)),StateType = A
triggerall = enemynear(var(58)),facing != facing
triggerall =!InGuardDist
triggerall = BackEdgeBodyDist > 40
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [100,160]
trigger1 = enemynear(var(58)),Vel X <= 4
trigger2 = p2bodydist x = [140,180]
trigger2 = enemynear(var(58)),Vel X <= 6

[State -3, 後中ジャンプ 空対空]
Type = ChangeState
Value = 35
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= ((var(57) * 12.5) * var(56))
triggerall = Random <= 400
triggerall = StateType != A
triggerall =!Enemy,NumProj
triggerall = enemynear(var(58)),Vel X > 0
triggerall = enemynear(var(58)),Vel Y < 0
triggerall = enemynear(var(58)),MoveType != H
triggerall = enemynear(var(58)),StateType = A
triggerall = enemynear(var(58)),facing != facing
triggerall =!InGuardDist
triggerall = BackEdgeBodyDist > 40
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [60,120]
trigger1 = enemynear(var(58)),Vel X <= 4
trigger2 = p2bodydist x = [100,160]
trigger2 = enemynear(var(58)),Vel X <= 6

;---------------------------------------------------------------------------
;下段
;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist || enemynear(var(58)),facing = facing
triggerall = p2bodydist X < 20
triggerall = p2bodydist x = [-20,30]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 200 && ifelse(enemynear(var(58)),statetype = S,1,random <= 250)

;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist || enemynear(var(58)),facing = facing
triggerall = p2bodydist x = [-20,40]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 200 && ifelse(enemynear(var(58)),statetype = S,1,random <= 250)

;しゃがみ強キック
[State -3, Crouching Strong Kick]
type = ChangeState
value = 215
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist
triggerall = p2bodydist x = [-15,20]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 50 && ifelse(enemynear(var(58)),statetype = S,1,random <= 250)

;---------------------------------------------------------------------------
;中段
;---------------------------------------------------------------------------
;外式・轟斧　陽
[State -3, GOUHU]
type = ChangeState
value = 215
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = ifelse(power >= 2000,1,Random <= 400)
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist
triggerall = p2bodydist x = [-5,20]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 150 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)
trigger2 = TeamMode = simul
trigger2 = numpartner
trigger2 = partner,alive
trigger2 = partner,movetype = A
trigger2 = random <= 200 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)

[State -3, 前小ジャンプ(中段)]
type = ChangeState
value = 32
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = StateType != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist
triggerall = p2bodydist x = [-10,60]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 150 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)
trigger2 = TeamMode = simul
trigger2 = numpartner
trigger2 = partner,alive
trigger2 = partner,movetype = A
trigger2 = random <= 200 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)

[State -3, 前中ジャンプ(中段)]
type = ChangeState
value = 34
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = StateType != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || ((enemynear(var(58)),stateno = [120,159]) && random <= 250)
triggerall =!InGuardDist
triggerall = p2bodydist x = [40,100]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = random <= 150 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)
trigger2 = TeamMode = simul
trigger2 = numpartner
trigger2 = partner,alive
trigger2 = partner,movetype = A
trigger2 = random <= 200 && ifelse(enemynear(var(58)),statetype = C,1,random <= 250)

;---------------------------------------------------------------------------
;上段
;---------------------------------------------------------------------------
;近距離立ち強パンチ
[State -3, 奈落落]
type = ChangeState
value = 400
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall =!InGuardDist || enemynear(var(58)),facing = facing
triggerall = p2bodydist x = [-20,30]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || stateno = 1007 || stateno = 1411 
trigger1 = enemynear(var(58)),movetype = H
trigger1 = enemynear(var(58)),stateno != [120,159]

;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = Random <= 650
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall =!InGuardDist || enemynear(var(58)),facing = facing
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [-20,30]

;遠距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = random <= 500
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall =!InGuardDist && enemynear(var(58)),facing != facing
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist X = [-20,20]

;遠距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125
triggerall = Random <= 600
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall =!InGuardDist && enemynear(var(58)),facing != facing
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [-20,20]

;---------------------------------------------------------------------------
;位置取り
;---------------------------------------------------------------------------
;ダッシュ 起き攻め位置取り
[State -3, Dash]
Type = ChangeState
Value = 100
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1
TriggerAll = Random <= var(57) * 125
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll =!inguarddist
TriggerAll =!enemy,numproj
TriggerAll = P2bodyDist x >= 90
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [120,149])
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger1 = EnemyNear(var(58)),StateNo = [5000,5100]
Trigger2 = EnemyNear(var(58)),StateType = L

;歩き(起き攻め位置取り)
[State -3, Walk]
Type = ChangeState
Value = 22
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = StateNo != 22
TriggerAll = Ctrl || (StateNo = [20,22])
Trigger1 = EnemyNear(var(58)),StateType = L

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ち回り、技振り(空中)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ジャンプ弱パンチ
[State -3, Jump Light Punch]
Type = ChangeState
Value = 600
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0
TriggerAll = random <= (200 + (var(57) * 100))
TriggerAll = random <= 600
TriggerAll = StateType = A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),StateNo != [5020,5040]
TriggerAll = Ctrl || StateNo = [120,150)
Trigger1 = P2bodyDist x = [-10,30]
Trigger1 = EnemyNear(var(58)),Pos Y - Pos Y = [-40,40]
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger1 = EnemyNear(var(58)),MoveType != H

;ジャンプ強パンチ
[State -3, Jump Strong Punch]
Type = ChangeState
Value = 610
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0
TriggerAll = random <= (200 + (var(57) * 100))
TriggerAll = StateType = A
TriggerAll = random <= 600 || EnemyNear(var(58)),MoveType = H
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),StateNo != [5020,5040]
TriggerAll = Ctrl || StateNo = [120,150)
Trigger1 = Vel Y > 0
Trigger1 = P2bodyDist x = [-30,40]
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger2 = P2bodyDist x = [-10,30]
Trigger2 = EnemyNear(var(58)),Pos Y - Pos Y = [-40,40]
Trigger2 = EnemyNear(var(58)),StateType = A
Trigger2 = EnemyNear(var(58)),MoveType != H

;ジャンプ強キック
[State -3, Jump Strong Punch]
Type = ChangeState
Value = 610
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0
TriggerAll = random <= (200 + (var(57) * 100))
TriggerAll = random <= 600 || var(57) >= 9
TriggerAll = StateType = A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = Ctrl || StateNo = [120,150)
Trigger1 = P2bodyDist x = [-10,61+floor(9*(EnemyNear(Var(58)),vel X)+floor(9*vel X))]
Trigger1 = EnemyNear(var(58)),Pos Y - Pos Y = [-40,40]
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger2 = var(4) = 1 && Time >= 2
Trigger2 = P2bodyDist x = [-10,61+floor(9*(EnemyNear(Var(58)),vel X)+floor(9*vel X))]
Trigger2 = EnemyNear(var(58)),StateType != A

;ジャンプ弱キック
[State -3, Jump Light Kick]
type = ChangeState
value = 630
triggerall = var(59) = 1
triggerall = var(57) >= 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0
triggerall = Random <= var(57) * 125
triggerall = random <= 600
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5020,5040]
triggerall = ctrl || StateNo = [120,150)
trigger1 = P2BodyDist X = [-10,56+floor(10*(EnemyNear(Var(58)),vel X)+floor(10*vel X))]
trigger1 = enemynear(var(58)),Pos Y - Pos Y = [-80,20]
trigger1 = enemynear(var(58)),StateType = A

;ジャンプ強キック
[State -3, Jump Strong Kick]
Type = ChangeState
Value = 640
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0
TriggerAll = random <= (200 + (var(57) * 100))
TriggerAll = random <= 600 || var(57) >= 9
TriggerAll = StateType = A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = Ctrl || StateNo = [120,150)
Trigger1 = P2bodyDist x = [-10,56+floor(10*(EnemyNear(Var(58)),vel X)+floor(10*vel X))]
Trigger1 = EnemyNear(var(58)),Pos Y - Pos Y = [-60,20]
Trigger1 = EnemyNear(var(58)),StateType = A
Trigger2 = var(4) = 1 && Time >= 4
Trigger2 = P2bodyDist x = [-10,56+floor(10*(EnemyNear(Var(58)),vel X)+floor(10*vel X))]
Trigger2 = EnemyNear(var(58)),StateType != A

;空中ふっとばし攻撃
[State -3, Blowback Attack Air]
Type = ChangeState
Value = 690
TriggerAll = var(59)
TriggerAll = var(57) >= 1 && (var(57) < 4 && random <= (200 + (var(57) * 200)) || var(57) >= 4)
TriggerAll = RoundState = 2 && EnemyNear(var(58)),life > 0
TriggerAll = random <= (200 + (var(57) * 100))
TriggerAll = random <= 600
TriggerAll = StateType = A
TriggerAll = (P2bodyDist Y = [-40,120]) || Vel Y > 10
TriggerAll = EnemyNear(var(58)),MoveType != H
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = Ctrl || StateNo = [120,150)
Trigger1 = Vel X > 0 || P2bodyDist x <= 80
Trigger1 = Vel Y > 0
Trigger1 = ifelse(Vel X >= 4.725,(P2bodyDist x = [80,180]),(P2bodyDist x = [60,160]))
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger1 = Random < 800
Trigger2 = Vel X < 0 && P2bodyDist x <= 80
Trigger2 = EnemyNear(var(58)),Vel X >= 0
Trigger2 = EnemyNear(var(58)),StateType = A || Vel Y > 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;移動
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, RUN]
Type = ChangeState
Value = 100
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1
TriggerAll = Random <= var(57) * 125
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = !inguarddist
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [120,149]) 
Trigger1 = P2bodyDist x >= 240
Trigger1 = Random <= 400
Trigger2 = P2bodyDist x = [120,240]
Trigger2 = Random <= 200
Trigger3 = P2bodyDist x = [60,120]
Trigger3 = Random <= 100

;ダッシュ
[State -3]
Type = ChangeState
Value = 100
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),MoveType != A || EnemyNear(var(58)),facing = facing
TriggerAll =!InGuardDist
TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [120,149]) 
Trigger1 = P2bodyDist X > 140
Trigger1 = EnemyNear(var(58)),StateType != A
Trigger1 = EnemyNear(var(58)),MoveType = I
Trigger2 = P2bodyDist X > 100
Trigger2 = EnemyNear(var(58)),StateType = L
Trigger3 = P2bodyDist X > 140 || EnemyNear(var(58)),facing = facing && P2bodyDist X >= 40
Trigger3 = EnemyNear(var(58)),StateType = A
Trigger3 = EnemyNear(var(58)),MoveType = A && EnemyNear(var(58)),StateNo >= 200
Trigger3 =!EnemyNear(var(58)),HitDefAttr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
Trigger4 = EnemyNear(var(58)),MoveType != H
Trigger4 = EnemyNear(var(58)),StateType = A
Trigger4 =!EnemyNear(var(58)),Ctrl
Trigger4 = EnemyNear(var(58)),facing = facing
Trigger4 = P2bodyDist X >= 40

;歩き
[State -3, Walk]
Type = ChangeState
Value = 21
TriggerAll = var(59) = 1
TriggerAll = var(57) >= 1
TriggerAll = RoundState = 2
TriggerAll = Random <= var(57) * 125
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),StateType != A
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),StateNo != [5120,5299]
TriggerAll = StateNo != 21
TriggerAll = Ctrl || (StateNo = [20,22])
Trigger1 = P2bodyDist x <= 140
Trigger1 =!InGuardDist || EnemyNear(var(58)),facing = facing
Trigger2 = P2bodyDist x > 180

[State -3,バックステップ 投げ外し]
Type = ChangeState
Value = 105
TriggerAll = var(59)
TriggerAll = Random <= var(56) * 80 || var(56) > 9
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = EnemyNear(var(58)),Time >= 40-var(56)*5 || var(38) || var(56) > 9 || Random < var(56) * 10
TriggerAll = Ctrl || (StateNo = [120,149])
Trigger1 = P2bodyDist X = [-5,120]
Trigger1 = EnemyNear(var(58)),Vel Y >= 0
Trigger1 = EnemyNear(var(58)),HitDefAttr = SCA,NT,ST,HT

;バックステップ
[State -3]
Type = ChangeState
Value = 105
TriggerAll = var(59) = 1
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = BackEdgeBodyDist >= 40
TriggerAll = Ctrl || (StateNo = [120,149]) 
Trigger1 = P2bodyDist X < 80 || FrontEdgeBodyDist < 80
Trigger1 = EnemyNear(var(58)),StateNo = [5200,5299]
Trigger1 =!Enemy,NumProj

;バックステップ
[State -3]
Type = ChangeState
Value = 105
TriggerAll = var(59)
TriggerAll = Random <= var(57) * 75 || var(56) > 9
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = EnemyNear(var(58)),MoveType = I
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll =!Enemy,NumProj
TriggerAll = Ctrl || (StateNo = [120,149]) 
Trigger1 = P2bodyDist X = [100,140]
Trigger1 = Random < 30

;---------------------------------------------------------------------------

; ちづる・近距離立ち・弱・パンチ・の動作
[State -1, Crouching Light Punch]
type = ChangeState
value = 205
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),statetype != C
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-10,10]
triggerall = movehit || moveguarded
trigger1 = stateno = 430
trigger2 = prevstateno != 430
trigger2 = stateno = 400

;屈み・弱・パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-15,20]
triggerall = movehit || moveguarded
trigger1 = stateno = 430
trigger2 = prevstateno != 430
trigger2 = stateno = 400

; RUN_FWD
[State -1, Crouching Light Punch]
type = ChangeState
value = 1444
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x > 20
triggerall = movehit || moveguarded
trigger1 = stateno = 430

;除活・淙淙
[State -1, Crouching Light Punch]
type = ChangeState
value = 450	
triggerall = var(59) = 1
triggerall = var(57) >= 3 
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-25,60]
triggerall = movehit || moveguarded
trigger1 = stateno = 200
trigger2 = stateno = 205
trigger3 = stateno = 235
trigger4 = stateno = 400

;ちづる・除活・錚錚
[State -1, Crouching Light Punch]
type = ChangeState
value = 250	
triggerall = var(59) = 1
triggerall = var(57) >= 3 
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-25,60]
triggerall = movehit || moveguarded
trigger1 = stateno = 215
trigger2 = stateno = 240
trigger3 = stateno = 410
trigger4 = stateno = 15002
trigger5 = stateno = 245

[State -1, Crouching Light Punch]
type = ChangeState
value = 430	
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(2110) != 0 || numhelper(2120) != 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-25,60]
triggerall = movehit
trigger1 = stateno = 200
trigger2 = stateno = 205
trigger3 = stateno = 235
trigger4 = stateno = 400

[State -1, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 600,1260,1400)	;1280快?跳;1270?方不能C快攻?;1260快攻?;1250普通;1230跳;1220近攻?;1210?破蹲防;1200普通
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = power < 1000
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-25,60]
triggerall = movehit
trigger1 = stateno = 250
trigger2 = stateno = 252
trigger3 = stateno = 450

[State -1, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 500,1250,1400)	
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x > 60
triggerall = movehit 
trigger1 = stateno = 250
trigger2 = stateno = 252
trigger3 = stateno = 450
trigger4 = stateno = 215
trigger5 = stateno = 240
trigger6 = stateno = 245

[State -1, Crouching Light Punch]
type = ChangeState
value = ifelse((palno = [1,6]),2200,ifelse(Random <= 600,2050,2200))	
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(40) = 0 && power >= 2000 
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit
trigger1 = stateno = 250

[State -1, Crouching Light Punch]
type = ChangeState
value = ifelse((palno = [1,6]),2100,ifelse(Random <= 600,2000,2100))	
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = numhelper(1000) = 0;神祗分身
triggerall = numhelper(1110) = 0;五百箇分身
triggerall = numhelper(1001) = 0;詔刀言分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = var(40) = 0 && power >= 1000 
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit
trigger1 = stateno = 250

[State -1, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = var(40) = 0 && power >= 2000 
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit
trigger1 = stateno = 252
trigger2 = stateno = 450

[State -1, Crouching Light Punch]
type = ChangeState
value = 2000
triggerall = var(59) = 1
triggerall = var(57) >= 3
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2120) = 0;三籟分身
triggerall = var(40) = 0 && power >= 1000 
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = movehit
trigger1 = stateno = 252
trigger2 = stateno = 450

[State -1, Crouching Light Punch]
type = ChangeState
value = 250	
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(2110) != 0 || numhelper(2120) != 0;三籟分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-25,60]
triggerall = moveguarded
trigger1 = stateno = 200
trigger2 = stateno = 205
trigger3 = stateno = 235
trigger4 = stateno = 400
trigger5 = stateno = 245

[State -1, Crouching Light Punch]
type = ChangeState
value = 1260
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x < 60
triggerall = moveguarded
trigger1 = stateno = 250
trigger2 = stateno = 252
trigger3 = stateno = 450

[State -1, Crouching Light Punch]
type = ChangeState
value = 1250
triggerall = var(59) = 1
triggerall = var(57) >= 3 && var(40) = 0
triggerall = numhelper(1000) = 0;天神分身
triggerall = numhelper(1011) = 0;天神分身2
triggerall = numhelper(1006) = 0;天神分身3
triggerall = numhelper(1202) = 0;祝詞分身
triggerall = numhelper(1215) = 0;祝詞分身2
triggerall = numhelper(1252) = 0;祝詞分身3
triggerall = numhelper(1265) = 0;祝詞分身4
triggerall = numhelper(1282) = 0;祝詞分身5
triggerall = numhelper(1401) = 0;一針分身
triggerall = numhelper(1406) = 0;一針分身2
triggerall = numhelper(2110) = 0;三籟分身
triggerall = numhelper(2210) = 0;神技分身
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && fvar(22) = 0
triggerall = Random <= var(57) * 125 
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x >= 60
triggerall = moveguarded
trigger1 = stateno = 250
trigger2 = stateno = 252
trigger3 = stateno = 450
trigger4 = stateno = 215
trigger5 = stateno = 240
trigger6 = stateno = 245

[State -3]
type = ChangeState
value = 1050
Triggerall = var(59) = 1
Triggerall = StateType != A
Triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2MoveType != H
Triggerall = P2BodyDist X = [150,200]
triggerall = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100 
trigger1 = EnemyNear(var(58)),NumProj = 1

[State -3, Crouching Light Punch]
type = ChangeState
value = 1005
triggerall = var(59)= 1
triggerall = roundstate = 2 
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = p2statetype = A
trigger1 = stateno = 200 && MoveHit && P2MoveType = H
trigger2 = stateno = 205 && MoveHit && P2MoveType = H
trigger3 = stateno = 215 && MoveHit && P2MoveType = H
trigger4 = stateno = 235 && MoveHit && P2MoveType = H
trigger5 = stateno = 240 && MoveHit && P2MoveType = H
trigger6 = stateno = 400 && MoveHit && P2MoveType = H
trigger7 = stateno = 410 && MoveHit && P2MoveType = H
trigger8 = stateno = 250 && MoveHit && P2MoveType = H
trigger9 = stateno = 253 && MoveHit && P2MoveType = H
trigger10 = stateno = 450 && MoveHit && P2MoveType = H
trigger11 = stateno = 290 && MoveHit && P2MoveType = H

[State AI]
type = ChangeState
value = 701
triggerall = roundstate = 2
triggerall = var(59) = 1
TriggerAll = palno = [1,5]
triggerall = p2movetype = A
triggerall = p2bodydist y = [-60,0]
triggerall = p2bodydist x = [-10+floor(8*(EnemyNear(floor(var(58))),vel X)),50+floor(8*(EnemyNear(floor(var(58))),vel X))]
triggerall = enemynear(var(58)),animtime <= -10
trigger1 = var(9) = [1,2] 

[State AI]
type = ChangeState
value = 701
triggerall = roundstate = 2
triggerall = var(59) = 1
TriggerAll = palno = [1,5]
triggerall = P2StateType = A
triggerall = p2bodydist y = [-60,0]
triggerall = p2bodydist x = [-10+floor(8*(EnemyNear(floor(var(58))),vel X)),50+floor(8*(EnemyNear(floor(var(58))),vel X))]
triggerall = enemynear(var(58)),animtime <= -10
trigger1 = var(9) = [1,2] 

[State AI]
type = ChangeState
value = 15000
triggerall = roundstate = 2
triggerall = var(59) = 1
TriggerAll = palno = [6,12]
triggerall = p2movetype = A
triggerall = p2bodydist y = [-60,0]
triggerall = p2bodydist x = [-10+floor(8*(EnemyNear(floor(var(58))),vel X)),50+floor(8*(EnemyNear(floor(var(58))),vel X))]
triggerall = enemynear(var(58)),animtime <= -10
trigger1 = var(9) = [1,2] 

[State AI]
type = ChangeState
value = 15000
triggerall = roundstate = 2
triggerall = var(59) = 1
TriggerAll = palno = [6,12]
triggerall = P2StateType = A
triggerall = p2bodydist y = [-60,0]
triggerall = p2bodydist x = [-10+floor(8*(EnemyNear(floor(var(58))),vel X)),50+floor(8*(EnemyNear(floor(var(58))),vel X))]
triggerall = enemynear(var(58)),animtime <= -10
trigger1 = var(9) = [1,2] 

[State -3]
Type = ChangeState
Value = 1005
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [30+floor(12*(EnemyNear(floor(var(58))),vel X)),50+floor(12*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= 0-floor(12*(EnemyNear(floor(var(58))),vel Y)+(12*12/2)*fvar(20))
TriggerAll = P2bodydist y >= -120-floor(12*(EnemyNear(floor(var(58))),vel Y)+(12*12/2)*fvar(20))
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = EnemyNear(var(58)),animtime = [-25,-12]
TriggerAll = EnemyNear(var(58)),vel x >= 0 || EnemyNear(var(58)),BackEdgeBodyDist < 15
TriggerAll = Statetype != A && p2movetype = A
TriggerAll = P2Statetype != L && P2statetype != A
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger2 = stateno = 215 || stateno = 210 || stateno = 410 || stateno = 400

[State -3]
Type = ChangeState
Value = 1000
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [45+floor(12*(EnemyNear(floor(var(58))),vel X)),70+floor(12*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= 0-floor(12*(EnemyNear(floor(var(58))),vel Y)+(12*12/2)*fvar(20))
TriggerAll = P2bodydist y >= -120-floor(12*(EnemyNear(floor(var(58))),vel Y)+(12*12/2)*fvar(20))
TriggerAll = EnemyNear(var(58)),facing != facing
TriggerAll = EnemyNear(var(58)),animtime = [-25,-12]
TriggerAll = EnemyNear(var(58)),vel x <= 0 && EnemyNear(var(58)),BackEdgeBodyDist >= 15
TriggerAll = Statetype != A && p2movetype = A
TriggerAll = P2Statetype != L && P2statetype != A
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger2 = stateno = 215 || stateno = 210 || stateno = 410 || stateno = 400

[State -3]
Type = ChangeState
Value = 1005
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [-10+floor(18*(EnemyNear(floor(var(58))),vel X)),70+floor(18*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= -50-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = P2bodydist y >= -120-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = EnemyNear(var(58)),Vel x >= 0
TriggerAll = EnemyNear(var(58)),Vel y > 0
TriggerAll = Statetype != A && p2movetype != H
TriggerAll = P2Statetype != L && P2statetype = A
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger2 = stateno = 215 || stateno = 210 || stateno = 410 || stateno = 400

[State -3]
Type = ChangeState
Value = 1005
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [-10+floor(18*(EnemyNear(floor(var(58))),vel X)),70+floor(18*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = Statetype != A && numtarget && movehit && p2movetype = H
TriggerAll = P2Statetype != L && p2statetype = A
Trigger1 = stateno = 215 && animelemtime(4) > 0

[State -3]
Type = ChangeState
Value = 1005
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [-10+floor(18*(EnemyNear(floor(var(58))),vel X)),60+floor(18*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= -50-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = P2bodydist y >= -120-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = Statetype != A && numtarget && movehit && p2movetype = H
TriggerAll = P2Statetype != L && p2statetype = A
trigger1 = var(9) = [1,2]

[State -3]
Type = ChangeState
Value = 1005
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [-10+floor(18*(EnemyNear(floor(var(58))),vel X)),60+floor(18*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= -50-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = P2bodydist y >= -120-floor(18*(EnemyNear(floor(var(58))),vel Y)+(18*18/2)*fvar(20))
TriggerAll = Statetype != A && !numtarget
TriggerAll = P2Statetype != L && p2statetype = A
trigger1 = var(9) = [1,2]

[State -3]
Type = ChangeState
Value = 1000
TriggerAll = RoundState = 2
TriggerAll = var(59) = 1
TriggerAll = P2bodydist X = [-10+floor(8*(EnemyNear(floor(var(58))),vel X)),60+floor(8*(EnemyNear(floor(var(58))),vel X))]
TriggerAll = P2bodydist y <= 0-floor(8*(EnemyNear(floor(var(58))),vel Y)+(8*8/2)*fvar(20))
TriggerAll = P2bodydist y >= -60-floor(8*(EnemyNear(floor(var(58))),vel Y)+(8*8/2)*fvar(20))
TriggerAll = Statetype != A && numtarget && movehit && p2movetype = H
TriggerAll = P2Statetype != L && p2statetype = A
trigger1 = var(9) = [1,2]

;---------------------------------------------------------------------------
;AI用p2name
;---------------------------------------------------------------------------
;特殊地上受け身なし
[State -3, ]
Type = VarSet
TriggerAll = var(59)
Trigger1 = 1
fvar(21) = 0

;特殊地上受け身持ち1(高め)
[State -3, ]
Type = VarSet
TriggerAll = var(59)
Trigger1 = EnemyNear(var(58)),authorname = "ahuron"
Trigger1 = EnemyNear(var(58)),name != "SHIN" || EnemyNear(var(58)),name != "REI" || EnemyNear(var(58)),name != "JAGI" || EnemyNear(var(58)),name != "THOUTHER"
Trigger1 = EnemyNear(var(58)),name != "Shinnosuke Kagami" || EnemyNear(var(58)),name != "Mukuro"
Trigger1 = EnemyNear(var(58)),name != "Misuzu"
Trigger2 = EnemyNear(var(58)),authorname = "jin"
Trigger3 = EnemyNear(var(58)),authorname = "Chin-ya"
Trigger4 = EnemyNear(var(58)),authorname = "kayui uma"
Trigger4 = EnemyNear(var(58)),name ="anna" || EnemyNear(var(58)),name ="henri" || EnemyNear(var(58)),name ="mora" || EnemyNear(var(58)),name ="saya" || EnemyNear(var(58)),name ="dragon"
Trigger5 = EnemyNear(var(58)),authorname = "aoba"
Trigger6 = EnemyNear(var(58)),authorname = "Mikita"
fvar(21) = 1

;特殊地上受け身持ち2
[State -3, ]
Type = VarSet
TriggerAll = var(59)
Trigger1 = EnemyNear(var(58)),authorname = "ikaruga"
Trigger2 = EnemyNear(var(58)),authorname = "warusaki3"
Trigger3 = EnemyNear(var(58)),authorname = "Gonzo-"
fvar(21) = 2

;---------------------------------------------------------------------------
;行動制限
[State -3, ]
Type = VarSet
TriggerAll = var(59)
Trigger1 = 1
fvar(22) = 0

;行動するな
[State -3, ]
Type = VarSet
TriggerAll = var(59)
Trigger1 = EnemyNear(var(58)),StateNo = [5200,5210]
Trigger2 = EnemyNear(var(58)),StateNo = 702
Trigger2 = EnemyNear(var(58)),authorname = "ahuron"
Trigger3 = EnemyNear(var(58)),StateNo = [52000,52100]
fvar(22) = 1

;この下、一行以上空ける事…
;-| AI起動用コマンド |--------------------------------------------------------

[Command]
name = "AI_00"
command = z, z, c, y, z, s, b, x, z, a
time = 0

[Command]
name = "AI_01"
command = c, z, z, s, a, s, b, x, z, x, a
time = 0

[Command]
name = "AI_02"
command = y, s, s, y, a, b, z, z, c, s
time = 0

[Command]
name = "AI_03"
command = b, x, x, s, s, z, y, x, a, a, s
time = 0

[Command]
name = "AI_04"
command = c, a, s, a, a, z, z, z, x, b, b, b, y, s, a
time = 0

[Command]
name = "AI_05"
command = s, a, x, y, z, z, z, b, c, a, a, s
time = 0

[Command]
name = "AI_06"
command = x, a, s, b, c, z, z, x, y, z, a, s
time = 0

[Command]
name = "AI_07"
command = s, a, x, z, a, a, y, b, b, c, z
time = 0

[Command]
name = "AI_08"
command = c, x, x, y, a, b, z, s, c, b, y, a
time = 0

[Command]
name = "AI_09"
command =s, a, D, z, z, b, y, a, a, x, y, b
time = 0

[Command]
name = "AI_10"
command = c, z, z, a, y, b, c, z, s, z, x, c
time = 0

[Command]
name = "AI_11"
command = D+U, s, a, x, x, z, y, x, x, b, s
time = 0

[Command]
name = "AI_12"
command = x, z, z, c, b, y, z, s, a, c, x, x, y, b
time = 0

[Command]
name = "AI_13"
command = x, x, x, b, a, D, s, z, D, x, c, b, y, z, z, a, s
time = 0

[Command]
name = "AI_14"
command = z, c, z, x, x, a, s, b, z, z, x, y
time = 0

[Command]
name = "AI_15"
command = s, a, a, x, z, y, z, z, b, a, s
time = 0

[Command]
name = "AI_16"
command = c, z, x, z, a, s, z, c, b, y, y, y, z, x
time = 0

[Command]
name = "AI_17"
command = z, x, a, s, a, s, y, s, s, b, a, s, s, b, b
time = 0

[Command]
name = "AI_18"
command = a, a, a, a, y, s, a, x, c, s, z, x
time = 0

[Command]
name = "AI_19"
command = y, a, a, s, b, c, x, x, s, a, z
time = 0

[Command]
name = "AI_20"
command = a, y, a, s, x, z, x, x, x, s, a, b, c, z
time = 0

[Command]
name = "AI_21"
command = s, x, x, z, D, a, s, a, z, z,y, z, z, c, a, b, c, c, b
time = 0

[Command]
name = "AI_22"
command = y, a, b, b, b, x, z, z, a, s, c, c, x
time = 0

[Command]
name = "AI_23"
command = y, a, a, s, z, c, z, z, x, a, y, b
time = 0

[Command]
name = "AI_24"
command = a, a, y, b, c, z, x, x, x, a, y
time = 0

[Command]
name = "AI_25"
command = y, z, z, x, y, a, s, b, c, c, z
time = 0

[Command]
name = "AI_26"
command = c, x, z, y, z, z, c, a, b, c, c
time = 0

[Command]
name = "AI_27"
command = s, a, a, y, b, x, x, c, z, a, s, y, x
time = 0

[Command]
name = "AI_28"
command = D, s, a, a, y, c, z, x, x, b, x, s
time = 0

[Command]
name = "AI_29"
command = y, y, b, c, D, a, a, s, D, x, z, z
time = 0

[Command]
name = "AI_30"
command = s, x, z, y, y, b, x, z, x, c, z, y, b
time = 0

[Command]
name = "AI_31"
command = x, y, y, z, z, x, c, a, s, b, b, c, z, z, s, a
time = 0

[Command]
name = "AI_32"
command = b, y, y, c, z, s, a, a, z, x, c, x, x, b, z
time = 0

[Command]
name = "AI_33"
command = b, c, x, z, a, a, z, z, x, s, a
time = 0

[Command]
name = "AI_34"
command = a, s, z, z, x, a, y, c, z, z, x, a, s
time = 0

[Command]
name = "AI_35"
command = b, c, c, x, a, s, x, z, y, y, c, z, b, c, x
time = 0

[Command]
name = "AI_36"
command = s, a, y, c, z, x, a, b, c, c, b, x, a
time = 0

[Command]
name = "AI_37"
command = c, y, x, x, z, a, b, x, a, s

[Command]
name = "AI_38"
command = y, F, a, a, a, s, z, b, c, c, x, z, y
time = 0

[Command]
name = "AI_39"
command = c, y, U, c, c, s, a, x, z, b, z, z, x
time = 0

[Command]
name = "AI_40"
command = y, y, b, c, s, a, z, z, x, s, a
time = 0

[Command]
name = "AI_41"
command = z, z, z, x, c, s, a, a, z, y, y, b
time = 0

[Command]
name = "AI_42"
command = y, c, a, s, x, x, z, b, c, a, x, z
time = 0

[Command]
name = "AI_43"
command = b, s, z, x, c, z, z, a, s, x, z, y
time = 0

[Command]
name = "AI_44"
command = y, y, y, b, c, a, s, z, x, b, c, s, a
time = 0

[Command]
name = "AI_45"
command = x, c, z, z, a, s, z, y, b, b, c, z, x, x
time = 0

[Command]
name = "AI_46"
command = y, b, c, s, a, z, y, x, b, c, b, D, D, a, x, z
time = 0

[Command]
name = "AI_47"
command = y, a, z, x, s, a, z, z, x, c, z, x, b, y, x
time = 0

[Command]
name = "AI_48"
command = s, s, y, c, z, x, c, a, s, a, z, x, y, b
time = 0

[Command]
name = "AI_49"
command = y, b, x, a, s, a, s, z, x, z, a, a, s, c, y, c, y, z, x
time = 0

;-| 超必殺技 |--------------------------------------------------------
;ここには超必殺技を記述してください、同じ名前を「name =」欄に書けますが
;コマンドは絶対に違ったものにしてください。
;カンフーマンは弱パンチと強パンチで技が出せるように同じ名前のコマンドで
;内容が弱と強になっています。
;「time=20」と書くことで「コマンドを20フレーム以内に入力」と設定できます。

[Command]
name = "4123641236_xy"
command = B, D, F, B, D, F, x+y
time = 75
command.buffer.time = 10

[Command]
name = "6321463214_x_y"
command = F, D, B, F, D, B, x
time = 75
command.buffer.time = 10

[Command]
name = "6321463214_x_y"
command = F, D, B, F, D, B, y
time = 75
command.buffer.time = 10

[Command]
name = "2363214_xy"
command = D, F, D, B, x+y
time = 30
command.buffer.time = 10

[Command]
name = "2363214_ab"
command = D, F, D, B, a+b
time = 30
command.buffer.time = 10

[Command]
name = "2363214_x_y"
command = D, F, D, B, x
time = 30
command.buffer.time = 10

[Command]
name = "2363214_x_y"
command = D, F, D, B, y
time = 30
command.buffer.time = 10

[Command]
name = "2363214_a"
command = D, F, D, B, a
time = 30
command.buffer.time = 10

[Command]
name = "2363214_b"
command = D, F, D, B, b
time = 30
command.buffer.time = 10

[Command]
name = "236236_xy"
command = D, F, D, F, x+y
time = 20
command.buffer.time = 10

[Command]
name = "236236_x"
command = D, F, D, F, x
time = 20
command.buffer.time = 10

[Command] 
name = "236236_y"   ;Same name as above
command = D, F, D, F, y
time = 20
command.buffer.time = 10

[Command]
name = "236236_a_b"
command = D, F, D, F, a
time = 20
command.buffer.time = 10

[Command]
name = "236236_a_b"
command = D, F, D, F, b
time = 20
command.buffer.time = 10


;-| 必殺技 |------------------------------------------------------
[Command]
name = "623_a"
command = F, D, F, a
time = 30
command.buffer.time = 10

[Command]
name = "623_b"
command = F, D, F, b
time = 30
command.buffer.time = 10

[Command]
name = "214_x"
command = D, B, x
time = 30
command.buffer.time = 10

[Command]
name = "214_y"
command = D, B, y
time = 30
command.buffer.time = 10


[Command]
name = "236_a"
command = D, F, a
time = 30
command.buffer.time = 10

[Command]
name = "236_b"
command = D, F, b
time = 30
command.buffer.time = 10

[Command]
name = "28_x"
command = ~$D, U, x
time = 20
command.buffer.time = 10

[Command]
name = "2tame8_x"
command = ~30$D, U, x
command.buffer.time = 10

[Command]
name = "28_y"
command = ~$D, U, y
time = 20
command.buffer.time = 10

[Command]
name = "2tame8_y"
command = ~30$D, U, y
command.buffer.time = 10

[Command]
name = "28_a"
command = ~$D, U, a
time = 20
command.buffer.time = 10

[Command]
name = "2tame8_a"
command = ~30$D, $U, a
command.buffer.time = 10

[Command]
name = "28_b"
command = ~$D, U, b
time = 20
command.buffer.time = 10

[Command]
name = "2tame8_b"
command = ~30$D, $U, b
command.buffer.time = 10

[Command]
name = "46_x"
command = ~$B, F, x
time = 20
command.buffer.time = 10

[Command]
name = "4tame6_x"
command = ~30$B, F, x
command.buffer.time = 10

[Command]
name = "46_y"
command = ~$B, F, y
time = 20
command.buffer.time = 10

[Command]
name = "4tame6_y"
command = ~30$B, F, y
command.buffer.time = 10

[Command]
name = "46_a"
command = ~$B, F, a
time = 20
command.buffer.time = 10

[Command]
name = "4tame6_a"
command = ~30$B, F, a
command.buffer.time = 10

[Command]
name = "46_b"
command = ~$B, F, b
time = 20
command.buffer.time = 10

[Command]
name = "4tame6_b"
command = ~30$B, F, b
command.buffer.time = 10

[Command]
name = "hi_jump"
command = ~5$D, $U
time = 30

[Command]
name = "mid_jump"
command = ~$D, ~3$U
time = 15

[Command]
name = "short_jump"
command = ~$U
time = 15

[Command]
name = "jump"
command = ~$U
time = 4


;-| ２回押し技 |-----------------------------------------------------------
[Command]
name = "FF"     
command = F, F
time = 10

[Command]
name = "BB"     
command = B, B
time = 10

;-| ２・３個の同時押し技 |-----------------------------------------------
[Command]
name = "recovery"
command = x+a
time = 1

[Command]
name = "xa"
command = x+a
time = 1

[Command]
name = "powermax"
command = y+a
time = 1


;-| 方向とボタンで出す技 |---------------------------------------------------------
[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

[Command]
name = "6x"
command = /F, x

[Command]
name = "4or6a"
command = /B, a
time = 1

[Command]
name = "4or6a"
command = /FB, a
time = 1
command.buffer.time = 20


;-| ボタン設定（いじらない）|---------------------------------------------------------

[Command]
name = "up"
command = U
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| 押しっぱなし設定（いじらない）-------------------------------------------------------
[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "holdx"
command = /$x
time = 1

[Command]
name = "holdy"
command = /$y
time = 1

[Command]
name = "holda"
command = /$a
time = 1

[Command]
name = "holdb"
command = /$b
time = 1

; 下の記述↓は絶対に消さないでください。
[Statedef -1]
;===========================================================================
;===========================================================================
;通常モード
;===========================================================================
;---------------------------------------------------------------------------
;杓死
[State -1, Shakushi]
type = ChangeState
value = 3200
triggerall = Var(59) = 0
triggerall = Command = "4123641236_xy"
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = Life <= (LifeMax*0.3)
triggerall = StateType = A
trigger1 = Ctrl
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact


;===========================================================================
;---------------------------------------------------------------------------
;鳳凰脚（MAX版）
[State -1, MAX Phoenix Flattener]
type = ChangeState
value = 3150
triggerall = Var(59) = 0
triggerall = command = "2363214_ab"
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;鳳凰脚（MAX版） スーパーキャンセル
[State -1, SC MAX Phoenix Flattener]
type = ChangeState
value = 3150
triggerall = Var(59) = 0
triggerall = command = "2363214_ab"
triggerall = Power >= 4000
triggerall = Var(15) = 0
triggerall = StateType != A
trigger1 = StateNo = 1000 && MoveContact
trigger2 = StateNo = 1010 && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;===========================================================================
;---------------------------------------------------------------------------
;真！超絶竜巻真空斬
[State -1, Tornado Ripper]
type = ChangeState
value = 3000
triggerall = Var(59) = 0
triggerall = Command = "6321463214_x_y"
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;真！超絶竜巻真空斬 スーパーキャンセル
[State -1, SC Tornado Ripper]
type = ChangeState
value = 3000
triggerall = Var(59) = 0
triggerall = Command = "6321463214_x_y"
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType != A
trigger1 = StateNo = 1000 && MoveContact
trigger2 = StateNo = 1010 && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;---------------------------------------------------------------------------
;鳳凰脚（通常版・弱）
[State -1, Light Phoenix Flattener]
type = ChangeState
value = 3100
triggerall = Var(59) = 0
triggerall = Command = "2363214_a"
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;鳳凰脚（通常版・弱） スーパーキャンセル
[State -1, SC Light Phoenix Flattener]
type = ChangeState
value = 3100
triggerall = Var(59) = 0
triggerall = Command = "2363214_a"
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType != A
trigger1 = StateNo = 1000 && MoveContact
trigger2 = StateNo = 1010 && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;---------------------------------------------------------------------------
;鳳凰脚（通常版・強）
[State -1, Strong Phoenix Flattener]
type = ChangeState
value = 3140
triggerall = Var(59) = 0
triggerall = Command = "2363214_b"
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;鳳凰脚（通常版・強） スーパーキャンセル
[State -1, SC Strong Phoenix Flattener]
type = ChangeState
value = 3140
triggerall = Var(59) = 0
triggerall = Command = "2363214_b"
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType != A
trigger1 = StateNo = 1000 && MoveContact
trigger2 = StateNo = 1010 && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（弱 回転飛猿斬からのキャンセル）
[State -1, Light Toppa]
type = ChangeState
value = 3050
triggerall = Var(59) = 0
triggerall = Command = "236236_x"
triggerall = Power >= (1000*(Var(15) = 0))
triggerall = StateType = A
trigger1 = StateNo = 1252 || StateNo = 1262


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（弱）
[State -1, Light Toppa]
type = ChangeState
value = 3050
triggerall = Var(59) = 0
triggerall = Command = "236236_x"
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType = A
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = Ctrl || StateNo = 105
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact
trigger3 = Var(15) > 0
trigger3 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger3 = (StateNo != [800, 899])
trigger4 = Var(15) > 0
trigger4 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（弱） スーパーキャンセル
[State -1, SC Light Toppa]
type = ChangeState
value = 3050
triggerall = Var(59) = 0
triggerall = Command = "236236_x"
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType = A
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = (StateNo = [1050, 1099]) && MoveContact
trigger2 = (StateNo = [1150, 1199]) && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（強 回転飛猿斬からのキャンセル）
[State -1, Strong Toppa]
type = ChangeState
value = 3060
triggerall = Var(59) = 0
triggerall = Command = "236236_y"
triggerall = Power >= (1000*(Var(15) = 0))
triggerall = StateType = A
trigger1 = StateNo = 1252 || StateNo = 1262


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（強）
[State -1, Strong Toppa]
type = ChangeState
value = 3060
triggerall = Var(59) = 0
triggerall = Command = "236236_y"
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType = A
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = Ctrl || StateNo = 105
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact
trigger3 = Var(15) > 0
trigger3 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger3 = (StateNo != [800, 899])
trigger4 = Var(15) > 0
trigger4 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact


;---------------------------------------------------------------------------
;真！超絶輪回転突刃（強） スーパーキャンセル
[State -1, SC Strong Toppa]
type = ChangeState
value = 3060
triggerall = Var(59) = 0
triggerall = Command = "236236_y"
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType = A
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = (StateNo = [1050, 1099]) && MoveContact
trigger2 = (StateNo = [1150, 1199]) && MoveContact
trigger3 = StateNo = 1210 && MoveContact


;===========================================================================
;---------------------------------------------------------------------------
;悲猿懺（弱）
[State -1, Light Tragic Monkey Trounce]
type = ChangeState
value = 1200
triggerall = Var(59) = 0
triggerall = Command = "623_a"
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;悲猿懺（弱） どこキャン
[State -1, MC Light Tragic Monkey Trounce]
type = ChangeState
value = 1209
triggerall = Var(59) = 0
triggerall = Command = "623_a"
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1200, 1249])
triggerall = !(StateNo = 119 && (Var(19) = [1200, 1249]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;悲猿懺（強）
[State -1, Strong Tragic Monkey Trounce]
type = ChangeState
value = 1210
triggerall = Var(59) = 0
triggerall = Command = "623_b"
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;悲猿懺（強） どこキャン
[State -1, MC Strong Tragic Monkey Trounce]
type = ChangeState
value = 1219
triggerall = Var(59) = 0
triggerall = Command = "623_b"
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1200, 1249])
triggerall = !(StateNo = 119 && (Var(19) = [1200, 1249]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;奇襲飛猿突き（弱）
[State -1, Light Flying Monkey Ambush]
type = ChangeState
value = 1270
triggerall = Var(59) = 0
triggerall = Command = "x"
triggerall = StateType != A
triggerall = !MoveContact
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0


;---------------------------------------------------------------------------
;奇襲飛猿突き（強）
[State -1, Light Flying Monkey Ambush]
type = ChangeState
value = 1280
triggerall = Var(59) = 0
triggerall = Command = "y"
triggerall = StateType != A
triggerall = !MoveContact
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0


;---------------------------------------------------------------------------
;回転飛猿斬（弱）
[State -1, Light Twisting Flight Monkey Trounce]
type = ChangeState
value = 1250
triggerall = Var(59) = 0
triggerall = Command = "214_x"
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;回転飛猿斬（弱） どこキャン
[State -1, MC Light Twisting Flight Monkey Trounce]
type = ChangeState
value = 1259
triggerall = Var(59) = 0
triggerall = Command = "214_x"
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1250, 1299])
triggerall = !(StateNo = 119 && (Var(19) = [1250, 1299]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;回転飛猿斬（強）
[State -1, Strong Twisting Flight Monkey Trounce]
type = ChangeState
value = 1260
triggerall = Var(59) = 0
triggerall = Command = "214_y"
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;回転飛猿斬（強） どこキャン
[State -1, MC Strong Twisting Flight Monkey Trounce]
type = ChangeState
value = 1269
triggerall = Var(59) = 0
triggerall = Command = "214_y"
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1250, 1299])
triggerall = !(StateNo = 119 && (Var(19) = [1250, 1299]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;飛翔脚（弱）
[State -1, Light Flying Kick]
type = ChangeState
value = 1150
triggerall = Var(59) = 0
triggerall = Command = "236_a"
triggerall = StateType = A
trigger1 = Ctrl || StateNo = 105
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact
trigger3 = StateNo = 1252 || StateNo = 1262


;---------------------------------------------------------------------------
;飛翔脚（弱） どこキャン
[State -1, MC Light Flying Kick]
type = ChangeState
value = 1159
triggerall = Var(59) = 0
triggerall = Command = "236_a"
triggerall = StateType = A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1150, 1199])
triggerall = !(StateNo = 119 && (Var(19) = [1150, 1199]))
triggerall = !(StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact)
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;飛翔脚（強）
[State -1, Strong Flying Kick]
type = ChangeState
value = 1160
triggerall = Var(59) = 0
triggerall = Command = "236_b"
triggerall = StateType = A
trigger1 = Ctrl || StateNo = 105
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact
trigger3 = StateNo = 1252 || StateNo = 1262


;---------------------------------------------------------------------------
;飛翔脚（強） どこキャン
[State -1, MC Strong Flying Kick]
type = ChangeState
value = 1169
triggerall = Var(59) = 0
triggerall = Command = "236_b"
triggerall = StateType = A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1150, 1199])
triggerall = !(StateNo = 119 && (Var(19) = [1150, 1199]))
triggerall = !(StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact)
triggerall = !(StateNo = 1252 || StateNo = 1262)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;旋風飛猿刺突（弱）
[State -1, Light Whirlwind Monkey Slash]
type = ChangeState
value = 1100
triggerall = Var(59) = 0
triggerall = command = "4tame6_x" || (Command = "46_x" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;旋風飛猿刺突（弱） どこキャン
[State -1, MC Light Whirlwind Monkey Slash]
type = ChangeState
value = 1109
triggerall = Var(59) = 0
triggerall = command = "4tame6_x" || (Command = "46_x" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1100, 1149])
triggerall = !(StateNo = 119 && (Var(19) = [1100, 1149]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;旋風飛猿刺突（強）
[State -1, Strong Whirlwind Monkey Slash]
type = ChangeState
value = 1110
triggerall = Var(59) = 0
triggerall = command = "4tame6_y" || (Command = "46_y" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;旋風飛猿刺突（強） どこキャン
[State -1, MC Strong Whirlwind Monkey Slash]
type = ChangeState
value = 1119
triggerall = Var(59) = 0
triggerall = command = "4tame6_y" || (Command = "46_y" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1100, 1149])
triggerall = !(StateNo = 119 && (Var(19) = [1100, 1149]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;飛翔空裂斬（弱）
[State -1, Light Spatial Separator]
type = ChangeState
value = 1050
triggerall = Var(59) = 0
triggerall = command = "2tame8_a" || (Command = "28_a" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050


;---------------------------------------------------------------------------
;飛翔空裂斬（弱） どこキャン
[State -1, MC Light Spatial Separator]
type = ChangeState
value = 1059
triggerall = Var(59) = 0
triggerall = command = "2tame8_a" || (Command = "28_a" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1050, 1099])
triggerall = !(StateNo = 119 && (Var(19) = [1050, 1099]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;飛翔空裂斬（強）
[State -1, Strong Spatial Separator]
type = ChangeState
value = 1060
triggerall = Var(59) = 0
triggerall = command = "2tame8_b" || (Command = "28_b" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger9 = (StateNo != [1050, 1099])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact
trigger10 = (Var(19) != [1050, 1099])


;---------------------------------------------------------------------------
;飛翔空裂斬（強） どこキャン
[State -1, MC Strong Spatial Separator]
type = ChangeState
value = 1069
triggerall = Var(59) = 0
triggerall = command = "2tame8_b" || (Command = "28_b" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1050, 1099])
triggerall = !(StateNo = 119 && (Var(19) = [1050, 1099]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;方向転換（前）
[State -1, Direction Change Front]
type = ChangeState
value = 1120
triggerall = Var(59) = 0
triggerall = Command = "holdfwd" && Command != "holddown" && Command != "holdup"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（後ろ）
[State -1, Direction Change Back]
type = ChangeState
value = 1121
triggerall = Var(59) = 0
triggerall = Command = "holdback" && Command != "holddown" && Command != "holdup"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（下）
[State -1, Direction Change Down]
type = ChangeState
value = 1122
triggerall = Var(59) = 0
triggerall = Command = "holddown" && Command != "holdfwd" && Command != "holdback"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（上）
[State -1, Direction Change Up]
type = ChangeState
value = 1123
triggerall = Var(59) = 0
triggerall = Command = "holdup" && Command != "holdfwd" && Command != "holdback"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（前斜め上）
[State -1, Direction Change DU]
type = ChangeState
value = 1125
triggerall = Var(59) = 0
triggerall = Command = "holdup" && Command = "holdfwd"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（後ろ斜め上）
[State -1, Direction Change BU]
type = ChangeState
value = 1126
triggerall = Var(59) = 0
triggerall = Command = "holdup" && Command = "holdback"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（前斜め下）
[State -1, Direction Change FD]
type = ChangeState
value = 1124
triggerall = Var(59) = 0
triggerall = Command = "holddown" && Command = "holdfwd"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;方向転換（後ろ斜め下）
[State -1, Direction Change BD]
type = ChangeState
value = 1127
triggerall = Var(59) = 0
triggerall = Command = "holddown" && Command = "holdback"
triggerall = Command = "x" || Command = "y" || Command = "a" || Command = "b"
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;竜巻疾風斬（弱）
[State -1, Light Hurricane Cutter]
type = ChangeState
value = 1000
triggerall = Var(59) = 0
triggerall = command = "2tame8_x" || (Command = "28_x" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger9 = (StateNo != [1000, 1049])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact
trigger10 = (Var(19) != [1000, 1049])


;---------------------------------------------------------------------------
;竜巻疾風斬（弱） どこキャン
[State -1, MC Light Hurricane Cutter]
type = ChangeState
value = 1009
triggerall = Var(59) = 0
triggerall = command = "2tame8_x" || (Command = "28_x" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1000, 1049])
triggerall = !(StateNo = 119 && (Var(19) = [1000, 1049]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;竜巻疾風斬（強）
[State -1, Strong Hurricane Cutter]
type = ChangeState
value = 1010
triggerall = Var(59) = 0
triggerall = command = "2tame8_y" || (Command = "28_y" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
trigger1 = Ctrl || StateNo = 40
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410
trigger8 = StateNo = 2050
trigger9 = Var(15) > 0
trigger9 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger9 = (StateNo != [800, 899])
trigger9 = (StateNo != [1000, 1049])
trigger10 = Var(15) > 0
trigger10 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact
trigger10 = (Var(19) != [1000, 1049])


;---------------------------------------------------------------------------
;竜巻疾風斬（強） どこキャン
[State -1, MC Strong Hurricane Cutter]
type = ChangeState
value = 1019
triggerall = Var(59) = 0
triggerall = command = "2tame8_y" || (Command = "28_y" && (MoveReversed = 1 || MoveContact = 1) && Var(15) > 0)
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = !(StateNo = [1000, 1049])
triggerall = !(StateNo = 119 && (Var(19) = [1000, 1049]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;===========================================================================
;---------------------------------------------------------------------------
;ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = Var(59) = 0
triggerall = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;バックステップ
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = Var(59) = 0
triggerall = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;クイックパワーMAX
[State -1, Quick Power MAX]
type = ChangeState
value = 2010 +10*(StateType = A)
triggerall = Var(59) = 0
triggerall = Var(15) = 0
triggerall = Command = "powermax"
triggerall = Power >= 2000
trigger1 = HitDefAttr = SCA, NA && MoveContact
trigger1 = (StateNo != [2050, 2060]) && (StateNo != [2070, 2080])

;---------------------------------------------------------------------------
;パワーMAX発動
[State -1, Power MAX]
type = ChangeState
value = 2000
triggerall = Var(59) = 0
triggerall = Var(15) = 0
triggerall = Command = "powermax"
triggerall = Power >= 1000
trigger1 = StateType != A
trigger1 = Ctrl

;---------------------------------------------------------------------------
;前方緊急回避
[State -1, Evasion Fwd]
type = ChangeState
value = 2200
triggerall = Var(59) = 0
triggerall = Command = "xa"
triggerall = Command = "holdfwd" || Command != "holdback"
trigger1 = StateType != A
trigger1 = Ctrl

;---------------------------------------------------------------------------
;後方緊急回避
[State -1, Evasion Fwd]
type = ChangeState
value = 2250
triggerall = Var(59) = 0
triggerall = Command = "xa"
triggerall = Command = "holdback"
trigger1 = StateType != A
trigger1 = Ctrl

;---------------------------------------------------------------------------
;クイック緊急回避
[State -1, Quick Evasion]
type = ChangeState
value = 2210 +50*(Command = "holdback")
triggerall = !IsHelper
triggerall = Name = "Choi Bounge"
triggerall = AuthorName = "Noobic Cube"
triggerall = Var(59) = 0
triggerall = Command = "xa"
triggerall = Power >= 1000
triggerall = StateType != A
trigger1 = HitDefAttr = SC, NA
trigger2 = StateNo = [150, 159]
ignorehitpause = 1

;===========================================================================
;---------------------------------------------------------------------------
;通り魔蹴り
[State -1, Phantom Outrager Kick]
type = ChangeState
value = 700
triggerall = Var(59) = 0
triggerall = Command = "4or6a"
trigger1 = StateType != A
trigger1 = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
trigger2 = StateNo = 200 && MoveContact
trigger3 = StateNo = 205 && MoveContact
trigger4 = StateNo = 210 && MoveContact
trigger5 = StateNo = 230 && MoveContact
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410


;---------------------------------------------------------------------------
;ふっ飛ばし攻撃
[State -1, CD]
type = ChangeState
value = 2050 +10*(StateType = A)
triggerall = Var(59) = 0
triggerall = Command = "y"
triggerall = Command = "b"
trigger1 = Ctrl


;---------------------------------------------------------------------------
;ガードキャンセルふっ飛ばし攻撃
[State -1, GCCD]
type = ChangeState
value = 2070 +10*(StateType = A)
triggerall = Var(59) = 0
triggerall = Command = "y"
triggerall = Command = "b"
triggerall = Power >= 1000
trigger1 = StateNo = [150, 155]
ignorehitpause = 1


;---------------------------------------------------------------------------
;頭乗刺し
[State -1, Neck Slash]
type = ChangeState
value = 800
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = statetype = S
triggerall = Ctrl && StateNo != 100
trigger1 = command = "holdfwd" || Command = "holdback"
trigger1 = FVar(25) <= 11
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H


;---------------------------------------------------------------------------
;下血突き
[State -1, Enema]
type = ChangeState
value = 850
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = statetype = S
triggerall = Ctrl  && StateNo != 100
trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = FVar(25) <= 11
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H


;===========================================================================
;---------------------------------------------------------------------------
;近距離立ち弱パンチ
[State -1, Near Stand Light Punch]
type = ChangeState
value = 200
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = FVar(25) < 20
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = StateNo = 200 && AnimElemTime(3) >= 0
trigger3 = StateNo = 205 && AnimElemTime(3) >= 0


;---------------------------------------------------------------------------
;遠距離立ち弱パンチ
[State -1, Far Stand Light Punch]
type = ChangeState
value = 205
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = FVar(25) >= 20
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = StateNo = 200 && AnimElemTime(3) >= 0
trigger3 = StateNo = 205 && AnimElemTime(3) >= 0


;---------------------------------------------------------------------------
;近距離立ち強パンチ
[State -1, Near Stand Strong Punch]
type = ChangeState
value = 210
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = FVar(25) < 20
triggerall = StateType != A
trigger1 = Ctrl


;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[State -1, Far Stand Strong Punch]
type = ChangeState
value = 215
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = FVar(25) >= 20
triggerall = StateType != A
trigger1 = Ctrl


;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -1, Near Stand Light Kick]
type = ChangeState
value = 230
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = FVar(25) < 16
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = StateNo = 230 && AnimElemTime(4) >= 3


;---------------------------------------------------------------------------
;遠距離立ち弱キック
[State -1, Far Stand Light Kick]
type = ChangeState
value = 235
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = FVar(25) >= 16
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = StateNo = 230 && AnimElemTime(4) >= 3


;---------------------------------------------------------------------------
;近距離立ち強キック
[State -1, Near Standing Strong Kick]
type = ChangeState
value = 240
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = FVar(25) < 35
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 12 && Time > 0)


;---------------------------------------------------------------------------
;遠距離立ち強キック
[State -1, Far Standing Strong Kick]
type = ChangeState
value = 245
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = FVar(25) >= 35
triggerall = StateType != A
trigger1 = Ctrl || (StateNo = 12 && Time > 0)


;---------------------------------------------------------------------------
;挑発
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = Var(59) = 0
triggerall = command = "start"
triggerall = statetype != A
trigger1 = Ctrl || StateNo = 100


;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = StateNo = 400 && AnimElemTime(3) >= 0
trigger3 = StateNo = 430 && AnimElemTime(3) >= 0


;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = StateType != A
trigger1 = Ctrl


;---------------------------------------------------------------------------
;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = StateType != A
trigger1 = ctrl
trigger2 = StateNo = 430 && AnimElemTime(3) >= 0


;---------------------------------------------------------------------------
;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = StateType != A
trigger1 = ctrl


;---------------------------------------------------------------------------
;空中弱パンチ
[State -1, Jump Light Punch]
type = ChangeState
value = 600 +5*(Vel X != 0 || (Var(0) = [1, 2]))
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl


;---------------------------------------------------------------------------
;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610 +5*(Vel X != 0 || (Var(0) = [1, 2]))
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl


;---------------------------------------------------------------------------
;空中弱キック
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl


;---------------------------------------------------------------------------
;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640 +5*(Vel X != 0 || (Var(0) = [1, 2]))
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl





;===========================================================================
;---------------------------------------------------------------------------
;	AI
;---------------------------------------------------------------------------
;===========================================================================

;---------------------------------------------------------------------------
;▼勝ち挑発▼

[State -1, AI Taunt]
type = ChangeState
value = 195
triggerall = Var(59) < 0
triggerall = Var(54) >= 6
triggerall = Life > (LifeMax*0.5)
triggerall = PrevStateNo != 195
trigger1 = StateType = S
trigger1 = Ctrl
trigger1 = RoundState = 3


;---------------------------------------------------------------------------
;▼反撃▼

[State -1, AI MAX Phoenix Flattener] ;鳳凰脚（MAX版）
type = ChangeState
value = 3150
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100 +30*Var(54), 250)
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Life < (LifeMax*0.3) || Var(54) > 2
triggerall = P2MoveType = A
triggerall = FVar(25) = [0, 50]
triggerall = FVar(26) >= 0
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || (StateNo = 410 && Var(54) > 5)
triggerall = EnemyNear(Var(32)), AnimTime < -2 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time = 0 && Var(54) >= 4) || Var(54) >= 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 5
trigger2 = PrevStateNo = [5000, 5279]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100 +25*Var(54), 150)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = P2MoveType = A
triggerall = FVar(25) < 34
triggerall = FVar(26) > -180
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || (StateNo = 410 && Var(54) > 5)
triggerall = EnemyNear(Var(32)), AnimTime < -20 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time = 0 && Var(54) >= 4) || Var(54) >= 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 5
trigger2 = PrevStateNo = [5000, 5279]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Strong Phoenix Flattener] ;鳳凰脚（通常版・強）
type = ChangeState
value = 3140
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 20 +10*Var(54), 80)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = FVar(25) = [0, 50]
triggerall = FVar(26) >= 0
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || (StateNo = 410 && Var(54) > 5)
triggerall = EnemyNear(Var(32)), AnimTime < -4 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time = 0 && Var(54) >= 4) || Var(54) >= 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 5
trigger2 = PrevStateNo = [5000, 5279]
trigger3 = PrevStateNo = [120, 159]

[State -1, Light Phoenix Flattener] ;鳳凰脚（通常版・弱）
type = ChangeState
value = 3100
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 20 +10*Var(54), 80)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = FVar(25) = [0, 50]
triggerall = FVar(26) >= 0
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || (StateNo = 410 && Var(54) > 5)
triggerall = EnemyNear(Var(32)), AnimTime < -2 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time = 0 && Var(54) >= 4) || Var(54) >= 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 5
trigger2 = PrevStateNo = [5000, 5279]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Neck Slash] ;頭乗刺し
type = ChangeState
value = 800
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = statetype = S
triggerall = P2MoveType = A
triggerall = Ctrl  && StateNo != 100
triggerall = FVar(25) <= 11
triggerall = (P2StateType = S) || (P2StateType = C)
triggerall = P2MoveType != H
triggerall = EnemyNear(Var(32)), Anim <= 0 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= (30 -3*Var(54)) || (Time > (13 -2*Var(54)) && Var(54) >= 4) || Var(54) > 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || (Var(54) = [4, 5])
trigger2 = PrevStateNo = [5000, 5270]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Enema] ;下血突き
type = ChangeState
value = 850
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = StateType = S
triggerall = P2MoveType = A
triggerall = Ctrl && StateNo != 100
triggerall = FVar(25) <= 11
triggerall = (P2StateType = S) || (P2StateType = C)
triggerall = P2MoveType != H
triggerall = EnemyNear(Var(32)), AnimTime <= 0 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= (30 -3*Var(54)) || (Time > (13 -2*Var(54)) && Var(54) >= 4) || Var(54) > 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || (Var(54) = [4, 5])
trigger2 = PrevStateNo = [5000, 5270]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（強）
type = ChangeState
value = 1060
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100 +120*Var(54), 700)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = Ctrl || StateNo = 40
triggerall = (StateNo != 0 && StateNo != 20 && StateNo != 100 && Var(54) <= 2) || Var(54) > 2
triggerall = BackEdgeBodyDist < 10 || FrontEdgeBodyDist < 20
triggerall = FVar(25) < 30
triggerall = FVar(26) < 0
triggerall = EnemyNear(Var(32)), AnimTime < -10 || Var(54) < 4
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time = 0 && Var(54) >= 4) || Var(54) >= 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 5
trigger2 = PrevStateNo = [5000, 5279]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（弱）
type = ChangeState
value = 1050
triggerall = Var(59) > 0
triggerall = Random < 120*Var(54) || Var(54) > 4
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = Ctrl || StateNo = 40
triggerall = EnemyNear(Var(32)), HitDefAttr = SCA, NT, ST, HT
triggerall = FVar(25) = [-5, 120]
triggerall = EnemyNear(Var(32)), Vel X < 3
triggerall = P2MoveType = A
triggerall = EnemyNear(Var(32)), Time >= (30 -3*Var(54)) || (Time > (13 -2*Var(54)) && Var(54) >= 4) || Var(54) > 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 4
trigger2 = PrevStateNo = [5000, 5270]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Run Back] ;バックステップ
type = ChangeState
value = 105
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < 120*Var(54) || Var(54) > 4
triggerall = StateType != A
triggerall = Ctrl
triggerall = (P2StateNo = [200, 699]) || EnemyNear(Var(32)), HitDefAttr = SCA, NT, ST, HT
triggerall = BackEdgeBodyDist > 30
triggerall = FVar(25) = [-5, 120]
triggerall = EnemyNear(Var(32)), Vel X < 3
triggerall = P2MoveType = A
triggerall = EnemyNear(Var(32)), Time >= (30 -3*Var(54)) || (Time > (13 -2*Var(54)) && Var(54) >= 4) || Var(54) > 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 4
trigger2 = PrevStateNo = [5000, 5270]
trigger3 = PrevStateNo = [120, 159]

[State -1, AI Jump] ;ジャンプ
type = ChangeState
value = 40
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = EnemyNear(Var(32)), HitDefAttr = SCA, NT, ST, HT
triggerall = Random < 120*Var(54) || Var(54) > 4
triggerall = EnemyNear(Var(32)), Time >= (30 -3*Var(54)) || (Time > (13 -2*Var(54)) && Var(54) >= 4) || Var(54) > 5
trigger1 = EnemyNear(Var(32)), Time >= 50 || Var(54) > 4
trigger2 = PrevStateNo = [5000, 5270]
trigger3 = PrevStateNo = [120, 159]


;---------------------------------------------------------------------------
;▼ガード▼

[State -1, AI Guard] ;ガード
type = ChangeState
value = 120
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateNo != [120, 155]
triggerall = Ctrl
triggerall = InGuardDist
trigger1 = Random < 120*Var(54) || Var(54) > 4
trigger1 = FVar(25) > 90 || EnemyNear(Var(32)), Time > 50
trigger2 = Random < 300*Var(54)

[State -1, AI Evasion Fwd] ;前方緊急回避
type = ChangeState
value = 2200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = InGuardDist
triggerall = Random < 100 +10*Var(54) +100*(EnemyNear(Var(32)), NumProj > 0 || EnemyNear(Var(32)), NumHelper > 0)
triggerall = !(EnemyNear(Var(32)), HitDefAttr = SCA, NT, ST, HT)
triggerall = EnemyNear(Var(32)), AnimTime <= -20 || Var(54) < 3
trigger1 = FVar(25) < 20
trigger2 = EnemyNear(Var(32)), NumProj > 0 || EnemyNear(Var(32)), NumHelper > 0
trigger2 = FVar(25) > 180

[State -1, AI GCCD] ;ガードキャンセルふっ飛ばし攻撃
type = ChangeState
value = 2070 +10*(StateType = A)
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Power >= 1000
triggerall = EnemyNear(Var(32)), AnimTime <= -15 || Var(54) < 4
triggerall = FVar(25) = [7, 70 -30*(StateType = A)]
triggerall = FVar(26) >= -50
triggerall = StateNo = [150, 155]
triggerall = BackEdgeBodyDist <= 20 || Power >= 3000 || Var(54) < 3
trigger1 = Random < IfElse(Var(54) < 6, IfElse(Var(54) < 3, 30, 120)*Var(54), 120*Floor(Power*0.001))
ignorehitpause = 1

[State -1, AI Quick Evasion] ;クイック緊急回避
type = ChangeState
value = 2210 +50*(Random%2 = 0)
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, 105*Var(54), 525)
triggerall = Power >= 1000
triggerall = StateType != A
triggerall = FVar(25) > 90 +80 || (EnemyNear(Var(32)), AnimTime <= -37 && !EnemyNear(Var(32)), Ctrl)
triggerall = !(EnemyNear(Var(32)), HitDefAttr = SCA, NT, ST, HT)
triggerall = InGuardDist
triggerall = EnemyNear(Var(32)), Time >= 30 || (!Time && Var(54) > 4) || EnemyNear(Var(32)), Ctrl
triggerall = StateNo = [150, 159]
trigger1 = EnemyNear(Var(32)), Ctrl
trigger2 = P2MoveType = A
ignorehitpause = 1



;---------------------------------------------------------------------------
;▼タッグ戦用の行動パターン▼

[State -1, AI Whirlwind Monkey Slash] ;旋風飛猿刺突
type = ChangeState
value = 1100
triggerall = Var(59) > 0
triggerall = Random < 75*Var(54)
triggerall = NumEnemy
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = FVar(25) >= 0
triggerall = FVar(26) >= -60
triggerall = (StateNo != 100 && !(StateNo = 20 && Vel X > 0 && Time > 1) && Var(54) <= 2) || Var(54) > 2
triggerall = (Pos X -Partner, Pos X)*Facing < 0
trigger1 = StateType != A
trigger1 = Ctrl

[State -1, AI Run FWD] ;ダッシュ
type = ChangeState
value = 100
triggerall = Var(59) > 0
triggerall = Random < 159 +15*Var(54)
triggerall = StateNo != 100
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = (Partner, Pos X -Pos X)*Facing > 0
triggerall = StateNo != 100 && PrevStateNo != 100
triggerall = EnemyNear(Var(32)), Pos Y > -80
triggerall = Partner, Pos Y > -220
triggerall = StateType = S
triggerall = Ctrl
triggerall = !InGuardDist
trigger1 = P2MoveType = H
trigger2 = Partner, MoveType = A
trigger3 = Partner, MoveType = H
trigger4 = FVar(25) > 80

[State -1, AI Strong Phoenix Flattener] ;鳳凰脚（通常版・強）（チャン支援）
type = ChangeState
value = 3140
triggerall = Var(59) > 0
triggerall = Random < 50*Var(54)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(25) = [0, 150]
triggerall = FVar(26) >= 0
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = Partner, Name = "Chang Koehan"
triggerall = Partner, AuthorName = "Noobic Cube"
triggerall = (Partner, Pos X -Pos X)*Facing > 0
trigger1 = Partner, StateNo = [3000, 3049]
trigger1 = Partner, MoveHit

[State -1, AI Strong Phoenix Flattener] ;鳳凰脚（通常版・強）
type = ChangeState
value = 3140
triggerall = Var(59) > 0
triggerall = Random < 50*Var(54)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(25) = [0, 180]
triggerall = FVar(26) >= 0
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = (Partner, Pos X -Pos X)*Facing > 0
trigger1 = Partner, MoveType = A && Partner, P2MoveType = H
trigger2 = Partner, MoveType = H

[State -1, AI MAX Phoenix Flattener] ;鳳凰脚（MAX版）
type = ChangeState
value = 3150
triggerall = Var(59) > 0
triggerall = Random < 50*Var(54)
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(25) = [0, 60]
triggerall = FVar(26) >= 0
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = (Partner, Pos X -Pos X)*Facing > 0
trigger1 = Partner, MoveType = A && Partner, P2MoveType = H
trigger2 = Partner, MoveType = H

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬（チャン支援）
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = Random < 50*Var(54)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(25) = [-60, 60]
triggerall = FVar(26) >= 0
triggerall = NumPartner > 0
triggerall = Partner, Alive
triggerall = Partner, Name = "Chang Koehan"
triggerall = Partner, AuthorName = "Noobic Cube"
trigger1 = Partner, StateNo = [3000, 3049]
trigger1 = Partner, MoveContact

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = Random < 50*Var(54)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(25) = [-60, 60]
triggerall = FVar(26) >= 0
triggerall = NumPartner > 0
triggerall = Partner, Alive
trigger1 = Partner, MoveType = A && P2MoveType = H
trigger2 = Partner, MoveType = H

[State -1, AI Shakushi] ;杓死
type = ChangeState
value = 3200
triggerall = Var(59) > 0
triggerall = Random < 90*Var(54)
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = Life <= (LifeMax*0.3)
triggerall = NumPartner > 0
triggerall = StateType = A
triggerall = Ctrl
trigger1 = P2MoveType = H
trigger2 = Partner, MoveType = A
trigger3 = Partner, MoveType = H


;---------------------------------------------------------------------------
;▼起き攻め（地上）▼

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 60*Var(54), 300)
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = FVar(25) < 34
triggerall = FVar(26) > -180
triggerall = P2StateType = L
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = -20

[State -1, AI Jump] ;ジャンプ
type = ChangeState
value = 40
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 80)*Var(54), 500)
triggerall = StateType != A
triggerall = !InGuardDist
triggerall = Ctrl
triggerall = FVar(25) = [0, 200]
triggerall = P2StateType = L
triggerall = StateNo != 40
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime <= -9
trigger2 = P2StateNo = [5100, 5119]

[State -1, Crouching Strong Punch] ;しゃがみ強パンチ
type = ChangeState
value = 410
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0)
triggerall = FVar(25) = [22, 65]
triggerall = FVar(26) >= 0
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType = L
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = -6

[State -1, AI Far Stand Strong Punch] ;遠距離立ち強パンチ
type = ChangeState
value = 215
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = FVar(25) >= 20
triggerall = StateType != A
triggerall = (FVar(25) -9*FVar(38)) <= 40
triggerall = Ctrl || (StateNo = 12 && Time > 0)
triggerall = P2StateType = L
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = -3

[State -1, AI Far Stand Light Punch] ;遠距離立ち弱パンチ
type = ChangeState
value = 205
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = FVar(25) >= 20
triggerall = StateType != A
triggerall = (FVar(25) -7*FVar(38)) <= 56
triggerall = Ctrl || (StateNo = 12 && Time > 0)
triggerall = P2StateType = L
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = -2


;---------------------------------------------------------------------------
;▼起き攻め（空中）▼

[State -1, AI Jump Strong Punch] ;空中強パンチ
type = ChangeState
value = 615
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 5, 100)*Var(54), 500)
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Ctrl
triggerall = Vel X > 0
triggerall = (FVar(25) -9*FVar(38)) = [-50, 20]
triggerall = (Pos Y +9*(Vel Y +0.5*9*Const(Movement.YAccel))) >= EnemyNear(Var(32)), Const(Size.Head.Pos.Y)*0.5
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = [-12, -9]

[State -1, AI Light Flying Kick] ;飛翔脚（弱）
type = ChangeState
value = 1150
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 80*Var(54), 400)
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Ctrl || StateNo = 105
triggerall = FVar(25) <= 20
triggerall = Pos Y <= EnemyNear(Var(32)), Const(Size.Head.Pos.Y)*0.5
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = [-9, -5]

[State -1, AI Strong Flying Kick] ;飛翔脚（強）
type = ChangeState
value = 1160
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 80*Var(54), 400)
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Ctrl || StateNo = 105
triggerall = FVar(25) <= 20
triggerall = Pos Y <= EnemyNear(Var(32)), Const(Size.Head.Pos.Y)*0.5
trigger1 = P2StateNo = 5120
trigger1 = EnemyNear(Var(32)), AnimTime = [-9, -5]

[State -1, AI Shakushi] ;杓死
type = ChangeState
value = 3200
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 40*Var(54), 200)
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = Life <= (LifeMax*0.3)
triggerall = StateType = A
triggerall = Ctrl
trigger1 = P2StateNo = 5120


;---------------------------------------------------------------------------
;▼目押し▼

[State -1, AI Dash] ;ダッシュ
type = ChangeState
value = 100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) < 20
triggerall = FVar(26) >= 0
triggerall = Ctrl
triggerall = StateNo != 100
triggerall = PrevStateNo != 100
triggerall = Random < IfElse(Var(54) < 5, 80*Var(54), 400)
triggerall = FVar(25) > 11
triggerall = P2StateType != A
trigger1 = P2StateNo = [120, 159]
trigger2 = PrevStateNo = 2010
trigger2 = P2StateNo != [120, 159]

[State -1, Near Standing Strong Kick] ;近距離立ち強キック
type = ChangeState
value = 240
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 50, 150)*Var(54), 750)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) < 35
triggerall = (FVar(25) -7*FVar(38)) >= -3
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = FVar(33) >= 7 || P2StateType = A || Var(54) < 4
triggerall = Ctrl
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger1 = (P2StateNo != [120, 159]) || Var(54) < 5

[State -1, Run Fwd] ;ダッシュ
type = ChangeState
value = 100
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 70*Var(54), 300) || Var(54) > 4
triggerall = NumEnemy
triggerall = statetype != A
triggerall = ctrl
triggerall = StateNo != 100 && PrevStateNo != 100
triggerall = Var(15) > 100
triggerall = P2StateType != L
triggerall = P2StateType = A
triggerall = !InGuardDist
triggerall = FVar(25) >= 10
triggerall = StateType != A
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger1 = (P2StateNo != [120, 159]) || Var(54) < 5

[State -1, Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 20*Var(54), 400) || Var(54) > 5
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = P2StateType != L
triggerall = P2StateType = A
triggerall = !InGuardDist
triggerall = (FVar(25) -22*FVar(38)) = [-35, 31]
triggerall = (FVar(26) -22*(FVar(39) +0.5*21*FVar(36))) = [-240, -30 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +22*(EnemyNear(Var(32)), Vel Y +0.5*21*FVar(36))) <= -10 || Var(54) < 3
triggerall = FVar(33) > 22 || Var(54) < 5
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = (P2StateNo = [120, 159]) && Var(54) > 3

[State -1, AI Strong Tragic Monkey Trounce] ;悲猿懺（強）
type = ChangeState
value = 1210
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 70*Var(54), 300) || Var(54) > 4
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = P2StateType != L
triggerall = P2StateType = A
triggerall = !InGuardDist
triggerall = (FVar(25) -7*FVar(38)) = [0, 25]
triggerall = (FVar(26) -7*(FVar(39) +0.5*6*FVar(36))) = [-90, -30 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +7*(EnemyNear(Var(32)), Vel Y +0.5*6*FVar(36))) <= -20 || Var(54) < 3
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = FVar(33) >= 6 || Var(54) < 4
trigger1 = P2MoveType = H
trigger1 = (P2StateNo != [120, 159]) || Var(54) < 5

[State -1, AI Light Tragic Monkey Trounce] ;悲猿懺（弱）
type = ChangeState
value = 1200
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 100*Var(54), 500)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = (FVar(25) -6*FVar(38)) = [-4, 28]
triggerall = (FVar(26) -6*(FVar(39) +0.5*5*FVar(36))) = [-80, -60 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = FVar(33) >= 6 || Var(54) < 4
trigger1 = P2StateType = A
trigger1 = P2MoveType = H
trigger1 = P2StateNo != [120, 159]

[State -1, AI Light Hurricane Cutter] ;竜巻疾風斬（弱）
type = ChangeState
value = 1000
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 70*Var(54), 300) || Var(54) > 4
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2StateType = A
triggerall = !InGuardDist
triggerall = FrontEdgeBodyDist < 60
triggerall = (FVar(25) -4*FVar(38)) = [0, 30]
triggerall = (FVar(26) -4*(FVar(39) +0.5*3*FVar(36))) = [-60, -20 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +4*(EnemyNear(Var(32)), Vel Y +0.5*4*FVar(36))) <= -10
triggerall = StateType != A
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger1 = (P2StateNo != [120, 159]) || Var(54) < 5

[State -1, AI Near Stand Strong Punch] ;近距離立ち強パンチ
type = ChangeState
value = 210
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 50*Var(54), 300)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) < 20
triggerall = FVar(25) >= -3
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = FVar(33) >= 9 || P2StateType = A || Var(54) < 4
triggerall = Ctrl
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, Crouching Strong Punch] ;しゃがみ強パンチ
type = ChangeState
value = 410
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 50*Var(54), 300)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0)
triggerall = FVar(25) = [0, 65]
triggerall = FVar(26) >= -10
triggerall = FVar(33) >= 8 || P2StateType = A || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, AI Near Stand Light Punch] ;近距離立ち弱パンチ
type = ChangeState
value = 200
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 70*Var(54), 350)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) < 20
triggerall = FVar(25) = [0, 20)
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(33) >= 4 || P2StateType = A || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, AI Stand Light Kick] ;遠距離立ち弱パンチ
type = ChangeState
value = 205
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 50*Var(54), 250)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) >= 20
triggerall = FVar(25) = [20, 56]
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(33) >= 5 || P2StateType = A || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, AI Crouching Light Punch] ;しゃがみ弱パンチ
type = ChangeState
value = 400
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 70*Var(54), 350)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) = [2, 24]
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = Ctrl
triggerall = FVar(33) >= 4 || P2StateType = A || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, AI Crouching Light Kick] ;しゃがみ弱キック
type = ChangeState
value = 430
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 70*Var(54), 350)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 30]
triggerall = FVar(26) >= 0
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != A
triggerall = FVar(33) >= 4 || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = P2MoveType = H
trigger2 = P2StateNo = [120, 159]

[State -1, AI Strong Flying Monkey Ambush] ;奇襲飛猿突き（強）
type = ChangeState
value = 1280
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < 200*Var(54)
triggerall = StateType != A
triggerall = !MoveContact
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = P2StateNo != [120, 159]
triggerall = !InGuardDist
triggerall = FVar(25) <= 105
triggerall = FVar(26) >= -10
triggerall = FVar(33) >= 7 || P2StateType = A
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0

[State -1, AI Light Flying Monkey Ambush] ;奇襲飛猿突き（弱）
type = ChangeState
value = 1270
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < 200*Var(54)
triggerall = StateType != A
triggerall = !MoveContact
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = P2StateNo != [120, 159]
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 100]
triggerall = FVar(26) >= -10
triggerall = FVar(33) >= 5 || P2StateType = A || Var(54) < 4
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0


;---------------------------------------------------------------------------
;▼隙を突く▼

[State -1, Light Twisting Flight Monkey Trounce] ;回転飛猿斬（弱）
type = ChangeState
value = 1250
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 30*Var(54), 150)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = FVar(25) <= 100
triggerall = FVar(26) >= -20
triggerall = EnemyNear(Var(32)), AnimTime <= -11
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Strong Flying Monkey Ambush] ;奇襲飛猿突き（強）
type = ChangeState
value = 1280
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 30, 120)*Var(54), 600) || Var(54) > 5
triggerall = NumEnemy
triggerall = StateType != A
triggerall = !MoveContact
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
triggerall = (FVar(25) -7*FVar(38)) = [0, 75]
triggerall = (FVar(26) -7*(FVar(39) +0.5*7*FVar(36))) >= -62
triggerall = EnemyNear(Var(32)), AnimTime <= -7
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Light Flying Monkey Ambush] ;奇襲飛猿突き（弱）
type = ChangeState
value = 1270
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 30, 120)*Var(54), 600) || Var(54) > 5
triggerall = NumEnemy
triggerall = StateType != A
triggerall = !MoveContact
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
triggerall = (FVar(25) -5*FVar(38)) = [0, 63]
triggerall = (FVar(26) -5*(FVar(39) +0.5*5*FVar(36))) >= -60
triggerall = EnemyNear(Var(32)), AnimTime <= -5
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Near Stand Strong Punch] ;近距離立ち強パンチ
type = ChangeState
value = 210
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 30*Var(54), 150)
triggerall = NumEnemy
triggerall = FVar(25) < 20
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = FVar(25) <= 50
triggerall = FVar(26) >= -60
triggerall = EnemyNear(Var(32)), AnimTime <= -9
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Near Stand Light Punch] ;近距離立ち弱パンチ
type = ChangeState
value = 200
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 150*Var(54), 750)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) < 20
triggerall = FVar(25) >= 0
triggerall = (FVar(26) -4*(FVar(39) +0.5*4*FVar(36))) >= -59
triggerall = StateType != A
triggerall = Ctrl
triggerall = EnemyNear(Var(32)), AnimTime <= -4
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Stand Light Kick] ;遠距離立ち強パンチ
type = ChangeState
value = 215
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 150*Var(54), 750)
triggerall = NumEnemy
triggerall = FVar(25) >= 20
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = (FVar(25) -6*FVar(38)) <= 40
triggerall = (FVar(26) -6*(FVar(39) +0.5*6*FVar(36))) = [-102, -61 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +6*(EnemyNear(Var(32)), Vel Y +0.5*6*FVar(36))) <= -20 || P2StateType != A
triggerall = StateType != A
triggerall = Ctrl
triggerall = EnemyNear(Var(32)), AnimTime <= -6
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Far Stand Light Punch] ;遠距離立ち弱パンチ
type = ChangeState
value = 205
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 150*Var(54), 750)
triggerall = NumEnemy
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = FVar(25) >= 20
triggerall = (FVar(25) -5*FVar(38)) = [0, 56]
triggerall = (FVar(26) -5*(FVar(39) +0.5*5*FVar(36))) >= 0
triggerall = StateType != A
triggerall = Ctrl
triggerall = EnemyNear(Var(32)), AnimTime <= -5
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl

[State -1, AI Crouching Strong Kick] ;しゃがみ強キック
type = ChangeState
value = 440
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, 90*Var(54), 450)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = FVar(25) -8*FVar(38) = [5, 58]
triggerall = FVar(26) >= 0
triggerall = ctrl || (StateNo = 10 && Time > 0)
triggerall = EnemyNear(Var(32)), AnimTime <= -8
triggerall = P2MoveType = I
trigger1 = P2StateNo = [200, 649]
trigger2 = P2StateType = A
trigger2 = !EnemyNear(Var(32)), Ctrl


;---------------------------------------------------------------------------
;▼連続技（地上・連打）▼

[State -1, AI Crouching Light Kick] ;しゃがみ弱キック連打
type = ChangeState
value = 430
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 120*Var(54), 600)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 34]
triggerall = FVar(26) = 0
triggerall = MoveContact
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 430 && AnimElemTime(3) > 3

[State -1, Near Stand Light Punch] ;近距離立ち弱パンチ連打
type = ChangeState
value = 200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 4, 60*Var(54), 300)
triggerall = FVar(25) < 20
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 20)
triggerall = FVar(26) >= -40
triggerall = MoveContact
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 200 && AnimElemTime(3) >= 0
trigger2 = StateNo = 205 && AnimElemTime(3) >= 0

[State -1, Far Stand Light Punch] ;遠距離立ち弱パンチ連打
type = ChangeState
value = 205
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 60*Var(54), 300)
triggerall = NumEnemy
triggerall = FVar(25) >= 20
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [20, 50]
triggerall = FVar(26) >= -40
triggerall = MoveContact
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 200 && AnimElemTime(3) >= 0
trigger2 = StateNo = 205 && AnimElemTime(3) >= 0


;---------------------------------------------------------------------------
;▼連続技（地上・どこキャン）▼

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 90)*Var(54) || Var(54) > 3
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = EnemyNear(Var(32)), Alive
triggerall = ((FVar(25) -22*FVar(38)) = [-55, 32]) || FrontEdgeBodyDist < 60
triggerall = (FVar(26) -22*(FVar(39) +0.5*21*FVar(36))) = [-240, 0 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +22*(EnemyNear(Var(32)), Vel Y +0.5*21*FVar(36))) < 0
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType = A
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = (StateNo = [1000, 1999]) && MoveContact
trigger2 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact

[State -1, MAX Phoenix Flattener] ;鳳凰脚（MAX版）
type = ChangeState
value = 3150
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 120)*Var(54) || Var(54) > 3
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Var(15) > 0
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Alive
triggerall = FVar(25) >= 0
triggerall = FVar(26) >= -30
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = (StateNo = [200, 999]) || ((StateNo = [1000, 1999]) && MoveContact)
trigger1 = (StateNo != [800, 899])
trigger2 = (StateNo = 119 && (Var(19) = [1000, 1999])) && MoveContact

[State -1, AI MC Strong Hurricane Cutter] ;竜巻疾風斬（強） どこキャン
type = ChangeState
value = 1019
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 80)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = Var(15) > 175
triggerall = !(StateNo = [1000, 1049])
triggerall = !(StateNo = 119 && (Var(19) = [1000, 1049]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Alive
triggerall = FVar(25) = [0, 36]
triggerall = FVar(26) >= -30
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = FrontEdgeBodyDist < 70 || P2StateType != A
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999])
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999])

[State -1, AI MC Light Whirlwind Monkey Slash] ;旋風飛猿刺突（弱） どこキャン
type = ChangeState
value = 1109
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 100)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = Var(15) > 180
triggerall = !(StateNo = [1100, 1149])
triggerall = !(StateNo = 119 && (Var(19) = [1100, 1149]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Alive
triggerall = FVar(25) = [0, 106]
triggerall = FVar(26) >= -50
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = FrontEdgeBodyDist > 30
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = StateNo = [1000, 1049]

[State -1, AI MC Strong Spatial Separator] ;飛翔空裂斬（強） どこキャン
type = ChangeState
value = 1069
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 100)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = Var(15) > 200
triggerall = !(StateNo = [1050, 1099])
triggerall = !(StateNo = 119 && (Var(19) = [1050, 1099]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Alive
triggerall = FVar(25) = [0, 46]
triggerall = FVar(26) >= -50
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = FrontEdgeBodyDist < 40 || BackEdgeBodyDist < 40
triggerall = P2StateType = A
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999]) && MoveContact
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && MoveContact


;---------------------------------------------------------------------------
;▼連続技（地上）▼

[State -1, AI Strong Hurricane Cutter] ;竜巻疾風斬（強）
type = ChangeState
value = 1010
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 50)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = StateType = C || Var(54) > 4
triggerall = FrontEdgeBodyDist <= 50 || Var(57) = 1
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-24, 36]
triggerall = FVar(26) >= -20
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [0, 899]) && FVar(34) = 0
trigger2 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger2 = (Var(58) = [0, 349]) && FVar(34) = 1
trigger3 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger3 = (Var(58) = [0, 174]) && FVar(34) = 2
trigger4 = StateNo = 210 || StateNo = 410
trigger4 = (Var(58) = [0, 249]) && FVar(34) = 0
trigger5 = StateNo = 210 || StateNo = 410
trigger5 = (Var(58) = [0, 249]) && FVar(34) = 1
trigger6 = StateNo = 210 || StateNo = 410
trigger6 = (Var(58) = [0, 199]) && FVar(34) = 2
trigger7 = StateNo = 2050
trigger7 = (Var(58) = [0, 299]) && FVar(34) = 0
trigger8 = StateNo = 2050
trigger8 = (Var(58) = [0, 249]) && FVar(34) = 1
trigger9 = StateNo = 2050
trigger9 = (Var(58) = [0, 199]) && FVar(34) = 2

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（弱）
type = ChangeState
value = 1050
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 50)*Var(54) || Var(54) > 3
triggerall = StateType = C || Var(54) > 4
triggerall = StateType != A
triggerall = BackEdgeBodyDist <= 40 || FrontEdgeBodyDist <= 40
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) <= 40
triggerall = FVar(26) >= -10
triggerall = EnemyNear(Var(32)), Const(Size.Head.Pos.Y) <= -30
triggerall = MoveContact
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [0, 299]) && FVar(34) = 0
trigger2 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger2 = (Var(58) = [0, 174]) && FVar(34) = 1
trigger3 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger3 = (Var(58) = [0, 174]) && FVar(34) = 2
trigger4 = StateNo = 210 || StateNo = 410
trigger4 = (Var(58) = [0, 99]) && FVar(34) = 0
trigger5 = StateNo = 210 || StateNo = 410
trigger5 = (Var(58) = [0, 79]) && FVar(34) = 1
trigger6 = StateNo = 210 || StateNo = 410
trigger6 = (Var(58) = [0, 79]) && FVar(34) = 2
trigger7 = StateNo = 2050
trigger7 = (Var(58) = [0, 99]) && FVar(34) = 0
trigger8 = StateNo = 2050
trigger8 = (Var(58) = [0, 99]) && FVar(34) = 1
trigger9 = StateNo = 2050
trigger9 = (Var(58) = [0, 99]) && FVar(34) = 2

[State -1, Strong Whirlwind Monkey Slash] ;旋風飛猿刺突（強）
type = ChangeState
value = 1110
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 50)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-24, 26]
triggerall = FVar(26) >= -20
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
triggerall = StateNo = 2050
trigger1 = (Var(58) = [0, 299]) && FVar(34) = 0
trigger2 = (Var(58) = [0, 249]) && FVar(34) = 1
trigger3 = (Var(58) = [0, 199]) && FVar(34) = 2

[State -1, AI Light Tragic Monkey Trounce] ;悲猿懺（弱）
type = ChangeState
value = 1200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 80)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = FVar(25) = [-4, 28]
triggerall = FVar(26) = [-80, 27]
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [0, 999]) && FVar(34) = 0
trigger2 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger2 = (Var(58) = [0, 699]) && FVar(34) = 1
trigger3 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger3 = (Var(58) = [0, 699]) && FVar(34) = 2
trigger4 = StateNo = 210 || StateNo = 410
trigger4 = (Var(58) = [0, 399]) && FVar(34) = 0
trigger5 = StateNo = 210 || StateNo = 410
trigger5 = (Var(58) = [0, 299]) && FVar(34) = 1
trigger6 = StateNo = 210 || StateNo = 410
trigger6 = (Var(58) = [0, 199]) && 0;FVar(34) = 2
trigger7 = StateNo = 2050
trigger7 = (Var(58) = [0, 299]) && FVar(34) = 0
trigger8 = StateNo = 2050
trigger8 = (Var(58) = [0, 249]) && FVar(34) = 1
trigger9 = StateNo = 2050
trigger9 = (Var(58) = [0, 199]) && FVar(34) = 2

[State -1, AI Light Twisting Flight Monkey Trounce] ;回転飛猿斬（弱）
type = ChangeState
value = 1250
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 80)*Var(54) || Var(54) > 3
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) <= 80
triggerall = FVar(26) >= -10
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveContact
trigger1 = StateNo = 210 || StateNo = 410
trigger1 = (Var(58) = [400, 999]) && FVar(34) = 0
trigger2 = StateNo = 210 || StateNo = 410
trigger2 = (Var(58) = [300, 749]) && FVar(34) = 1
trigger3 = StateNo = 210 || StateNo = 410
trigger3 = (Var(58) = [0, 499]) && FVar(34) = 2
trigger4 = StateNo = 2050
trigger4 = (Var(58) = [600, 849]) && FVar(34) = 0
trigger5 = StateNo = 2050
trigger5 = (Var(58) = [450, 699]) && FVar(34) = 1
trigger6 = StateNo = 2050
trigger6 = (Var(58) = [400, 599]) && FVar(34) = 2

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 3, 60)*Var(54) || Var(54) > 3
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
triggerall = FrontEdgeBodyDist < 50
trigger1 = StateNo = 2050
trigger1 = (Var(58) = [700, 999]) && FVar(34) = 1
trigger2 = StateNo = 2050
trigger2 = (Var(58) = [600, 899])

[State -1, AI Light Phoenix Flattener] ;鳳凰脚（通常版・弱）
type = ChangeState
value = 3100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 110)*Var(54) || Var(54) > 3
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 80]
triggerall = FVar(26) >= 0
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [700, 999]) && FVar(34) = 1
trigger2 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger2 = (Var(58) = [700, 799]) && FVar(34) = 2
trigger3 = StateNo = 210 || StateNo = 410
trigger3 = (Var(58) = [750, 999]) && FVar(34) = 1
trigger4 = StateNo = 210 || StateNo = 410
trigger4 = (Var(58) = [500, 799]) && FVar(34) = 2
trigger5 = StateNo = 2050
trigger5 = (Var(58) = [700, 799]) && FVar(34) = 1
trigger6 = StateNo = 2050
trigger6 = (Var(58) = [600, 699]) && FVar(34) = 2
trigger7 = (StateNo = [200, 1999]) && Var(15) > 0
trigger7 = (StateNo != [800, 899]) && (StateNo != [1200, 1249])
trigger8 = StateNo = 119 && (Var(19) = [1000, 1999]) && Var(15) > 0

[State -1, AI MAX Phoenix Flattener] ;鳳凰脚（MAX版）
type = ChangeState
value = 3150
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 110)*Var(54) || Var(54) > 3
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 80]
triggerall = FVar(26) >= 0
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [800, 849 +150*(Var(15) > 0)]) && FVar(34) = 2
trigger2 = StateNo = 210 || StateNo = 410
trigger2 = (Var(58) = [800, 899 +100*(Var(15) > 0)]) && FVar(34) = 2

[State -1, AI Quick Power MAX] ;クイックパワーMAX
type = ChangeState
value = 2010 +10*(StateType = A)
triggerall = Var(59) > 0
triggerall = Var(15) = 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 10, 160)*Var(54) || Var(54) > 3
triggerall = Power >= 2000
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = HitDefAttr = SCA, NA && MoveContact
triggerall = (StateNo != [2050, 2060]) && (StateNo != [2070, 2080])
triggerall = MoveHit || (MoveGuarded && (P2StateNo = [5910, 5930]) && Var(54) > 3)
triggerall = Var(8) = 0 || Var(54) < 3
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 230 || StateNo = 400 || StateNo = 430
trigger1 = (Var(58) = [850, 999]) && FVar(34) = 2
trigger2 = StateNo = 210 || StateNo = 410
trigger2 = (Var(58) = [900, 999]) && FVar(34) = 2


;---------------------------------------------------------------------------
;▼連続技（地上・ガードされたら）▼


[State -1, AI Phantom Outrager Kick] ;通り魔蹴り
type = ChangeState
value = 700
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 150*Var(54), 100)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) < 50
triggerall = FVar(26) >= -10
triggerall = MoveContact
trigger1 = StateNo = 200 && Var(54) < 4
trigger2 = StateNo = 205 && Var(54) < 4
trigger3 = StateNo = 210
trigger4 = StateNo = 230 && Var(54) < 4
trigger5 = StateNo = 400 && Var(54) < 4
trigger6 = StateNo = 410

[State -1, AI Light Twisting Flight Monkey Trounce] ;回転飛猿斬（弱）
type = ChangeState
value = 1250
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 100 +60*Var(54), 340)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) <= 37 -22*(Var(54) >= 4)
triggerall = FVar(26) >= -10
triggerall = MoveContact
trigger1 = StateNo = 210
trigger2 = StateNo = 410
trigger3 = StateNo = 2050

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（弱）
type = ChangeState
value = 1050
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 85*Var(54), 340)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = FrontEdgeBodyDist < 30 || BackEdgeBodyDist < 30
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Const(Size.Head.Pos.Y) <= -30
triggerall = MoveGuarded
trigger1 = StateNo = 200
trigger2 = StateNo = 205
trigger3 = StateNo = 210
trigger4 = StateNo = 230
trigger5 = StateNo = 400
trigger6 = StateNo = 410
trigger7 = StateNo = 2050

[State -1, AI MC Light Spatial Separator] ;飛翔空裂斬（弱） どこキャン
type = ChangeState
value = 1059
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 85*Var(54), 340)
triggerall = NumEnemy
triggerall = StateType != A
triggerall = FrontEdgeBodyDist < 30 || BackEdgeBodyDist < 30
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Const(Size.Head.Pos.Y) <= -30
triggerall = MoveContact
triggerall = Var(15) > 0
triggerall = !(StateNo = [1000, 1049])
triggerall = !(StateNo = 119 && (Var(19) = [1000, 1049]))
triggerall = !(StateNo = 200 && MoveContact)
triggerall = !(StateNo = 205 && MoveContact)
triggerall = !(StateNo = 210 && MoveContact)
triggerall = !(StateNo = 230 && MoveContact)
triggerall = !(StateNo = 400 && MoveContact)
triggerall = !(StateNo = 410)
triggerall = !(StateNo = 2050)
trigger1 = (StateNo = [200, 799])
trigger2 = (StateNo = [1000, 1999])
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999])

[State -1, AI Quick Evasion] ;クイック緊急回避（前方）
type = ChangeState
value = 2210
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, 10, 20)*Var(54)
triggerall = Power >= 1000
triggerall = StateType != A
triggerall = (StateNo != [2050, 2060]) && (StateNo != [2070, 2080])
trigger1 = StateNo = 440 && MoveGuarded && (FVar(25) < 10 || EnemyNear(Var(32)), Vel X > 0)
trigger2 = StateNo = 240 && MoveGuarded && (FVar(25) < 11 || EnemyNear(Var(32)), Vel X > 0)
ignorehitpause = 1

[State -1, AI Quick Evasion] ;クイック緊急回避（後方）
type = ChangeState
value = 2260
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, 10, 20)*Var(54)
triggerall = Power >= 1000
triggerall = StateType != A
triggerall = (StateNo != [2050, 2060]) && (StateNo != [2070, 2080])
trigger1 = StateNo = 240 && MoveGuarded && FVar(25) < 11
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼連続技（空中・どこキャン）▼

[State -1, AI Direction Change Front] ;方向転換（前）
type = ChangeState
value = 1120
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = Random < 90*Var(54)
triggerall = MoveContact && (Var(6) < 2 || P2StateType = A)
triggerall = Random <= 190*Var(54) || Var(54) > 5
triggerall = FVar(25) > -20
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = (FVar(33) > 14 && Var(54) > 5) || Var(54) <= 5
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130

[State -1, AI MC Light Flying Kick] ;飛翔脚（弱） どこキャン
type = ChangeState
value = 1159
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 2, 30, 100)*Var(54) || Var(54) > 3
triggerall = StateType = A
triggerall = Var(15) > 200
triggerall = !(StateNo = [1150, 1199])
triggerall = !(StateNo = 119 && (Var(19) = [1150, 1199]))
triggerall = !(StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact)
triggerall = !(StateNo = 1252 || StateNo = 1262)
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = !InGuardDist
triggerall = EnemyNear(Var(32)), Alive
triggerall = FVar(25) >= 0
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType = A
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5930]) || Var(54) < 3))
trigger1 = StateNo = [1000, 1049]
trigger2 = StateNo = 1070 && Var(5) > 0 && Var(6) = 1
trigger3 = StateNo = 119 && Var(19) = 1070 && Var(5) > 0 && Var(6) = 1
trigger4 = StateNo = 1080 && Var(5) > 0 && Var(6) = 1
trigger5 = StateNo = 119 && Var(19) = 1080 && Var(5) > 0 && Var(6) = 1
trigger6 = StateNo = 1101 && Var(5) > 0 && Var(6) = 1
trigger7 = StateNo = 119 && Var(19) = 1101 && Var(5) > 0 && Var(6) = 1
trigger8 = StateNo = 1111 && Var(5) > 0 && Var(6) = 1
trigger9 = StateNo = 119 && Var(19) = 1111 && Var(5) > 0 && Var(6) = 1
trigger10 = StateNo = 1130 && Var(5) > 0 && Var(6) = 1
trigger11 = StateNo = 119 && Var(19) = 1130 && Var(5) > 0 && Var(6) = 1

[State -1, AI Strong Toppa] ;真！超絶輪回転突刃（強）
type = ChangeState
value = 3060
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 3, 40*Var(54), 400) || Var(54) > 4
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = Var(15) > 0
triggerall = StateType = A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-20, 45]
triggerall = FVar(26) >= (10 -30*(P2StateType = A))
triggerall = Pos Y > -40 || FrontEdgeBodyDist < 30
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5939]) || Var(54) < 3))
triggerall = Var(15) > 0
trigger1 = (StateNo = [200, 1999])
trigger1 = (StateNo != [800, 899])
trigger2 = StateNo = 119 && (Var(19) = [1000, 1999])


;---------------------------------------------------------------------------
;▼連続技（空中）▼

[State -1, AI Direction Change DF] ;方向転換（前斜め下）
type = ChangeState
value = 1124
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = Random < IfElse(MoveGuarded && Var(6) < 2, 90, 30)*Var(54)
triggerall = (MoveHit && Var(6) >= 2) || MoveGuarded
triggerall = Random < 190*Var(54)
triggerall = FVar(25) = [-20, 50]
triggerall = FVar(26) > -10 || P2StateType != A
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = (FVar(33) > 14 && Var(54) > 5) || Var(54) <= 5
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 1111
trigger7 = StateNo = 1130
trigger8 = StateNo = 119 && Var(19) = 1130

[State -1, AI Direction Change DF] ;方向転換（前斜め上）
type = ChangeState
value = 1125
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = Random < IfElse(MoveGuarded && Var(6) < 2, 90, 30)*Var(54)
triggerall = (MoveHit && Var(6) >= 2) || MoveGuarded
triggerall = Random <= 190*Var(54)
triggerall = FVar(25) = [-20, 50]
triggerall = FVar(26) >= -10 && P2StateType = A
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = (FVar(33) > 14 && Var(54) > 5) || Var(54) <= 5
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 1111
trigger7 = StateNo = 1130
trigger8 = StateNo = 119 && Var(19) = 1130

[State -1, AI Direction Change Front] ;方向転換（前）
type = ChangeState
value = 1120
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = Random < 90*Var(54)
triggerall = MoveContact && (Var(6) < 2 || P2StateType = A)
triggerall = Random <= 190*Var(54) || Var(54) > 5
triggerall = FVar(25) > -20
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = (FVar(33) > 14 && Var(54) > 5) || Var(54) <= 5
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130

[State -1, AI Direction Change DB] ;方向転換（後ろ斜め下）
type = ChangeState
value = 1121
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = (Var(6) >= 2 && Var(5) < 10 && Vel X > 0) || (MoveGuarded && Var(6) >= 1)
triggerall = Random < IfElse(Var(54) < 5, 10, 70)*Var(54)
triggerall = FVar(25) < 20
triggerall = Pos Y > -20
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130

[State -1, AI Direction Change Back] ;方向転換（後ろ）
type = ChangeState
value = 1121
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = (Var(6) >= 2 && Var(5) < 10 && Vel X > 0) || (MoveGuarded && Var(6) >= 1)
triggerall = Random < IfElse(Var(54) < 5, 10, 70)*Var(54)
triggerall = FVar(25) < 20
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130

[State -1, AI Light Flying Kick] ;飛翔脚（弱）
type = ChangeState
value = 1150
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 100 +60*Var(54), 340) || Var(54) > 3
triggerall = NumEnemy
triggerall = StateType = A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-20, 35]
triggerall = FVar(26) >= 10
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = (Pos Y +19*(Vel Y +0.5*19*Const(Movement.YAccel))) <= 0 || (P2StateType = A && Var(8) = 0)
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5939]) || Var(54) < 3))
trigger1 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact

[State -1, AI Strong Toppa] ;真！超絶輪回転突刃（強）
type = ChangeState
value = 3060
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 100 +60*Var(54), 340) || Var(54) > 3
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType = A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = !(StateNo = 1252 || StateNo = 1262)
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-20, 35]
triggerall = FVar(26) >= 10
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType != A
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5939]) || Var(54) < 3))
trigger1 = StateNo = 615 && AnimElemTime(3) >= 0
trigger2 = (StateNo = [200, 1999]) && Var(15) > 0
trigger2 = (StateNo != [800, 899])
trigger3 = StateNo = 119 && (Var(19) = [1000, 1999]) && Var(15) > 0

[State -1, AI Strong Toppa] ;真！超絶輪回転突刃（強）
type = ChangeState
value = 3060
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 3, 40*Var(54), 400) || Var(54) > 3
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType = A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-20, 35]
triggerall = FVar(26) >= 10
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType != A
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5939]) || Var(54) < 3))
trigger1 = StateNo = 615 && AnimElemTime(3) >= 0
trigger1 = (Var(58) = [800, 999]) && FVar(34) = 1
trigger2 = StateNo = 615 && AnimElemTime(3) >= 0
trigger2 = (Var(58) = [0, 999]) && FVar(34) = 2

[State -1, AI Strong Toppa] ;真！超絶輪回転突刃（強） スーパーキャンセル
type = ChangeState
value = 3060
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 3, 40*Var(54), 400) || Var(54) > 3
triggerall = NumEnemy
triggerall = Power >= 2000
triggerall = Var(15) = 0
triggerall = StateType = A
triggerall = Life < (LifeMax*0.5) || Var(54) > 2
triggerall = !(StateNo = 1252 || StateNo = 1262)
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = FVar(25) = [-20, 35]
triggerall = FVar(26) >= 10
triggerall = Var(8) = 0 || Var(54) < 3
triggerall = P2StateType != A
triggerall = MoveHit || (MoveGuarded && ((P2StateNo = [5910, 5939]) || Var(54) < 3))
trigger1 = (StateNo = [1050, 1099])
trigger2 = (StateNo = [1150, 1199])
trigger2 = Pos Y > -10

[State -1, Shakushi] ;杓死
type = ChangeState
value = 3200
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 1, 70)*Var(54), 240)
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = Life <= (LifeMax*0.3)
triggerall = StateType = A
triggerall = EnemyNear(Var(32)), Alive
triggerall = P2MoveType = H
triggerall = !InGuardDist
triggerall = (Pos Y +19*(Vel Y +0.5*19*Const(Movement.YAccel))) <= 0
trigger1 = StateNo = 615 && AnimElemTime(3) >= 0 && MoveContact


;---------------------------------------------------------------------------
;▼移動▼

[State -1, AI Jump] ;ジャンプ
type = ChangeState
value = 40
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = Ctrl || (StateNo = 12 && Time > 0)
trigger1 = Random < IfElse(Var(54) < 5, 120*Var(54), 600)
trigger1 = FVar(25) > 170 || Var(54) < 5
trigger2 = Random < 70 && Var(54) >= 4

[State -1, AI Dash] ;ダッシュ
type = ChangeState
value = 100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = S
triggerall = Ctrl || (StateNo = 12 && Time > 0)
triggerall = StateNo != 100 && PrevStateNo != 100
triggerall = P2StateType != L
triggerall = P2MoveType = I
triggerall = !InGuardDist
trigger1 = Random < Var(54)*150
trigger1 = FVar(25) >= 30

[State -1, AI Back Step] ;バックステップ
type = ChangeState
value = 105
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = S
triggerall = Ctrl || StateNo = 100
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2StateNo != [120, 159]
triggerall = BackEdgeBodyDist > 50
trigger1 = FVar(25) <= 20
trigger1 = Random < 40*Var(54)

[State -1, AI Evasion Fwd] ;前方緊急回避
type = ChangeState
value = 2200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || StateNo = 11 || (StateNo = 12 && Time > 0)
triggerall = P2StateType != L
triggerall = P2MoveType = I
triggerall = !InGuardDist
triggerall = Random < Var(54)*60
trigger1 = FVar(25) < 3
trigger2 = FVar(25) < 15
trigger2 = EnemyNear(Var(32)), Vel X > 0
trigger2 = P2StateType = A

[State -1, AI Strong Spatial Separator] ;飛翔空裂斬（強）
type = ChangeState
value = 1060
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || StateNo = 40
triggerall = ((StateNo != 20 || StateNo != 100) && Var(54) <= 2) || Var(54) > 2
triggerall = P2StateType != L
triggerall = P2MoveType = I
triggerall = !InGuardDist
triggerall = Random < Var(54)*60
trigger1 = FVar(25) < 10
trigger2 = FVar(25) < 55
trigger2 = EnemyNear(Var(32)), Vel X > 0
trigger2 = P2StateType = A

[State -1, AI Direction Change] ;方向転換（ランダム）
type = ChangeState
value = 1120 +Random%8
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Var(6) < 3
triggerall = Var(5) > 0
triggerall = P2StateType != L
triggerall = P2MoveType = I
triggerall = !InGuardDist
triggerall = Random < 5*Var(54)
triggerall = Abs(FVar(25) -10*FVar(38) > 100)
trigger1 = StateNo = 1070
trigger2 = StateNo = 119 && Var(19) = 1070
trigger3 = StateNo = 1080
trigger4 = StateNo = 119 && Var(19) = 1080
trigger5 = StateNo = 1101
trigger6 = StateNo = 119 && Var(19) = 1101
trigger7 = StateNo = 1111
trigger8 = StateNo = 119 && Var(19) = 1111
trigger9 = StateNo = 1130
trigger10 = StateNo = 119 && Var(19) = 1130


;---------------------------------------------------------------------------
;▼ぶっぱなし▼

[State -1, AI Jump] ;ジャンプ
type = ChangeState
value = 40
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2MoveType = A || EnemyNear(Var(32)), Ctrl
trigger1 = Var(54) < 3
trigger1 = Random < 35*(3-Var(54))

[State -1, AI Light Hurricane Cutter] ;竜巻疾風斬（弱）
type = ChangeState
value = 1000
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || StateNo = 40
triggerall = ((StateNo != 20 && StateNo != 100) && Var(54) <= 2) || Var(54) > 2
triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2MoveType = A || EnemyNear(Var(32)), Ctrl
trigger1 = Var(54) < 3
trigger1 = Random < 8*Var(54)
trigger2 = Var(54) = [3, 5]
trigger2 = Random < 8*(5-Var(54))

[State -1, AI Whirlwind Monkey Slash] ;旋風飛猿刺突
type = ChangeState
value = 1100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2MoveType = A || EnemyNear(Var(32)), Ctrl
triggerall = (StateNo != 100 && Var(54) <= 2) || Var(54) > 2
triggerall = !(StateNo = 20 && Vel X >= 0) || Var(54) > 2
trigger1 = Var(54) < 3
trigger1 = Random < 35*Var(54)
trigger2 = Var(54) = [3, 5]
trigger2 = Random < 35*(5-Var(54))

[State -1, AI Light Phoenix Flattener] ;鳳凰脚（通常版・弱）
type = ChangeState
value = 3100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2MoveType = A || EnemyNear(Var(32)), Ctrl
trigger1 = Var(54) < 3
trigger1 = Random < 100*Var(54)
trigger2 = Var(54) = [3, 5]
trigger2 = Random < 100*(5-Var(54))


;---------------------------------------------------------------------------
.;▼投げ（地上）▼

[State -1, AI Neck Slash] ;頭乗刺し
type = ChangeState
value = 800
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 20, 50)*Var(54)
triggerall = NumEnemy
triggerall = statetype = S
triggerall = Ctrl && StateNo != 100
triggerall = P2StateType != L
triggerall = P2MoveType != H
trigger1 = FVar(25) <= 11
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H

[State -1, AI Enema] ;下血突き
type = ChangeState
value = 850
triggerall = Var(59) > 0
triggerall = Random < IfElse(Var(54) < 4, 20, 50)*Var(54)
triggerall = NumEnemy
triggerall = statetype = S
triggerall = Ctrl && StateNo != 100
triggerall = P2StateType != L
triggerall = P2MoveType != H
trigger1 = FVar(25) <= 11
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H


;---------------------------------------------------------------------------
;▼対空（空中）▼

[State -1, AI Tornado Ripper] ;真！超絶竜巻真空斬
type = ChangeState
value = 3000
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Power >= (1000 -1000*(Var(15) > 0))
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0)
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -20*FVar(38)) = [-20, 40]
triggerall = (FVar(26) -20*(FVar(39) +0.5*20*FVar(36))) = [-210, 0 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +20*(EnemyNear(Var(32)), Vel Y +0.5*20*FVar(36))) <= -10
triggerall = P2StateType = A
trigger1 = Random < IfElse(Var(54) = 1, 50, IfElse(Var(54) < 4, 100*Var(54), 400))

[State -1, AI Jump] ;ジャンプ
type = ChangeState
value = 40
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [-32, 39]
triggerall = FVar(26) >= -60
triggerall = P2StateType = A
triggerall = Ctrl || StateNo = 40
triggerall = ((StateNo != 20 && StateNo != 100) && Var(54) <= 2) || Var(54) > 2
triggerall = BackEdgeBodyDist < 40 || FrontEdgeBodyDist > 40
trigger1 = Var(54) < 3
trigger1 = Random < 35 +10*Var(54)

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（強）
type = ChangeState
value = 1060
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [-32, 39]
triggerall = FVar(26) >= -60
triggerall = P2StateType = A
triggerall = Ctrl || StateNo = 40
triggerall = ((StateNo != 20 && StateNo != 100) && Var(54) <= 2) || Var(54) > 2
triggerall = BackEdgeBodyDist < 40 || FrontEdgeBodyDist > 40
trigger1 = Random < IfElse(Var(54) < 5, 70*Var(54), 350)

[State -1, AI Light Hurricane Cutter] ;竜巻疾風斬（弱）
type = ChangeState
value = 1000
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FrontEdgeBodyDist < 50 || (FVar(25) -4*FVar(38)) < 0
triggerall = (FVar(25) -4*FVar(38)) = [-40, 40]
triggerall = (FVar(26) -4*(FVar(39) +0.5*4*FVar(36))) >= -60
triggerall = P2StateType = A || (FVar(25) = [-40, 0])
triggerall = Ctrl || (StateNo = 10 && Time > 0) || (StateNo = 12 && Time > 0) || StateNo = 40
triggerall = ((StateNo != 20 && StateNo != 100) && Var(54) <= 2) || Var(54) > 2
trigger1 = Random < IfElse(Var(54) < 3, 135*Var(54), 405)

[State -1, AI CD] ;地上ふっ飛ばし攻撃
type = ChangeState
value = 2050
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -17*FVar(38)) = [0, 64]
triggerall = (FVar(26) -17*(FVar(39) +0.5*17*FVar(36))) = [-70, -32 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +17*(EnemyNear(Var(32)), Vel Y +0.5*17*FVar(36))) <= -10
triggerall = P2StateType = A
trigger1 = Random < 90*Var(54)

[State -1, AI Far Stand Strong Punch] ;遠距離立ち強パンチ
type = ChangeState
value = 215
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) >= 20
triggerall = (FVar(25) -6*FVar(38)) <= 40
triggerall = (FVar(26) -6*(FVar(39) +0.5*6*FVar(36))) = [-102, -61 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +6*(EnemyNear(Var(32)), Vel Y +0.5*6*FVar(36))) <= -20
triggerall = P2StateType = A
trigger1 = Random < 135*Var(54)


;---------------------------------------------------------------------------
;▼下段（地上）▼

[State -1, AI Crouching Light Punch] ;しゃがみ弱パンチ
type = ChangeState
value = 400
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [2, 25]
triggerall = P2StateType = S
trigger1 = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 60)*Var(54), 300)

[State -1, AI Crouching Light Kick] ;しゃがみ弱キック
type = ChangeState
value = 430
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 34]
triggerall = P2StateType = S
trigger1 = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 60)*Var(54), 300)


;---------------------------------------------------------------------------
;▼中段（地上）▼


;---------------------------------------------------------------------------
;▼牽制（地上）▼

[State -1, AI Light Flying Monkey Ambush] ;奇襲飛猿突き（弱）
type = ChangeState
value = 1270
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 1, 50)*Var(54), 650)
triggerall = StateType != A
triggerall = !MoveContact
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -20*FVar(38)) = [56, 127 +40*(Var(54) < 3)]
triggerall = (FVar(26) -20*(FVar(39) +0.5*20*FVar(36)))  = [-58, -18*(P2StateType = A)]
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0

[State -1, AI Strong Flying Monkey Ambush] ;奇襲飛猿突き（強）
type = ChangeState
value = 1280
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 1, 50)*Var(54), 650)
triggerall = StateType != A
triggerall = !MoveContact
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -32*FVar(38)) = [130, 200 +40*(Var(54) < 3)]
triggerall = (FVar(26) -32*(FVar(39) +0.5*32*FVar(36)))  = [-58, -18*(P2StateType = A)]
trigger1 = StateNo = 1250 && AnimElemTime(3) >= 0 && AnimElemTime(21) < 0
trigger2 = StateNo = 1260 && AnimElemTime(4) >= 0 && AnimElemTime(28) < 0

[State -1, AI Near Stand Strong Punch] ;近距離立ち弱パンチ
type = ChangeState
value = 200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = FVar(25) < 20
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 20)
triggerall = FVar(26) >= 0
trigger1 = Random < IfElse(Var(54) < 5, 60*Var(54), 300)

[State -1, AI Crouching Light Kick] ;しゃがみ弱キック
type = ChangeState
value = 430
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [0, 34]
triggerall = FVar(26) >= 0
trigger1 = Random < IfElse(Var(54) < 5, 50*Var(54), 200)

[State -1, AI Crouching Light Punch] ;しゃがみ弱パンチ
type = ChangeState
value = 400
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -4*FVar(38)*(P2StateType = A)) = [0, 24]
triggerall = (FVar(26) -4*(FVar(39) +0.5*4*FVar(36))*(P2StateType = A)) >= 0
trigger1 = Random < IfElse(Var(54) < 5, 50*Var(54), 200)

[State -1, AI Far Stand Light Punch] ;遠距離立ち弱パンチ
type = ChangeState
value = 205
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = FVar(25) >= 20
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -5*FVar(38)*(P2StateType = A)) = [0, 56]
triggerall = (FVar(26) -5*(FVar(39) +0.5*5*FVar(36))*(P2StateType = A)) >= 0
trigger1 = Random < IfElse(Var(54) < 5, 80*Var(54), 400)

[State -1, AI Crouching Strong Kick] ;しゃがみ強キック
type = ChangeState
value = 440
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -11*FVar(38)*(P2StateType = A)) = [5, 58]
triggerall = (FVar(26) -11*(FVar(39) +0.5*11*FVar(36))*(P2StateType = A)) >= -10
trigger1 = Random < IfElse(Var(54) < 5, 60*Var(54), 90)

[State -1, AI Far Stand Strong Punch] ;遠距離立ち強パンチ
type = ChangeState
value = 215
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 12 && Time > 0)
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) >= 20
triggerall = (FVar(25) -12*FVar(38)) = [-20, 34]
triggerall = (FVar(26) -12*(FVar(39) +0.5*11*FVar(36))) = [-100, -60 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = (EnemyNear(Var(32)), Pos Y +12*(EnemyNear(Var(32)), Vel Y +0.5*11*FVar(36))) < -10 || P2StateType != A
triggerall = (P2StateNo != [120, 159]) || P2StateType = A
triggerall = Enemy(Var(32)),Const(Size.Head.Pos.Y) < -50 || P2StateType = A
trigger1 = Random < IfElse(Var(54) < 5, 25*Var(54), 125)

[State -1, AI Whirlwind Monkey Slash] ;旋風飛猿刺突
type = ChangeState
value = 1100
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl
triggerall = (StateNo != 100 && !(StateNo = 20 && Vel X > 0 && Time > 1) && Var(54) <= 2) || Var(54) > 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [120, 200]
triggerall = FVar(26) -21*(FVar(39) +0.5*21*FVar(36)) = [-90, -10]
triggerall = IfElse(Var(54) < 5, Random < 30*Var(54), 150) +50*(P2StateType = A || P2StateNo = 40)
trigger1 = (P2StateNo != [120, 159]) || P2StateType = A
trigger2 = P2MoveType = A && !(EnemyNear(Var(32)), HitDefAttr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT)
trigger2 = Var(53) = 1 || Var(54) < 3

[State -1, AI Strong Twisting Flight Monkey Trounce] ;回転飛猿斬（強）
type = ChangeState
value = 1260
triggerall = Var(59) > 0
triggerall = Var(54) <= 5
triggerall = NumEnemy
triggerall = statetype != A
triggerall = Ctrl
triggerall = ((StateNo != 0 && StateNo != 20 && StateNo != 100) && Var(54) <= 2) || Var(54) > 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) = [100*(Var(54) >= 4), 200]
triggerall = FVar(26) >= -10
;triggerall = (P2StateNo != [120, 159]) || P2StateType = A
trigger1 = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 5, 40)*Var(54), 200)

[State -1, AI Strong Spatial Separator] ;飛翔空裂斬（強）
type = ChangeState
value = 1060
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 40)
triggerall = (StateNo != 100 && StateNo != 20 && StateNo != 0 && Var(54) <= 2) || Var(54) > 2
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) > 70
triggerall = BackEdgeBodyDist < 40
triggerall = P2StateType != A
triggerall = (P2StateNo != [120, 159]) && P2StateType != A
trigger1 = Random < IfElse(Var(54) < 5, 6*Var(54), 5)
trigger2 = Var(54) > 3
trigger2 = Var(15) = 0
trigger2 = Power < PowerMax
trigger2 = Power < 3000
trigger2 = Random < 100
trigger2 = FVar(25) > 140

[State -1, AI Light Spatial Separator] ;飛翔空裂斬（弱）
type = ChangeState
value = 1050
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType != A
triggerall = Ctrl || (StateNo = 40)
triggerall = (StateNo != 100 && StateNo != 20 && StateNo != 0 && Var(54) <= 2) || Var(54) > 2
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = FVar(25) > 70
triggerall = BackEdgeBodyDist < 40
triggerall = P2StateType != A
triggerall = (P2StateNo != [120, 159]) && P2StateType != A
trigger1 = Random < IfElse(Var(54) < 5, 6*Var(54), 5)
trigger2 = Var(54) > 3
trigger2 = Var(15) = 0
trigger2 = Power < PowerMax
trigger2 = Power < 3000
trigger2 = Random < 100
trigger2 = FVar(25) > 140

[State -1, Power MAX] ;パワーMAX発動
type = ChangeState
value = 2000
triggerall = Var(59) > 0
triggerall = Var(15) = 0
triggerall = Random < IfElse(Var(54) < 5, 30*Var(54), 30*(Floor(Power/1000) -1))
triggerall = Power >= 1000
triggerall = FVar(25) > 140
triggerall = !InGuardDist
trigger1 = StateType != A
trigger1 = Ctrl


;---------------------------------------------------------------------------
;▼ぶっぱなし（空中）▼

[State -1, AI Shakushi] ;杓死
type = ChangeState
value = 3200
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = Power >= (3000 -2000*(Var(15) > 0))
triggerall = Life <= (LifeMax*0.3)
triggerall = StateType = A
triggerall = Ctrl
triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = P2MoveType = A || EnemyNear(Var(32)), Ctrl
trigger1 = Var(54) < 3
trigger1 = Random < 95*Var(54)
trigger2 = Var(54) = [3, 6]
trigger2 = Random < 95*(6-Var(54))


;---------------------------------------------------------------------------
.;▼投げ技（空中）▼


;---------------------------------------------------------------------------
;▼対空（空中）▼

[State -1, AI Jump Strong Punch] ;垂直空中強パンチ
type = ChangeState
value = 610
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X = 0
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = (FVar(25) -6*FVar(38)) = [2, 51]
triggerall = !InGuardDist
triggerall = P2StateType = A
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 200)
trigger1 = (FVar(26) -6*(FVar(39) +0.5*5*FVar(35))) = [-42, -18 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]

[State -1, AI Jump Strong Punch] ;斜め空中強パンチ
type = ChangeState
value = 615
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X != 0 || (Var(0) = [1, 2])
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 200)
triggerall = P2StateType = A
trigger1 = (FVar(25) -5*FVar(38)) = [-26, 53]
trigger1 = (FVar(26) -5*(FVar(39) +0.5*5*FVar(35))) = [-71, -18 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]


;---------------------------------------------------------------------------
;▼下段（空中）▼


;---------------------------------------------------------------------------
;▼中段▼

[State -1, AI Jump Strong Punch] ;斜め空中強パンチ
type = ChangeState
value = 615
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Vel X != 0 || (Var(0) = [1, 2])
triggerall = StateNo = 50 && Pos Y >= -20 && Vel Y > -1
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -5*FVar(38)) = [-20, 50]
triggerall = (FVar(26) -5*(FVar(39) +0.5*5*FVar(35))) = [-71, -38 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = P2StateType = C
trigger1 = Random < 90*Var(54)

[State -1, AI Jump Strong Punch] ;斜め空中強キック
type = ChangeState
value = 645
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Vel X != 0 || (Var(0) = [1, 2])
triggerall = StateNo = 50 && Pos Y >= -20 && Vel Y > -1
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -7*FVar(38)) = [-7, 38]
triggerall = (FVar(26) -7*(FVar(39) +0.5*7*FVar(35))) = [-55, -23 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
triggerall = P2StateType = C
trigger1 = Random < 90*Var(54)


;---------------------------------------------------------------------------
;▼牽制（空中）▼

[State -1, AI Jump Strong Punch] ;垂直空中強パンチ
type = ChangeState
value = 610
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X = 0
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = (FVar(25) -6*FVar(38)) = [2, 51]
triggerall = !InGuardDist
triggerall = P2StateType = A
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 300)
trigger1 = (FVar(26) -6*(FVar(39) +0.5*6*FVar(35))) = [-42, -18 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger2 = (Pos Y +13*(Vel Y +0.5*13*Const(Movement.YAccel))) >= 0 || P2StateType = A

[State -1, AI Jump Strong Punch] ;斜め空中強パンチ
type = ChangeState
value = 615
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X != 0 || (Var(0) = [1, 2])
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 400)
trigger1 = (FVar(25) -5*FVar(38)) = [-26, 53]
trigger1 = (FVar(26) -5*(FVar(39) +0.5*5*FVar(35))) = [-71, -18 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger1 = (Pos Y +11*(Vel Y +0.5*11*Const(Movement.YAccel))) >= 0 || P2StateType = A
trigger2 = P2StateType != A
trigger2 = (FVar(25) -5*FVar(38)) = [-26, 53]
trigger2 = (FVar(26) -5*(FVar(39) +0.5*5*FVar(35))) = [-71, -18 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger2 = (Pos Y +15*(Vel Y +0.5*15*Const(Movement.YAccel))) >= 0
trigger3 = P2StateType != A
trigger3 = (FVar(25) -9*FVar(38)) = [-50, 13]
trigger3 = (FVar(26) -9*(Vel Y +0.5*9*Const(Movement.YAccel))) = [-38, 4 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger3 = (Pos Y +15*(Vel Y +0.5*15*Const(Movement.YAccel))) >= 0
trigger4 = P2StateType != A
trigger4 = (FVar(25) -9*FVar(38)) = [-50, 13]
trigger4 = (FVar(26) -9*(Vel Y +0.5*9*Const(Movement.YAccel))) = [-38, 4 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger4 = (Pos Y +20*(Vel Y +0.5*20*Const(Movement.YAccel))) >= 0

[State -1, AI Jump Light Punch] ;空中弱パンチ
type = ChangeState
value = 600 +5*(Vel X != 0 || (Var(0) = [1, 2]))
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) -5*FVar(38)) = [4, 48]
triggerall = (P2StateNo != [120, 159])
triggerall = (P2StateType != A && Vel Y > 0) || P2StateType = A
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 15, 50)*Var(54), 350)
trigger1 = P2StateType = A
trigger1 = (FVar(26) -5*(FVar(39) +0.5*5*FVar(35))) = [-51, -36 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]

[State -1, AI Jump Strong Kick] ;垂直空中強キック
type = ChangeState
value = 640
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X = 0
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (P2StateNo != [120, 159])
triggerall = P2StateType = A || (P2StateType != A && Vel Y >= 0) || Vel X < 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 300)
trigger1 = (FVar(25) -7*FVar(38)) = [0, 26]
trigger1 = (FVar(26) -7*(FVar(39) +0.5*7*FVar(35))) = [-43, -14 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger1 = (Pos Y +13*(Vel Y +0.5*13*Const(Movement.YAccel))) >= 0 || P2StateType = A

[State -1, AI Jump Strong Kick] ;斜め空中強キック
type = ChangeState
value = 645
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Vel X != 0 || (Var(0) = [1, 2])
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (P2StateNo != [120, 159])
triggerall = P2StateType = A || (P2StateType != A && Vel Y >= 0) || Vel X < 0
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 300)
trigger1 = (FVar(25) -7*FVar(38)) = [-5, 40]
trigger1 = (FVar(26) -7*(FVar(39) +0.5*7*FVar(35))) = [-55, -9 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger1 = Pos Y +13*(Vel Y +0.5*13*Const(Movement.YAccel)) >= 0 || P2StateType = A

[State -1, AI JCD] ;空中ふっ飛ばし攻撃
type = ChangeState
value = 2060
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = statetype = A
triggerall = Ctrl
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (P2StateNo != [120, 159]) || P2StateType != A
triggerall = Random < IfElse(Var(54) < 5, IfElse(Var(54) < 3, 20, 40)*Var(54), 200)
trigger1 = (FVar(25) -7*FVar(38)) = [-12, 50]
trigger1 = (FVar(26) -7*(FVar(39) +0.5*7*FVar(35))) = [-62, -16 -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)]
trigger1 = (Pos Y +28*(Vel Y +0.5*28*Const(Movement.YAccel))) >= 0 || (Abs(FVar(25) -28*FVar(38)) > 30)

[State -1, AI Light Flying Kick] ;飛翔脚（弱）
type = ChangeState
value = 1150
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = Ctrl || StateNo = 105 || (StateNo = 1252 || StateNo = 1262)
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (P2StateNo != [120, 159]) || P2StateType = A
trigger1 = Random < IfElse(Var(54) < 4, 20*Var(54), 80)
trigger1 = (FVar(25) = [-26, 21 -10*(Var(54) < 5)]) || (FVar(25) >= 260 && (Power < 1000 && Var(15) = 0 && Power < PowerMax))
trigger1 = FVar(26) >= 40 || ((FVar(26) < -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)*IfElse(P2StateType = C, 0.5, 1)) && Var(54) > 2)

[State -1, Strong Flying Kick] ;飛翔脚（強）
type = ChangeState
value = 1160
triggerall = Var(59) > 0
triggerall = NumEnemy
triggerall = StateType = A
triggerall = (FVar(25) = [-26, 21]) || FVar(25) >= 150
triggerall = FVar(26) >= 40
triggerall = Ctrl || StateNo = 105 || (StateNo = 1252 || StateNo = 1262)
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = !InGuardDist
triggerall = (FVar(25) = [-26, 21]) || (FVar(25) >= 260 && (Power < 1000 && Var(15) = 0 && Power < PowerMax))
triggerall = FVar(26) >= 40 || ((FVar(26) < -EnemyNear(Var(32)), Const(Size.Head.Pos.Y)*IfElse(P2StateType = C, 0.5, 1)) && Var(54) > 2)
triggerall = (P2StateNo != [120, 159]) || P2StateType = A
trigger1 = Random < IfElse(Var(54) < 4, 20*Var(54), 80)


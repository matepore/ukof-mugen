[Statedef -2]


;====================================================================================================
;■西行寺幽々子　霊符及び寿命相手ステート
;====================================================================================================
[State -2, LifeAdd]
Type       = LifeAdd
triggerall = !IsHelper
TriggerAll = NumEnemy           >= 1
TriggerAll = Enemy,AuthorName    = "Souki" && Enemy,Name   = "Yuyuko Saigyouji"
Trigger1   = Enemy,Var(3)        = 1       || Enemy,Var(3) = 2
Trigger1   = GameTime%6          = 0
Value      = IfElse(Enemy,Var(3) = 1, -2, -3)
Kill       = 0


;---------------------------------------------------------------------------
;獣を焦がす　相手用
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -5
Kill = 0

[State -2]
Type = PowerAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -26


;-------------------------------------
;毒効果（ドロウィンアルカナ)
[state -2, 0]
type = poweradd
triggerall = !IsHelper
triggerall = enemy,authorname = "Drowin arcana"
triggerall = enemy,fvar(20) > 0
trigger1 = power > 0
value = -1
[state -2, 0]
type = lifeadd
triggerall = !IsHelper
triggerall = enemy,authorname = "Drowin arcana"
triggerall = enemy,fvar(20) > 0
trigger1 = gametime % 7 = 0
value = -1
kill = 0
[State -2,0]
type = Palfx
triggerall = !IsHelper
triggerall = enemy,authorname = "Drowin arcana"
trigger1 = enemy,fvar(20) > 0
add = 100,0,110
mul = 220,220,220
time = 5
ignorehitpause = 1

;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/                       ■脱魂の儀 制御                                _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;振り向き抑制
[State pos moving]
type = AssertSpecial
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
flag = noautoturn

;移動
[State pos moving]
type = Posadd
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
x = -ceil(enemynear,fVar(36))*facing*enemynear,facing
y = -ceil(enemynear,fVar(37))*(statetype!=L)

;statetype!=A+statetype!=Lの場合強制落下stateへ
[State pos moving]
type = Changestate
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
Triggerall = (statetype != A)*(pos y!=0)*(statetype!=L)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
value = 50

;--------------------------------------------------------------

;振り向き抑制
[State pos moving]
type = AssertSpecial
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
flag = noautoturn

;移動
[State pos moving]
type = Posadd
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
x = -ceil(enemynear,fVar(24))*facing*enemynear,facing
y = -ceil(enemynear,fVar(25))*(statetype!=L)

;statetype!=A+statetype!=Lの場合強制落下stateへ
[State pos moving]
type = Changestate
triggerall = !IsHelper
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
Triggerall = (statetype != A)*(pos y!=0)*(statetype!=L)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
value = 50
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/                 ■毒煙幕「瓦斯織物の玉」 制御                        _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
[State lifeadd]
type = lifeadd
triggerall = !IsHelper
Trigger1 = numEnemy = 1
Trigger1 = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th105")*(Enemy(0),fvar(21))
value = -floor(Enemy(0),fvar(21))*2
ignorehitpause = 1
absolute = 1
kill = 0

[State lifeadd]
type = lifeadd
triggerall = !IsHelper
Triggerall = numEnemy = 2
Triggerall = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th105")*(Enemy(0),fvar(21))
Trigger2 = (Enemy(1),Name = "Reisen Udongein Inaba")*(Enemy(1),AuthorName = "mikage_th105")*(Enemy(1),fvar(21))
value = -floor(Enemy(0),fvar(21))*2-floor(Enemy(1),fvar(21))*2
ignorehitpause = 1
absolute = 1
kill = 0

;--------------------------------------------------------------

[State lifeadd]
type = lifeadd
triggerall = !IsHelper
Trigger1 = numEnemy = 1
Trigger1 = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th")*(Enemy(0),fvar(35))
value = -floor(Enemy(0),fvar(35))*2
ignorehitpause = 1
absolute = 1
kill = 0

[State lifeadd]
type = lifeadd
triggerall = !IsHelper
Triggerall = numEnemy = 2
Triggerall = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th")*(Enemy(0),fvar(35))
Trigger2 = (Enemy(1),Name = "Reisen Udongein Inaba")*(Enemy(1),AuthorName = "mikage_th")*(Enemy(1),fvar(35))
value = -floor(Enemy(0),fvar(35))*2-floor(Enemy(1),fvar(35))*2
ignorehitpause = 1
absolute = 1
kill = 0

;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/           ■土着神の祟り & ミシャグジさまの祟り 制御                 _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;土着神の祟り
[State lifeadd]
type = lifeadd
triggerall = !IsHelper
Trigger1 = numEnemy
Trigger1 = (Enemynear,Name = "Suwako Moriya")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
Trigger1 = floor((Enemynear,Var(42)%100)*0.1) = [0,1]
Trigger1 = (floor(Enemynear,fvar(38)))%1000 > 0
Trigger1 = floor(Enemynear,fvar(38)*0.001) = 2
value = floor(Enemynear,fvar(36)*(LifeMax/10000.0))
ignorehitpause = 1
absolute = 1
kill = 0

[State ミシャグジさまの祟り]
type = lifeadd
triggerall = !IsHelper
Triggerall = numEnemy
Triggerall = (Enemynear,Name = "Suwako Moriya")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
Triggerall = Enemynear,palno < 7
trigger1 = floor(Enemynear,fvar(35)) = 1
Trigger1 = movetype = H
Trigger1 = stateno != [150,155]
trigger2 = floor(Enemynear,fvar(35)) = 2
Trigger2 = movetype = H
Trigger2 = stateno = [150,155]
value = floor(Enemynear,fvar(33))
ignorehitpause = 1
absolute = 1
kill = 0

;---------------------------------------------------------------------------
;パウダースノウ　相手用
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Len"
Trigger1 = Enemy,Var(47) = 1 || Enemy,Var(48) = 1
Value = -Enemy,Var(47)*4-Enemy,Var(48)*4
Kill = 0
;---------------------------------------------------------------------------
;じょうろ　相手用
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Hisui"
Trigger1 = Enemy,Var(47) = 1
Value = -10
Kill = 0

[State -2]
Type = PowerAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Hisui"
Trigger1 = Enemy,Var(47) = 1
Value = -150
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;ブラック・クラック　相手用
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 1
Value = -10
Kill = 0

[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 2 || Enemy,Var(47) = 4
Value = -15
Kill = 0

[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 3
Value = -30
Kill = 0

[State -2]
Type = PowerAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 1
Value = 6

[State -2]
Type = PowerAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 2 || Enemy,Var(47) = 3 || Enemy,Var(47) = 4
Value = 15

;---------------------------------------------------------------------------
;現代医学の犠牲者です。　相手用
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "⑨" && Enemy,Name = "Kohaku"
Trigger1 = Enemy,Var(47) = 1
Value = -5
Kill = 0


; START
;----------------------------------------------------------------------
; Curse Damage for Misuzu Kamio

[State -2, LifeAdd]
type = LifeAdd
triggerall = !IsHelper
triggerall = (Enemy,TeamMode = Simul) = 0
triggerall = (TeamMode = Simul) = 0
triggerall = NumEnemy
triggerall = Enemy,AuthorName = "586"
triggerall = Enemy,Name = "Misuzu Kamio"
triggerall = Enemy,fvar(11) > 0
trigger1 = Enemy,var(13) = 1
trigger1 = GameTime % 13 = 0
trigger2 = Enemy,var(13) = 2
trigger2 = GameTime % 11 = 0
trigger3 = Enemy,var(13) = 3
trigger3 = GameTime % 8 = 0
trigger4 = Enemy,var(13) = 4
trigger4 = GameTime % 6 = 0
trigger5 = Enemy,var(13) = 5
trigger5 = GameTime % 3 = 0
value = -1
kill = 0
ignorehitpause = 1

[State -2, PalFX]
type = PalFX
triggerall = !IsHelper
triggerall = (Enemy,TeamMode = Simul) = 0
triggerall = (TeamMode = Simul) = 0
triggerall = NumEnemy
triggerall = Enemy,AuthorName = "586"
triggerall = Enemy,Name = "Misuzu Kamio"
trigger1 = Enemy,fvar(11) > 0
add = -50,150,150
time = 1
ignorehitpause = 1

;----------------------------------------------------------------------
; END

;---------------------------------------------------------------------------
;獣を焦がす(黒秋葉)　相手ステータス変化
[State -2]
Type = LifeAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "tukemon&HAL" && Enemy,Name = "Akiha"
Trigger1 = Enemy,Var(56) = 1
Value = -8
Kill = 0

[State -2]
Type = PowerAdd
triggerall = !IsHelper
TriggerAll = Enemy,AuthorName = "tukemon&HAL" && Enemy,Name = "Akiha"
Trigger1 = Enemy,Var(51)%10 = 2
Trigger1 = Enemy,Var(56) = 1
Value = -33


;---------------------------------
;アル･アジフ「挑発」対応ステート

[State -2]
Type = PowerAdd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "AL AZIF" &&  enemynear,authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 195 && enemynear,statetime = 30 
Value = -45

;---------------------------------
;愛原奈都美「挑発」対応ステート

[State -2]
Type = PowerAdd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "AIHARA NATSUMI" &&  enemynear,authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 197 && enemynear,statetime = 70 
Value = -45

;---------------------------------
;マミヤ「挑発」対応ステート

[State -2]
Type = PowerAdd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "MAMIYA" &&  enemynear,authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 195 && enemynear,statetime = 30
Value = 1000


;---------------------------------
;マミヤ「さようなら」対応ステート

[State -2];夜空に浮かぶ顔
type = Explod
triggerall = !IsHelper
triggerall = enemynear,name = "MAMIYA" && enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,fvar(19) = 1
trigger1 = numexplod(13777) = 0
anim = 13777
ID = 13777
postype = left
pos = 244,43
ownpal = 1
sprpriority = -498
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.5,0.5
bindtime = -1
removetime = -1

[State -2];夜空に浮かぶ顔枠
type = Explod
triggerall = !IsHelper
triggerall = enemynear,name = "MAMIYA" && enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,fvar(19) = 1
trigger1 = numexplod(13778) = 0
anim = 13778
ID = 13778
postype = left
pos = 244,43
ownpal = 1
sprpriority = -499
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.5,0.5
bindtime = -1
removetime = -1


;---------------------------------
;右代宮縁寿「メタ返し＆メタ再反論」対応ステート

[State -2];メタ返し～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = 1
anim = 19864
ID = 19864
postype = left
pos = 0,0;240
facing = 1
scale = 1, 1;0.5,0.5
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = -1
anim = 19864
ID = 19864
postype = right
pos = 0,0;240
facing = -1
scale = 1, 1;0.5,0.5
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = s10, 43
volume = 120

[State -2];メタ返し～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = -2000

[State -2];メタ再反論～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = 1
anim = 19865
ID = 19865
postype = left
pos = 0,0;240
facing = 1
scale = 1, 1;0.5,0.5
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = -1
anim = 19865
ID = 19865
postype = right
pos = 0,0;240
facing = -1
scale = 1, 1;0.5,0.5
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = s10, 50
volume = 120

[State -2];メタ再反論～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "USHIROMIYA ANGE" && enemynear,Authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = -2000


;---------------------------------
;オヤシロリカ「メタ返し＆メタ再反論」対応ステート

[State -2];メタ返し～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = 1
anim = 19864
ID = 19864
postype = left
pos = 0,0
facing = 1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = -1
anim = 19864
ID = 19864
postype = right
pos = 0,0
facing = -1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = s10, 43

[State -2];メタ返し～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = -2000

[State -2];メタ再反論～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = 1
anim = 19865
ID = 19865
postype = left
pos = 0,0
facing = 1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = -1
anim = 19865
ID = 19865
postype = right
pos = 0,0
facing = -1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = s10, 50

[State -2];メタ再反論～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "oyashirorika" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = -2000


;---------------------------------
;トラップサトコ「メタ返し＆メタ再反論」対応ステート

[State -2];メタ返し～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = 1
anim = 19864
ID = 19864
postype = left
pos = 0, 0
facing = 1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2910 && enemynear,time = 2
trigger1 = facing = -1
anim = 19864
ID = 19864
postype = right
pos = 0, 0
facing = -1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ返し～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = s10, 43

[State -2];メタ返し～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2910 && enemynear,time = 2
value = -2000

[State -2];メタ再反論～カットイン（右向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = 1
anim = 19865
ID = 19865
postype = left
pos = 0, 0
facing = 1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～カットイン（左向き）
type = Explod
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
triggerall = enemynear,stateno = 2930 && enemynear,time = 2
trigger1 = facing = -1
anim = 19865
ID = 19865
postype = right
pos = 0, 0
facing = -1
scale = 1, 1
ownpal = 1
sprpriority = 50
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ再反論～ボイス
type = PlaySnd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = s10, 50

[State -2];メタ再反論～パワーゲージ消費
type = Poweradd
triggerall = !IsHelper
triggerall = numenemy
triggerall = enemynear,name = "trapsatoko" && enemynear,Authorname = "baggy"
trigger1 = enemynear,stateno = 2930 && enemynear,time = 2
value = -2000


;---------------------------------------------------------------------------
;▼タイマー▼

[State -2, Timer -2]
type = VarSet
trigger1 = 1
var(11) = GameTime + 111333
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼デバッグ▼

[State -2, Debug]
type = DisplayToClipboard
triggerall = !IsHelper
trigger1 = 1
text = "FVar(1) = %f, FVar(5) = %f, FVar(18) = %f"
params = FVar(1), FVar(5), FVar(18)
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼Enemy(**)に入れる値▼

[State -2, Enemy(0)]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
var(32) = 0
ignorehitpause = 1

[State -2, Enemy(1)]
type = VarSet
triggerall = !IsHelper
triggerall = NumEnemy > 1
trigger1 = !EnemyNear(0), Alive
var(32) = 1
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼強化モードスイッチオン/オフ▼

[State -2, Reset Var(57)]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
var(57) = 0
ignorehitpause = 1

[State -2, 1P - 6P] ;通常モード
type = VarSet
triggerall = !IsHelper
trigger1 = PalNo = [1, 10]
var(57) = 0
ignorehitpause = 1

[State -2, 12P] ;ゴールドカラー（通常モードベースの強化バージョン）
type = VarSet
triggerall = !IsHelper
trigger1 = PalNo = 12
var(57) = 1
ignorehitpause = 1

[State -2, 11P] ;ゴールドカラー（通常モードベースの強化バージョン）
type = VarSet
triggerall = !IsHelper
trigger1 = PalNo = 11
var(57) = 2
ignorehitpause = 1

[State -2, Auto HP Regene] ;HP自動回復
type = LifeAdd
triggerall = !IsHelper
triggerall = Alive && RoundState <= 2
triggerall = MoveType != H || (StateNo = [120, 159])
trigger1 = Var(57) = 1
trigger1 = GameTime%5 = 0
value = 1
absolute = 1
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼攻撃力/パワーゲージ補正▼

[State -2, Attack]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
fvar(0) = 1
ignorehitpause = 1

[State -2, Power]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
fvar(3) = 1
ignorehitpause = 1

[State -2, Attack UP 2] ;ゴールドカラーは攻撃力1.75倍
type = VarSet
triggerall = !IsHelper
trigger1 = Var(57) = 1
fvar(0) = FVar(0) * 1.75
ignorehitpause = 1

[State -2, Defence UP 1] ;ゴールドカラーは被ダメージ0.5倍
type = DefenceMulSet
triggerall = !IsHelper
trigger1 = Var(57) = 1
value = 0.5*(100/(100 +Const(Data.Fall.Defence_Mul)*(StateType = L)))
ignorehitpause = 1

[State -2, Auto Power Regene] ;パワーゲージ自動回復
type = PowerSet
triggerall = !IsHelper
trigger1 = Var(57) = 1 || Var(57) = 2
value = PowerMax
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼勝利メッセージ分岐▼

[State -2, Var(52)]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(52) != [0, 2]
var(52) = 0
ignorehitpause = 1

; パートナーが生きていて、そのパートナーがNoobicの作ったキャラ（テチャクと小沢は除く）で、
;立ち位置がパートナーよりも後ろで、さらにパートナーの勝利メッセージがオンのときは出ない
[State -2, Victory Message OFF]
type = VarSet
triggerall = !IsHelper
triggerall = NumPartner > 0
triggerall = ID > Partner, ID
triggerall = Partner, AuthorName = "Noobic Cube"
triggerall = Partner, Alive
triggerall = Partner, Var(52) = 2
trigger1 = Partner, Name = "Fallen Alice"			 || Partner, Name = "Chang Koehan"
trigger2 = Partner, Name = "Choi Bounge"			 || Partner, Name = "Billy Kane"
trigger3 = Partner, Name = "Nuclear Cirno"		 || Partner, Name = "Nuclear Cirno(Boss)"
trigger4 = Partner, Name = "Chang the Red Aqueous"	 || Partner, Name = "Genjyuro Kibagami"
trigger6 = Partner, Name = "Suwako Moriya"		 || Partner, Name = "Suwako Moriya(Boss)"
trigger7 = Partner, Name = "Ryo Sakazaki"		 || Partner, Name = "Ryo Sakazaki(Arrange)"
trigger8 = Partner, Name = "Zako Ryo"
var(52) = 0
ignorehitpause = 1

; 汎用
[State -2, Victory Message Random]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = 1
var(31) = Random % 2
ignorehitpause = 1

; バルログ
[State -2, Victory Message for Barlog]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "Balrog"		 || EnemyNear, Name = "Fallen Balrog"
trigger2 = EnemyNear, Name = "Malin"
trigger3 = EnemyNear, Name = "Shiki_Nanaya"	 || EnemyNear, Name = "Nanaya_Shiki"
trigger4 = EnemyNear, Name = "New_Shiki_Tohno"	 || EnemyNear, Name = "Shiki kageya"
trigger5 = EnemyNear, Name = "Nanaya-Satsujinki"
trigger6 = EnemyNear, Name = "Angelia Avallone"
trigger7 = EnemyNear, Name = "Jon Talbain"	 || EnemyNear, Name = "Galon"
trigger8 = EnemyNear, Name = "Saku"
var(31) = 10
ignorehitpause = 1

; チャン
[State -2, Victory Message for Chang Koehan]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "Chang Koehan"	 || EnemyNear, Name = "Chang the Red Aqueous"
var(31) = 11
ignorehitpause = 1

; KOFや餓狼以外の作品のテコンドー使い
[State -2, Victory Message for Taekwondo Fighter]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "Han Bae Dal"	 || EnemyNear, Name = "Kim Hoon"
trigger2 = EnemyNear, Name = "miyuki"		 || EnemyNear, Name = "Roppen Heimer"
trigger3 = EnemyNear, Name = "golrio"		 || EnemyNear, Name = "Chintao"
trigger4 = EnemyNear, Name = "Magic Dunker"	 || EnemyNear, Name = "Nick Commando"
trigger5 = EnemyNear, Name = "Master Taekuk"
trigger6 = EnemyNear, Name = "Trevor"		 || EnemyNear, Name = "Riu Yung Mie"
trigger7 = EnemyNear, Name = "Hwoarang"	 || EnemyNear, Name = "Baek Doo San"
trigger8 = EnemyNear, Name = "SF4 Juri"
var(31) = 12
ignorehitpause = 1

; ジョン・フーン
[State -2, Victory Message for Jhun Hoon]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "Jhun Hoon"
var(31) = 13

; メイ・リー
[State -2, Victory Message for May Lee]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "May Lee"
var(31) = 14
ignorehitpause = 1

; 女性（20歳以上…に見える。お姉さん系のキャラ）
[State -2, Victory Message for Senior Woman]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
; KOF（キング）
trigger1 = EnemyNear, Name = "King"		 || EnemyNear, Name = "cvsking"
; KOF（エリザベート）
trigger2 = EnemyNear, Name = "Elisabeth"		 || EnemyNear, Name = "Elisabeth Branctorche"
; KOFその他
trigger3 = EnemyNear, Name = "Mai Shiranui"
trigger4 = EnemyNear, Name = "Mature"		 || EnemyNear, Name = "Vice"
trigger5 = EnemyNear, Name = "Chizuru Kagura"
trigger6 = EnemyNear, Name = "Shermie"		 || EnemyNear, Name = "Blue Mary"
trigger7 = EnemyNear, Name = "whip"
; ストリートファイター
trigger8 = EnemyNear, Name = "cvschunli"		 || EnemyNear, Name = "xi_Chunli"
trigger9 = EnemyNear, Name = "Ibuki"
; カプコン系その他
trigger10 = EnemyNear, Name = "Tabasa"		 || EnemyNear, Name = "Morrigan Aensland"
; アルカナハート
trigger11 = EnemyNear, Name = "Mildred_Avallon"	 || EnemyNear, Name = "Zenia_Valov"
; EFZ
trigger12 = EnemyNear, Name = "Akiko Minase"	 || EnemyNear, Name = "Kanna"
; ギルティギア
trigger13 = EnemyNear, Name = "baiken"		 || EnemyNear, Name = "millia"
; ひぐらし
trigger14 = EnemyNear, Name = "Takano_Miyo"	 || EnemyNear, Name = "Chie_Rumiko"
; メルブラ
trigger15 = EnemyNear, Name = "Sion_Eltnam_Atlasia"
trigger16 = EnemyNear, Name = "Arcueid_Brunestud"	 || EnemyNear, Name = "Ciel"
trigger17 = EnemyNear, Name = "Sion TATARI"	 || EnemyNear, Name = "Red_Arcueid"
trigger18 = EnemyNear, Name = "Aoko Aozaki"	 || EnemyNear, Name = "Aozaki_Aoko(CPU)"
; 東方（幽々子）
trigger19 = EnemyNear, Name = "Yuyuko Saigyouji"	 || EnemyNear, Name = "Yuyuko_Saigyouji"
trigger20 = EnemyNear, Name = "chain combo yuyuko"
; 東方（紫）
trigger21 = EnemyNear, Name = "Yukari_Yakumo"	 || EnemyNear, Name = "Yukari Yakumo"
trigger22 = EnemyNear, Name = "Ishtar"		 || EnemyNear, Name = "Yukari_Yakumo_RP"
; 東方（美鈴）
trigger23 = EnemyNear, Name = "Hong_Meirin"	 || EnemyNear, Name = "Hong Meirin"
trigger24 = EnemyNear, Name = "Meiling Hong"	 || EnemyNear, Name = "Hong Meilin"
trigger25 = EnemyNear, Name = "Arima_Meirin"
trigger26 = EnemyNear, Name = "Master China"	 || EnemyNear, Name = "Meiling_K"
trigger27 = EnemyNear, Name = "Meilyne Cujo"	 || EnemyNear, Name = "Kujo Meirin"
; 東方（小町）
trigger28 = EnemyNear, Name = "Komachi Onoduka"	 || EnemyNear, Name = "Komachi_Onoduka"
; 東方（衣玖）
trigger29 = EnemyNear, Name = "Iku_Nagae"	 || EnemyNear, Name = "EFZiku"
; 東方（慧音）
trigger30 = EnemyNear, Name = "keine"		 || EnemyNear, Name = "keine ex"
; 東方（永琳）
trigger31 = EnemyNear, Name = "eirin"
trigger32 = EnemyNear, Name = "Eirin Yagokoro"	 || EnemyNear, Name = "Erin Yagokoro"
; 東方（神奈子）
trigger33 = EnemyNear, Name = "Kanako Yasaka"	 || EnemyNear, Name = "Kanako Yasaka2"
; 東方（白蓮）
trigger34 = EnemyNear, Name = "hiziri"		 || EnemyNear, Name = "Hiziri_Byakuren"
; 東方その他
trigger35 = EnemyNear, Name = "yorihime"	 || EnemyNear, Name = "yugi"
; オリジナル
trigger36 = EnemyNear, Name = "Lucy Fernandez"	 || EnemyNear, Name = "lehyu"
; その他
trigger37 = EnemyNear, Name = "mizuki"
trigger38 = EnemyNear, Name = "kasiwagi_chiduru"	 || EnemyNear, Name = "HighwayStar"
var(31) = 15
ignorehitpause = 1

; 女性（20歳未満…に見える）
; 大杉
[State -2, Victory Message for Young Woman]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
; KOF（ユリ）
trigger1 = EnemyNear, Name = "xi_yuri"		 || EnemyNear, Name = "94 Yuri Sakazaki"
; KOF（レオナ）
trigger2 = EnemyNear, Name = "Tin's Leona"	 || EnemyNear, Name = "Orochi Leona"
; KOF（アテナ）
trigger3 = EnemyNear, Name = "Athena Asamiya"	 || EnemyNear, Name = "cvsathena"
; KOFその他
trigger4 = EnemyNear, Name = "Kasumi Todoh"
trigger5 = EnemyNear, Name = "Vanessa"		 || EnemyNear, Name = "Hinako Shijou"
trigger6 = EnemyNear, Name = "Kula Diamond"
trigger7 = EnemyNear, Name = "Foxy"
trigger8 = EnemyNear, Name = "Momoko"
; 餓狼伝説
trigger9 = EnemyNear, Name = "Li Xiangfei"
trigger10 = EnemyNear, Name = "Hotaru Futaba"	 || EnemyNear, Name = "B.Jenet"
; NBC
trigger11 = EnemyNear, Name = "NGBC Kisarah Westfield"
; 月華の剣士
trigger12 = EnemyNear, Name = "Hibiki Takane"	 || EnemyNear, Name = "cvshibiki"
; ストリートファイター（キャミィ）
trigger13 = EnemyNear, Name = "cvscammy"	 || EnemyNear, Name = "CammySFM"
; ストリートファイターその他
trigger14 = EnemyNear, Name = "cvsjuni"		 || EnemyNear, Name = "cvssakura"
trigger15 = EnemyNear, Name = "cvskarin"
; アニメ（ハルヒ）
trigger16 = EnemyNear, Name = "Haruhi Suzumiya"	 || EnemyNear, Name = "asahina mikuru"
trigger17 = EnemyNear, Name = "Nagato Yuki"	 || EnemyNear, Name = "asakura ryouko"
trigger18 = EnemyNear, Name = "tsuruya-san"
; アニメ（ひぐらし）
trigger19 = EnemyNear, Name = "ryuuguu rena"	 || EnemyNear, Name = "rena_lv5"
trigger20 = EnemyNear, Name = "sonozaki mion"	 || EnemyNear, Name = "Sonozaki_Mion"
trigger21 = EnemyNear, Name = "Sonozaki_Shion"	 || EnemyNear, Name = "Hojo Satoko"
trigger22 = EnemyNear, Name = "furude_rika"	 || EnemyNear, Name = "hanyu"
; アニメその他
trigger23 = EnemyNear, Name = "Heidi"		 || EnemyNear, Name = "konata"
trigger24 = EnemyNear, Name = "Shana"		 || EnemyNear, Name = "Wapiko"
trigger25 = EnemyNear, Name = "Meer Campbel"	 || EnemyNear, Name = "kotonoha katsura"
; アルカナハート
trigger26 = EnemyNear, Name = "Heart_Aino"	 || EnemyNear, Name = "Saki"
trigger27 = EnemyNear, Name = "Saki_Tsuzura"	 || EnemyNear, Name = "Kamui"
trigger28 = EnemyNear, Name = "Konoha"		 || EnemyNear, Name = "Maori"
trigger29 = EnemyNear, Name = "Lilica"		 || EnemyNear, Name = "Lilica_Felchenerow"
trigger30 = EnemyNear, Name = "Lieselotte"	 || EnemyNear, Name = "Yoriko Yasuzumi"
trigger31 = EnemyNear, Name = "kira"		 || EnemyNear, Name = "Fiona"
trigger32 = EnemyNear, Name = "Petra_Johanna_Lagerkvist"
trigger33 = EnemyNear, Name = "Akane Inuwaka"	 || EnemyNear, Name = "Nazuna Inuwaka"
; BBB
trigger34 = EnemyNear, Name = "senna kyoudou"	 || EnemyNear, Name = "Kunagi_Tenrou"
trigger35 = EnemyNear, Name = "kendo nakanishi&kyudo nakanishi"
trigger36 = EnemyNear, Name = "Kendo&Kyudo"
; EFZ（あゆ）
trigger37 = EnemyNear, Name = "Ayu Tukimiya"	 || EnemyNear, Name = "Ayu Tukumiya"
; EFZ（真琴）
trigger38 = EnemyNear, Name = "Makoto Sawatari"	 || EnemyNear, Name = "MTG"
; EFZ（佐祐里）
trigger39 = EnemyNear, Name = "Sayuri Kurata"	 || EnemyNear, Name = "SB"
; EFZ（美汐）
trigger40 = EnemyNear, Name = "Mishio"		 || EnemyNear, Name = "Mishio Amano"
; EFZ（名雪）
trigger41 = EnemyNear, Name = "Nayuki Minase"	 || EnemyNear, Name = "Neyuki"
; EFZ（観鈴）
trigger42 = EnemyNear, Name = "Misuzu"		 || EnemyNear, Name = "Misuzu Kamio"
; EFZその他
trigger43 = EnemyNear, Name = "Mizuka Nagamori"	 || EnemyNear, Name = "Akane Satomura"
trigger44 = EnemyNear, Name = "Misaki Kawana"	 || EnemyNear, Name = "misaki kawana"
trigger45 = EnemyNear, Name = "Mio"		 || EnemyNear, Name = "Mayu Shiina"
trigger46 = EnemyNear, Name = "UNKNOWN"	 || EnemyNear, Name = "Shiori"
trigger47 = EnemyNear, Name = "Mai Kawasumi"
trigger48 = EnemyNear, Name = "Kano Kirishima"	 || EnemyNear, Name = "Minagi Tohno"
trigger49 = EnemyNear, Name = "kaori misaka"	 || EnemyNear, Name = "michiru"
; ゲニ子
trigger50 = EnemyNear, Name = "Alter Wind"	 || EnemyNear, Name = "Reas"
trigger51 = EnemyNear, Name = "Schlussel"	 || EnemyNear, Name = "wind"
trigger52 = EnemyNear, Name = "Gemini Goenitz"
; ギルティギア
trigger53 = EnemyNear, Name = "may"		 || EnemyNear, Name = "dizzy"
trigger54 = EnemyNear, Name = "I-NO"		 || EnemyNear, Name = "jam"
; メルブラ（秋葉）
trigger55 = EnemyNear, Name = "Akiha"		 || EnemyNear, Name = "Akiha_Vermilion"
; メルブラ（都古）
trigger56 = EnemyNear, Name = "Arima_Miyako"	 || EnemyNear, Name = "Miyako Arima"
; メルブラ（レン）
trigger57 = EnemyNear, Name = "Len"		 || EnemyNear, Name = "White_Len"
trigger58 = EnemyNear, Name = "White_Len(CPU)"
; メルブラその他
trigger59 = EnemyNear, Name = "Hisui"		 || EnemyNear, Name = "Kohaku"
trigger60 = EnemyNear, Name = "Yumiduka_Satsuki"
; ニトロロワイアル
trigger61 = EnemyNear, Name = "dragon"		 || EnemyNear, Name = "mora"
; サムライスピリッツ（ナコルル）
trigger62 = EnemyNear, Name = "Nakoruru"	 || EnemyNear, Name = "Muranako"
; サムライスピリッツ（リムルル）
trigger63 = EnemyNear, Name = "Rimururu"	 || EnemyNear, Name = "rimururu"
; サムライスピリッツ（いろは）
trigger64 = EnemyNear, Name = "IROHA"		 || EnemyNear, Name = "Iroha"
; サムライスピリッツその他
trigger65 = EnemyNear, Name = "mina majikina"	 || EnemyNear, Name = "Rera_zero_by_ibukah"
; 東方（霊夢）
trigger66 = EnemyNear, Name = "Reimu_Hakurei"	 || EnemyNear, Name = "Reimu Hakurei"
trigger67 = EnemyNear, Name = "ccreimu"		 || EnemyNear, Name = "Reimu_Scarlet"
trigger68 = EnemyNear, Name = "Yami_miko"
; 東方（魔理沙）
trigger69 = EnemyNear, Name = "Kirisame-Marisa"	 || EnemyNear, Name = "J_marisa"
trigger70 = EnemyNear, Name = "Street Fighter Marisa"
; 東方（咲夜）
trigger71 = EnemyNear, Name = "Sakuya Izayoi"	 || EnemyNear, Name = "Izayoi Sakuya Brando"
trigger72 = EnemyNear, Name = "Final_Sakuya"	 || EnemyNear, Name = "IF_Brando"
trigger73 = EnemyNear, Name = "Sakuya_K"	 || EnemyNear, Name = "SakuyaEX"
trigger74 = EnemyNear, Name = "Sakuya OS"
; 東方（妖夢）
trigger75 = EnemyNear, Name = "Youmu_Konpaku"	 || EnemyNear, Name = "Youmu Konpaku"
trigger76 = EnemyNear, Name = "Youmu_K"	 || EnemyNear, Name = "YoumuSS"
trigger77 = EnemyNear, Name = "Myonn"		 || EnemyNear, Name = "SilverChariot_Youmu"
trigger78 = EnemyNear, Name = "Youmu Double Blade"
; 東方（レミリア）
trigger79 = EnemyNear, Name = "Marisa Kirisame"	 || EnemyNear, Name = "Sakuya_Izayoi"
trigger80 = EnemyNear, Name = "Remilia_Scarlet"	 || EnemyNear, Name = "Remilia Scarlet"
trigger81 = EnemyNear, Name = "Gemilia"		 || EnemyNear, Name = "Remilia_K"
; 東方（萃香）
trigger82 = EnemyNear, Name = "Ibuki_Suika"	 || EnemyNear, Name = "Suika_Ibuki"
trigger83 = EnemyNear, Name = "Suika Ibuki"
trigger84 = EnemyNear, Name = "Fullmoon_Suika"
; 東方（天子）
trigger85 = EnemyNear, Name = "Tenshi Hinanai"	 || EnemyNear, Name = "melty_magic_tenko"
trigger86 = EnemyNear, Name = "Tenshi_K"	 || EnemyNear, Name = "Tenko_hsts"
; 東方（早苗）
trigger87 = EnemyNear, Name = "Sanae Kotiya"	 || EnemyNear, Name = "sanaesan"
trigger88 = EnemyNear, Name = "Kotiya_Sanae"
; 東方（チルノ）
trigger89 = EnemyNear, Name = "BurningCirno"	 || EnemyNear, Name = "Acirno"
trigger90 = EnemyNear, Name = "cirno"		 || EnemyNear, Name = "CHENSHIROU"
trigger91 = EnemyNear, Name = "Cirno"
trigger92 = EnemyNear, Name = "Nuclear Cirno"	 || EnemyNear, Name = "Nuclear Cirno(Boss)"
trigger93 = EnemyNear, Name = "J_cirno"		 || EnemyNear, Name = "acirno"
; 東方（諏訪子）
trigger94 = EnemyNear, Name = "Suwako Moriya"	 || EnemyNear, Name = "Suwako_Moriya"
; 東方その他
trigger95 = EnemyNear, Name = "Flandre_Scarlet"	 || EnemyNear, Name = "KAGUYA HOURAISAN"
trigger96 = EnemyNear, Name = "G-daichan" 	 || EnemyNear, Name = "P-daichan" 
trigger97 = EnemyNear, Name = "Chen"		 || EnemyNear, Name = "rumia"
trigger98 = EnemyNear, Name = "mokou"
; ヴァンパイア
trigger99 = EnemyNear, Name = "cvslilith"
; その他
trigger100 = EnemyNear, Name = "Hsien-ko"	 || EnemyNear, Name = "Lihua"
trigger101 = EnemyNear, Name = "Celesty"	 || EnemyNear, Name = "Kureha Hayate"
trigger102 = EnemyNear, Name = "Maria Shinzaki"	 || EnemyNear, Name = "伊吹風子"
trigger103 = EnemyNear, Name = "alice"		 || EnemyNear, Name = "Ecoco"
trigger104 = EnemyNear, Name = "KYOKO"	 || EnemyNear, Name = "Kung Fu Girl"
var(31) = 16
ignorehitpause = 1

; 首だけで動き回るキャラ、女性（分類に困ったもの）、常識にとらわれてないキャラ
; これにも載ってなかったら、「持ってない」か「登録に疲れて手抜きをした」のどちらか
[State -2, Victory Message for Yukkuri]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = EnemyNear, Name = "yukkuri"		 || EnemyNear, Name = "yuyuyukkuriri"
trigger2 = EnemyNear, Name = "siteittene"	 || EnemyNear, Name = "tank-reimu"
trigger3 = EnemyNear, Name = "kimexemaru"	 || EnemyNear, Name = "yukkurisiteittene!"
trigger4 = EnemyNear, Name = "Song Taechak"	 || EnemyNear, Name = "Avater of Nichiren"
trigger5 = EnemyNear, Name = "Airmoto"		 || EnemyNear, Name = "Fusako"
trigger6 = EnemyNear, Name = "Ishikawa"		 || EnemyNear, Name = "Ushiro"
trigger7 = EnemyNear, Name = "Ichiro Ozawa"	 || EnemyNear, Name = "Yukio Hatoyama"
trigger8 = EnemyNear, Name = "Akasan"		 || EnemyNear, Name = "Pants Wrestler Army"
trigger9 = EnemyNear, Name = "Dr.SLUMP ARALEchan"
trigger10 = EnemyNear, Name = "Mei-Fang"
trigger11 = EnemyNear, Name = "justice"		 || EnemyNear, Name = "A.B.A"
trigger12 = EnemyNear, Name = "Mech Hisui"
trigger13 = EnemyNear, Name = "anna"		 || EnemyNear, Name = "Another Blood"
trigger14 = EnemyNear, Name = "saya"
trigger15 = EnemyNear, Name = "Suigintou-D"	 || EnemyNear, Name = "SuigintouF-D"
trigger16 = EnemyNear, Name = "Kanaria-D"	 || EnemyNear, Name = "Suisei-D"
trigger17 = EnemyNear, Name = "Sousei-D"	 || EnemyNear, Name = "Shinku-D"
trigger18 = EnemyNear, Name = "Hinaichigo-D"	 || EnemyNear, Name = "Barasy-D"
trigger19 = EnemyNear, Name = "Yumeji Kurokouchi"	 || EnemyNear, Name = "03ria-red"
trigger20 = EnemyNear, Name = "Chibi Suika"	 || EnemyNear, Name = "Earthboundreimu"
trigger21 = EnemyNear, Name = "Tamiflu Miko"	 || EnemyNear, Name = "hakureimu"
trigger22 = EnemyNear, Name = "Igniz_Scarlet"	 || EnemyNear, Name = "ikusan_juda"
trigger23 = EnemyNear, Name = "JagiMeirin"	 || EnemyNear, Name = "Hong_krizalid"
trigger24 = EnemyNear, Name = "MegaMari"	 || EnemyNear, Name = "metal_patchouli"
trigger25 = EnemyNear, Name = "MP-Suika"	 || EnemyNear, Name = "Tenko"
trigger26 = EnemyNear, Name = "HAKUREI"	 || EnemyNear, Name = "Youki-so-Suika"
trigger27 = EnemyNear, Name = "8Toushin Marisa"	 || EnemyNear, Name = "Medicine Melancholy"
trigger28 = EnemyNear, Name = "QbeeCV"	 || EnemyNear, Name = "hikkoshi_baba"
trigger29 = EnemyNear, Name = "HATSUNE MIKU"	 || EnemyNear, Name = "MikuMikuDance"
trigger30 = EnemyNear, Name = "miku"
var(31) = 17
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼相手の胴体位置▼

[State -2, MidPos X]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
var(21) = Ceil(EnemyNear, Const(Size.Mid.Pos.X))
ignorehitpause = 1

[State -2, MidPos Y]
type = VarSet
triggerall = !IsHelper
trigger1 = 1
var(22) = Ceil(EnemyNear, Const(Size.Mid.Pos.Y))


;---------------------------------------------------------------------------
;▼アーマー付き攻撃 硬直時間減少処理▼

[State -2, HitPause]
type = VarAdd
triggerall = !IsHelper
trigger1 = Var(3) > 0
var(3) = -1
ctrl = 0

[State -2, HitPauseReset]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(3) <= 0
var(3) = 0


;---------------------------------------------------------------------------
;▼グレイズ判定▼
[State -2, Graze Armor 1]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(53) > 1
var(53) = 1
ignorehitpause = 1

[State -2, Graze Armor 2]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(53) < 0
var(53) = 0
ignorehitpause = 1

[State -2, Graze Armor 3]
type = NotHitBy
triggerall = !IsHelper
triggerall = StateNo = [100, 119]
trigger1 = Var(53) = 1
value2 = , NP, SP, HP
ignorehitpause = 1

[State -2, Graze Armor 4]
type = Helper
triggerall = !IsHelper
triggerall = NumHelper(2300) = 0
triggerall = StateNo = [100, 119]
triggerall = Var(53) = 1
trigger1 = Var(57) != 1
id = 2300
helpertype = Normal
name = "Graze"
stateno = 2300
pos = 0, 0
postype = P1
size.xscale = Const(Size.XScale)
size.yscale = Const(Size.YScale)


;---------------------------------------------------------------------------
;▼パワーMAX▼

[State -2, MAX Time 1]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(15) <= 0
var(15) = 0
ignorehitpause = 1

[State -2, MAX Time 2]
type = VarAdd
triggerall = !IsHelper
trigger1 = Var(15) > 0
var(15) = -1
ignorehitpause = 1

[State -2, Attack]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(15) > 0
fvar(0) = FVar(0) * IfElse(P2MoveType = H && (P2StateNo != [120, 159]), 0.5, 0.75)
ignorehitpause = 1

[State -2, Power]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(15) > 0
fvar(3) = FVar(3) * 0
ignorehitpause = 1

[State -2, MAX Aura]
type = PalFX
triggerall = !IsHelper
trigger1 = Var(15) > 0
time = 1
add = 50, 50, 0
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼ダメージ補正▼

[State -2, Limit]
type = VarSet
triggerall = !IsHelper
trigger1 = P2MoveType != H
fvar(1) = 1
ignorehitpause = 1

[State -2, Limit]
type = VarSet
triggerall = !IsHelper
trigger1 = FVar(1) <= 0.05
fvar(1) = 0.05
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼カウンター▼

[State -2, Counter ON]
type = VarSet
triggerall = !IsHelper
trigger1 = P2MoveType = A
trigger1 = P2StateNo != [200, 699]
var(18) = 1
ignorehitpause = 1

[State -2, Counter OFF]
type = VarSet
triggerall = !IsHelper
trigger1 = P2MoveType != A
trigger1 = ProjHit = 0
trigger2 = P2StateNo = [200, 699]
var(18) = 0

[State -2, No Juggle Check]
type = AssertSpecial
triggerall = !IsHelper
trigger1 = Var(18) = 1
flag = NoJuggleCheck
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼Explod除去▼


;---------------------------------------------------------------------------
;▼追撃フラグ▼

[State -2, Aerial]
type = VarSet
triggerall = !IsHelper
trigger1 = P2MoveType != H
var(8) = 0
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼速度計測▼

[State -2, Velocity X]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(38) = Vel X
ignorehitpause = 1

[State -2, Velocity X]
type = VarAdd
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = !(EnemyNear(Var(32)), Vel X < 0 && EnemyNear(Var(32)), BackEdgeBodyDist < 10)
trigger1 = !(EnemyNear(Var(32)), Vel X > 0 && EnemyNear(Var(32)), FrontEdgeBodyDist < 10)
fvar(38) = -EnemyNear(Var(32)), Vel X*EnemyNear(Var(32)), Facing*Facing
ignorehitpause = 1

[State -2, Velocity Y]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(39) = Vel Y -EnemyNear(Var(32)), Vel Y
ignorehitpause = 1

[State -2, Accel Y 1]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = Var(59) > 0
fvar(36) = EnemyNear(Var(32)), Vel Y -FVar(37)
ignorehitpause = 1

[State -2, Accel Y 2]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(37) = EnemyNear(Var(32)), Vel Y
ignorehitpause = 1

[State -2, Accel Y 3]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(35) = Const(Movement.YAccel)*(StateType = A) -FVar(36)
ignorehitpause = 1

[State -2, Random]
type = VarAdd
triggerall = !IsHelper
trigger1 = Var(54) < 4
fvar(38 +(Random%2)) = IfElse(Random%2 = 0, 1, -1)*(Random%(35 -11*Var(54)))
ignorehitpause = 1

[State -2, Random]
type = VarAdd
triggerall = !IsHelper
trigger1 = Var(54) < 4
trigger1 = Random < 500
fvar(38 +(Random%2)) = IfElse(Random%2 = 0, 1, -1)*(Random%(35 -11*Var(54)))
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼AI用相手残りのけぞり時間▼

[State -2, Enemy HitPause]
type = VarSet
triggerall = !IsHelper
triggerall = NumEnemy
trigger1 = 1
fvar(33) = EnemyNear(Var(32)), GetHitVar(HitShakeTime) + EnemyNear(Var(32)), GetHitVar(HitTime) + 1
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼相手との距離計測▼

[State -2, P2BodyDist X]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(25) = P2BodyDist X
ignorehitpause = 1

[State -2, P2BodyDist X]
type = VarAdd
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = Facing = EnemyNear(Var(32)), Facing
trigger1 = ((EnemyNear(Var(32)), Pos X - Pos X)*Facing) < 0
trigger1 = EnemyNear(Var(32)), StateType != A
fvar(25) = -EnemyNear(Var(32)), Const(Size.Ground.Front)
ignorehitpause = 1

[State -2, P2BodyDist X]
type = VarAdd
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = Facing = EnemyNear(Var(32)), Facing
trigger1 = ((EnemyNear(Var(32)), Pos X - Pos X)*Facing) < 0
trigger1 = EnemyNear(Var(32)), StateType != A
fvar(25) = -EnemyNear(Var(32)), Const(Size.Ground.Back)
ignorehitpause = 1

[State -2, P2BodyDist X]
type = VarAdd
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = Facing = EnemyNear(Var(32)), Facing
trigger1 = ((EnemyNear(Var(32)), Pos X - Pos X)*Facing) < 0
trigger1 = EnemyNear(Var(32)), StateType = A
fvar(25) = -EnemyNear(Var(32)), Const(Size.Air.Front)
ignorehitpause = 1

[State -2, P2BodyDist X]
type = VarAdd
triggerall = !IsHelper
trigger1 = NumEnemy
trigger1 = Facing = EnemyNear(Var(32)), Facing
trigger1 = ((EnemyNear(Var(32)), Pos X - Pos X)*Facing) < 0
trigger1 = EnemyNear(Var(32)), StateType = A
fvar(25) = -EnemyNear(Var(32)), Const(Size.Air.Back)
ignorehitpause = 1

[State -2, P2BodyDist Y]
type = VarSet
triggerall = !IsHelper
trigger1 = NumEnemy
fvar(26) = P2BodyDist Y
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼やられボイス▼

[State -2, Damage Voice]
type = PlaySnd
triggerall = !IsHelper
triggerall = Alive
triggerall = StateNo != [120, 159]
triggerall = Random < 600 || (GetHitVar(AnimType) != [3, 5])
trigger1 = GetHitVar(Damage)
value = S4218, 21 +IfElse((GetHitVar(AnimType) != [3, 5]), GetHitVar(AnimType), Random%3)
channel = 0
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼ダッシュ中の「ドタドタドタ」という音を止める▼

[State -2, Stop Running Sound]
type = StopSnd
triggerall = !IsHelper
trigger1 = StateNo != 100
channel = 5
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼滑りダウン時のずさー音▼

[State -2, Sliding Down Voice]
type = PlaySnd
triggerall = !IsHelper
trigger1 = 0
value = S7, 2
ignorehitpause = 1


;---------------------------------------------------------------------------
;▼ジャンプ属性リセット▼

[State -2, Jump Reset]
type = VarSet
triggerall = !IsHelper
trigger1 = StateType != A
trigger2 = MoveType = H
trigger3 = !Alive
var(0) = 0
ignorehitpause = 1


[State -2, Guard Gage Reset 1]
type = VarSet
triggerall = !IsHelper
trigger1 = Var(30) < 0
var(30) = 0
ignorehitpause = 1

[State -2, Guard Gage Reset 2]
type = VarAdd
triggerall = !IsHelper
trigger1 = Floor((Var(30)%2)/1) = 1
var(30) = -1
ignorehitpause = 1

[State -2, ID] ;ゲージ表示位置
type = VarAdd
triggerall = !IsHelper
triggerall = Floor(Var(30)/2) = 0
triggerall = NumPartner > 0
triggerall = ID > Partner, ID
triggerall = Partner, AuthorName = "Noobic Cube"
trigger1 = Partner, Name = "Fallen Alice"			 || Partner, Name = "Chang Koehan"
trigger2 = Partner, Name = "Choi Bounge"			 || Partner, Name = "Billy Kane"
trigger3 = Partner, Name = "Nuclear Cirno"		 || Partner, Name = "Nuclear Cirno(Boss)"
trigger4 = Partner, Name = "Chang the Red Aqueous"	 || Partner, Name = "Genjyuro Kibagami"
trigger5 = Partner, Name = "Suwako Moriya"		 || Partner, Name = "Suwako Moriya(Boss)"
trigger6 = Partner, Name = "Ryo Sakazaki"		 || Partner, Name = "Ryo Sakazaki(Arrange)"
trigger7 = Partner, Name = "Zako Ryo"
var(30) = 2
ignorehitpause = 1

[State -2, Guard Gage] ;相手のゲームモード判別
type = VarAdd
triggerall = !IsHelper
triggerall = Floor((Var(30)%2)/1) = 0
trigger1 = Enemy, TeamMode = Single
trigger2 = Enemy, TeamMode = Turns
var(30) = 1
ignorehitpause = 1

[State -2, Guard Gage] ;相手のゲームモード判別
type = VarAdd
triggerall = !IsHelper
triggerall = Floor((Var(30)%2)/1) = 1
trigger1 = Enemy, TeamMode = Simul
trigger1 = !(Enemy, P3Name = "")
var(30) = -1
ignorehitpause = 1

[State -2, Guard Gage] ;自分のスイッチ確認
type = VarAdd
triggerall = !IsHelper
triggerall = Floor((Var(30)%2)/1) = 1
trigger1 = Var(29) = 0
trigger2 = TeamMode = Simul
trigger2 = !(P3Name = "")
var(30) = -1
ignorehitpause = 1

[State -2, Guard Gage] ;ガードゲージ個別対応
; 以下のキャラは独自にガードクラッシュシステムをもっているため、ガードゲージが増えないようにしています。
; 対応キャラクターを増やしたいときは、trigger*（*は数字） = ～ が書いてある行に

;trigger（上の行のトリガーの数字+1） = Enemy, AuthorName = "（作者名）" && Enemy, Name = "（キャラ名）"

;を書き加えてください。
type = VarAdd
triggerall = !IsHelper
triggerall = Floor((Var(30)%2)/1) = 1
; 水影氏製作の東方キャラ
trigger1 = Enemy, AuthorName = "mikage_th" || Enemy, AuthorName = "mikage_th105"
; とま氏製作の霧雨 魔理沙、パチュリー・ノーレッジ
trigger2 = Enemy, AuthorName = "Toma" && Enemy, Name = "Marisa Kirisame"
trigger3 = Enemy, AuthorName = "Toma" && Enemy, Name = "Pathouli"
; 伊吹川氏製作の伊吹 萃香
trigger4 = Enemy, AuthorName = "ibukah" && Enemy, Name = "Ibuki_Suika"
; ネンミン氏製作のルーミア、チルノ、四季映姫・ヤマザナドゥ
trigger5 = Enemy, AuthorName = "nenmin" && Enemy, Name = "rumia"
trigger6 = Enemy, AuthorName = "nenmin" && Enemy, Name = "cirno"
trigger7 = Enemy, AuthorName = "nenmin" && Enemy, Name = "eiki"
; そむE氏製作の小悪魔
trigger8 = Enemy, AuthorName = "som" && Enemy, Name = "koakuma"
; 青梨氏製作の霊烏路 空
trigger9 = Enemy, AuthorName = "Aonashi" && Enemy, Name = "Reiuzi Utsuho"
; Arima氏製作の大妖精
trigger10 = Enemy, AuthorName = "Arima" && Enemy, Name = "Daiyousei"
; 悪咲3号氏製作の空条 承太郎、ヴァニラ・アイス、DIO、DIO（覚醒版）
; （スタンド発現中のみ）
trigger11 = Enemy, AuthorName = "Warusaki3" && Enemy, Name = "Jotaro Kujo"
trigger11 = Enemy, Var(49) = 10000
trigger12 = Enemy, AuthorName = "Warusaki3" && Enemy, Name = "vanillaice"
trigger12 = Enemy, Var(49) = 10000
trigger13 = Enemy, AuthorName = "Warusaki3" && Enemy, Name = "dio"
trigger13 = Enemy, Var(49) = 10000
trigger14 = Enemy, AuthorName = "Warusaki3" && Enemy, Name = "final_dio"
trigger14 = Enemy, Var(49) = 10000
; y.y氏製作の空条 承太郎、ジョセフ・ジョースター
; （スタンド発現中のみ）
trigger15 = Enemy, AuthorName = "y.y" && Enemy, Name = "jotaro"
trigger15 = Enemy, Var(4) = 1
trigger16 = Enemy, AuthorName = "y.y" && Enemy, Name = "joseph"
trigger16 = Enemy, Var(2) = 1
; 出雲氏製作のモハメド・アヴドゥル、花京院 典明、ジャン・ピエール・ポルナレフ
; （スタンド発現中のみ）
trigger17 = Enemy, AuthorName = "Izumo" && Enemy, Name = "Avdul"
trigger17 = Enemy, Var(0) = 10000
trigger18 = Enemy, AuthorName = "Izumo" && Enemy, Name = "Kakyoin"
trigger18 = Enemy, Var(0) = 10000
trigger19 = Enemy, AuthorName = "Izumo" && Enemy, Name = "Polnareff"
trigger19 = Enemy, Var(0) = 10000
; Tommy-gun氏製作のチャカ
; （スタンド発現中のみ）
trigger20 = Enemy, AuthorName = "Tommy-gun" && Enemy, Name = "chaka"
trigger20 = Enemy, Var(3) = 1
; Gal129氏製作のイギー
; （スタンド発現中のみ）
trigger21 = Enemy, AuthorName = "Gal129" && Enemy, Name = "iggy"
trigger21 = Enemy, Var(22) = 1
; H”氏製作のアレッシー
; （スタンド発現中のみ）
trigger22 = Enemy, AuthorName = "H”" && Enemy, Name = "alessi"
trigger22 = Enemy, Var(11) = 1
; 41氏製作の咲夜・ブランドー
; （スタンド発現中のみ）
trigger23 = Enemy, AuthorName = "GATT" && Enemy, Name = "Izayoi Sakuya Brando"
trigger23 = Enemy, Var(49) = 10000
; minoo氏製作・KON氏改変の八意 永琳（旧版、リメイク版とも）
trigger24 = Enemy, AuthorName = "KON" && Enemy, Name = "Eirin Yagokoro"
trigger25 = Enemy, AuthorName = "KON" && Enemy, Name = "Eirin_Yagokoro"
; KON氏製作の森近 霖之助、因幡 てゐ
trigger26 = Enemy, AuthorName = "KON" && Enemy, Name = "Rinnosuke"
trigger27 = Enemy, AuthorName = "KON" && Enemy, Name = "Tewi_Inaba"
; yoroko氏製作のブローノ・ブチャラティ
; （スタンド発現中のみ）
trigger28 = Enemy, AuthorName = "yoroko" && Enemy, Name = "Bruno"
trigger29 = Enemy, Var(1) = 10000
; あまりもの氏製作のジョルノ・ジョバァーナ、レオーネ・アバッキオ
; （スタンド発現中のみ）
trigger30 = Enemy, AuthorName = "あまりもの" && Enemy, Name = "Giorno"
trigger30 = Enemy, Var(49) = 10000
trigger31 = Enemy, AuthorName = "あまりもの" && Enemy, Name = "abbacchio"
trigger31 = Enemy, Var(4) > 0
var(30) = -1
ignorehitpause = 1

[State -2, Guard Gage Recover Stop Time] ;回復不能時間
type = VarSet
triggerall = !IsHelper
trigger1 = P2MoveType = H
trigger1 = P2StateNo = [120, 159]
fvar(19) = 80
ignorehitpause = 1

[State -2, Guard Gage Recover Time] ;回復不能時間減少
type = VarAdd
triggerall = !IsHelper
triggerall = P2StateNo != [120, 159]
trigger1 = FVar(19) > 0
fvar(19) = -1
ignorehitpause = 1

[State -2, Guard Gage Recover Time Min]
type = VarSet
triggerall = !IsHelper
trigger1 = Floor((Var(30)%2)/1) = 1
trigger1 = FVar(19) <= 0
fvar(19) = 0
ignorehitpause = 1

[State -2, Guard Gage Recover] ;ガードゲージ回復
type = VarAdd
triggerall = !IsHelper
trigger1 = Floor((Var(30)%2)/1) = 1
trigger1 = FVar(18) > 0 && FVar(18) <= 100
trigger1 = FVar(19) = 0
fvar(18) = IfElse(P2MoveType != A, -0.05, -0.025)
ignorehitpause = 1

[State -2, Guard Gage Min] ;ガードゲージの下限は0
type = VarSet
triggerall = !IsHelper
trigger1 = Floor((Var(30)%2)/1) = 1
trigger1 = FVar(18) <= 0
trigger2 = Floor((Var(30)%2)/1) = 0
fvar(18) = 0
ignorehitpause = 1

[State -2, Guard Gage Max] ;ガードゲージの上限は130
type = VarSet
triggerall = !IsHelper
triggerall = P2MoveType != H
triggerall = !NumHelper(8000)
trigger1 = Floor((Var(30)%2)/1) = 1
trigger1 = FVar(18) > 130
fvar(18) = 0
ignorehitpause = 1

[State -2, Spiritual Power Gage] ;ゲージを表示するヘルパー
type = Helper
triggerall = !IsHelper
triggerall = RoundState < 4
trigger1 = !NumHelper(8000)
id = 8000
helpertype = Normal
name = "Gage"
stateno = 8000
pos = 0, 9999
postype = P1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1



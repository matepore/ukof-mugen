;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; MAX2,3背景エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; G･スクラーゲン

[Statedef 8100]
type = A
movetype = I
physics = N
ctrl = 0
anim = 20000
velset = 0,0
ownpal = 1
sprpriority = 7

[State 8100]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = PlaySnd
Trigger1 =(Parent,StateNo != [2500, 2520])
Trigger2 = Parent,StateNo = 2520 && Parent,AnimElem = 6
value = 7,4
persistent = 0

[State 8100]
type = Explod
TriggerAll = !NumExplod(8200)
Trigger1 =(Parent,StateNo != [2500, 2520])
Trigger2 = Parent,StateNo = 2520 && Parent,AnimElem = 6
anim = 8200
id = 8200
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -5
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 8100]
type = RemoveExplod
Trigger1 =(Parent,StateNo != [2500, 2520])
Trigger2 = Parent,StateNo = 2520 && Parent,AnimElem = 6
ID = 8100

[State 8100]
type = DestroySelf
Trigger1 =(Parent,StateNo != [2500, 2520])
Trigger2 = Parent,StateNo = 2520 && Parent,AnimElem = 6

;---------------------------------------------------------------------
; G･フリューゲル

[Statedef 8200]
type = A
movetype = I
physics = N
ctrl = 0
anim = 20000
velset = 0,0
ownpal = 1
sprpriority = 7

[State 8100]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8100
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8100
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = PlaySnd
Trigger1 =(Parent,StateNo != [3000, 3010])
Trigger2 = Parent,StateNo = 3010 && Parent,AnimElem = 17
value = 7,4
persistent = 0

[State 8100]
type = Explod
TriggerAll = !NumExplod(8200)
Trigger1 =(Parent,StateNo != [3000, 3010])
Trigger2 = Parent,StateNo = 3010 && Parent,AnimElem = 17
anim = 8200
id = 8200
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -5
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 8100]
type = RemoveExplod
Trigger1 =(Parent,StateNo != [3000, 3010])
Trigger2 = Parent,StateNo = 3010 && Parent,AnimElem = 17
ID = 8100

[State 8100]
type = DestroySelf
Trigger1 =(Parent,StateNo != [3000, 3010])
Trigger2 = Parent,StateNo = 3010 && Parent,AnimElem = 17

;---------------------------------------------------------------------
; G･フリューゲル2

[Statedef 8250]
type = A
movetype = I
physics = N
ctrl = 0
anim = 20000
velset = 0,0
ownpal = 1
sprpriority = 7

[State 8100]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 4900]
type = Explod
trigger1 = !NumExplod(7600)
anim = 7600
id = 7600
postype = back
pos = 0, 0
bindtime = -1
removetime = 99999
scale = 1,1
sprpriority = -5
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 8100]
type = PlaySnd
Trigger1 = Parent,StateNo = 3010 && Parent,AnimElem = 68
value = 7,4
persistent = 0

[State 8100]
type = Explod
TriggerAll = !NumExplod(7601)
Trigger1 = Parent,StateNo = 3010 && Parent,AnimElem = 68
anim = 7601
id = 7601
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -5
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 8100]
type = RemoveExplod
Trigger1 = Parent,StateNo = 3010 && Parent,AnimElem = 68
ID = 7600

[State 8100]
type = DestroySelf
Trigger1 = Parent,StateNo = 3010 && Parent,AnimElem = 68

;---------------------------------------------------------------------
; G･カイザーブリッツ

[Statedef 8300]
type = A
movetype = I
physics = N
ctrl = 0
anim = 20000
velset = 0,0
ownpal = 1
sprpriority = 7

[State 8100]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8100
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8101
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8102
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8103
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8104
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8105
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8300
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = Explod
trigger1 = time = 0
anim = 8106
id = 8300
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999

[State 8100]
type = PlaySnd
Trigger1 =(Parent,StateNo != [2300, 2302])
Trigger2 = Parent,StateNo = 2302 && Parent,AnimElem = 6
value = 7,4
persistent = 0

[State 8100]
type = Explod
TriggerAll = !NumExplod(8400)
Trigger1 =(Parent,StateNo != [2300, 2302])
Trigger2 = Parent,StateNo = 2302 && Parent,AnimElem = 6
anim = 8200
id = 8400
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -5
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 8100]
type = RemoveExplod
Trigger1 =(Parent,StateNo != [2300, 2302])
Trigger2 = Parent,StateNo = 2302 && Parent,AnimElem = 6
ID = 8300

[State 8100]
type = DestroySelf
Trigger1 =(Parent,StateNo != [2300, 2302])
Trigger2 = Parent,StateNo = 2302 && Parent,AnimElem = 6

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI起動ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 80000]
anim=20000
ctrl=0

[State 825]
type = assertspecial
trigger1 = 1
flag = invisible

[State 80000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 80000,プレイヤー判定]
type=varset
Trigger1=command="up"&&root,command="up"
Trigger2=command="down"&&root,command="down"
Trigger3=command="back"&&root,command="back"
Trigger4=command="fwd"&&root,command="fwd"
Trigger5=command="a"&&root,command="a"
Trigger6=command="b"&&root,command="b"
Trigger7=command="c"&&root,command="c"
Trigger8=command="x"&&root,command="x"
Trigger9=command="y"&&root,command="y"
Trigger10=command="z"&&root,command="z"
Trigger11=command="start"&&root,command="start"
var(59)=-1

[State 80000,立ったら消失]
Type = DestroySelf
TriggerAll=isHelper
Trigger1=root,var(59)||var(59)=-1
Trigger2=command="up"&&root,command="up"
Trigger3=command="down"&&root,command="down"
Trigger4=command="back"&&root,command="back"
Trigger5=command="fwd"&&root,command="fwd"
Trigger6=command="a"&&root,command="a"
Trigger7=command="b"&&root,command="b"
Trigger8=command="c"&&root,command="c"
Trigger9=command="x"&&root,command="x"
Trigger10=command="y"&&root,command="y"
Trigger11=command="z"&&root,command="z"
Trigger12=command="start"&&root,command="start"

[State 80000,AIﾌﾗｸﾞON]
Type=varset
TriggerAll=var(59)!=-1
Trigger1=root,command="up"
Trigger2=root,command="down"
Trigger3=root,command="back"
Trigger4=root,command="fwd"
Trigger5=root,command="a"
Trigger6=root,command="b"
Trigger7=root,command="c"
Trigger8=root,command="x"
Trigger9=root,command="y"
Trigger10=root,command="z"
Trigger11=root,command="start"
var(59)=1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ステージ端検出ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 60000]
type = A
ctrl = 0
anim = 20000
velset = 10,0
movetype = I
physics = N
sprpriority = 1

[State 60000]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State 60000]
type = nothitby
Trigger1 = 1
value = SCA

[State 60000]
type = PlayerPush
Trigger1 = 1
value = 0

[state 60000]
type = Projectile
Trigger1 = time = 0
velocity = 10,0
projID = 60000
projanim = 20000
offset = 0,0
projstagebound = 0
Projedgebound = 100000
Projremovetime = -1

[state 60000]
type = velset
Trigger1 = Root,NumProjID(60000) = 0
Trigger1 = time > 0
x = 0
y = 0

[Statedef 60001]
type = A
ctrl = 0
anim = 20000
velset = -10,0
movetype = I
physics = N
sprpriority = 1

[State 60000]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State 60000]
type = nothitby
Trigger1 = 1
value = SCA

[State 60000]
type = PlayerPush
Trigger1 = 1
value = 0

[state 60001]
type = Projectile
Trigger1 = time = 0
velocity = -10,0
projID = 60001
projanim = 20000
offset = 0,0
projstagebound = 0
Projedgebound = 100000
Projremovetime = -1

[state 60001]
type = velset
Trigger1 = Root,NumProjID(60001) = 0
Trigger1 = time > 0
x = 0
y = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; めくり対応ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 65000]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 0
ID = 65000

[State 65000]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State 65000]
type = nothitby
Trigger1 = 1
value = SCA

[State 65000]
type = selfstate
trigger1 = !ishelper
value = 0

[State 65000]
type = PlayerPush
Trigger1 = 1
value = 0

[State 65000]
type = VelAdd
Trigger1 = 1
y = 0.0

[State 65000]
type = BindToRoot
Trigger1 = 1
facing = 1
pos = 100,1000

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 対飛び道具ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 66000]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 0
ID = 66000

[State 66000]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State 66000]
type = nothitby
Trigger1 = 1
value = SCA

[State 66000]
type = selfstate
trigger1 = !ishelper
value = 0

[State 66000]
type = PlayerPush
Trigger1 = 1
value = 0

[State 66000]
type = VelAdd
Trigger1 = 1
y = 0.0

[State 66000]
type = BindToRoot
Trigger1 = 1
facing = 1
pos = -90,1000

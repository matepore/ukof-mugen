;===============================================================================
;通常ストライカー
;===============================================================================
;ストライカー 庵
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 2000
ctrl = 0
sprpriority = 0

[State 2000, 1]
type = Helper
trigger1 = Animelem = 3
helpertype = Normal
name = "iori"
id = 2000
postype = p1
facing = 1
stateno = 2005
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 2000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;庵 登場
[Statedef 2005]
type = S
movetype = A
physics = N
juggle  = 0
anim = 2005
velset = 0,0
sprpriority = 3

[State 2005, 1]
type = NotHitBy
Trigger1 = time >= 0
value = SCA
IgnoreHitPause = 1

[State 2005, 2]
type = PosSet
trigger1 = root,facing = 1 && time = 0
x = -160

[State 2005, 3]
type = PosSet
trigger1 = root,facing = -1 && time = 0
x = 160

[State 2005, 4]
type = velset
trigger1 = Time = 0
x = 6

[State 2005, 5]
type = velset
trigger1 = root,facing = 1
trigger1 = Pos x >= -80
x = 0

[State 2005, 6]
type = velset
trigger1 = root,facing = -1
trigger1 = Pos x <= 80
x = 0

[State 2005, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 5,0        
animtype  = Hard
hitflag = MA
guardflag = M
pausetime = 0,12
guard.pausetime = 0,2
getpower = 0,0
givepower = 0,0
sparkno = S8002
guard.sparkno = S8006
sparkxy = -10,-20
guard.sparkxy = -10,0
hitsound   = S1,1
guardsound = S3,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -7,-4
air.type = High
air.velocity = -7,-6
air.hittime = 8
air.juggle = 0
fall = 1
fall.recover = 1
yaccel = .5
kill = 0

[State 2005, 7]
type = ChangeState
trigger1 = time >= 4
trigger1 = vel X = 0
value = 2006

[State 2005, 8]
type = DestroySelf
trigger1 = time >= 200

;-------------------------------------------------------------------------------
;庵 闇払い
[Statedef 2006]
type = S
movetype = A
physics = N
juggle  = 0
anim = 2006
velset = 0,0
sprpriority = 3

[State 2006, 1]
type = NotHitBy
Trigger1 = time >= 0
value = ,AT
IgnoreHitPause = 1

[State 2006, 2]
type = Playsnd
Trigger1 = AnimElem = 5
value = S2,7
volume = 300

[State 2006, 3]
type = Explod
trigger1 = time = 22
anim = 11047
bindtime = 1
sprpriority = 5
postype = p1
ownpal = 1
pos = 0,-47
scale = 1.3,1.3
ignorehitpause = 0
ID = 11047

[State 2006,4]
type = Helper
trigger1 = AnimElem = 5
helpertype = Normal
name = "ioriFire"
id = 11045
postype = p1
facing = 1
stateNo = 11045
keyctrl = 0
ownpal = 1
Pos = 40,0
supermovetime = 0
pausemovetime = 0

[State 2006, 5]
type = HitOverRide
trigger1 = 1
attr = SCA, NP,SP,HP,NA,SA,HA
stateNo = 2009
slot = 1
time = -1
ignorehitpause = 0

[State 2005, 6]
type = ChangeState
trigger1 = Movecontact = 1
value = 2009

[State 2006, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2007

;-------------------------------------------------------------------------------
;庵 帰還
[Statedef 2007]
type = A
movetype = I
physics = N
anim = 2007
sprpriority = 3

[State 2007, 1]
type = NotHitBy
Trigger1 = time >= 0
value = SCA
IgnoreHitPause = 1

[State 2007, 2]
type = velset
trigger1 = Time = 0
x = -16
y = -16

[State 2007, 3]
type = PlaySnd
trigger1 = Time = 1
value = 0,2

[State 2007, 4]
type = DestroySelf
trigger1 = Pos X > 180
trigger2 = Pos X < -180

;-------------------------------------------------------------------------------
;庵 やられ
[Statedef 2009]
type = A
movetype = I
physics = N
anim = 2009
sprpriority = 3

[State 2009, 1]
type = NotHitBy
Trigger1 = time >= 0
value = SCA
IgnoreHitPause = 1

[State 2009, 3]
type = Velset
Trigger1 = time = 1
x = -3
y = -6

[State 2009, 4]
type = VelAdd
Trigger1 = time >= 2
y = .45

[State 2009, 5]
type = ChangeState
trigger1 = time >= 10
trigger1 = vel Y >= 0
trigger1 = Pos Y > 0
value = 2010

;-------------------------------------------------------------------------------
;庵 やられ
[Statedef 2010]
type = A
movetype = I
physics = N
anim = 2010
velset = 0,0
sprpriority = 3

[State 2009, 1]
type = NotHitBy
Trigger1 = time >= 0
value = SCA
IgnoreHitPause = 1

[State 2009, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2007

;-------------------------------------------------------------------------------
;ストライカー 相手固定
[Statedef 2008]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 821, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2008

[State 2008, 3]
type = Velset
Trigger1 = time = 8
y = -13

[State 2008, 4]
type = VelAdd
Trigger1 = time >= 9
y = .55

[State 2008, 5]
type = null;HitBy
trigger1 = 1
value = SCA, AP
ignorehitpause = 1

[State 2008, 6]
type = SelfState
trigger1 = time >= 10
trigger1 = vel Y >= 0
trigger1 = Pos Y > 0
value = 5100

;-------------------------------------------------------------------------------
;闇払い エフェクト
[Statedef 11045]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 11045
ctrl = 0
sprpriority = 4

[State 11045, 1]
type = velset
trigger1 = AnimElemTime(1) >= 0
x = 5

[State 11045, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage = 5,0
offset = 0, 0        
animtype  = Hard
hitflag = MA
guardflag = M
pausetime = 0,12
guard.pausetime = 0,2
getpower = 0,0
givepower = 0,0
sparkno = S8002
guard.sparkno = S8006
sparkxy = -10,-20
guard.sparkxy = -10,0
hitsound   = S1,9
guardsound = S3,1
p2stateNo = 2008
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-6
air.hittime = 8
air.juggle = 0
fall = 1
fall.recover = 1
yaccel = .5
palfx.time = 50
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 11045, 3]
type = HitOverRide
trigger1 = 1
attr = SCA, NP,SP,HP
stateNo = 11046
slot = 1
time = -1
ignorehitpause = 0

[State 11045, 4]
type = ChangeState
trigger1 = Movehit = 1
value = 11046

[State 11045, 5]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 11049

[State 11045, 6]
type = HitBy
trigger1 = 1
value = SCA, AP
ignorehitpause = 1

[State 11045, 7]
type = DestroySelf
trigger1 = pos X >= 180
trigger2 = pos X <= -180
trigger3 = time >= 600
trigger4 = stateNo = [5000,5999]
trigger5 = stateNo = 0

;-------------------------------------------------------------------------------
;闇払い 消滅 1
[Statedef 11046]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 11046, 3]
type = Explod
trigger1 = time = 1
anim = 11046
bindtime = 1
sprpriority = 3
postype = p2
ownpal = 1
pos = 0,-47
scale = 1.3,1.3
ignorehitpause = 0
ID = 11046

[State 11046, 3]
type = Explod
trigger1 = time = 2
anim = 11046
bindtime = 1
sprpriority = 3
postype = p2
ownpal = 1
pos = -40,-87
scale = 1.3,1.3
ignorehitpause = 0
ID = 11046

[State 11046, 4]
type = DestroySelf
trigger1 = time >= 5

;-------------------------------------------------------------------------------
;天翔 消滅 ガード時
[Statedef 11049]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 11045, 1]
type = DestroySelf
trigger1 = time >= 4

;-------------------------------------------------------------------------------
;闇払い 消滅 2
[Statedef 11047]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11046
ctrl = 0
sprpriority = 4

[State 11001, 1]
type = Playsnd
trigger1 = time = 1
value = S1,9

[State 11001, 2]
type = posset
trigger1 = time = 0
y = -60+random%50
x = -10+random%50

[State 11001, 3]
type = DestroySelf
trigger1 = AnimTime = 0

;-------------------------------------------------------------------------------
;闇払い 消滅 3
[Statedef 11048]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11046
ctrl = 0
sprpriority = 4

[State 11001, 2]
type = posset
trigger1 = time = 0
y = -60+random%50
x = -10+random%50

[State 11001, 3]
type = DestroySelf
trigger1 = AnimTime = 0


;===============================================================================
[Statedef -3]
;===============================================================================

;===============================================================================
;AI起動ヘルパー
;===============================================================================
[State -3]
Type = null;Helper             ;←AI暴走防止のため初期設定はOFF
;                                 随時AIスイッチ以外で早くAI起動させたい場合
;                                 ここを「Type = Helper」に書き換え変更して下さい。
Trigger1 = NumHelper(90000) = 0
Trigger1 = RoundState = 2
Trigger1 = Alive
Trigger1 = Var(59) = 0
Trigger1 = PrevStateNo = 5900 || (PrevStateNo = [190,194]) || PrevStateNo = 179
HelperType = Normal
Name = "AI"
StateNo = 90000
ID = 90000
Pos = 0,0
KeyCtrl = 1
PauseMoveTime= 99999999
SuperMoveTime= 99999999

;===============================================================================
;ラウンド開始確認ヘルパー
;===============================================================================
[State -3, Round Start]
Type = Helper
triggerall = NumHelper(85000) = 0
trigger1 = Roundstate <= 2
trigger1 = EnemyNear(var(15)),numHelper > 0
trigger1 = ctrl && var(58) = 0
HelperType = Normal
Name = "Round"
StateNo = 85000
ID = 85000
Pos = 0,-120
Keyctrl = 0
PauseMoveTime= 99999999
SuperMoveTime= 99999999

;===============================================================================
;AIのレベル設定
;===============================================================================
[State -3, AI]
type = varset
triggerall = var(59) = 0
Triggerall = RoundState = [1,2]
trigger1 = Command = "AI0"
trigger2 = Command = "AI1"
trigger3 = Command = "AI2"
trigger4 = Command = "AI3"
trigger5 = Command = "AI4"
trigger6 = Command = "AI5"
trigger7 = Command = "AI6"
trigger8 = Command = "AI7"
trigger9 = Command = "AI8"
trigger10 = Command = "AI9"
trigger11 = Command = "AI10"
trigger12 = Command = "AI11"
trigger13 = Command = "AI12"
trigger14 = Command = "AI13"
trigger15 = Command = "AI14"
trigger16 = Command = "AI15"
trigger17 = Command = "AI16"
trigger18 = Command = "AI17"
trigger19 = Command = "AI18"
trigger20 = Command = "AI19"
trigger21 = Command = "AI20"
trigger22 = Command = "AI21"
trigger23 = Command = "AI22"
trigger24 = Command = "AI23"
trigger25 = Command = "AI24"
trigger26 = Command = "AI25"
trigger27 = Command = "AI26"
trigger28 = Command = "AI27"
trigger29 = Command = "AI28"
trigger30 = Command = "AI29"
trigger31 = Command = "AI30"
trigger32 = NumHelPer(90000) > 0 && RoundState = 2
trigger32 = HelPer(90000),Var(59) > 0
;trigger33 = 1         ;← AI起動スイッチ
;                          常にAI操作したい場合は
;                          「trigger33」の後ろの「;」を消去してください。

;                           AI start switch
;                           Please delete ";" in the "trigger33" back 
                            when you want to start AI at once.
;

V = 59
Value = 5              ;← AIのレベル設定
;                         「1〜5」まで設定可能

;                          Please adjust it here. I can change it to 1-5
;                          weak ← 1 2 3 4 5 → Strong


;===============================================================================
;設定項目終わり これより下は触らないでください。
;(Set End.Please do not touch the under from this.) 
;===============================================================================
;VAR番号
;fvar(1) = ×
;fvar(2) = ×
;fvar(3) = ×
;fvar(4) = ×
;fvar(5) = ×
;fvar(6) = ×
;fvar(20) = 重力加速度計測

;var(0) = ×
;var(1) = ×
;var(2) = ×
;var(3) = ×
;var(4) = ×
;var(6) = ×
;var(7) = ×
;var(8) = ×
;var(9) = ×
;var(10) = ×
;var(11) = ×
;var(12) = ×
;var(13) = ×
;var(14) = ×
;var(15) = ×
;var(16) = ×
;var(21) = 
;var(22) = 
;var(27) = 
;var(28) = 
;var(29) = 中段攻撃 記憶下段用
;var(30) = 中段攻撃 記憶上段用
;var(31) = 
;var(32) = 
;var(34) = タッグ時のヘルパー確認
;var(35) = ヘルパー監視
;var(36) = 飛び道具ヘルパー
;var(37) = タッグ戦でのパートナー距離
;var(38) = タッグ戦で敵が一人のなったとき
;var(39) = 特殊攻撃防御
;var(40) = 
;var(41) = 
;var(42) = 
;var(43) = スイッチ何も入ってない状態
;var(44) = 
;var(45) = 
;var(46) = ジャンプ種類＆攻撃
;var(47) = スキ突き暴発防止 2
;var(48) = スキ突き暴発防止 1
;var(49) = 挑発＆その他制限
;var(50) = 
;var(51) = タッグ戦での相手生死確認
;var(52) = 起き攻め回避
;var(53) = ガードスタイル変更
;var(54) = Hit確認
;var(55) = 庵攻撃
;var(56) = 
;var(57) = 
;var(58) = 相手初期ヘルパー数
;var(59) = AI起動

;===============================================================================
[state -3,右];画面端判定ヘルパー
type = Helper
trigger1 = !NumHelper(55000+id)
Helpertype = Normal
Name = "Right"
Postype = right
Facing = -1
Stateno = 55000
ID = 55000+id
Pausemovetime = 0
Persistent = 0
Ignorehitpause = 1
Keyctrl = 0
Ownpal = 1


[State -3];↑が余計なことしないように
type = changestate
trigger1= ishelper
trigger1= ishelper(55000+root,id)
trigger1= stateno!=55000
value = 55000


[state -3,左];画面端判定ヘルパー
Type = Helper
Trigger1 = !NumHelper(60000+id)
Helpertype = Normal
Name = "Left"
Postype = left
Facing = 1
Stateno = 60000
ID = 60000+id
Pausemovetime = 0
Persistent = 0
Ignorehitpause = 1
Keyctrl = 0
Ownpal = 1


[State -3];↑が余計なことしないように
type = changestate
trigger1= ishelper
trigger1= ishelper(60000+root,id)
trigger1= stateno!=60000
value = 60000

;===============================================================================
;AI用重力加速度計測

[state -2, yaccel]
type = varset
trigger1 = fvar(20) != Enemynear,const(movement.yaccel)
trigger1 = Enemynear,stateno != [5000,5210]
trigger1 = Enemynear,statetype = A
FV = 20
value = enemynear,const(movement.yaccel)
ignorehitpause = 1

[state -2, yaccel]
type = varset
trigger1 = fvar(20) != EnemyNear,GetHitVar(yaccel)
trigger1 = Enemynear,stateno = [5000,5210]
trigger1 = Enemynear,statetype = A
FV = 20
value = EnemyNear,GetHitVar(yaccel);(打撃当てた時のyaccel値)
ignorehitpause = 1

;敵が空中じゃない時
[state -2, yaccel]
type = varset
trigger1 = fvar(20) != 0
trigger1 = Enemynear,statetype != A
FV = 20
value = 0
ignorehitpause = 1

;===============================================================================
;タッグ時のヘルパー確認
[State -3, Helper Tag]
Type = VarSet
trigger1 = TeamMode = Simul && var(38) = 0
trigger1 = Roundstate < 2
V = 34
Value = EnemyNear(0),Const(size.head.pos.y)

;===============================================================================
;相手初期ヘルパー数
[State -3, Helper Start]
Type = VarSet
triggerall = var(58) = 0 && var(49) > 800
triggerall = var(35) = 0
trigger1 = ctrl || EnemyNear(var(15)),ctrl || (stateNo = [18,19])
trigger1 = numHelper(85000) = 1
trigger1 = Helper(85000),time >= 2
V = 58
Value = EnemyNear(var(15)),NumHelper


;相手初期ヘルパー数 再確認
[State -3, Helper Reconfirmation]
Type = VarSet
triggerall = Roundstate = 2
trigger1 = var(35) = 1
V = 58
Value = EnemyNear(var(15)),NumHelper


;相手初期ヘルパー数 リセット
[State -3, Helper Start R]
Type = VarSet
trigger1 = Roundstate != 2
V = 58
Value = 0

;===============================================================================
;ヘルパー監視
[State -3, Helper Watch]
Type = VarSet
triggerall = Roundstate = 2
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = EnemyNear(var(15)),NumHelper < Var(58)
trigger2 = TeamMode = Simul && var(38) = 1
trigger2 = EnemyNear(var(15)),NumHelper < Var(58)
trigger3 = TeamMode = Simul && var(38) = 0
trigger3 = EnemyNear(var(15)),Const(size.head.pos.Y) != var(34)
V = 35
Value = 1


;ヘルパー監視 リセット
[State -3, Helper Watch R]
Type = VarSet
triggerall = Roundstate = 2
trigger1 = EnemyNear(var(15)),time = 2
V = 35
Value = 0

;===============================================================================
;飛び道具ヘルパー 1
[State -3, Helper Attack 1]
Type = Varset
triggerall = var(59) >= 0
triggerall = var(36) = [-1,0]
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),stateNo >= 1000
trigger1 = !EnemyNear(var(15)),hitdefattr = SCA,NA
trigger1 = EnemyNear(var(15)),numHelper > var(58)
V = 36
Value = EnemyNear(var(15)),stateNo


;飛び道具ヘルパー 2
[State -3, Helper Attack 2]
Type = Varset
triggerall = var(59) >= 0
triggerall = var(36) >= -1
trigger1 = stateNo = [35,40]
trigger2 = stateNo = 710
V = 36
Value = -1


;ヘルパー監視 リセット
[State -3, Helper Movement R]
Type = Varset
triggerall = var(59) >= 0
triggerall = var(36) > 0 || var(36) = -1
trigger1 = EnemyNear(var(15)),ctrl && EnemyNear(var(15)),time >= 2
trigger2 = EnemyNear(var(15)),stateNo < 1000
V = 36
Value = -1

;===============================================================================
;中段ガードスタイル変更

;中段攻撃上段ガード不能記憶
[State -3, Guard type Stand 1]
Type = varSet
triggerall = var(59) >= 0
trigger1 = Roundstate < 2
V = 30
Value = -1


;中段攻撃上段ガード不能記憶
[State -3, Guard type Stand 2]
Type = varSet
triggerall = var(59) = 0 || var(59) >= 4
trigger1 = statetype = S && (PrevStateNo = [120,159])
trigger1 = EnemyNear(var(15)),statetype = S || EnemyNear(var(15)),statetype = A
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),hitdefattr = SCA,NA,SA,HA
trigger1 = stateNo = [5000,5070]
V = 30
Value = EnemyNear(var(15)),stateNo


;中段攻撃下段ガード不能記憶
[State -3, Guard type Crouch 1]
Type = varSet
triggerall = var(59) >= 0
trigger1 = Roundstate < 2
V = 29
Value = -1


;中段攻撃下段ガード不能記憶
[State -3, Guard type Crouch 2]
Type = varSet
triggerall = var(59) = 0 || var(59) >= 4
trigger1 = statetype = C && (PrevStateNo = [120,159])
trigger1 = EnemyNear(var(15)),statetype = C || EnemyNear(var(15)),statetype = A
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),hitdefattr = SCA,NA,SA,HA
trigger1 = stateNo = [5000,5070]
V = 29
Value = EnemyNear(var(15)),stateNo


;ガードスタイル変更 リセット
[State -3, Guard type R1]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(30) >= 1
trigger1 = TeamMode = Simul || TeamMode = Turns
trigger1 = Roundstate != 2
V = 30
Value = 0


;ガードスタイル変更 リセット
[State -3, Guard typr R2]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(29) >= 1
trigger1 = TeamMode = Simul || TeamMode = Turns
trigger1 = Roundstate != 2
V = 29
Value = 0

;===============================================================================
;スイッチ何も入ってない時
[State -3, No shich]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(43) = 0
trigger1 = var(54) = 0 && (var(46) = [0,5])
V = 43
Value = 1


;スイッチ何も入ってない時 リセット
[State -3, No shich R]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(43) = 1
trigger1 = var(54) >= 1 || (var(46) = [6,7])
V = 43
Value = 0

;-------------------------------------------------------------------------------
;ガードスタイル変更

;中段攻撃 上段
[State -3, Guard Change 1]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(53) = 0
trigger1 = EnemyNear(var(15)),stateNo = var(29)
V = 53
Value = 1


;中段攻撃 下段
[State -3, Guard Change 2]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(53) = 0
trigger1 = EnemyNear(var(15)),stateNo = var(30)
V = 53
Value = 2


;ガードスタイル変更 リセット
[State -3, Guard Change R]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(53) >= 1
trigger1 = EnemyNear(var(15)),ctrl
trigger2 = (stateNo = [5000,5050]) || movetype = A
trigger3 = Roundstate != 2
V = 53
Value = 0

;-------------------------------------------------------------------------------
;Hit確認

;ドリル Hit確認 1
[State -3, Hit Setting 1]
Type = varSet
triggerall = var(59) = 0 || var(59) >= 3
triggerall = var(54) >= 0
triggerall = EnemyNear(var(15)),statetype = A
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
trigger1 = stateNo = 1200 && time >= 45 && movehit
trigger2 = stateNo = 1210 && time >= 66 && movehit
trigger3 = stateNo = 3201 && time >= 45 && movehit
V = 54
Value = 1


;庵攻撃
[State -3, Hit Setting 3]
Type = varset
triggerall = var(59) = 0 || var(59) >= 3
triggerall = var(54) = 0 && var(38) = 1
triggerall = EnemyNear(var(15)),stateNo = 2008
trigger1 = EnemyNear(var(15)),statetype = A
V = 54
Value = 2


;前転攻撃
[State -3, Hit Setting 6]
Type = VarSet
triggerall = var(59) = 0 || var(59) >= 4
triggerall = var(54) = 0
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
trigger1 = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
trigger1 = StateNo = 710 && time >= 32
trigger1 = p2bodydist X <= 40
trigger2 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger2 = EnemyNear(var(15)),movetype = A
trigger2 = EnemyNear(var(15)),ctrl = 0
V = 54
Value = 6


;Hit確認 リセット
[State -3, Hit Setting R]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(54) >= 1
trigger1 = (stateNo = [3000,3500]) && time = 1
trigger2 = var(54) = 1 && (stateNo = 260 || EnemyNear(var(15)),statetype != A || p2bodydist X >= 70)
trigger3 = var(54) = 2
trigger3 = stateNo = 260 || ((stateNo = 1200 || stateNo = 1210 || stateNo = 3201 || stateNo = 250 || stateNo = 1030) && AnimTime = 0)
trigger4 = var(54) != 6 && (EnemyNear(var(15)),movetype != H)
trigger5 = var(54) = 6 && (stateNo = 18 || EnemyNear(var(15)),movetype = H || statetype = A)
trigger6= TeamMode = Simul && stateNo = 0 && time >= 30
trigger7 = EnemyNear(var(15)),ctrl
trigger8 = EnemyNear(var(15)),statetype = L
trigger9 = movetype = H || statetype = L
trigger10 = Roundstate != 2
V = 54
Value = 0

;-------------------------------------------------------------------------------
;庵攻撃時間
[State -3, Hit Fire]
Type = varadd
triggerall = var(59) = 0 || var(59) >= 3
trigger1 = var(54) = 2
V = 56
Value = 1

;庵攻撃時間 リセット
[State -3, Hit Fire R]
Type = varset
triggerall = var(59) = 0 || var(59) >= 3
trigger1 = var(54) != 2
V = 56
Value = 0

;-------------------------------------------------------------------------------
;ジャンプ制御

;ダッシュ 小ジャンプ布石
[State -3, Jump 1]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) >= 0
trigger1 = stateNo = 111
V = 46
Value = 1


;ダッシュ 大ジャンプ布石
[State -3, Jump 2]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) >= 0
trigger1 = stateNo = 112
V = 46
Value = 2

;ダッシュ 小ジャンプ
[State -3, Jump 3]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) >= 0
trigger1 = stateNo = 39 || stateNo = 37 || stateNo = 36
V = 46
Value = 3


;ダッシュ 大ジャンプ
[State -3, Jump 4]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) >= 0
trigger1 = (stateNo = [37,38]) || stateNo = 5210 || ((var(59) = [1,2]) && stateNo = 40)
V = 46
Value = 4


;バックジャンプ
[State -3, Jump 5]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) = 0
trigger1 = stateNo = 36
V = 46
Value = 5


;ジャンプ攻撃 Hit確認
[State -3, Jump 6]
Type = VarSet
triggerall = var(59) >= 0
triggerall = (var(46) = [0,5])
trigger1 = (stateNo = [600,645]) && movehit
trigger1 = EnemyNear(var(15)),statetype != A
V = 46
Value = 6


;ジャンプ攻撃 Hit確認
[State -3, Jump 7]
Type = VarSet
triggerall = var(59) >= 0
triggerall = (var(46) = [0,5])
trigger1 = (stateNo = [600,645]) && moveGuarded
trigger1 = EnemyNear(var(15)),statetype != A
trigger2 = stateNo = 260 && moveGuarded
trigger2 = EnemyNear(var(15)),statetype != A
V = 46
Value = 7


;ジャンプ種類 リセット
[State -3, Jump R]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(46) >= 1
trigger1 = (stateNo = [200,250]) || (stateNo = [400,450]) || (stateNo = [1000,1100]) || (stateNo = [3000,3500])
trigger2 = (var(46) = [3,5]) && statetype != A && stateNo != [35,40]
trigger3 = (var(46) = [6,7]) && (EnemyNear(var(15)),ctrl || EnemyNear(var(15)),statetype = A)
trigger4 = TeamMode = Simul && stateNo = 0 && time >= 30
trigger5 = EnemyNear(var(15)),statetype = L && EnemyNear(var(15)),stateNo != 5120
trigger6 = statetype = L || movetype = H
trigger7 = Roundstate != 2
V = 46
Value = 0

;-------------------------------------------------------------------------------
;起き攻め回避
[State -3, Evasion 1]
Type = VarSet
triggerall = var(59) >= 0
trigger1 = (stateNo = 5120 && Animtime >= -2)
trigger2 = (stateNo = 5201 && Animtime >= -2)
v = 52
value = 80


;起き攻め回避
[State -3, Evasion 2]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(52) = 0
trigger1 = stateNo = 5210
v = 52
value = 980


;起き攻め回避 リセット
[State -3, Evasion R 1]
type = varadd
trigger1 = var(52) > 0
var(52) = -1


;起き攻め回避 リセット
[State -3, Evasion R 2]
type = varset
triggerall = var(52) > 0
trigger1 = stateNo = 5110
trigger2 = (var(52) = [1,80]) && (stateNo = [150,159])
trigger3 = statetype != A && movetype = A
trigger4 = Roundstate != 2
v = 52
value = 0

;-------------------------------------------------------------------------------
;スキ突き暴発防止
[State -3, Guard Attack]
Type = Varset
triggerall = var(59) >= 0
trigger1 = StateNo = [150,159]
V = 48
Value = 30


;スキ突き暴発防止
[State -3, Guard Attack R1]
Type = Varadd
triggerall = var(59) >= 0
trigger1 = var(48) >= 1
V = 48
Value = -1


;スキ突き暴発防止 R
[State -3, Guard Attack R2]
Type = VarSet
triggerall = var(59) >= 0
triggerall = Var(48) >= 1
trigger1 = (stateNo = [200,499]) && (movecontact || AnimTime = -1)
trigger2 = EnemyNear(var(15)),ctrl
trigger3 = (stateNo = [5000,5270]) || statetype = L
trigger4 = Roundstate != 2
V = 48
Value = 0

;-------------------------------------------------------------------------------
;スキ突き暴発防止 2
[State -3, Guard Attack2]
Type = varSet
triggerall = var(59) >= 0
trigger1 = var(48) > 0
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),moveGuarded
v = 47
Value = EnemyNear(var(15)),stateNo


;スキ突き暴発防止 2 リセット
[State -3, Guard Attack2 R1]
Type = varSet
triggerall = var(59) >= 0
triggerall = var(47) >= 1
trigger1 = Movetype = A || statetype = A
trigger2 = EnemyNear(var(15)),ctrl
trigger3 = (stateNo = [5000,5270]) || statetype = L
trigger4 = Roundstate != 2
V = 47
Value = -1

;-------------------------------------------------------------------------------
制限

;挑発
[State -3, Limitation 1]
Type = Varset
triggerall = var(59) >= 0
triggerall = (var(49) = [0,100])
trigger1 = stateNo = 195
V = 49
Value = 200


;ジャンプ
[State -3, Limitation 2]
Type = Varset
triggerall = var(59) >= 0
triggerall = (var(49) = [0,100])
trigger1 = statetype = A && ctrl
trigger2 = statetype = A && (stateNo = [120,159])
V = 49
Value = 100


;ガードキャンセル
[State -3, Limitation 3]
Type = Varset
triggerall = var(59) >= 0
trigger1 = PrevStateNo = 150 || PrevStateNo = 152
trigger1 = stateNo = 245
V = 49
Value = 800


;ヘルパー監視
[State -3, Limitation 4]
Type = Varset
triggerall = var(59) >= 0
trigger1 = Roundstate = 1
trigger2 = Roundstate = 2 && var(35) = 1
trigger2 = EnemyNear(var(15)),numHelper > 0
V = 49
Value = 4000


;制限 リセット 1
[State -3, Limitation R1]
Type = Varadd
triggerall = var(59) >= 0
trigger1 = var(49) >= 1
V = 49
Value = -1


;制限 リセット 2
[State -3, Limitation R2]
Type = Varset
triggerall = var(59) >= 0
triggerall = var(49) >= 1
trigger1 = var(49) > 800 && (var(58) > 0 || (var(58) = 0 && Roundstate = 2 && EnemyNear(var(15)),ctrl && EnemyNear(var(15)),time = 2))
trigger2 = var(49) > 800 && numHelper(85000) = 1
trigger2 = Helper(85000),time >= 3
trigger3 = var(49) < 800 && Roundstate != 2
V = 49
Value = 0

;===============================================================================
;タッグ戦関連
;===============================================================================
;タッグ戦で敵が一人のなったとき
[State -3, Tag only]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(38) = 0
Trigger1 = NumEnemy = 1
Trigger2 = NumEnemy = 2
Trigger2 = EnemyNear(0),Life = 0 || EnemyNear(1),Life = 0
V = 38
Value = 1

;シングル戦または、タッグ戦で敵が一人のなったとき
[State -3, Tag only]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(38) = 1
triggerall = TeamMode = simul
Trigger1 = Roundstate != 2
V = 38
Value = 0

;-------------------------------------------------------------------------------
;タッグ戦でのパートナー距離 1
;● = 味方サイド    ○= 敵サイド
[State -3, Tag Partner 1]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(37) >= 0
triggerall = TeamMode = Simul
triggerall = NumPartner >= 1 && Partner,Life > 0

;自分とパートナーの後ろに敵がいない。 ●●○○
trigger1 = Partner,Pos X - Pos X = [-90,90]
trigger1 = (Partner,Facing = 1 && Facing = 1)
trigger1 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X > Pos X)
trigger1 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

trigger2 = Partner,Pos X - Pos X = [-90,90]
trigger2 = (Partner,Facing = -1 && Facing = -1)
trigger2 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X < Pos X)
trigger2 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X < Partner,Pos X)

;自分とパートナーの後ろに敵がいない。 ●○○●
trigger3 = Partner,Pos X - Pos X = [-140,140]
trigger3 = (Partner,Facing = -1 && Facing = 1)
trigger3 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X > Pos X)
trigger3 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X < Partner,Pos X)

trigger4 = Partner,Pos X - Pos X = [-140,140]
trigger4 = (Partner,Facing = 1 && Facing = -1)
trigger4 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X < Pos X)
trigger4 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)
V = 37
Value = 1


;タッグ戦でのパートナー距離 2
;● = 味方サイド    ○= 敵サイド
[State -3, Tag Partner 2]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(37) >= 0
triggerall = TeamMode = Simul
triggerall = NumPartner >= 1 && Partner,Life > 0

;自分とパートナー両方の後ろに敵がいる。 ○●●    ○
trigger1 = Partner,Pos X - Pos X = [-90,90]
trigger1 = (Partner,Facing = 1 && Facing = 1)
trigger1 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X < Pos X)
trigger1 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X < Partner,Pos X)

trigger2 = Partner,Pos X - Pos X = [-90,90]
trigger2 = (Partner,Facing = -1 && Facing = -1)
trigger2 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X > Pos X)
trigger2 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

;自分とパートナーどちらかの後ろに敵がいる。 ●○●    ○
trigger3 = Partner,Pos X - Pos X = [-140,140]
trigger3 = (Partner,Facing = -1 && Facing = 1)
trigger3 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X > Pos X)
trigger3 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

trigger4 = Partner,Pos X - Pos X = [-140,140]
trigger4 = (Partner,Facing = 1 && Facing = -1)
trigger4 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X > Pos X)
trigger4 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)
V = 37
Value = 2


;タッグ戦でのパートナー距離 3
[State -3, Tag Partner 3]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(37) >= 0
triggerall = TeamMode = simul

;自分とパートナーの後ろに敵がいない。 ●   ●○○
trigger1 = Partner,Pos X - Pos X < -90
trigger1 = Partner,movetype = A
trigger1 = (Partner,Facing = 1 && Facing = 1)
trigger1 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X > Pos X)
trigger1 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

trigger2 = Partner,Pos X - Pos X > 90
trigger2 = Partner,movetype = A
trigger2 = (Partner,Facing = 1 && Facing = 1)
trigger2 = (Enemynear(0),Pos X > Pos X && Enemynear(1),Pos X > Pos X)
trigger2 = (Enemynear(0),Pos X > Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

trigger3 = Partner,Pos X - Pos X < -90
trigger3 = Partner,movetype = A
trigger3 = (Partner,Facing = -1 && Facing = -1)
trigger3 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X > Pos X)
trigger3 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)

trigger4 = Partner,Pos X - Pos X > 90
trigger4 = Partner,movetype = A
trigger4 = (Partner,Facing = -1 && Facing = -1)
trigger4 = (Enemynear(0),Pos X < Pos X && Enemynear(1),Pos X > Pos X)
trigger4 = (Enemynear(0),Pos X < Partner,Pos X && Enemynear(1),Pos X > Partner,Pos X)
V = 37
Value = 3


;タッグ戦でのパートナー距離 リセット
[State -3, Tag Partner R]
Type = VarSet
triggerall = var(59) >= 0
triggerall = var(37) >= 1
triggerall = TeamMode = simul

;trigger1 = NumPartner >= 1 && Partner,Life > 0
;trigger1 = Partner,Pos X - Pos X < -90 || Partner,Pos X - Pos X > 90
;trigger1 = (Partner,Facing = 1 && Facing = 1)

;trigger2 = NumPartner >= 1 && Partner,Life > 0
;trigger2 = Partner,Pos X - Pos X < -90 || Partner,Pos X - Pos X > 90
;trigger2 = (Partner,Facing = -1 && Facing = -1)

trigger1 = NumPartner >= 1 && Partner,Life > 0
trigger1 = Partner,Pos X - Pos X < -140 || Partner,Pos X - Pos X > 140
trigger1 = (Partner,Facing = -1 && Facing = 1)

trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = Partner,Pos X - Pos X < -140 || Partner,Pos X - Pos X > 140
trigger2 = (Partner,Facing = 1 && Facing = -1)

trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = Partner,Pos X - Pos X < -50
trigger3 = (Partner,Facing = -1 && Facing = 1)

trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = Partner,Pos X - Pos X > 50
trigger4 = (Partner,Facing = 1 && Facing = -1)

trigger5 = NumPartner >= 1 && Partner,Life = 0
V = 37
Value = 0

;===============================================================================
;特殊技ガードスイッチ
;===============================================================================
[State -3,下段ガード用]
Type = VarSet
;ミリア アイアンセイバー
Trigger1 = EnemyNear,Name = "millia"
Trigger1 = EnemyNear,StateNo = 1500
;インヴァイトヘル時
Trigger2 = EnemyNear,Name = "eddie"
Trigger2 = EnemyNear,StateNo = 1000 || EnemyNear,StateNo = 1050 || EnemyNear,NumHelper(1002); || EnemyNear,NumHelper(1001)
;空中インヴァイトヘル時
Trigger3 = EnemyNear,Name = "eddie"
Trigger3 = EnemyNear,StateNo = 1800 || EnemyNear,StateNo=1850
;エディ ジャム 立K
Trigger4 = EnemyNear,Name = "eddie" || EnemyNear,Name = "jam"
Trigger4 = EnemyNear,StateNo = 210
;シン スライディング
trigger5 = EnemyNear,Name = "shin"
trigger5 = EnemyNear,StateNo = 1000
;オリジナルゼロ ブラックホール
trigger6 = EnemyNear,Name = "original zero"
trigger6 = EnemyNear,StateNo = 3050
;ゼロ ブラックホール
trigger7 = EnemyNear,Name = "zero"
trigger7 = EnemyNear,StateNo = 3020 || EnemyNear,StateNo = 3050
;オロチ 無に還ろう
trigger8 = EnemyNear,Name = "orochi"
trigger8 = EnemyNear,StateNo = 2000
;ミズチ 無に還ろう
trigger9 = EnemyNear,Name = "mizuchi"
trigger9 = EnemyNear,StateNo = 2200
;向井さん すべては塵と化する
trigger10 = EnemyNear,Name = "mukai"
trigger10 = EnemyNear,StateNo = 1200
;マガキさん ワキガ
trigger11 = EnemyNear,Name = "magaki"
trigger11 = EnemyNear,StateNo = 3000
var(39) = 1

;===============================================================================
[State -3,中段ガード用]
Type = VarSet
;GG立D
Trigger1 = AutHorName = "muteki" || AutHorName = "Akutagawa"
Trigger1 = EnemyNear,StateNo = 240
;テスタメント →P
Trigger2 = EnemyNear,Name = "testa"
Trigger2 = EnemyNear,StateNo = 205
;ミリアandブリジットandエディ →K
Trigger3 = EnemyNear,Name="millia" || EnemyNear,Name="BRIDGET" || EnemyNear,Name="eddie"
Trigger3 = EnemyNear,StateNo = 215
;ファウスト →HS
Trigger4 = EnemyNear,Name = "faust"
Trigger4 = EnemyNear,StateNo = 235
;ジョニージャックハウンド
Trigger5 = EnemyNear,Name = "johnny"
Trigger5 = EnemyNear,StateNo = 1500 || EnemyNear,StateNo = [3500,3501]
;聖ソル →HS
Trigger6 = EnemyNear,Name = "order-Sol=Badguy"
Trigger6 = EnemyNear,StateNo = 432
;エディ →K サメ
Trigger7 = EnemyNear,Name = "eddie"
Trigger7 = 0;(NumHelper(1600)&&(Helper(1600),StateNo = [1650,1659]))
;ジャム →＋K
Trigger8 = EnemyNear,Name = "jam"
Trigger8 = EnemyNear,StateNo = 215
;シオン →＋B
Trigger9 = EnemyNear,Name = "Sion_Eltnam_Atlasia"
Trigger9 = EnemyNear,StateNo = [240,241]
;奈都美 中段武器
trigger10 = EnemyNear,Name = "natsumi"
trigger10 = EnemyNear,StateNo = 230
;ロック 中段蹴り
trigger11 = EnemyNear,Name = "rock"
trigger11 = EnemyNear,StateNo = 300
;ロボロック 中段蹴り
trigger12 = EnemyNear,Name = "robo rock"
trigger12 = EnemyNear,StateNo = 240
;ユダ 中段攻撃
trigger13 = EnemyNear,Name = "juda"
trigger13 = EnemyNear,StateNo = 900
;クラウド 中段攻撃
trigger14 = EnemyNear,Name = "Cloud Strife" 
trigger14 = EnemyNear,StateNo = 650
;狼牙 中段攻撃
trigger15 = EnemyNear,Name = "Rouga" 
trigger15 = EnemyNear,StateNo = 1000
var(39) = 2

;===============================================================================
[State -3,ガード不能用(投げ)]
Type = VarSet
;通常投げ
Trigger1 = EnemyNear,AutHorName = "muteki" || AutHorName = "Akutagawa" || EnemyNear,AutHorName = "Warusaki3"
Trigger1 = EnemyNear,StateNo = 800
;エディ ダムド
Trigger2 = EnemyNear,Name = "eddie"
Trigger2 = EnemyNear,StateNo = 1300
;スレイヤー 吸血 or アンダートゥ
Trigger3 = EnemyNear,Name = "SLAYER"
Trigger3 = EnemyNear,StateNo = 1200 || EnemyNear,StateNo = 1300
;#Rソル ぶっきら
Trigger4 = EnemyNear,Name = "order-Sol=Badguy"
Trigger4 = EnemyNear,StateNo = 1500
;ネオディオ 超必殺
trigger5 = EnemyNear,Name = "neo-dio"
trigger5 = EnemyNear,StateNo = 3000
;ジャム EX拾歩閃拳
Trigger6 = EnemyNear,Name = "jam"
Trigger6 = EnemyNear,StateNo = 2500
;ファウスト 滅多切り
Trigger7 = EnemyNear,Name = "faust"
Trigger7 = EnemyNear,StateNo = 1500
;ジョニー 霧後ミストファフナー
Trigger8 = EnemyNear,Name = "johnny"
Trigger8 = EnemyNear,var(49)
Trigger8 = EnemyNear,StateNo = [1000,1099]
;ウィンド 瞬獄殺
Trigger9 = EnemyNear,stateno = 7600 || EnemyNear,stateno = 7601
Trigger9 = EnemyNear,Name = "wind"
;Pots氏キャラ 瞬獄殺
Trigger10 = EnemyNear,StateNo = 4000
Trigger10 = EnemyNear,Name="Shin Gouki" || EnemyNear,Name="Ryu" || EnemyNear,Name="Morrigan Aensland" || EnemyNear,Name ="Sakura Kasugano"
;Pots氏キャラ 瞬獄殺２
Trigger11 = EnemyNear,StateNo = 3300
Trigger11 = EnemyNear,Name="Yuri Sakazaki" || EnemyNear,Name="cvsgouki" || EnemyNear,Name="cvsryu" || EnemyNear,Name="cvssakura"
;cvsルガール ラストジャッジメント
Trigger12 = EnemyNear,stateno=3200
Trigger12 = EnemyNear,Name="cvsg_rugal" || EnemyNear,Name="cvsrugal" || EnemyNear,Name="god rugal"
;cvsルガール ルガールエクスキュージョン
Trigger13 = EnemyNear,stateno=1700
Trigger13 = EnemyNear,Name="cvsg_rugal" || EnemyNear,Name="cvsrugal" || EnemyNear,Name="god rugal"
;豪鬼 瞬獄殺
Trigger14 = EnemyNear,StateNo = 3600
Trigger14 = EnemyNear,Name = "Gouki"
;香里 瞬獄殺
Trigger15 = EnemyNear,StateNo = 20080 || EnemyNear,StateNo = 20060
Trigger15 = EnemyNear,Name = "Kaori Misaka"
;Evilケン 瞬獄殺
Trigger16 = EnemyNear,StateNo = 3890
Trigger16 = EnemyNear,Name = "Evil Ken"
;琥珀 AAD時チャイナ琥珀
Trigger17 = EnemyNear,Name = "Kohaku"
Trigger17 = EnemyNear,StateNo = [2050,2051]
;キラ様 アルマゲドンバスター
Trigger18 = EnemyNear,Name = "Kira"
Trigger18 = EnemyNear,StateNo = 3000
;奈都美 ほうちょう
trigger19 = EnemyNear,Name = "natsumi"
trigger19 = EnemyNear,StateNo = 350
;アレックス ハイパーボッ！
trigger20 = EnemyNear,Name = "Alex"
trigger20 = P2StateNo=1000 || P2StateNo=1010 || P2StateNo=1020 || P2StateNo=1500 || P2StateNo=1510 || P2StateNo=1520 || P2StateNo=3000
;ユダ バニシングストライク
trigger21 = EnemyNear,Name = "juda"
trigger21 = EnemyNear,StateNo = 930 || stateNo = 940
;ウイップ ムチ踏み
trigger22 = EnemyNear,Name = "whip"
trigger22 = EnemyNear,StateNo = 1300
;ウイップ ムチ引っ張り
trigger23 = EnemyNear,Name = "whip"
trigger23 = EnemyNear,StateNo = 1320
;通常投げ
Trigger24 = EnemyNear,StateType != A
Trigger24 = EnemyNear,HitDefAttr = SCA,AT
var(39) = 3

;===============================================================================
[State -3,ガード不能用(突進攻撃)]
Type = VarSet
;志貴 十七分割
trigger1 = EnemyNear,Name = "Tohno_Shiki"
trigger1 = EnemyNear,StateNo = 3000 || EnemyNear,StateNo = 3050
;ラルフ ギャラクティカファントム
trigger2 = EnemyNear,Name = "Ralf99_WLS"
trigger2 = EnemyNear,StateNo = 3400
;リョウ(ガロスペ) 龍虎乱舞
trigger3 = EnemyNear,Name = "餓狼SPリョウ"
trigger3 = EnemyNear,StateNo = 2000
;牙神幻十郎 牙神突
trigger4 = EnemyNear,Name = "Kibagami Genjuro"
trigger4 = EnemyNear,StateNo = 1800
;フィオナ アルカナパンチ
trigger5 = EnemyNear,Name = "fiona"
trigger5 = EnemyNear,StateNo = 9425
var(39) = 4

;===============================================================================
[State -3,相手が動かない＆攻撃受けない場合]
Type = VarSet
;パラセ ひきこもり
trigger1 = EnemyNear,Name="くりすたらー" && EnemyNear,StateNo = 1800
;ギル リザレクション
trigger2 = EnemyNear,Name="Gill" && EnemyNear,StateNo = 3000
var(39) = 5

;===============================================================================
;特殊攻撃ガード
[State -3, Reset]
Type = VarSet
triggerall = var(59) >= 1
triggerall = var(39)
trigger1 = EnemyNear(var(15)),ctrl
trigger2 = (var(39) != 5 && StateNo = [150,159])
trigger3 = (stateNo = [111,112]) || (stateNo = [35,40])
trigger4 = movetype = H || (movecontact && var(23) != 5)
trigger5 = var(39) = 5 && (EnemyNear(var(15)),stateNo = [5000,5100])
V = 39
Value = 0

;===============================================================================
;特殊攻撃行動
;===============================================================================
;ダッシュ
[state -3, Dash]
Type = ChangeState
Value = 100
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(39) = 5 && stateType != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = p2bodydist X >= 10
trigger1 = random <= var(59)*70

;-------------------------------------------------------------------------------
;天翔・隠 強
[State -1, Amakakeri C]
type = ChangeState
value = 1010
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(39) = 5 && stateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = p2bodydist X = [70,160]
trigger1 = random <= var(59)*70

;-------------------------------------------------------------------------------
;立ち強攻撃
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(39) = 5 && statetype != A
triggerall = ctrl || (stateno = [100,101]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),stateNo != [37,49]
trigger1 = p2bodydist X = [-10,35]

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(39) = 5 && statetype != A
triggerall = EnemyNear(var(15)),alive
trigger1 = stateNo = 210 && (movecontact = [1,12]) && time >= 15

;===============================================================================
;切り返し
;===============================================================================
;投げ【斬り】
[State -3, Throw 1]
type = ChangeState
value = 800
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A 
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),stateNo != 40 && EnemyNear(var(15)),stateNo != 52
triggerall = EnemyNear(var(15)),stateNo != 5120
triggerall = p2bodydist X = [-20,3]
trigger1 = random <= var(59)*30
trigger2 = EnemyNear(var(15)),Time >= 25-var(59)*4 || var(59) >= 5
trigger2 = EnemyNear(var(15)),MoveType = A
trigger2 = PrevStateNo = [120,159]
trigger3 = EnemyNear(var(15)),Time >= 25-var(59)*4 || var(59) >= 5
trigger3 = EnemyNear(var(15)),MoveType = A
trigger3 = PrevStateNo = [5000,5270]

;-------------------------------------------------------------------------------
;投げ【ドリル】
[State -3, Throw 2]
type = ChangeState
value = 801
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A 
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),stateNo != 40 && EnemyNear(var(15)),stateNo != 52
triggerall = EnemyNear(var(15)),stateNo != 5120
triggerall = p2bodydist X = [-20,3]
trigger1 = random <= var(59)*30
trigger2 = EnemyNear(var(15)),Time >= 25-var(59)*4 || var(59) >= 5
trigger2 = EnemyNear(var(15)),MoveType = A
trigger2 = PrevStateNo = [120,159]
trigger3 = EnemyNear(var(15)),Time >= 25-var(59)*4 || var(59) >= 5
trigger3 = EnemyNear(var(15)),MoveType = A
trigger3 = PrevStateNo = [5000,5270]

;-------------------------------------------------------------------------------
;ガード
[State -3,Guard]
Type = ChangeState
Value = 120
triggerall = var(59) >= 4 && RoundState = 2
triggerall = ctrl || stateNo = 100 || (stateNo = [16,21])
trigger1 = var(52) > 0
trigger1 = (EnemyNear(var(15)),Numproj >= 1 && !InGuardDist) || (EnemyNear(var(15)),movetype = A && (p2bodydist X = [-10,50]))

;===============================================================================
;スキ突き
;===============================================================================
;壬羽虎乱舞
[State -1, MAX3 Miu]
type = ChangeState
value = 3500
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && Power >= 3000 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,50]) && p2bodydist Y >= -120
triggerall = random <= var(59)*100
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -13
trigger1 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;夜終・秘
[State -3, MAX Yomogarasu Hi]
type = ChangeState
value = 3200
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && Power >= 2000 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,50]) && p2bodydist Y >= -120
triggerall = random <= var(59)*100
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -6
trigger1 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;天翔
[State -3, MAX Amakageri]
type = ChangeState
value = 3000
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && Power >= 1000 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,50]) && p2bodydist Y >= -120
triggerall = random <= var(59)*100
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -6
trigger1 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,70]) && p2bodydist Y >= -50
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -7
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -7
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,40])
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -10
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -10
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;立ち強パンチ
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,35])
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -7
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -7
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,25])
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -5
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -5
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;前転【シングル専用】
[State -3, Fwd Roll]
type = ChangeState
value = 360
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [-10,70])
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -2
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -2
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;ダッシュ小ジャンプ
[State -3, Dash Short Jump]
type = ChangeState
value = 39
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = (p2bodydist X = [70,90])
triggerall = random <= var(59)*60
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -2
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -2
trigger2 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;バックジャンプ
[State -3, Back Jump]
type = ChangeState
value = 37
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(48) > 0 && statetype != A
triggerall = ctrl || (Stateno=[100,102]) || (stateNo = [16,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 150 && facing = -1 || Helper(60000+id),RootDist X >= 150 && facing = 1
triggerall = EnemyNear(var(15)),stateNo != var(36)
triggerall = p2bodydist X = [30,120]
triggerall = random <= var(59)*100
trigger1 = !EnemyNear(var(15)),hitdefattr = SC,HA,NT,ST,HT
trigger1 = EnemyNear(var(15)),MoveType = A
trigger1 = EnemyNear(var(15)),stateNo = var(47)
trigger1 = EnemyNear(var(15)),AnimTime <= -3
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),MoveType = I
trigger2 = EnemyNear(var(15)),AnimTime <= -3
trigger2 = EnemyNear(var(15)),ctrl = 0

;===============================================================================
;スーパーキャンセル
;===============================================================================
;夜終・秘
[State -3, MAX Yomogarasu Hi]
type = ChangeState
value = 3200
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = statetype != A && Power >= 2000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
triggerall = p2bodydist X <= 80
triggerall = random <= var(59)*120
trigger1 = stateNo = 1000 && var(14) = 1
trigger2 = stateNo = 1010 && var(14) = 1
trigger2 = time >= 50
trigger3 = stateNo = 3000 && var(14) = 2
trigger3 = time >= 174

;-------------------------------------------------------------------------------
;天翔
[State -3, MAX Amakageri]
type = ChangeState
value = 3000
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = statetype != A && Power >= 1000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
triggerall = random <= var(59)*120
trigger1 = stateNo = 1000 && var(14) = 1
trigger1 = p2bodydist X = [-20,100]
trigger2 = stateNo = 1010 && var(14) = 1
trigger2 = time >= 50

;===============================================================================
;反撃
;===============================================================================
;ガードキャンセル攻撃
[State -3, Guard Cancel Attack]
type = changestate
value = 305
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(49) = 0
triggerall = statetype != A && Power = [1600,2300]
triggerall = EnemyNear(var(15)),StateType != L
triggerall = p2bodydist X = [-10,50]
triggerall = EnemyNear(var(15)),AnimTime <= -14
triggerall = random <= var(59)*30
trigger1 = stateno = 150 || stateno = 152

;-------------------------------------------------------------------------------
;ガードキャンセル 前転
[State -3, GC Fwd Roll]
type = changestate
value = 360
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && statetype != A && Power = [1200,2000]
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = random <= var(59)*60

trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = p2bodydist X = [10,70]
trigger1 = EnemyNear(var(15)),hitdefattr = SC,SA
trigger1 = stateno = 150 || stateno = 151

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life = 0
trigger2 = p2bodydist X = [10,70]
trigger2 = EnemyNear(var(15)),hitdefattr = SC,SA
trigger2 = stateno = 150 || stateno = 151

trigger3 = p2bodydist X <= 50
trigger3 = NumHelper(55000+id) && NumHelper(60000+id)
trigger3 = Helper(55000+id),RootDist X <= 100 && facing = -1 || Helper(60000+id),RootDist X <= 100 && facing = 1
trigger3 = stateno = 150 || stateno = 151

;===============================================================================
;対空
;===============================================================================
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*60

trigger1 = EnemyNear(var(15)),movetype != H
trigger1 = ((var(59) = [2,4]) && EnemyNear(var(15)),vel Y >= 0) || var(59) >= 5
trigger1 = P2BodyDist Y = [-50 - floor(3*(EnemyNear(var(15)),vel Y) + (3*(3+1)/2)*fvar(20)),-10 - floor(3*(EnemyNear(var(15)),vel Y) + (3*(3+1)/2)*fvar(20))]
trigger1 = p2Bodydist X = [-10 + floor(3*(EnemyNear(var(15)),vel X)),40 + floor(3*(EnemyNear(var(15)),vel X))]

trigger2 = TeamMode = simul && (var(37) = [1,3])
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),moveType = H
trigger2 = (p2bodydist X = [-10,50]) && p2bodydist Y >= -50

;-------------------------------------------------------------------------------
;天翔・隠 強
[State -3, AmaGakeri D]
type = ChangeState
value = 1030
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*60

trigger1 = EnemyNear(var(15)),movetype != H
trigger1 = P2BodyDist Y = [-60 - floor(22*(EnemyNear(var(15)),vel Y) + (22*(22+1)/2)*fvar(20)),-90 - floor(22*(EnemyNear(var(15)),vel Y) + (22*(22+1)/2)*fvar(20))]
trigger1 = p2Bodydist X = [80 + floor(22*(EnemyNear(var(15)),vel X)),100 + floor(22*(EnemyNear(var(15)),vel X))]

trigger2 = TeamMode = simul && (var(37) = [1,3])
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),moveType = H
trigger2 = (p2bodydist X = [80,100]) && p2bodydist Y >= -60

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*60

trigger1 = EnemyNear(var(15)),movetype != H
trigger1 = ((var(59) = [2,4]) && EnemyNear(var(15)),vel Y >= 0) || var(59) >= 5
trigger1 = P2BodyDist Y = [-30 - floor(8*(EnemyNear(var(15)),vel Y) + (8*(8+1)/2)*fvar(20)),-10 - floor(8*(EnemyNear(var(15)),vel Y) + (8*(8+1)/2)*fvar(20))]
trigger1 = p2Bodydist X = [10 + floor(8*(EnemyNear(var(15)),vel X)),40 + floor(8*(EnemyNear(var(15)),vel X))]

trigger2 = TeamMode = simul && (var(37) = [1,3])
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),moveType = H
trigger2 = (p2bodydist X = [10,40]) && p2bodydist Y >= -40

;===============================================================================
;空中
;===============================================================================
;ダッシュ 小ジャンプ
[State -3, Dash Short Jump]
type = ChangeState
value = 39
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && var(52) = 0 && statetype != A
triggerall = (var(49) = 0 || var(49) > 100)
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = p2bodydist X = [100,160]
triggerall = random <= var(59)*40
trigger1 = EnemyNear(var(15)),MoveType != H
trigger1 = EnemyNear(var(15)),Numproj >= 1
trigger1 = EnemyNear(var(15)),time <= 20
trigger1 = EnemyNear(var(15)),movetype = A

trigger2 = EnemyNear(var(15)),stateNo = var(34)
trigger2 = EnemyNear(var(15)),time <= 20

trigger3 = EnemyNear(var(15)),NumHelper > var(58)
trigger3 = EnemyNear(var(15)),statetype != A
trigger3 = EnemyNear(var(15)),ctrl = 0

trigger4 = Life >= Floor(LifeMax/6)
trigger4 = EnemyNear(var(15)),NumHelper = var(58) && EnemyNear(var(15)),Numproj = 0
trigger4 = EnemyNear(var(15)),moveType != A
trigger4 = EnemyNear(var(15)),ctrl = 0
trigger4 = EnemyNear(var(15)),movetype != H

trigger5 = Life >= Floor(LifeMax/4)
trigger5 = EnemyNear(var(15)),moveType != A
trigger5 = EnemyNear(var(15)),ctrl
trigger5 = EnemyNear(var(15)),movetype != H

trigger6 = TeamMode = simul
trigger6 = NumPartner >= 1 && Partner,Life > 0
trigger6 = Partner,movecontact
trigger6 = EnemyNear(var(15)),statetype = C
trigger6 = (Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X) || (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)

;-------------------------------------------------------------------------------
;ダッシュ 大ジャンプ
[State -3, Dash Long Jump]
type = ChangeState
value = 38
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && var(52) = 0 && statetype != A
triggerall = (var(49) = 0 || var(49) > 100)
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = random <= var(59)*40
trigger1 = p2bodydist X >= 160
trigger1 = EnemyNear(var(15)),MoveType != H
trigger1 = EnemyNear(var(15)),Numproj >= 1
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),time <= 20

trigger2 = p2bodydist X = [160,220]
trigger2 = EnemyNear(var(15)),movetype = A
trigger2 = EnemyNear(var(15)),stateNo = var(34)
trigger2 = EnemyNear(var(15)),time <= 20

trigger3 = p2bodydist X = [160,220]
trigger3 = EnemyNear(var(15)),NumHelper > var(58)
trigger3 = EnemyNear(var(15)),statetype != A
trigger3 = EnemyNear(var(15)),ctrl = 0

trigger4 = p2bodydist X = [160,220]
trigger4 = Life >= Floor(LifeMax/6)
trigger4 = EnemyNear(var(15)),NumHelper = var(58) && EnemyNear(var(15)),Numproj = 0
trigger4 = EnemyNear(var(15)),moveType != A
trigger4 = EnemyNear(var(15)),MoveType != H

;-------------------------------------------------------------------------------
;通常 小ジャンプ
[State -3, Nomal Short Jump]
type = ChangeState
value = 36
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(43) = 1 && var(52) = 0 && statetype != A
triggerall = (var(49) = 0 || var(49) > 100)
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = p2bodydist X = [60,100]
triggerall = random <= var(59)*40
trigger1 = Life >= Floor(LifeMax/6)
trigger1 = EnemyNear(var(15)),NumHelper = var(58) && EnemyNear(var(15)),Numproj = 0
trigger1 = EnemyNear(var(15)),moveType != A
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),movetype != H

trigger2 = EnemyNear(var(15)),NumHelper > var(58)
trigger2 = EnemyNear(var(15)),statetype != A
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = Partner,movecontact
trigger3 = EnemyNear(var(15)),statetype = C
trigger3 = (Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X) || (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)

;-------------------------------------------------------------------------------
;バックジャンプ
[State -3, Back Jump]
type = ChangeState
value = 37
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(43) = 1 && var(52) = 0 && var(38) = 1 && statetype != A
triggerall = (var(49) = 0 || var(49) > 100)
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),movetype != H
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 200 && facing = -1 || Helper(60000+id),RootDist X >= 200 && facing = 1
triggerall = EnemyNear(var(15)),Numproj = 0
trigger1 = p2bodydist X = [60,90]
trigger1 = EnemyNear(var(15)),statetype != A
trigger1 = EnemyNear(var(15)),movetype = I
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),stateNo != [100,105]
trigger1 = EnemyNear(var(15)),stateNo != [37,49]
trigger1 = random <= var(59)*60

;-------------------------------------------------------------------------------
;空中ふっとばし
[State -3, Jump E]
type = changestate
value = 260
triggerall = var(59) >= 1 && vel X != 0 && Roundstate = 2
triggerall = (ctrl || (stateNo = [120,140])) && statetype = A
triggerall = EnemyNear(var(15)),statetype != L
triggerall = (var(59) = [1,3]) || (var(59) >= 4 && Life >= (LifeMax/3))
triggerall = random <= var(59)*70

;ダッシュ 小ジャンプの場合
trigger1 = p2bodydist X <= 100
trigger1 = var(46) = 3 && vel Y >= 0
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) <= -40
trigger2 = p2bodydist X <= 100
trigger2 = var(46) = 3 && vel Y >= 1
trigger2 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40

;ダッシュ 大ジャンプの場合
trigger3 = p2bodydist X <= 100
trigger3 = var(46) = 4 && vel Y >= 0
trigger3 = (stateNo != 5210 && (p2bodydist Y = [70,80])) || (stateNo = 5210 && (p2bodydist Y = [70,85]))
trigger3 = EnemyNear(var(15)),statetype = S
trigger3 = Enemy,const(size.head.pos.y) <= -40
trigger4 = p2bodydist X <= 100
trigger4 = var(46) = 4 && vel Y >= 0
trigger4 = (stateNo != 5210 && (p2bodydist Y = [60,70])) || (stateNo = 5210 && (p2bodydist Y = [70,80]))
trigger4 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40

;バックジャンプの場合
trigger5 = p2bodydist X = [-20,30]
trigger5 = var(46) = 3 && vel X <= 0 && p2bodydist Y = [70,80]
trigger5 = EnemyNear(var(15)),statetype != A
trigger5 = EnemyNear(var(15)),movetype != A

;相手が空中の場合
trigger6 = p2bodydist X <= 40
trigger6 = p2bodydist Y = [-50,50]
trigger6 = EnemyNear(var(15)),statetype = A

;-------------------------------------------------------------------------------
;空中 強パンチ
[State -3, Jump C]
type = ChangeState
value = 610
triggerall = var(59) >= 1 && vel X != 0 && Roundstate = 2
triggerall = (ctrl || (stateNo = [120,140])) && statetype = A
triggerall = EnemyNear(var(15)),statetype != L

;ダッシュ 小ジャンプの場合
trigger1 = p2bodydist X <= 100 && p2bodydist Y >= 45
trigger1 = var(46) = 3 && vel Y >= 0
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) <= -40
trigger2 = p2bodydist X <= 100 && p2bodydist Y >= 45
trigger2 = var(46) = 3 && vel Y >= 1
trigger2 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40

;ダッシュ 大ジャンプの場合
trigger3 = p2bodydist X <= 100
trigger3 = var(46) = 4 && vel Y >= 0
trigger3 = (stateNo != 5210 && (p2bodydist Y = [70,95])) || (stateNo = 5210 && (p2bodydist Y = [70,95]))
trigger3 = EnemyNear(var(15)),statetype = S
trigger3 = Enemy,const(size.head.pos.y) <= -40
trigger4 = p2bodydist X <= 100
trigger4 = var(46) = 4 && vel Y >= 0
trigger4 = (stateNo != 5210 && (p2bodydist Y = [65,80])) || (stateNo = 5210 && (p2bodydist Y = [65,80]))
trigger4 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40

;バックジャンプの場合
trigger5 = p2bodydist X = [-20,30]
trigger5 = var(46) = 3 && vel X <= 0 && p2bodydist Y = [70,80]
trigger5 = EnemyNear(var(15)),statetype != A
trigger5 = EnemyNear(var(15)),movetype != A

;相手が空中の場合
trigger6 = p2bodydist X <= 40
trigger6 = p2bodydist Y = [-50,50]
trigger6 = EnemyNear(var(15)),statetype = A

;-------------------------------------------------------------------------------
;立ち強パンチ
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = (var(46) = [6,7]) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || stateNo = [18,19]
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype != A
triggerall = Enemy,const(size.head.pos.y) < -50
trigger1 = p2bodydist X = [-10,40]
trigger1 = random <= var(59)*90
trigger1 = ((var(59) = [1,3]) && (var(46) = [6,7])) || (var(59) >= 4 && var(46) = 6)

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = (var(46) = [6,7]) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || stateNo = [18,19]
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = p2bodydist X = [-10,40]
trigger1 = ((var(59) = [1,3]) && (var(46) = [6,7])) || (var(59) >= 4 && var(46) = 6)

;-------------------------------------------------------------------------------
;しゃがみ強キック
[State -3, Crouch D]
type = ChangeState
value = 440
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = (var(46) = [6,7]) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || stateNo = [18,19]
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = p2bodydist X = [-10,50]
trigger1 = ((var(59) = [1,3]) && (var(46) = [6,7])) || (var(59) >= 4 && var(46) = 6)

;-------------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouch C]
type = ChangeState
value = 400
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = (var(46) = 7) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || stateNo = [18,19]
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = p2bodydist X = [-10,35]

;===============================================================================
;相手が後ろ向いてる場合
;===============================================================================
;ダッシュ
[State -3, Fwd]
type = ChangeState
value = 100
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && var(38) = 1 && statetype != A
triggerall = ctrl || stateNo = [18,19]
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = p2bodydist X >= 25
triggerall = random <= var(59)*90
trigger1 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;投げ【斬り】
[State -3, Throw 1]
type = ChangeState
value = 800
triggerall = var(59) >= 2 && RoundState = 2
triggerall = (var(54) = 6 || (var(43) = 1 && var(38) = 0)) && StateType != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),stateNo != 40 && EnemyNear(var(15)),stateNo != 52 && EnemyNear(var(15)),stateNo != 5120 
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != A
triggerall = p2bodydist X < 7
trigger1 = EnemyNear(var(15)),AnimTime > -3
trigger1 = EnemyNear(var(15)),ctrl = 0

;-------------------------------------------------------------------------------
;立ち強パンチ
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 2 && RoundState = 2
triggerall = (var(54) = 6 || (var(43) = 1 && var(38) = 0)) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = (p2bodydist X = [-10,35]) && p2bodydist Y >= -40
triggerall = random <= var(59)*90
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),movetype != H

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),ctrl

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),movetype = H

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 2 && RoundState = 2
triggerall = (var(54) = 6 || (var(43) = 1 && var(38) = 0)) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = (p2bodydist X = [-10,70]) && p2bodydist Y >= -50
triggerall = random <= var(59)*90
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),movetype != H

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),ctrl

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),movetype = H

;-------------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 3 && RoundState = 2
triggerall = (var(54) = 6 || (var(43) = 1 && var(38) = 0)) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = (p2bodydist X = [-10,25])
triggerall = random <= var(59)*90
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),movetype != H

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),ctrl

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),movetype = H

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 2 && RoundState = 2
triggerall = (var(54) = 6 || (var(43) = 1 && var(38) = 0)) && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = (p2bodydist X = [-10,40])
triggerall = random <= var(59)*90
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger1 = EnemyNear(var(15)),movetype != H

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life > 0
trigger2 = EnemyNear(var(15)),ctrl

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),movetype = H

;===============================================================================
;前転攻撃
;===============================================================================
;ダッシュ
[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && StateType != A
triggerall = ctrl || (stateNo = [18,19])
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),alive
trigger1 = p2bodydist X >= 25

;-------------------------------------------------------------------------------
;後退
[State -3, Back]
type = ChangeState
value = 18
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(54) = 6 && statetype != A
triggerall = ctrl && statetype != A
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 120 && facing = -1 || Helper(60000+id),RootDist X >= 120 && facing = 1
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = p2bodydist X >= 7
trigger1 = EnemyNear(var(15)),AnimTime > -3 || EnemyNear(var(15)),ctrl

;-------------------------------------------------------------------------------
;投げ【ドリル】
[State -3, Throw 2]
type = ChangeState
value = 801
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && Statetype != A 
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),stateNo != 40 && EnemyNear(var(15)),stateNo != 52 && EnemyNear(var(15)),stateNo != 5120 
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != A
triggerall = p2bodydist X < 7
trigger1 = EnemyNear(var(15)),AnimTime > -3 || EnemyNear(var(15)),ctrl

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && StateType != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = (p2bodydist X = [-10,40])
trigger1 = EnemyNear(var(15)),AnimTime <= -10
trigger1 = random <= var(59)*90

;-------------------------------------------------------------------------------
;立ち強パンチ
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && StateType != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = (p2bodydist X = [-10,35])
trigger1 = EnemyNear(var(15)),AnimTime <= -7
trigger1 = random <= var(59)*50

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && StateType != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = (p2bodydist X = [-10,35])
trigger1 = EnemyNear(var(15)),AnimTime <= -4
trigger1 = random <= var(59)*90

;-------------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(54) = 6 && StateType != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = p2bodydist X = [-20,25]

;===============================================================================
;移動
;===============================================================================
;ダッシュ
[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(43) = 1 && var(38) = 1
triggerall = (ctrl || (stateNo = [18,19])) && (stateNo != [120,140]) && statetype != A
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = EnemyNear(var(15)),moveType != A
triggerall = EnemyNear(var(15)),NumHelper = var(58) && EnemyNear(var(15)),Numproj = 0
trigger1 = p2bodydist X >= 200

;-------------------------------------------------------------------------------
;立ち弱パンチ【ダッシュストップ用】
[State -3, Stand A]
type = ChangeState
value = 200
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(43) = 1 && statetype != A
triggerall = (EnemyNear(var(15)),Facing = -1 && Facing = 1) || (EnemyNear(var(15)),Facing = 1 && Facing = -1)
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),ctrl = 0
triggerall = p2bodydist X = [70,100]
trigger1 = (stateNo = [100,101]) && time < 2

;-------------------------------------------------------------------------------
;前進 【シングル用】
[State -3, Fwd]
type = ChangeState
value = 19
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = var(43) = 1 && ctrl && (stateNo != [120,140])  && statetype != A
triggerall = EnemyNear(var(15)),StateType != L && EnemyNear(var(15)),moveType != H
triggerall = random <= var(59)*80
trigger1 = EnemyNear(var(15)),StateType != A
trigger1 = p2bodydist X >= 35

trigger2 = EnemyNear(var(15)),StateType = A
trigger2 = EnemyNear(var(15)),ctrl = 0
trigger2 = p2bodydist X >= 35

trigger3 = EnemyNear(var(15)),StateType = A
trigger3 = EnemyNear(var(15)),ctrl
trigger3 = p2bodydist X >= 80

;-------------------------------------------------------------------------------
;前進 【タッグ専用】
[State -3, Fwd]
type = ChangeState
value = 19
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = var(43) = 1 && ctrl && (stateNo != [120,140]) && statetype != A
triggerall = TeamMode = Simul
triggerall = NumPartner >= 1 && Partner,Life > 0
trigger1 = p2bodydist X >= 35

;===============================================================================
;起き攻め
;===============================================================================
;挑発
[State -3, Taunt]
type = ChangeState
value = 195
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && var(38) = 1
triggerall = var(49) = 0 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19])
triggerall = (EnemyNear(var(15)),MoveType = H && EnemyNear(var(15)),stateType = A) || EnemyNear(var(15)),stateType = L
triggerall = EnemyNear(var(15)),stateNo != 5120
trigger1 = Life >= Floor(LifeMax/1.5) && EnemyNear(var(15)),Life <= Floor(LifeMax/4)
trigger1 = p2bodydist X >= 170
trigger1 = random <= var(59)*80

;-------------------------------------------------------------------------------
;前転
[State -3, Fwd Roll]
type = ChangeState
value = 360
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),statetype = L || (EnemyNear(var(15)),movetype = H && EnemyNear(var(15)),statetype = A)
triggerall = p2bodydist X = [-20,50]
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X <= 100 && facing = -1 || Helper(60000+id),RootDist X <= 100 && facing = 1
trigger1 = random <= var(59)*90

;-------------------------------------------------------------------------------
;バックステップ
[State -3, Dash]
type = ChangeState
value = 105
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),statetype = L
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 100 && facing = -1 || Helper(60000+id),RootDist X >= 100 && facing = 1
triggerall = random <= var(59)*100

trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = p2bodydist X <= 10

trigger2 = TeamMode = Simul && var(38) = 1
trigger2 = (NumPartner >= 1 && Partner,Life = 0)
trigger2 = p2bodydist X <= 10

;-------------------------------------------------------------------------------
;ダッシュ
[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59) >= 4 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype = L || (EnemyNear(var(15)),movetype = H && EnemyNear(var(15)),statetype = A)
triggerall = random <= var(59)*90

;通常立ち回り
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = Life >= Floor(LifeMax/2)
trigger1 = p2bodydist X >= 160

trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life = 0
trigger2 = Life >= Floor(LifeMax/2)
trigger2 = p2bodydist X >= 160

;-------------------------------------------------------------------------------
;前進
[State -3, Fwd]
type = ChangeState
value = 19
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(43) = 1 && ctrl && statetype != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),stateType = L || (EnemyNear(var(15)),moveType = H && EnemyNear(var(15)),stateType = A)
triggerall = random <= var(59)*70
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = p2bodydist X >= 100
trigger2 = TeamMode = simul
trigger2 = NumPartner >= 1 && Partner,Life = 0
trigger2 = p2bodydist X >= 100

;-------------------------------------------------------------------------------
;後退
[State -3, Back]
type = ChangeState
value = 18
triggerall = var(59) >= 1 && Roundstate = 2
triggerall = var(43) = 1 && ctrl && statetype != A
triggerall = EnemyNear(var(15)),alive
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 120 && facing = -1 || Helper(60000+id),RootDist X >= 120 && facing = 1
triggerall = random <= var(59)*100

trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = EnemyNear(var(15)),statetype = L || (EnemyNear(var(15)),movetype = H && EnemyNear(var(15)),statetype = A)
trigger1 = p2bodydist X <= 80

trigger2 = TeamMode = Simul
trigger2 = NumPartner >= 1 && Partner,Life = 0
trigger2 = EnemyNear(var(15)),statetype = L || (EnemyNear(var(15)),movetype = H && EnemyNear(var(15)),statetype = A)
trigger2 = p2bodydist X <= 80

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),stateType = L
trigger3 = p2bodydist X <= 20

;-------------------------------------------------------------------------------
;天翔・隠 弱
[State -3, Amakakeri A]
type = ChangeState
value = 1000
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A && numHelper(2000) = 0
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -12
trigger1 = p2bodydist X >= 150
trigger1 = random <= var(59)*80

;-------------------------------------------------------------------------------
;天翔・隠 強
[State -3, Amakakeri C]
type = ChangeState
value = 1010
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A && numHelper(2000) = 0
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -12
trigger1 = p2bodydist X >= 150
trigger1 = random <= var(59)*80

;-------------------------------------------------------------------------------
;ダッシュ大ジャンプ
[State -3, Dash Long Jump]
type = ChangeState
value = 38
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -22
trigger1 = p2bodydist X = [120,180]
trigger1 = random <= var(59)*80

;-------------------------------------------------------------------------------
;ダッシュ小ジャンプ
[State -3, Dash Short Jump]
type = ChangeState
value = 39
triggerall = var(59) >= 3 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -22
trigger1 = p2bodydist X = [80,120]
trigger1 = random <= var(59)*80

;-------------------------------------------------------------------------------
;空中ふっとばし
[State -3, Jump E]
type = changestate
value = 260
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(46) = 3 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype = L
triggerall = p2bodydist X <= 170
trigger1 = random <= var(59)*90

;ダッシュ 小ジャンプの場合
trigger1 = p2bodydist X <= 100
trigger1 = var(46) = 3 && vel Y >= 0
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) <= -40
trigger2 = p2bodydist X <= 100
trigger2 = var(46) = 3 && vel Y >= 1
trigger2 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40

;-------------------------------------------------------------------------------
;ジャンプ強パンチ
[State -1, Jump C]
type = ChangeState
value = 610
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(46) = 3 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype = L
triggerall = p2bodydist X <= 170

;ダッシュ 小ジャンプの場合
trigger1 = p2bodydist X <= 100
trigger1 = var(46) = 3 && vel Y >= 0
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) <= -40
trigger2 = p2bodydist X <= 100
trigger2 = var(46) = 3 && vel Y >= 1
trigger2 = EnemyNear(var(15)),statetype = C || Enemy,const(size.head.pos.y) > -40
;-------------------------------------------------------------------------------
;天翔・隠 強
[State -3, Amakakeri C]
type = ChangeState
value = 1010
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -17
trigger1 = p2bodydist X >= 220

;-------------------------------------------------------------------------------
;しゃがみ小パンチ
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 2 && Roundstate = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,140])
trigger1 = EnemyNear(var(15)),stateNo = 5120 || EnemyNear(var(15)),stateNo = 5201
trigger1 = EnemyNear(var(15)),AnimTime >= -5
trigger1 = p2bodydist X = [-10,30]

;===============================================================================
;ガード
;===============================================================================
;ダッシュ 大ジャンプ
[State -3, Long Dash Jump]
type = ChangeState
value = 39
triggerall = var(59) >= 4 && RoundState = 2
triggerall = (var(39) = [3,4]) && var(43) = 1 && statetype != A
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),MoveType != H
triggerall = ctrl || stateNo = 100 || stateNo = [18,19]
trigger1 = random <= var(59)*120

;-------------------------------------------------------------------------------
;前転【シングル専用】
[State -3, Fwd Roll]
type = ChangeState
value = 360
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(52) = 0 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (var(59) = [2,3]) || (var(59) >= 4 && EnemyNear(var(15)),AnimTime <= -33)
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = TeamMode = Single || TeamMode = Turns

;通常技を回避
trigger1 = p2bodydist X = [100,160]
trigger1 = EnemyNear(var(15)),stateNo = [200,499]
trigger1 = EnemyNear(var(15)),stateNo != 200 && EnemyNear(var(15)),stateNo != 400
trigger1 = random <= var(59)*90

;必殺技系を回避
trigger2 = EnemyNear(var(15)),hitdefattr = SCA,SA
trigger2 = EnemyNear(var(15)),Animtime <= -20
trigger2 = p2bodydist X = [-10,90]
trigger2 = random <= var(59)*60

;飛び道具適当に回避
trigger3 = p2bodydist X >= 100
trigger3 = EnemyNear(var(15)),ctrl
trigger3 = EnemyNear(var(15)),Numproj >= 1
trigger3 = random <= var(59)*60
trigger4 = p2bodydist X = [10,120]
trigger4 = EnemyNear(var(15)),Numproj >= 1
trigger4 = EnemyNear(var(15)),ctrl = 0
trigger4 = EnemyNear(var(15)),movetype = A
trigger4 = EnemyNear(var(15)),time <= 20
trigger4 = random <= var(59)*60
trigger5 = p2bodydist X = [-10,100]
trigger5 = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
trigger5 = EnemyNear(var(15)),stateNo = var(36)
trigger5 = EnemyNear(var(15)),stateNo < 3000
trigger5 = EnemyNear(var(15)),time <= 20
trigger5 = EnemyNear(var(15)),movetype = A
trigger5 = random <= var(59)*120

;反撃回避
trigger6 = var(59) >= 4
trigger6 = p2bodydist X = [-10,70]
trigger6 = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
trigger6 = EnemyNear(var(15)),AnimTime <= -35
trigger6 = EnemyNear(var(15)),movetype = A
trigger6 = EnemyNear(var(15)),statetype != A
trigger6 = random <= var(59)*120

;-------------------------------------------------------------------------------
;前転【タッグ専用】
[State -3, Fwd Roll]
type = ChangeState
value = 360
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && var(52) = 0 && statetype != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = TeamMode = simul

;通常技を回避
trigger1 = var(38) = 1 && p2bodydist X = [100,160]
trigger1 = EnemyNear(var(15)),stateNo = [200,499]
trigger1 = EnemyNear(var(15)),stateNo != 200 && EnemyNear(var(15)),stateNo != 400
trigger1 = EnemyNear(var(15)),time <= 5
trigger1 = random <= var(59)*90

;必殺技系を回避
trigger2 = var(38) = 1
trigger2 = EnemyNear(var(15)),hitdefattr = SCA,SA
trigger2 = EnemyNear(var(15)),Animtime <= -20
trigger2 = p2bodydist X = [-10,90]
trigger2 = random <= var(59)*60

;飛び道具適当に回避
trigger3 = var(38) = 1
trigger3 = p2bodydist X >= 100
trigger3 = EnemyNear(var(15)),ctrl
trigger3 = EnemyNear(var(15)),Numproj >= 1
trigger3 = random <= var(59)*60
trigger4 = var(38) = 1
trigger4 = p2bodydist X = [10,120]
trigger4 = EnemyNear(var(15)),Numproj >= 1
trigger4 = EnemyNear(var(15)),ctrl = 0
trigger4 = EnemyNear(var(15)),movetype = A
trigger4 = EnemyNear(var(15)),time <= 20
trigger4 = random <= var(59)*60
trigger5 = var(38) = 1
trigger5 = p2bodydist X = [-10,100]
trigger5 = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
trigger5 = EnemyNear(var(15)),stateNo = var(36)
trigger5 = EnemyNear(var(15)),stateNo < 3000
trigger5 = EnemyNear(var(15)),time <= 20
trigger5 = EnemyNear(var(15)),movetype = A
trigger5 = random <= var(59)*120

;反撃回避
trigger6 = var(59) >= 4 && var(38) = 1
trigger6 = p2bodydist X = [-10,70]
trigger6 = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
trigger6 = EnemyNear(var(15)),AnimTime <= -35
trigger6 = EnemyNear(var(15)),movetype = A
trigger6 = EnemyNear(var(15)),statetype != A
trigger6 = random <= var(59)*120

;敵の数が2人のとき(挟まれた場合)
trigger7 = var(38) = 0
trigger7 = p2bodydist X = [-10,60]
trigger7 = EnemyNear(var(15)),movetype = A
trigger7 = EnemyNear(var(15)),time <= 10
trigger7 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X>Pos X
trigger8 = var(38) = 0
trigger8 = p2bodydist X = [-10,60]
trigger8 = EnemyNear(var(15)),movetype = A
trigger8 = EnemyNear(var(15)),time <= 10
trigger8 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X<Pos X

;-------------------------------------------------------------------------------
;後転
[State -3, Back Roll]
type = ChangeState
value = 361
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(43) = 1 && statetype != A
triggerall = EnemyNear(var(15)),statetype != L
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19])

trigger1 = (EnemyNear(var(15)),Facing = -1 && Facing = -1) || (EnemyNear(var(15)),Facing = 1 && Facing = 1)
trigger1 = EnemyNear(var(15)),statetype = A
trigger1 = EnemyNear(var(15)),movetype = A
trigger1 = EnemyNear(var(15)),movetype != H
trigger1 = (p2bodydist X = [-70,-10]) && p2bodydist Y <= -60

;-------------------------------------------------------------------------------
;ガード
[State -3,Guard]
Type = ChangeState
Value = 120
triggerall = var(59) >= 1 && RoundState = 2
triggerall = ctrl || stateNo = 100 || (stateNo = [16,21])
triggerall = random <=var(59)*200 || var(59) >= 5
trigger1 = InGuardDist
trigger2 = Abs(P2Dist X) < 60
trigger2 = EnemyNear(var(15)),HitDefAttr = ,AA,AP
trigger3 = InGuardDist
trigger3 = EnemyNear(var(15)),Numproj > 0
trigger4 = !InGuardDist
trigger4 = EnemyNear(var(15)),Vel X > 0
trigger4 = EnemyNear(var(15)),HitDefAttr = SC,AA
trigger5 = InGuardDist
trigger5 = EnemyNear(var(15)),NumHelper > var(58)
trigger6 = var(59) >= 3 && var(39) = [1,2]

;===============================================================================
;遠距離攻撃
;===============================================================================
;天翔・隠 強
[State -3, Amakakeri C]
type = ChangeState
value = 1010
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && statetype != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),statetype != L
triggerall = EnemyNear(var(15)),statetype != A
triggerall = EnemyNear(var(15)),Numproj = 0
triggerall = p2bodydist X >= 180
triggerall = (Life >= (LifeMax/3) && random <= var(59)*60) || (Life < (LifeMax/3) && random <= var(59)*20)
trigger1 = EnemyNear(var(15)),movetype = I
trigger1 = EnemyNear(var(15)),ctrl = 0
trigger2 = EnemyNear(var(15)),moveType != A
trigger2 = EnemyNear(var(15)),movetype != H
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = TeamMode = Simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,130])
trigger3 = (Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X) || (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,130])
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A

;-------------------------------------------------------------------------------
;ダッシュ 大ジャンプ
[State -3, Long Dash Jump]
type = ChangeState
value = 39
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),statetype != A
triggerall = p2Bodydist X >= 120
trigger1 = stateNo = [1000,1010]
trigger1 = Animtime = 0
trigger1 = random <= var(59)*90 || (var(59) = [1,2])


;===============================================================================
;コンボ 1
;===============================================================================
;立ち弱パンチ
[State -3, Stand A]
type = ChangeState
value = 200
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType != C
triggerall = (p2bodydist X = [-10,25])
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = random <= var(59)*110
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) < -60
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),statetype = S
trigger2 = Enemy,const(size.head.pos.y) < -60
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = EnemyNear(var(15)),MoveType != H
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = !InGuardDist
trigger3 = p2bodydist Y >= -30
trigger3 = EnemyNear(var(15)),statetype = A
trigger3 = EnemyNear(var(15)),moveType != H
trigger4 = p2bodydist Y >= -30
trigger4 = EnemyNear(var(15)),statetype = A
trigger4 = EnemyNear(var(15)),MoveType != A
trigger4 = EnemyNear(var(15)),MoveType != H
trigger4 = EnemyNear(var(15)),ctrl = 0

trigger5 = TeamMode = simul && (var(37) = [1,3])
trigger5 = NumPartner >= 1 && Partner,Life > 0
trigger5 = EnemyNear(var(15)),MoveType = H
trigger6 = TeamMode = simul
trigger6 = NumPartner >= 1 && Partner,Life > 0
trigger6 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger6 = EnemyNear(var(15)),MoveType = A

;-------------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType != A
triggerall = p2Bodydist X = [-10,25]
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = random <= var(59)*110
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = EnemyNear(var(15)),MoveType != H
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = TeamMode = simul && (var(37) = [1,3])
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),MoveType = H
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A

;-------------------------------------------------------------------------------
;立ち弱パンチ【コンボ用】
[State -3, Crouch A]
type = ChangeState
value = 400
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = p2Bodydist X = [-10,15]
trigger1 = stateNo = 200 || stateNo = 400
trigger1 = time >= 7 && movecontact >= 1

;-------------------------------------------------------------------------------
;夜終 弱【低AIレベル用】
[State -3, Yomogarasu A]
type = ChangeState
value = 1200
triggerall = (var(59) = [1,3]) && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = stateNo = 200 || stateNo = 400
trigger1 = time >= 7 && movecontact = [1,3]
trigger1 = random <= 500-var(59)*100

;-------------------------------------------------------------------------------
;天翔・隠 弱【低AIレベル用】
[State -3, Amakakeri A]
type = ChangeState
value = 1000
triggerall = (var(59) = [1,3]) && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = stateNo = 200 || stateNo = 400
trigger1 = time >= 7 && movecontact = [1,3]
trigger1 = random <= 500-var(59)*100

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = stateNo = 200 || stateNo = 400
trigger1 = time >= 7 && movehit = [1,3]
trigger2 = stateNo = 200 || stateNo = 400
trigger2 = time >= 7 && moveGuarded = [1,3]
trigger2 = random <= 90

;===============================================================================
;コンボ 2
;===============================================================================
;立ち強パンチ
[State -3, Stand C]
type = ChangeState
value = 210
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = ctrl || (stateNo = [18,19]) || (stateNo = [100,101]) || (stateNo = [120,130])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType != C
triggerall = p2Bodydist X = [-10,35]
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = random <= var(59)*80
triggerall = (var(59) = [1,3]) || (var(59) >= 4 && Life >= Floor(LifeMax/2))
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(15)),statetype = S
trigger1 = Enemy,const(size.head.pos.y) <= -50
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),statetype = S
trigger2 = Enemy,const(size.head.pos.y) <= -50
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = EnemyNear(var(15)),MoveType != H
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = !InGuardDist
trigger3 = p2bodydist Y >= -30
trigger3 = EnemyNear(var(15)),statetype = A
trigger3 = EnemyNear(var(15)),moveType != H
trigger4 = p2bodydist Y >= -30
trigger4 = EnemyNear(var(15)),statetype = A
trigger4 = EnemyNear(var(15)),MoveType != A
trigger4 = EnemyNear(var(15)),MoveType != H
trigger4 = EnemyNear(var(15)),ctrl = 0

trigger5 = TeamMode = simul && (var(37) = [1,3])
trigger5 = NumPartner >= 1 && Partner,Life > 0
trigger5 = EnemyNear(var(15)),MoveType = H
trigger6 = TeamMode = simul
trigger6 = NumPartner >= 1 && Partner,Life > 0
trigger6 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger6 = EnemyNear(var(15)),MoveType = A

;-------------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouch C]
type = ChangeState
value = 410
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType != A
triggerall = p2Bodydist X = [-10,35]
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = random <= var(59)*110
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = EnemyNear(var(15)),MoveType != H
trigger2 = EnemyNear(var(15)),ctrl = 0

trigger3 = TeamMode = simul && (var(37) = [1,3])
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),MoveType = H
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A

;-------------------------------------------------------------------------------
;壬羽虎乱舞
[State -3, MAX3 Miu]
type = ChangeState
value = 3500
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && Power >= 3000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = p2bodydist X <= 50
triggerall = random <= var(59)*90
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
trigger1 = stateNo = 410 && (movehit = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movehit = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movehit = [1,12]

;-------------------------------------------------------------------------------
;天翔【画面端＋ドリームキャンセル可能】
[State -3, MAX Amakageri]
type = ChangeState
value = 3000
triggerall = var(59) >= 4 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && Power >= 3000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = Enemy,const(size.head.pos.y) < -60
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X <= 140 && facing = 1 || Helper(60000+id),RootDist X <= 140 && facing = -1
triggerall = p2bodydist X <= 80
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
triggerall = random <= var(59)*50 || var(59) >= 5
trigger1 = stateNo = 410 && (movehit = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movehit = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movehit = [1,12]

;-------------------------------------------------------------------------------
;夜終・秘
[State -3, MAX Yomogarasu Hi]
type = ChangeState
value = 3200
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && Power >= 2000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = EnemyNear(var(15)),stateNo = [5000,5100]
triggerall = random <= var(59)*90
trigger1 = stateNo = 410 && (movehit = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movehit = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movehit = [1,12]

;-------------------------------------------------------------------------------
;天翔
[State -3, MAX Amakageri]
type = ChangeState
value = 3000
triggerall = var(59) >= 2 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && Power >= 1000
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),movetype = H
triggerall = EnemyNear(var(15)),StateType != A
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = random <= var(59)*50
trigger1 = stateNo = 410 && (movehit = [1,12]) && time >= 19
trigger1 = EnemyNear(var(15)),stateNo = [5000,5100]
trigger2 = stateNo = 210 && (movehit = [1,12]) && time >= 15
trigger2 = EnemyNear(var(15)),stateNo = [5000,5100]

;-------------------------------------------------------------------------------
;夜終 弱【低AIレベル用】
[State -3, Yomogarasu A]
type = ChangeState
value = 1200
triggerall = (var(59) = [1,3]) && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = random <= 500-var(59)*100
trigger1 = stateNo = 410 && (movecontact = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movecontact = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movecontact = [1,12]

;-------------------------------------------------------------------------------
;天翔・隠 弱【低AIレベル用】
[State -3, Amakakeri A]
type = ChangeState
value = 1000
triggerall = (var(59) = [1,3]) && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
triggerall = random <= 500-var(59)*100
trigger1 = stateNo = 410 && (movecontact = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movecontact = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movecontact = [1,12]

;-------------------------------------------------------------------------------
;修罰
[State -3, Syubatsu]
type = ChangeState
value = 1100
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = EnemyNear(var(15)),alive
triggerall = EnemyNear(var(15)),moveType = H
triggerall = EnemyNear(var(15)),statetype != A
trigger1 = stateNo = 410 && (movehit = [1,12]) && time >= 19
trigger2 = stateNo = 210 && (movehit = [1,12]) && time >= 15
trigger3 = stateNo = 240 && movehit = [1,12]

trigger4 = stateNo = 410 && (moveGuarded = 1) && time >= 19
trigger4 = random <= var(59)*90
trigger5 = stateNo = 210 && (moveGuarded = 1) && time >= 15
trigger5 = random <= var(59)*90
trigger6 = stateNo = 240 && (moveGuarded = 1)
trigger6 = random <= var(59)*90

;===============================================================================
;ドリル打ち上げコンボ
;===============================================================================
;ダッシュ大ジャンプ
[State -3, Dash Long Jump]
type = ChangeState
value = 38
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 1 && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
trigger1 = EnemyNear(var(15)),StateType = A

;-------------------------------------------------------------------------------
;空中ふっとばし
[State -3, Jump E]
type = ChangeState
value = 260
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 1 && StateType = A
triggerall = ctrl || (stateNo = [120,131])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 =  vel Y <= 0

;===============================================================================
;庵コンボ
;===============================================================================
;夜終・陰
[State -3, MAX Yomogarasu In]
type = ChangeState
value = 3100
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(54) = 2 && (var(56) = [24,30]) && StateType != A && Power >= 1000
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 = (p2Bodydist X = [80,150])
trigger1 = random <= var(59)*110

;-------------------------------------------------------------------------------
;天翔・隠 強
[State -3, AmaGakeri D]
type = ChangeState
value = 1030
triggerall = var(59) >= 3 && RoundState = 2
triggerall = var(54) = 2 && (var(56) = [8,15]) && StateType != A && Power >= 1000
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 = (p2Bodydist X = [50,120])
trigger1 = random <= var(59)*110 || var(59) >= 5

;-------------------------------------------------------------------------------
;ダッシュ大ジャンプ
[State -3, Dash Long Jump]
type = ChangeState
value = 38
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && (var(56) = [24,30]) && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 = (p2Bodydist X = [80,150])
trigger1 = random <= var(59)*110

;-------------------------------------------------------------------------------
;空中ふっとばし
[State -3, Jump E]
type = ChangeState
value = 260
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && StateType = A
triggerall = ctrl || (stateNo = [120,131])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 =  vel Y <= 0

;-------------------------------------------------------------------------------
;地上ふっとばし
[State -3, Stand E]
type = ChangeState
value = 250
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && var(56) > 30 && StateType != A
triggerall = ctrl || (stateNo = [100,101]) || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
trigger1 = (p2Bodydist X = [-10,80])
trigger1 = random <= var(59)*110

;-------------------------------------------------------------------------------
;ダッシュ
[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && StateType != A
triggerall = ctrl || (stateNo = [18,19])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*110
trigger1 = p2Bodydist X >= 160 && var(56) <= 30
trigger2 = p2Bodydist X >= 30 && var(56) > 30

;-------------------------------------------------------------------------------
;前進
[State -3, Fwd]
type = ChangeState
value = 19
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && ctrl && StateType != A
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*110
trigger1 = p2Bodydist X >= 110 && var(56) <= 30
trigger2 = p2Bodydist X >= 30 && var(56) > 30

;-------------------------------------------------------------------------------
;後退
[State -3, Back]
type = ChangeState
value = 18
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(54) = 2 && ctrl && StateType != A
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),StateType = A
triggerall = random <= var(59)*110
trigger1 = p2Bodydist X <= 90 && var(56) <= 30
trigger2 = p2Bodydist X <= 10 && var(56) > 30

;-------------------------------------------------------------------------------
;夜終 弱
[State -3, Yomogarasu A]
type = ChangeState
value = 1200
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && numHelper(2000) = 0
triggerall = ctrl || (stateno = [100,101]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),stateType != A
triggerall = Enemy,const(size.head.pos.y) <= -60
triggerall = EnemyNear(var(15)),Numproj = 0
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = ((var(59) = [1,2]) && random <= var(59)*10) || (var(59) >= 3 && Life >= Floor(LifeMax/2) && random <= var(59)*10)
trigger1 = !InGuardDist
trigger1 = p2bodydist X = [55,70]
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = p2bodydist X = [55,70]
trigger2 = EnemyNear(var(15)),MoveType != H

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),MoveType = H
trigger3 = p2bodydist X = [55,70]
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A
trigger4 = p2bodydist X = [55,70]

;-------------------------------------------------------------------------------
;立ち強キック
[State -3, Stand D]
type = ChangeState
value = 240
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A
triggerall = ctrl || (stateno = [100,101]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),stateType != A
triggerall = Enemy,const(size.head.pos.y) <= -60
triggerall = EnemyNear(var(15)),Numproj = 0
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = ((var(59) = [1,2]) && random <= var(59)*10) || (var(59) >= 3 && Life >= Floor(LifeMax/3) && random <= var(59)*10)
trigger1 = !InGuardDist
trigger1 = p2bodydist X = [20,40]
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = p2bodydist X = [20,40]
trigger2 = EnemyNear(var(15)),MoveType != H

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),MoveType = H
trigger3 = p2bodydist X = [20,40]
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A
trigger4 = p2bodydist X = [20,40]

;-------------------------------------------------------------------------------
;ヒップアタック
[State -3, Hip Attack]
type = ChangeState
value = 450
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && StateType != A && numHelper(2000) = 0
triggerall = ctrl || (stateno = [100,101]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = EnemyNear(var(15)),StateType != L
triggerall = EnemyNear(var(15)),stateType != A
triggerall = Enemy,const(size.head.pos.y) <= -60
triggerall = EnemyNear(var(15)),Numproj = 0
triggerall = EnemyNear(var(15)),StateNo != [37,49]
triggerall = ((var(59) = [1,2]) && random <= var(59)*10) || (var(59) >= 3 && Life >= Floor(LifeMax/3) && random <= var(59)*10)
trigger1 = !InGuardDist
trigger1 = p2bodydist X = [75,85]
trigger1 = EnemyNear(var(15)),moveType != H
trigger2 = EnemyNear(var(15)),MoveType != A
trigger2 = p2bodydist X = [75,85]
trigger2 = EnemyNear(var(15)),MoveType != H

trigger3 = TeamMode = simul
trigger3 = NumPartner >= 1 && Partner,Life > 0
trigger3 = EnemyNear(var(15)),MoveType = H
trigger3 = p2bodydist X = [75,85]
trigger4 = TeamMode = simul
trigger4 = NumPartner >= 1 && Partner,Life > 0
trigger4 = (EnemyNear(var(15)),Facing = 1 && Facing = 1) || (EnemyNear(var(15)),Facing = -1 && Facing = -1)
trigger4 = EnemyNear(var(15)),MoveType = A
trigger4 = p2bodydist X = [75,85]

;===============================================================================
;立ち回り
;===============================================================================
;バックステップ
[state -3, Back Step]
Type = ChangeState
Value = 105
triggerall = var(59) >= 1 && RoundState = 2
triggerall = var(43) = 1 && var(38) = 1 && stateType != A
triggerall = ctrl || (stateNo = [100,102]) || (stateNo = [18,19]) || (stateNo = [120,140])
triggerall = (EnemyNear(var(15)),Facing = 1 && Facing = -1) || (EnemyNear(var(15)),Facing = -1 && Facing = 1)
triggerall = EnemyNear(var(15)),statetype != L && EnemyNear(var(15)),movetype != H
triggerall = EnemyNear(var(15)),Numproj = 0
triggerall = NumHelper(55000+id) && NumHelper(60000+id)
triggerall = Helper(55000+id),RootDist X >= 150 && facing = -1 || Helper(60000+id),RootDist X >= 150 && facing = 1
triggerall = p2bodydist X = [80,140]
triggerall = random <= var(59)*70
trigger1 = EnemyNear(var(15)),hitdefattr = SCA,NA
trigger1 = EnemyNear(var(15)),movetype = A















;===============================================================================
;AI起動ヘルパー
;===============================================================================
[StateDef 90000]
Anim = 0
Ctrl = 0

[state 90000]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 90000]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[state 90000]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 90000]
Type = VarSet
Trigger1 = Command = "up" && Root,Command = "up"
Trigger2 = Command = "down" && Root,Command = "down"
Trigger3 = Command = "back" && Root,Command = "back"
Trigger4 = Command = "fwd" && Root,Command = "fwd"
Trigger5 = Command = "a" && Root,Command = "a"
Trigger6 = Command = "b" && Root,Command = "b"
Trigger7 = Command = "c" && Root,Command = "c"
Trigger8 = Command = "x" && Root,Command = "x"
Trigger9 = Command = "y" && Root,Command = "y"
Trigger10 = Command = "z" && Root,Command = "z"
Trigger11 = Command = "start" && Root,Command = "start"
V = 59
Value = -1

[State 90000]
Type = DestroySelf
TriggerAll = IsHelper
Trigger1 = Root,Var(59) > 0 || Var(59) = -1
Trigger2 = Command = "up" && Root,Command = "up"
Trigger3 = Command = "down" && Root,Command = "down"
Trigger4 = Command = "back" && Root,Command = "back"
Trigger5 = Command = "fwd" && Root,Command = "fwd"
Trigger6 = Command = "a" && Root,Command = "a"
Trigger7 = Command = "b" && Root,Command = "b"
Trigger8 = Command = "c" && Root,Command = "c"
Trigger9 = Command = "x" && Root,Command = "x"
Trigger10 = Command = "y" && Root,Command = "y"
Trigger11 = Command = "z" && Root,Command = "z"
Trigger12 = Command = "start" && Root,Command = "start"

[State 90000]
Type = VarSet
TriggerAll = Var(59) !=-1
Trigger1 = Root,Command = "up"
Trigger2 = Root,Command = "down"
Trigger3 = Root,Command = "back"
Trigger4 = Root,Command = "fwd"
Trigger5 = Root,Command = "a"
Trigger6 = Root,Command = "b"
Trigger7 = Root,Command = "c"
Trigger8 = Root,Command = "x"
Trigger9 = Root,Command = "y"
Trigger10 = Root,Command = "z"
Trigger11 = Root,Command = "start"
V = 59
Value = 1

;===============================================================================
;ラウンド開始ヘルパー
;===============================================================================
[StateDef 85000]
Anim = 9999
Ctrl = 0

[state 85000]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 85000]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[state 85000]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 85000]
Type = DestroySelf
triggerall = IsHelper
trigger1 = var(58) || Root,var(58)
trigger2 = Roundstate = 2
trigger2 = Root,var(49) <= 800

;===============================================================================
;画面端ヘルパー
;===============================================================================
;ステージ右端検出用
[Statedef 55000]
Type = A
Ctrl = 0
Anim = 9999
Velset = -5,0
Movetype = I
Physics = N
Sprpriority = 1

[state 55000]
type = AssertSpecial
trigger1 = 1
flag = invisible

[state 55000]
Type=Projectile
Trigger1 = time=0
Velocity = -5,0
ProjID = 55000+root,id
Projanim = 9999
Offset = 0,0
projstagebound = 0
Projedgebound = 100000
Projremovetime = -1

[state 55000]
type = velset
Trigger1 = !Root,NumProjID(55000+root,id)
Trigger1 = time>0
x=0
y=0

[state 55000]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT


;ステージ左端検出用
[Statedef 60000]
Type = A
Ctrl = 0
Anim = 9999
Velset = -5,0
Movetype = I
Physics = N
Sprpriority = 1

[state 60000]
type = AssertSpecial
trigger1 = 1
flag = invisible

[state 60000]
Type = Projectile
Trigger1 = time=0
Velocity = -5,0
ProjID = 60000+root,id
Projanim = 9999
Offset = 0,0
projstagebound = 0
Projedgebound = 100000
Projremovetime = -1

[state 60000]
type = velset
Trigger1 = !Root,NumProjID(60000+root,id)
Trigger1 = time>0
x=0
y=0

[state 60000]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT


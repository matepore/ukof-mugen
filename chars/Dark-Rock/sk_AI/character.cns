;====================== Variable List =================
; Var(0) to VAR(10) - HELPER VAR: AI ACTIVATION
; Var(3)  - HELPER VAR: PROJECTILE HIT DETECTION
; Var(10) - STRENGTH VAR
; Var(11) - HELPER VAR: 1390, HITS
; Var(12) - PROJECTILE HELPER EXPLOSION STATE
; Var(14) - HIT COUNT
; Var(15) - NO JUGGLE
; Var(16) - FOCUS ATTACK CHARGE LVL
; Var(17) - FOCUS ATTACK LIFE METTER
; Var(18) - FOCUS ATTACK PREV STATE
; Var(19) - COUNTER FLAG
; Var(20) - CUSTOM COMBO
; Var(21) - CUSTOM COMBO CHAIN
; Var(23) - SUPER JUMP COMMAND
; Var(24) - SHORT JUMP COMMAND
; Var(25) - P2 TECH RECOVER
; Var(30) - HIT DETECTION
; Var(33) - HITSPARK LEVEL
; Var(34) - GUARDSPARK LEVEL
; Var(35) - HITSPARK X POS
; Var(36) - HITSPARK Y POS
; Var(37) - KO DETECTION
; Var(50) - HELPER VAR: SUPERSPARK TIME
; Var(57) - AI ACTIVATION
; Var(58) - AI ACTIVATION
; Var(59) - AI ACTIVATION
;====================== CHARACTER SPECIFIC =================
; Var(41) - ROUND GRAB BREAK
; fVar(17) - JACKET WINPOSE
;====================== Float Variable List =================
; fVar(1) - HELPER VAR: 8071, 9750
; fVar(10) - DAMAGE DAMPENER
; fVar(11) - DAMAGE DAMPENER
; fVar(12) - DAMAGE DAMPENER
;========================== Channels =======================
; 0 - Get Hit Voice
; 1 - Voice
; 2 - Woosh
; 3 - Steps, Jumps
; 12 - Intro/Winpose voice
; 13 - Intro/Winpose fx
;========================== FALTA ==============================

;back to idles

[Data]
life = 3000
power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 80
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1.05
yscale = 1
ground.back = 18
ground.front = 20
air.back = 18
air.front = 20
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 2, -90
mid.pos = -2, -63
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3.53
walk.back = -2.13
run.fwd  = 6, 0
run.back = -4.95,-4.5
jump.neu = 0,-10.2
jump.back = -4
jump.fwd = 3.27
runjump.back = -5.93,-10
runjump.fwd = 5,-10
airjump.neu = 0,-6.5
airjump.back = -2.8
airjump.fwd = 2.8

[Movement]
airjump.num = 0
airjump.height = 28
yaccel = .5
stand.friction = .85
crouch.friction = .82
;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = time = 0
value = 181+(random%4)
;---------------------------------------------------------------------------
;winpose1
[Statedef 181]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 180

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = s180,0
channel = 12
;---------------------------------------------------------------------------
;1
[Statedef 182]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 181

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = s180, 1
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = s180, 2
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = s180, 3
channel = 13

[State 820, Spark]
type = Explod
trigger1 = AnimElem = 4
anim = 188
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
supermove = 1
ID = 188
sprpriority = 3
;---------------------------------------------------------------------------
;2
[Statedef 183]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 182

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = s180, 4
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = s180, 5
persistent = 0
channel = 12

[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 3
ID = 1890
stateno = 1890
postype = p1
pos = 0,0
name = "fire"
ownpal = 1
;---------------------------------------------------------------------------
;fuegomano1
[Statedef 1890]
ctrl = 0
anim = 189
sprpriority = 3
velset = 0,0

[State 1000, 0]
type = BindToRoot
trigger1 = 1
pos = 55,-20

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 1891
;---------------------------------------------------------------------------
;fuegomanofade
[Statedef 1891]
ctrl = 0
anim = 189
sprpriority = 3
velset = 0,0

[State 8200, Assert]
type = AssertSpecial
trigger1 = 1
flag = Invisible

[State 8200, Transparency]
type = AfterImage
trigger1 = 1
time = 5
framegap = 1
length = 2
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
PalContrast = 250-(time*25), 250-(time*25), 250-(time*25)
trans = add

[State 8200, Destroy]
type = DestroySelf
trigger1 = time = 3
;---------------------------------------------------------------------------
;3
[Statedef 184]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 183
sprpriority = 3

[State 3001, VarSet]
type = VarSet
triggerall = NumHelper(9050)
trigger1 = time = 0
fvar(17) = Helper(9050),parentdist x

[State 3001, VarSet]
type = VarSet
triggerall = !NumHelper(9050)
trigger1 = time = 0
fvar(17) = 200

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = s180,6
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = s180,7
channel = 13

[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 7
ID = 185
stateno = 185
postype = p1
pos = 28,-112
name = "over"
;---------------------------------------------------------------------------
;chaqueta
[Statedef 185]
type = A
physics = N
ctrl = 0
anim = 184
sprpriority = 2

[State 105, 1]
type = VelSet
trigger1 = time = 0
x = root,fvar(17)*.025
y = -4.5

[State 105, 1]
type = VelAdd
trigger1 = 1
y = .15

[State 105, 1]
type = VelMul
trigger1 = 1
x = .98

[State 8200, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 186
;---------------------------------------------------------------------------
[Statedef 186]
type = S
physics = S
ctrl = 0
anim = 185
sprpriority = 2
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0
;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State -2, 3]
type = ChangeState
trigger1 = p2name = "cvsgeese" || p4name = "cvsgeese"
trigger2 = p2name = "cvsgeese_normal" || p4name = "cvsgeese_normal"
trigger3 = p2name = "cvsgeese_ex" || p4name = "cvsgeese_ex"
trigger4 = p2name = "Geese Howard" || p4name = "Geese Howard"
trigger5 = p2name = "DGeese" || p4name = "DGeese"
trigger6 = p2name = "Aof_Geese" || p4name = "Aof_Geese"
trigger7 = p2name = "Geese" || p4name = "Geese"
value = 192

[State -2, 3]
type = ChangeState
trigger1 = P2Name = "CVSterry" || P4Name = "CVSterry"
trigger2 = P2Name = "Terry" || P4Name = "Terry"
trigger3 = P2Name = "Terry Bogard" || P4Name = "Terry Bogard"
trigger4 = P2Name = "FF4 Terry" || P4Name = "FF4 Terry"
trigger5 = P2Name = "GSP_Terry" || P4Name = "GSP_Terry"
value = 193

[State 190, 1]
type = ChangeState
trigger1 = Time = 0
value = 191
;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 2
value = s190, 0
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 17
value = s190, 1
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 15
value = s190, 2
channel = 13

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
;VS GEESE
[Statedef 192]
type = S
physics = N
ctrl = 0
anim = 191
velset = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s190,3
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 46
value = s190,5
channel = 12

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
;VS TERRY
[Statedef 193]
type = S
physics = N
ctrl = 0
anim = 190
velset = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 2
value = s190,4
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 17
value = s190,6
channel = 0
channel = 12

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 15
value = s190, 2
channel = 13

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S195,0
volume = 0
channel = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;================================= THROWS ==================================
;----------------throw punches----------------
[Statedef 800]
type    = S
movetype = A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 800
poweradd=36*!var(20)

[State 900, 1]
type = HitDef
triggerall = Anim = 800
triggerall = P2MoveType != H
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = ifelse(command = "holdfwd"||(var(59)>2&&Frontedgebodydist<backedgebodydist), 1, -1)
p2facing = 1
p1stateno = 801
;p2stateno = 809
guard.dist = 0
numhits = 0

[State 900, 1]
type = HitDef
triggerall = Anim = 800
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = MF
priority = 3, Miss
sparkno = -1
p1facing = ifelse(command = "holdfwd"||(var(59)>2&&Frontedgebodydist<backedgebodydist), 1, -1)
p2facing = 1
p1stateno = 801
;p2stateno = 809
guard.dist = 0
numhits = 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 4
movetype = I

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = s1000,9
channel = 1

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------throw kicks----------------
[Statedef 820]
type    = S
movetype = A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 810
poweradd=36*!var(20)

[State 900, 1]
type = HitDef
triggerall = Anim = 810
triggerall = P2MoveType != H
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = ifelse(command = "holdfwd"||(var(59)>2&&Frontedgebodydist<backedgebodydist), 1, -1)
p2facing = 1
p1stateno = 811
;p2stateno = 819
guard.dist = 0
numhits = 0

[State 900, 1]
type = HitDef
triggerall = Anim = 810
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = MF
priority = 3, Miss
sparkno = -1
p1facing = ifelse(command = "holdfwd"||(var(59)>2&&Frontedgebodydist<backedgebodydist), 1, -1)
p2facing = 1
p1stateno = 811
;p2stateno = 819
guard.dist = 0
numhits = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = s1000,9
channel = 1

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 4
movetype = I

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;throw punch
[Statedef 801]
type    = S
movetype = A
physics = N
velset = 0,0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 805

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 801
persistent = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1,9
channel = 2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1000,10
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = s100, 6

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = s1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 7
time = 10
ampl = -4

[State 3001, Width]
type = Width
trigger1 = animelemtime(7) < 0
edge = 45,45

[State 3001, Width]
type = Width
trigger1 = animelemtime(7) >= 0 && animelemtime(8) < 0
edge = 60,0

[State 3001, Width]
type = Width
trigger1 = animelem = 8
edge = 105,0

[State 901,1]
type = TargetBind
trigger1 = animelem = 1
pos = -53,0
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 2
pos = -40,0
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 4
pos = -40, -79
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 5
pos = -20, -95
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 6
pos = 25, -90
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 7
pos = 50, 0
time = 1

[State 3001, AddHits]
type = HitAdd
trigger1 = AnimElem = 7
value = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = -126

[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 7
value = 24

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;p2
[Statedef 805]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = anim = 805
value = 1

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 805

[State 902, 1]
type = ChangeAnim
trigger1 = anim = 805 && AnimTime = 0
value = 5160

[State 903, Vel]
type = VelSet
trigger1 = anim = 5160 && AnimElemTime(1) = 0
x = -4
y = -7.5

[State 903, Vel]
type = veladd
trigger1 = anim = 5160
y = .49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 1300,Turn]
type = Turn
trigger1 = anim = 5160 && AnimElemTime(1) = 0

[State 903, 2]
type = SelfState
trigger1 = anim = 5160 && AnimElemTime(1) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
;p2
[Statedef 806]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;throw kicks
[Statedef 811]
type    = S
movetype = A
physics = N
velset = 0,0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 815

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 811
persistent = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1, 9
channel = 2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0,2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1000,11
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1,2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,2

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 5
time = 10
ampl = -4

[State 0, Sparks]
type=helper
trigger1 = AnimElem = 5
helpertype=normal
stateno=8010
ID=8000
name="Spark"
postype=p1
pos= 30,-78
facing= 1
ownpal=1
pausemovetime=65535
supermovetime=65535
ignorehitpause=1
size.xscale =1
size.yscale =1
persistent = 0

[State 3001, Width]
type = Width
trigger1 = animelemtime(5) < 0
edge = 45,0

[State 3001, Width]
type = Width
trigger1 = animelem = 5
edge = 75,0

[State 901,1]
type = TargetBind
trigger1 = animelem = 1
pos = 60,0
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 2
pos = 45,0
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 3
pos = 20,0
time = -1

[State 901,1]
type = TargetBind
trigger1 = animelem = 5
pos = 15, -10
time = 1

[State 3001, AddHits]
type = HitAdd
trigger1 = AnimElem = 5
value = 1
[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -140

[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 5
value = 24

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;p2
[Statedef 815]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = AnimElemTime(5) < 0
value = 1

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 815

[State 903, Vel]
type = VelSet
trigger1 = AnimElemTime(5) = 0
x = -4.5
y = -8

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(5) > 0
y = .49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, 2]
type = SelfState
trigger1 = AnimElemTime(5) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
;p2
[Statedef 816]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
;==================================================================================
;============| AI HELPERS |===========================================
;==================================================================================

[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9741, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = 2

[State 9741, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)
trigger1 = !(var(4):=0)

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !(var(3) || var(9))
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = !(var(4):=1)
var(58) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = var(4):=0

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
var(58) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(2) = 2
trigger8 = var(2):=0
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = var(1):=1
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9742, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = var(3):=2

[State 9742, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(1)
trigger5 = var(3):=0
var(2) = var(3):=1

[State 9742, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = var(6):=0
var(6) = 1

[State 9742, BufferCheck]
type = VarSet
trigger1 = var(3) || var(4) || var(10)
var(10) = var(6)

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(7):=0
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = Parent,command = "a"
trigger1 = Partner,command = "a"
trigger2 = Parent,command = "b"
trigger2 = Partner,command = "b"
trigger3 = Parent,command = "c"
trigger3 = Partner,command = "c"
trigger4 = Parent,command = "x"
trigger4 = Partner,command = "x"
trigger5 = Parent,command = "y"
trigger5 = Partner,command = "y"
trigger6 = Parent,command = "z"
trigger6 = Partner,command = "z"
trigger7 = Parent,command = "start"
trigger7 = Partner,command = "start"
trigger8 = var(8):=0
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(6)
trigger1 = !(var(9) || var(10))
var(58) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5) && var(7)
trigger1 = !(var(2) || var(8))
var(58) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !(var(2) || var(8))
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = var(2) = 2
trigger2 = var(2):=0
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6) || var(7)
trigger2 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = var(1):=1
var(5) = !var(7)

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[StateDef -2]

[State -2, StopAI]
type = VarSet
triggerall = var(58) > 0 && !IsHelper
trigger1 = RoundState != 2
trigger2 = !Alive
var(58) = -2
IgnoreHitPause = 1

[State -2, Simplifier]
type = VarSet
triggerall = !IsHelper
trigger1 = var(58) = 1
trigger2 = var(0):=0
var(0) = 1
IgnoreHitPause = 1

;[State -2, VarSet]
;type = VarSet
;trigger1 = 1
;v = 59
;value = var(58)
;============================== DEBUG ====================================
[State -2, Debug]
type=displaytoclipboard
trigger1= 1
text="AI=%d Damage=%f NoJuggle=%d Focus=%d Counter=%d"
params=var(59), fvar(11), var(15), var(16), var(19)
ignorehitpause=1

;[State -2, 1]
;type = DisplayToClipboard
;trigger1 = 1
;text="AI = %d  p2bodydist X = %d  p2bodydist Y = %d  CC = %d  pr=%d "
;params = floor(var(59)),floor(p2bodydist X),floor(P2BodyDist Y),(var(20)),floor(prevstateno)
;ignorehitpause = 1

;[State -2, Debug]
;type = appendtoclipboard
;trigger1 = 1
;text = "p=%d"
;params = power
;ignorehitpause=1

;[State -2, 1]
;type = appendToClipboard
;trigger1 = 1
;text = "\nFV39 = %f ran = %d fv37 = %d jug = %d fv35 = %f"
;params = (fvar(39)),((var(54)&127)),floor(fvar(37)),((var(54)&122880)/8192),(fvar(35))
;ignorehitpause = 1

;[State -2, Debug]
;type = appendtoclipboard
;trigger1 = 1
;text = " x=%d"
;;params = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33))
;params = (var(54)&4194304)
;ignorehitpause=1

;[State -2, Debug]
;type = appendtoclipboard
;trigger1 = NumHelper(60000+id)
;text = " L=%d R=%d"
;params = floor(Helper(60000+id),fvar(37)),floor(Helper(60000+id),fvar(38))
;ignorehitpause=1
;============================= HIT COUNT ======================
[State -2, Hitcount]
type=varadd
trigger1= movehit=1
trigger1= !(hitdefattr=SCA,AT)
var(14)=1

[State -2, Hitcount Reset]
type=varset
trigger1= numenemy && var(14)
trigger1= (enemynear,movetype!=H) && (enemynear,stateno!=5300)
var(14)=0
ignorehitpause=1
;============================ HITSPARKS ==================================
[State -2, Hit Detection]
type=varset
trigger1= movecontact!=1
var(30)=2
ignorehitpause=1

[State -2, Sparks]
type=helper
triggerall= movecontact=1 && var(30)=1
trigger1= movehit=1 && numenemy
trigger1= var(33)=8010  || var(33)=8015 || var(33)=8020 || var(33)=8021 || var(33)=8030 || var(33)=8035
trigger2= moveguarded=1 && numenemy
trigger2= var(34)=8100 || var(34)=8105
helpertype=normal
stateno=ifelse(moveguarded, var(34), var(33))
ID=8000
name="Spark"
postype=p1
pos= ifelse(p2dist x<0, (ceil(p2dist x)), ifelse(p2dist x<var(35), ceil(p2dist x), var(35))), var(36)
facing= ifelse((p2bodydist x >=-5),-1,1);-1;enemynear,facing
ownpal=1
pausemovetime=65535
supermovetime=65535
ignorehitpause=1
size.xscale =1
size.yscale =1

[State -2, Counter FX]
type=helper
trigger1= movehit=1 && var(30)=1
trigger1= numenemy && var(19)
trigger1= !(hitdefattr=SCA,AT)
helpertype=normal
stateno=8011
ID=8011
name="Counter FX"
postype=p1
pos= ifelse(p2dist x<0, (ceil(p2dist x)), ifelse(p2dist x<var(35), ceil(p2dist x), var(35))), var(36)
facing= -1
ownpal=1
pausemovetime=255
supermovetime=255
ignorehitpause=1

[State -2, Counter Flag]
type=varset
trigger1= numenemy
var(19)=ifelse((enemynear,movetype=A),1,0)
ignorehitpause=1
;-------------------------------------------------------------------------------
[State -2, Counter Flag]; solo rock
type=varset
trigger1= stateno = 1300
var(19)=0
ignorehitpause=1

[State -2, Counter Flag]; solo rock
type=varset
trigger1= stateno = 2300
var(19)=0
ignorehitpause=1
;-------------------------------------------------------------------------------

[State -2, Pause] ;Counter Pause
type = Pause
triggerall = enemynear,alive
trigger1= numenemy ;&& var(19)
trigger1= numhelper(8011);=1
time = 6
movetime = 6
ignorehitpause = 1

[State -2, Hit Detection]
type=varrangeset
trigger1= movetype=I
trigger2= movetype=H && time
first=30
last=36
value=-1
ignorehitpause=1

[State -2, Hit Detection]
type=varadd
trigger1= var(30)>0
var(30)=-1
ignorehitpause=1
;--------------------------------------------------------------
[State -2, P2 Facing]
type=targetfacing
trigger1= movecontact=1 && numtarget
trigger1= !(target,hitshakeover) && !(target,hitfall) && (target,time<=1)
value= ifelse(p2dist x>=0, -1, 1)
ignorehitpause=1
;=========================== DAMAGE DAMPENER ==========================
[State -2, Damage based on hits]
type=varset
trigger1= numenemy
fvar(12)= enemynear,gethitvar(hitcount)
ignorehitpause=1

[State -2, Reset var when the opponent recovers]
type=varset
trigger1= numenemy
trigger1= (enemynear,movetype!=H)
trigger2= !numenemy
fvar(12)=0

[State -2, Dampener]
type=varset
trigger1 = var(20)<=0
trigger1 = stateno != [3000,3999]
fvar(10)= ifelse((fvar(12)>=20),.05,(1.00-(fvar(12)*.05)))
ignorehitpause=1

[State -2, Dampener For Supers]
type=varset
trigger1 = var(20)<=0
trigger1 = stateno = [3000,3999]
trigger1 = prevstateno = [2000,2999]
fvar(10)= .7
ignorehitpause=1

[State -2, Dampener For Supers]
type=varset
trigger1 = var(20)<=0
trigger1 = stateno = [3000,3999]
trigger1 = prevstateno = [1000,1999]
fvar(10)= .8
ignorehitpause=1

[State -2, Dampener For Supers]
type=varset
trigger1 = var(20)<=0
trigger1 = stateno = [3000,3999]
trigger1 = prevstateno = [200,699]
fvar(10)= .9
ignorehitpause=1

[State -2, Dampener For Custom Combo]
type=varset
trigger1 = var(20)>0
fvar(10)= .45
ignorehitpause=1

[State -2, VarSet]
type = VarSet
trigger1 = 1
fv = 11
value = (fvar(10)*ifelse(var(19),1.2,1))

[State -2, Dampener itself]
type=attackmulset
trigger1= 1
value=fvar(11)
ignorehitpause=1
;============================= CUSTOM COMBO ============================
[State -2, End]
type=varset
trigger1= var(20)<0
trigger2= movetype=H
trigger3= roundstate!=2
trigger4= (power <= 0) && (stateno != [3000,3999])
;trigger5= stateno = [3000,3999]
var(20)=0
ignorehitpause=1

[State -2, Original Combo Time]
type=varadd
trigger1= var(20)>0
var(20)=-1
ignorehitpause=1

[State -2, Free Juggling]
type=assertspecial
trigger1= var(20)>0
trigger2= roundstate!=2
flag=nojugglecheck
ignorehitpause=1

[State -2, Original Combo Guard]
type=assertspecial
trigger1= var(20)>0
flag= nostandguard
flag2=nocrouchguard
flag3=noairguard
ignorehitpause=1

[State -2, Original Combo PalFX]
type=palfx
trigger1= var(20)>60
time=2
add=32+ceil(sin(var(20)/16.0*pi)*32),32+ceil(sin(var(20)/16.0*pi)*32),32+ceil(sin(var(20)/16.0*pi)*32)
ignorehitpause=1

[State -2, Original Combo PalFX]
type=palfx
trigger1= var(20)=[1,60]
time=2
add=64+ceil(sin(var(20)/8.0*pi)*64),64+ceil(sin(var(20)/8.0*pi)*64),64+ceil(sin(var(20)/8.0*pi)*64)
ignorehitpause=1

[State -2, PowerAdd]
type = PowerAdd
trigger1 = var(20) > 0
value = ifelse((movetype = A),-13,-10)
ignorehitpause = 1
;persistent =

;============================= SPECIAL KO  ===================
[State -2, HyperComboFinish]
type = Helper
triggerall = roundstate >= 2
triggerall = WinKo && !var(37)
trigger1 = stateno = [3000, 3999]
;trigger2 = Var(18)
;trigger3 = fvar(9)=12
;trigger4 = projhittime(3005) = 1 || projhittime(3405) = 1
ID = 9000
stateno = 9994;ifelse(fvar(9)=12,9020,ifelse((var(20)=[3,5]),9010,9000))
postype = back
pos = 0,0
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
ownpal = 1

[State -2, SpecialComboFinish]
type = Helper
triggerall = roundstate >= 2
triggerall = WinKo && !var(37)
trigger1 = stateno = [1000, 1999]
trigger2 = stateno = [2000, 2999]
;trigger2 = Var(18)
;trigger3 = fvar(9)=12
;trigger4 = projhittime(3005) = 1 || projhittime(3405) = 1
ID = 9001
stateno = 9995;ifelse(fvar(9)=12,9020,ifelse((var(20)=[3,5]),9010,9000))
postype = back
pos = 0,0
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
ownpal = 1

[State -2,KO]
type = Varadd
trigger1 = roundstate = 3
ignorehitpause = 1
var(37) = 1

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
ignorehitpause = 1
var(37) = 0
;=========================== P2 FACING ============================
[State -2, targetfacing]
type=targetfacing
trigger1= movecontact=1 && numtarget
trigger1= !(target,hitshakeover) && !(target,hitfall) && (target,time<=1)
value= ifelse(p2dist x>=0, -1, 1)
ignorehitpause=1
;========================= P2 TECH RECOVER =====================
[State -2, varset]
type= varset
trigger1= movehit=1
var(25)= (stateno=[200,1999])
ignorehitpause=1

[State -2, targetstate]
type= targetstate
;triggerall != numtarget(790);Focus attack
trigger1= var(25)
trigger1= roundstate=2 && (ctrl || movetype=H)
trigger1= numtarget
trigger1= target,command="recovery"
trigger1= target,alive && target,hitfall
trigger1= target,stateno=5030 || target,stateno=5035 || target,stateno=5050
trigger1= target,pos y>=-15
value= 5205 + 0*(var(25):=0)
ignorehitpause=1

[State -2, varset]
type= varset
triggerall= var(25)
trigger1= !numtarget || var(20)>0>0
trigger2= numenemy=1
trigger2= enemy,statetype!=A
trigger3= numenemy>=2
trigger3= enemynear(0),statetype!=A && enemynear(1),statetype!=A
;trigger4= numhelper(3005)
;trigger4= helper(3005),var(3)
var(25)= 0
ignorehitpause=1
;==================================================================================
;-------------------------------- 不可攻撃判定用 --------------------------------------------
[State -3, 中段(屈みガード不可攻撃)判定]
Type = VarSet
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = RoundState = 2
TriggerAll = StateNo != [120,155]			;現在のステートがガードステート以外の時
TriggerAll = GetHitVar(Damage) > 0			;ダメージを受けた瞬間
TriggerAll = playerid(var(56)),statetype != A		;相手が空中状態以外の時
TriggerAll = Var(51) = 0				;判定用Varが0の時
Trigger1 = helper(50000+id),Var(0) = 2
Trigger1 = helper(50000+id),Var(1) = 1
Trigger2 = PrevStateNo = 131				;前のステートが「屈みガード(ステート131)の時」
Trigger3 = PrevStateNo = [152,153]			;前のステートが「『屈み状態で』相手の攻撃をガードした」状態の時
V = 51
Value = p2stateno
IgnoreHitPause = 1

[State -3, 下段(立ちガード不可攻撃)判定]
Type = VarSet
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = RoundState = 2
TriggerAll = StateNo != [120,155]			;現在のステートがガードステート以外の時
TriggerAll = GetHitVar(Damage) > 0			;ダメージを受けた瞬間
TriggerAll = playerid(var(56)),StateType != C		;相手が屈み状態以外の時
TriggerAll = Var(51) = 0				;判定用Varが0の時
Trigger1 = helper(50000+id),Var(0) = 1
Trigger1 = helper(50000+id),Var(1) = 1
Trigger2 = PrevStateNo = 130				;前のステートが「立ちガード(ステート130)の時」
Trigger3 = PrevStateNo = [150,151]			;前のステートが「『立ち状態で』相手の攻撃をガードした状態の時」
V = 51
Value = -(p2stateno)
IgnoreHitPause = 1

[State -3, 空ガ不可攻撃判定]
Type = VarSet
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = RoundState = 2
TriggerAll = StateNo != [120,155]			;現在のステートがガードステート以外の時
TriggerAll = GetHitVar(Damage) > 0			;ダメージを受けた瞬間
TriggerAll = Var(51) = 0				;判定用Varが0の時
Trigger1 = helper(50000+id),Var(0) = 3
Trigger1 = helper(50000+id),Var(1) = 1
Trigger2 = PrevStateNo = 132				;前のステートが「空中ガード(ステート132)の時」
Trigger3 = PrevStateNo = [153,154]			;前のステートが「『空中状態で』相手の攻撃をガードした」状態の時
V = 51
Value = 10000*p2stateno
IgnoreHitPause = 1

[State -3, 判定用Varのリセット]
Type = VarSet
triggerall = !IsHelper
triggerall = numhelper
triggerall = numhelper(50000+id)
Trigger1 = GetHitVar(Damage) = 0
V = 51
Value = 0
IgnoreHitPause = 1

;--------------------------------------------------------------------------------------------
[State -3,reversaldef]
type = varadd
;TriggerAll = var(59)>=1
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = (var(54)&8388608)<8388608
trigger1 = MoveReversed
v = 54
value = 8388608
ignorehitpause=1

[State -3,reversaldef]
type = varadd
;TriggerAll = var(59)>=1
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = (var(54)&8388608)=8388608
trigger1 = movetype = I || (stateno = [0,119]) || stateno = 5120
v = 54
value = -8388608
ignorehitpause = 1

;--------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, SetAI]
type = VarSet
triggerall = Alive && !IsHelper
triggerall = IsHomeTeam
trigger1 = TeamSide = 2
trigger2 = MatchNo > 1
var(58) = 1

[State -3, AI Helper - Compatibly Partnered Version]
type = Helper
trigger1 = !var(58) && !IsHelper
trigger1 = !NumHelper(9742)
trigger1 = Alive && RoundState = 2
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "AI Helper (Simul Version)"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, AI Helper]
type = Helper
triggerall = !var(58) && !IsHelper
triggerall = !NumHelper(9741)
triggerall = Alive && RoundState = 2
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "AI Helper"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, TurnBackOnAI]
type = VarSet
trigger1 = var(58) = -2 && !IsHelper
trigger1 = Alive && RoundState = 2
var(58) = 1

[State -3, GameTimeVar]
type = VarSet
trigger1 = !IsHelper
var(57) = GameTime
IgnoreHitPause = 1

;==================================================================================
;==================================================================================
;==================================================================================

;======================== GET HIT SOUND ==========================
[State -3, StopSnd]
type = StopSnd
trigger1 = movetype = h
channel = 1
ignorehitpause=1

[State -3, playsnd]
type=playsnd
triggerall= alive && time=1
triggerall= stateno=5000 || stateno=5010
trigger1= gethitvar(animtype)>=2 && random<500
trigger2= gethitvar(animtype)=1 && random<375
trigger3= gethitvar(animtype)=0 && random<250
value=5000,0+(random%3)
channel=0
ignorehitpause=1

[State -3, playsnd]
type=playsnd
triggerall= alive && time=1
trigger1= (stateno=5000 || stateno=5010) && numenemy
trigger1= gethitvar(fall) || (enemynear,hitdefattr=SCA,SA,HA)
trigger2= (stateno=5020 || stateno=5070 || stateno=5080)
trigger3= (stateno=5050 || stateno=5100) && (prevstateno!=[5000,5199])
value=5000,0+(random%3)
channel=0
ignorehitpause=1

;========================= CHEAP KO ===========================
[State -3, changestate]
type=changestate
trigger1= !alive && (stateno=[5000,5010])
trigger1= (prevstateno=[130,131]) || (prevstateno=[140,141]) || (prevstateno=[150,153])
value=5950
ignorehitpause=1

[State -3, Cchangestate]
type=assertspecial
trigger1= (stateno=[5000,5010])
trigger1= (prevstateno=[130,131]) || (prevstateno=[140,141]) || (prevstateno=[150,153])
flag=nokosnd
ignorehitpause=1
;=============================== LANDING FX ==============================
[State -3, Landing Anim]
type = Explod
triggerall = Time = 1
;trigger1 = stateno = 52 ;Jump land
trigger1 = stateno = 106
trigger2 = stateno = 103
trigger3 = stateno = 1355
trigger4 = stateno = 1405
trigger5 = stateno = 3255
trigger6 = stateno = 2205
trigger7 = stateno = 1205
trigger8 = stateno = 3330
anim = 7102
ID = 7102
pos = 2,0
postype = p1
bindtime = 1
removetime = -2
supermove = 9999
pausemove = 9999
scale = .45,.5
sprpriority = -1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
persistent =0

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
;trigger1 = stateno = 52 ;Jump land
trigger1 = stateno = 106 ;Run-back land
trigger2 = stateno = 103
trigger3 = stateno = [900,901]
trigger4 = stateno = 1355
trigger5 = stateno = 1405
trigger6 = stateno = 3255
trigger7 = stateno = 2205
trigger8 = stateno = 1205
trigger9 = stateno = 3330
value = s52,0
;======================= SUPER JUMP AFTERIMAGE ==========================
[State -3, AfterImage]
type=afterimage
triggerall = var(20)<=0
triggerall= time=1
trigger1= stateno=50 && ((var(23)) || (var(23)))
;trigger2= stateno=1407  ;break
time=2
timegap=1
framegap=4
length=9
palbright=0,0,0
palcontrast=128,128,128
palpostbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
trans=add1
;======================= EX MOVES FX ===========================
[State -3, Ex Flash]
type=palfx
triggerall = var(20)<=0
triggerall= !(gametime%3)
trigger1 =stateno = [2000,2999]
;trigger2 = (stateno = 790) && (prevstateno = [200,3000])
time=1
;color= 0
mul= 256, 256, 0;0
add= 150,150,150;150
ignorehitpause=1
;===========================SUPER LVL1 AFTERIMAGE =============
[State -3, AfterImage]
type=afterimage
triggerall = var(20)<=0
triggerall =time=45
trigger1 = stateno = 3000
trigger2 = stateno = 3200
;trigger3 = stateno = 3200
;trigger4 = stateno = 3200
time=2
timegap=1
framegap=12
length=25
palbright=0,0,0
palcontrast=128,128,128
palpostbright=0,0,0
paladd=0,0,0
palmul=.75,.75,.75
trans=add1
;===========================SUPER LVL2 AFTERIMAGE ==============
[State -3, AfterImage]
type=afterimage
triggerall = var(20)<=0
triggerall =time=45
trigger1 = stateno = 3050
trigger2 = stateno = 3250
trigger3 = stateno = 3100
;trigger4 = stateno = 3250
time=2
timegap=1
framegap=12
length=25
palbright=0,0,0
palcontrast=32,32,160
palpostbright=0,0,0
paladd=0,0,0
palmul=.75,.75,.75
trans=add1
;===========================SUPER LVL3 AFTERIMAGE ==============
[State -3, AfterImage]
type=afterimage
triggerall = var(20)<=0
triggerall =time=45
trigger1 = stateno = 3110
trigger2 = stateno = 3300
time=2
timegap=1
framegap=12
length=25
palbright=1,1,1
palcontrast=150,50,50
paladd=0,0,0
palmul=.5,.5,.5
trans=add1
ignorehitpause=0

[State -3, AfterImage persist]
type=afterimagetime
trigger1= (stateno=50 || (stateno=[600,699])) && (var(20)<=0)
trigger1= (var(23)) && (vel y <-2)
trigger2= (stateno=50 || (stateno=[600,699])) && (var(20)<=0)
trigger2= (var(23)) && (vel y <-2)
trigger3 = stateno = [3000,3999]
trigger3 = (var(20)<=0)
trigger4= var(20)>0
trigger5= stateno=1350  ;COUNTER KICK
trigger6= stateno=2501  ;COUNTER KICK
ignorehitpause=0
time=2
;=========================== SLOW MOTION ===============================
;[State -3,Slow]
;type = Pause
;trigger1 = stateno = 3100
;trigger1 = anim = 3101
;trigger1 = (GameTime%1) = 0
;trigger1 = roundstate = 2
;trigger1 = time <=60
;time = 1
;movetime = 0
;ignorehitpause = 0
;============================== PARRY ================================
[State -3, Parry Detection]
type=helper
triggerall= roundstate=2 && !numhelper(4065) ;&& !var(20)
triggerall= (movetype=I && ctrl) || (stateno=[4000,4020])
triggerall= (command!="rlsfwd" && command!="rlsback" && command!="rlsup" && command!="rlsdown") ;|| var(59)>=1
trigger1= var(59)<=0 && (statetype=S || statetype=C) && (command="Forward" || command="Down")
trigger2= var(59)<=0 && statetype=A && command="Forward"
helpertype=normal
stateno=4065
ID=4065
name="Parry Detection"
postype=p1
pausemovetime=65535
supermovetime=65535

[State -3, Parry Detection]
type=helper
triggerall= var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall= roundstate=2 && !numhelper(4065) ;&& !var(20)
triggerall= (movetype=I && (ctrl || (stateno = [120,140]) || (stateno = [0,21]))) || (stateno=[4000,4020])
triggerall= var(59)>2
triggerall= random<=var(59)**4*ifelse(life>333,0.5,1) || (var(59)>=5 && fvar(39)=82)
triggerall= (var(54)&127)<=ifelse(life>333,ifelse(statetype=A,(var(59)-1)*10,(var(59)-2)*10),ifelse(statetype=A,(var(59)-1)*20,(var(59)-2)*20)) || (var(59)>=5 && fvar(39)=82)
trigger1 = (statetype=S || statetype=C)
trigger2 = statetype=A ;&& inguarddist
trigger2 = playerid(var(56)),hitdefattr = SCA,AA && playerid(var(56)),time>=3
trigger3 = statetype=A && inguarddist
trigger3 = numhelper(50000+id)
trigger3 = helper(50000+id),var(58)>0
Trigger3 = helper(50000+id),inguarddist || var(59)<=4
trigger3 = helper(50000+id),Pos y=Pos y+999
trigger3 = !playerid(var(56)),hitdefattr = SCA,AA
trigger4 = (var(59)>=5 && fvar(39)=82)
helpertype=normal
stateno=4065
ID=4065
name="Parry Detection"
postype=p1
pausemovetime=65535
supermovetime=65535

[State -3, Parry Attacks]
type=changestate
trigger1= (stateno!=[4000,4020]) && numhelper(4065)
trigger1= helper(4065),stateno=4066
value= ifelse((helper(4065),anim=4067), 4020, ifelse((helper(4065),anim=4066), 4010, 4000))
ignorehitpause=1

[State -3, Parry Projectiles]
type=hitoverride
trigger1= (stateno!=[4000,4020]) && numhelper(4065)
trigger1= !(helper(4065),var(0)) && (helper(4065),anim=4065)
attr=SA,AP
stateno=4000
slot=0
time=1
ignorehitpause=1

[State -3, Parry Projectiles]
type=hitoverride
trigger1= (stateno!=[4000,4020]) && numhelper(4065)
trigger1= !(helper(4065),var(0)) && (helper(4065),anim=4066)
attr=C,AP
stateno=4010
slot=0
time=1
ignorehitpause=1

[State -3, Parry Projectiles]
type=hitoverride
trigger1= (stateno!=[4000,4020]) && numhelper(4065)
trigger1= !(helper(4065),var(0)) && (helper(4065),anim=4067)
attr=SCA,AP
stateno=4020
slot=0
time=1
ignorehitpause=1
;======================= CUSTOM COMBO CHAIN =====================
[State -3, Chain Reset]
type=varset
trigger1= 1
var(21)=0
ignorehitpause=1

[State -3, Chain Check]
type=varset
trigger1= var(20) && (stateno=[200,699]) && movecontact
trigger2= var(20) && (stateno=[1000,1999]) && movecontact ;&& statetype!=A && (movecontact || var(18))
trigger3= var(20) && (stateno=[1000,2999]) && (numhelper(1090))
trigger3 =helper(1090),var(5)
;trigger3= var(20) && (stateno=[1000,3999]) && (numhelper(1090)) && (helper(1090),var(5))
;trigger3= numhelper(1000) && (helper(1000),var(3))
;trigger3= var(20) && stateno=1000 && animelemtime(6)>=0
;trigger4= var(20) && stateno=1230 && animelemtime(12)>=0
;trigger5= var(20) && stateno=1250 && animelemtime(9)>=0
var(21)=1
ignorehitpause=1
;======================= NO JUGGLE VAR RESET =====================
[State -3, Hitcount Reset]
type=varset
trigger1= numenemy && var(15)
trigger1= (enemynear,movetype!=H) && (enemynear,stateno!=5300)
trigger2= numenemy && var(15)
trigger2= (enemynear,statetype!=A) ;&& (enemynear,stateno!=5300)
var(15)=0
ignorehitpause=1
;============================ FOCUS ATTACK  ==========================
[State -3, VarSet]
type = VarSet
trigger1 = stateno !=[790,794]
v = 16
value = 0

[State -3, VarSet]
type = VarSet
trigger1 = stateno !=[790,794]
v = 17
value = 0

[State -3, VarSet]
type = VarSet
trigger1 = stateno !=[790,794]
v = 18
value = 0
;============================ PATCHES ==========================
[State -3, StopSnd] ;intro sound
type = StopSnd
trigger1 = RoundState = 2
channel = 12

[State -3, StopSnd] ;intro sound
type = StopSnd
trigger1 = RoundState = 2
channel = 13

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1000,1050]
id = 1092

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [2100,2101]
id = 2190

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2000
id = 2090

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2000
id = 2091

;============================================================================================
;-------------------------------------- AI --------------------------------------------------
;var(51)  = 不可攻撃判定用
;var(52)  = simul用
;var(53)  = 相手停止F
;var(54)  = いろいろ
;var(55)  = 反応速度
;var(56)  = EnemyNear,id
;var(59)  = AILv
;fvar(34) = 敵y軸速度
;fvar(35) = 敵x軸速度
;fvar(36) = 摩擦係数
;fvar(37) = のけぞり時間
;fvar(38) = 重力加速度
;fvar(39) = AI制御

;----------------------------------- AI起動用 -----------------------------------------------
[State -3, AI起動用ヘルパー]
type=helper
TriggerAll = RoundState<2||(RoundState=2&&ctrl)
trigger1 = !NumHelper(10000+id)
trigger1 = alive
trigger1 = var(59)=0
helpertype=normal
name="Rock_AI"
stateno=10015
ID=10000+id
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1 = ishelper
trigger1 = ishelper(10000+id)
trigger1 = stateno!=10015
value=10015

[State 50000]
type = changeState
triggerall = IsHelper(50000+id)
trigger1 = StateNo != 50000
value = 50000
ignorehitpause = 1

[State -3, AI]
type = VarSet
TriggerAll = var(59) <= 0
triggerall = !IsHelper
triggerall = roundstate = 2
trigger1 = Command = "AI0" || Command = "AI1" || Command = "AI2" || Command = "AI3" || Command = "AI4" || Command = "AI5" || Command = "AI6" || Command = "AI7" || Command = "AI8" || Command = "AI9" || Command = "AI10"
trigger2 = Command = "AI11" || Command = "AI12" || Command = "AI13"
Trigger3 = var(59) = 0
Trigger3 = numhelper(10000+id)
Trigger3 = helper(10000+id),var(59)>0
var(58) = 1
IgNoreHitPause = 1

[State -1]
type = VarSet
triggerall = var(58)<=0
triggerall = !IsHelper
triggerall = roundstate = 2
trigger1 = var(59)>0
var(58) = 1
ignorehitpause = 1

;[State -1,]
;type = VarRangeSet
;trigger1 = command = "start"
;value = 1
;first = 58
;last = 59
;ignorehitpause = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999

;----------------------------------- AI用変数 -----------------------------------------------
[state -3,反応速度]
type = VarRandom
triggerall = !IsHelper
trigger1 = GameTime %60= 0
trigger1 = var(59)=[1,5]
v = 55
range = (6*(6-var(59))),(12+(6*(6-var(59))))
;range = (a),(b)
;6,18
;12,24
;18,30
;24,36
;30,42

[State -3, 反応速度]
type = VarSet
triggerall = !IsHelper
trigger1 = GameTime %60= 0
trigger1 = var(59)=6
trigger1 = 1
var(55) = 0
ignorehitpause = 1

;テスト
[State -3, EnemyNear,id]
type = VarSet
triggerall = !IsHelper
triggerall = numtarget
trigger1 = 1
var(56) = target,id
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -3, EnemyNear,id]
type = VarSet
triggerall = !IsHelper
triggerall = !numtarget
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = enemynear(0),life > 0
var(56) = enemynear(0),id
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -3, EnemyNear,id]
type = VarSet
triggerall = !IsHelper
triggerall = !numtarget
trigger1 = numenemy = 2
trigger1 = enemynear(0),life <= 0
var(56) = enemynear(1),id
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;AI用重力加速度計測
[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = fvar(38) != playerid(var(56)),const(movement.yaccel)
trigger1 = playerid(var(56)),stateno !=[5000,5210]
trigger1 = playerid(var(56)),Vel Y != 0
FV = 38
value = playerid(var(56)),const(movement.yaccel)
ignorehitpause = 1

[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = fvar(38) != playerid(var(56)),GetHitVar(yaccel)
trigger1 = playerid(var(56)),stateno = [5000,5210]
FV = 38
value = playerid(var(56)),GetHitVar(yaccel)
ignorehitpause = 1

[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = numtarget
trigger1 = playerid(var(56)),stateno = 1505
FV = 38
value = .49
ignorehitpause = 1

[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = fvar(38) != 0
trigger1 = playerid(var(56)),Vel Y = 0
FV = 38
value = 0
ignorehitpause = 1

[State -1,のけぞり時間]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(37)>0
trigger1 = stateno != 760
;trigger2 = stateno = 760 && (time<=1 || time>31)
FV = 37
value = -1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = playerid(var(56)),movetype != H
FV = 37
value = 0
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numtarget
triggerall = target,stateno = 797
trigger1 = P2movetype = H
FV = 37
value = 110-playerid(var(56)),time
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numtarget
triggerall = target,stateno = 1505
trigger1 = P2movetype = H
FV = 37
value = 999
ignorehitpause = 1

[State -1,のけぞり時間]
Type = VarSet
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = !playerid(var(56)),hitshakeover
Trigger1 = playerid(var(56)),movetype=H
trigger1 = playerid(var(56)),time<=1
Trigger1 = playerid(var(56)),gethitvar(fall)=1
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1+(-playerid(var(56)),gethitvar(fall.RecoverTime)-playerid(var(56)),time+(playerid(var(56)),gethitvar(fall.Recover)=0)*999)
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno != [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno = [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
trigger1 = playerid(var(56)),gethitvar(hittime)<=playerid(var(56)),gethitvar(ctrltime)
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno = [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
trigger1 = playerid(var(56)),gethitvar(ctrltime)<=playerid(var(56)),gethitvar(hittime) || playerid(var(56)),statetype = A
FV = 37
value = playerid(var(56)),gethitvar(ctrltime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,摩擦係数]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = 1
FV = 36
value = ifelse(playerid(var(56)),BackEdgeBodyDist<=3,0.85,ifelse(playerid(var(56)),statetype=C,(playerid(var(56)),Const(movement.crouch.friction)),(playerid(var(56)),Const(movement.stand.friction))))
IgnoreHitPause = 1


[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel y=0
trigger1 = !playerid(var(56)),hitshakeover
FV = 34
value = (playerid(var(56)),hitvel y)
IgnoreHitPause = 1

[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel y=0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = fvar(34)!=(playerid(var(56)),hitvel y)
FV = 34
value = 0
IgnoreHitPause = 0

[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel y!=0
trigger1 = playerid(var(56)),hitshakeover
FV = 34
value = (playerid(var(56)),vel y)
IgnoreHitPause = 1

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel X=0
trigger1 = !playerid(var(56)),hitshakeover
FV = 35
value = (playerid(var(56)),hitvel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)*ifelse(p2dist x>0,1,-1)
IgnoreHitPause = 1

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel X=0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = fvar(35)!=(playerid(var(56)),hitvel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)*ifelse(p2dist x>0,1,-1)
FV = 35
value = 0
IgnoreHitPause = 0

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = playerid(var(56)),vel X!=0
trigger1 = playerid(var(56)),hitshakeover
FV = 35
value = (playerid(var(56)),vel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)
IgnoreHitPause = 1

[State -1,相手停止F0]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) = 0
v = 53
value = 0
IgnoreHitPause = 1

[State -1,相手停止F1~5]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**5))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**1)<1,1,ifelse(abs(fvar(35)*fvar(36)**2)<1,2,ifelse(abs(fvar(35)*fvar(36)**3)<1,3,ifelse(abs(fvar(35)*fvar(36)**4)<1,4,5))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F6~10]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**5))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**10))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**6)<1,6,ifelse(abs(fvar(35)*fvar(36)**7)<1,7,ifelse(abs(fvar(35)*fvar(36)**8)<1,8,ifelse(abs(fvar(35)*fvar(36)**9)<1,9,10))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F11~15]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**10))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**15))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**11)<1,11,ifelse(abs(fvar(35)*fvar(36)**12)<1,12,ifelse(abs(fvar(35)*fvar(36)**13)<1,13,ifelse(abs(fvar(35)*fvar(36)**14)<1,14,15))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F15~20]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**15))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**20))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**16)<1,16,ifelse(abs(fvar(35)*fvar(36)**17)<1,17,ifelse(abs(fvar(35)*fvar(36)**18)<1,18,ifelse(abs(fvar(35)*fvar(36)**19)<1,19,20))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F21~25]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**20))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**25))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**21)<1,21,ifelse(abs(fvar(35)*fvar(36)**22)<1,22,ifelse(abs(fvar(35)*fvar(36)**23)<1,23,ifelse(abs(fvar(35)*fvar(36)**24)<1,24,25))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F26~30]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**26))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**30))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**26)<1,26,ifelse(abs(fvar(35)*fvar(36)**27)<1,27,ifelse(abs(fvar(35)*fvar(36)**28)<1,28,ifelse(abs(fvar(35)*fvar(36)**29)<1,29,30))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F(slidetime)]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))>=1
trigger1 = playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(hittime)
trigger1 = playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(ctrltime)||playerid(var(56)),stateno!=[120,155]
v = 53
value = playerid(var(56)),gethitvar(slidetime)+playerid(var(56)),gethitvar(hitshaketime)+1
IgnoreHitPause = 1

[State -1,相手停止F(fvar(37))]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**fvar(37)))>=1
trigger1 = !(playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(hittime))
trigger1 = !(playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(ctrltime))||playerid(var(56)),stateno!=[120,155]
v = 53
value = floor(fvar(37))-2
IgnoreHitPause = 1

[State -1,相手停止F]
Type = varadd
triggerall = !IsHelper && playeridexist(var(56))
Trigger1 = fvar(35) != 0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = var(53)>0
v = 53
value = -1
IgnoreHitPause = 1

;1対1
[State -1,1:1]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = Enemy,teammode = single || Enemy,teammode = turns
trigger2 = teammode = single || teammode = turns
trigger2 = Enemy,teammode = single || Enemy,teammode = turns
trigger3 = numpartner
trigger3 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger3 = Enemy,teammode=simul
trigger3 = !Enemynear(0),Alive || !Enemynear(1),Alive
var(52) = 2

;2対1(向き合った状態)
[State -1,2:1]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
trigger1 = Enemy,teammode = single || Enemy,teammode = turns 
trigger1 = facing=-1
trigger1 = playerid(var(56)),Pos X<Pos X 
trigger1 = playerid(var(56)),Pos X<partner,Pos X
trigger2 = Enemy,teammode = single || Enemy,teammode = turns 
trigger2 = facing=1
trigger2 = playerid(var(56)),Pos X>Pos X 
trigger2 = playerid(var(56)),Pos X>partner,Pos X
trigger3 = Enemy,teammode=simul
trigger3 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger3 = facing=-1
trigger3 = playerid(var(56)),Pos X<Pos X 
trigger3 = playerid(var(56)),Pos X<partner,Pos X
trigger4 = Enemy,teammode=simul
trigger4 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger4 = facing=1
trigger4 = playerid(var(56)),Pos X>Pos X 
trigger4 = playerid(var(56)),Pos X>partner,Pos X
var(52) = 3

;2対1(挟んだ状態)
[State -1,2:1]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
trigger1 = Enemy,teammode = single || Enemy,teammode = turns 
trigger1 = facing=-1
trigger1 = playerid(var(56)),Pos X<Pos X 
trigger1 = playerid(var(56)),Pos X>partner,Pos X
trigger2 = Enemy,teammode = single || Enemy,teammode = turns 
trigger2 = facing=1
trigger2 = playerid(var(56)),Pos X>Pos X 
trigger2 = playerid(var(56)),Pos X<partner,Pos X
trigger3 = Enemy,teammode = single || Enemy,teammode = turns 
trigger3 = partner,facing+facing=0
trigger4 = Enemy,teammode=simul
trigger4 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger4 = facing=-1
trigger4 = playerid(var(56)),Pos X<Pos X 
trigger4 = playerid(var(56)),Pos X>partner,Pos X
trigger5 = Enemy,teammode=simul
trigger5 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger5 = facing=1
trigger5 = playerid(var(56)),Pos X>Pos X 
trigger5 = playerid(var(56)),Pos X<partner,Pos X
trigger6 = Enemy,teammode=simul
trigger6 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger6 = partner,facing+facing=0
var(52) = 4

;1対2(向き合った状態)
[State -1,1:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = facing=-1
trigger1 = Enemynear(0),Pos X<Pos X
trigger1 = Enemynear(1),Pos X<Pos X
trigger2 = numpartner
trigger2 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger2 = facing=1
trigger2 = Enemynear(0),Pos X>Pos X
trigger2 = Enemynear(1),Pos X>Pos X
trigger3 = teammode = single || teammode = turns
trigger3 = facing=-1
trigger3 = Enemynear(0),Pos X<Pos X
trigger3 = Enemynear(1),Pos X<Pos X
trigger4 = teammode = single || teammode = turns
trigger4 = facing=1
trigger4 = Enemynear(0),Pos X>Pos X
trigger4 = Enemynear(1),Pos X>Pos X
var(52) = 5

;1対2(挟まれた状態)
[State -1,1:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Enemy,teammode = simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = Enemynear(0),Pos X<Pos X
trigger1 = Enemynear(1),Pos X>Pos X
trigger2 = numpartner
trigger2 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger2 = Enemynear(0),Pos X>Pos X
trigger2 = Enemynear(1),Pos X<Pos X
trigger3 = teammode = single || teammode = turns
trigger3 = Enemynear(0),Pos X<Pos X
trigger3 = Enemynear(1),Pos X>Pos X
trigger4 = teammode = single || teammode = turns
trigger4 = Enemynear(0),Pos X>Pos X
trigger4 = Enemynear(1),Pos X<Pos X
var(52) = 6

;2対2(向き合った状態)
[State -1,2:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = facing=-1
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X
trigger2 = facing=1
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X
var(52) = 7

;2対2(2人挟んだ状態)
[State -1,2:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X
trigger1 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X
trigger2 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X
var(52) = 8

;2対2(2人挟まれた状態)
[State -1,2:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X>Pos X
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X<Pos X
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X<partner,Pos X
var(52) = 9

;2対2(自分のみ挟まれた状態):var(56) = 10
[State -1,2:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X>Pos X
trigger1 = (Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X)||(Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X)
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X<Pos X
trigger2 = (Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X)||(Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X)
var(52) = 10

;2対2(相方のみ挟まれた状態):var(56) = 11
[State -1,2:2]
type = VarSet
triggerall = var(52)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger1 = (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)||(Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X)
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X<partner,Pos X
trigger2 = (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)||(Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X)
var(52) = 11

;var(54)
;    1(&127)        = ランダム
;  128(&8064)       = 空中反応
; 8192(&122880)     = juggle
;131072(&131072)    = numtarget
;262144(&262144)    = 無敵チェック
;524288(&524288)    = 未使用
;1048576(&1048576)  = 挑発スイッチ
;2097152(&2097152)  = 判定チェック(立ち)
;4194304(&4194304)  = 判定チェック(屈み)
;8388608(&8388608)  = reversaldef

[State -1,ランダム]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&127)>0
triggerall = !(stateno = [790,791])
trigger1 = movetype = A || movetype = H
trigger1 = time=1 && stateno != [120,140)
trigger2 = playerid(var(56)),movetype != H && playerid(var(56)),statetype != L && playerid(var(56)),stateno != [5120,5129]
trigger2 = movetype = I && gametime%60 = 0 && stateno != [100,102]
trigger3 = (var(54)&127)%4!=0 && (numhelper(1090))
trigger3 = !helper(1090),var(5)
trigger4 = (var(54)&127)%4=0 && (numhelper(1090))
trigger4 = helper(1090),var(5)
v = 54
value = -(var(54)&127)

[State -1,ランダム]
type = varadd
triggerall = !IsHelper
trigger1 = (var(54)&127)=0
v = 54
value = (Random%100+1)

[State -1,空中反応]
type = varadd
triggerall = !IsHelper
triggerall = (var(54)&8064)>0
trigger1 = P2statetype != A
v = 54
value = -(var(54)&8064)

[State -1,空中反応]
type = varadd
triggerall = !IsHelper
triggerall = (var(54)&8064)<7680
trigger1 = P2statetype = A
v = 54
value = 128

[state 50000,numtarget]
type = varadd
triggerall = !IsHelper
trigger1 = (var(54)&131072)=0
trigger1 = numtarget
trigger1 = movetype = A && time = 1
v = 54
value = 131072
IgnoreHitPause = 1

[state 50000,numtarget]
type = varadd
triggerall = !IsHelper
trigger1 = (var(54)&131072)=131072
trigger1 = !numtarget
v = 54
value = -131072
IgnoreHitPause = 1

[state -1,juggleリセット]
type = varadd
triggerall = !IsHelper
;triggerall = var(59)>0
triggerall = alive
triggerall = (var(54)&122880) > 0
trigger1 = !numtarget
;trigger2 = numtarget
;trigger2 = !target,hitfall
v = 54
value = -(var(54)&122880)
ignorehitpause = 1

[state -1,airjuggle計算 15 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*0)
triggerall = numtarget
triggerall = target,hitfall && target,time = 1 && movehit = 1 ;&& hitcount = 1
trigger1 = stateno = 450
v = 54
value = (8192*15)
ignorehitpause = 1

[state -1,airjuggle計算 8 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*7)
triggerall = numtarget
triggerall = target,hitfall && target,time = 1 && movehit = 1 ;&& hitcount = 1
trigger1 = stateno = 300 ;|| stateno = 225
v = 54
value = (8192*8)
ignorehitpause = 1

[state -1,airjuggle計算 15 or 8 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*ifelse(((var(54)&131072)=131072),0,7))
triggerall = numtarget
triggerall = target,hitfall && target,time = 1 && movehit = 1 ;&& hitcount = 1
triggerall = target,statetype=A && target,movetype= H
;triggerall = target,time = 1 && movehit = 1 ;&& hitcount = 1
trigger1 = stateno = 200 || stateno = 205 || stateno = 210 || stateno = 215 || stateno = 220 || stateno = 225 || stateno = 230 || stateno = 240
trigger2 = stateno = 245 || stateno = 250 || stateno = 255 || stateno = 400 || stateno = 410 || stateno = 420 || stateno = 430 || stateno = 440
trigger3 = stateno = 600 || stateno = 610 || stateno = 620 || stateno = 630 || stateno = 640 || stateno = 650
v = 54
value = (8192*ifelse((var(54)&131072)=131072,15,8))
ignorehitpause = 1

[state -1,airjuggle計算 8 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*7)
triggerall = numtarget
triggerall = target,hitfall && target,time = 1 && movehit = 1 ;&& hitcount = 1
trigger1 = stateno = 300 || stateno = 1000 || stateno = 1050 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1200 || stateno = 1202
trigger2 = stateno = 1400 || stateno = 1410 || stateno = 1420 || stateno = 2200 || stateno = 2202 || stateno = 3251 || stateno = 1350
v = 54
value = (8192*8)
ignorehitpause = 1

[state -1,airjuggle計算 8 投げ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*7)
triggerall = numtarget && time = 1
trigger1 = stateno = 1501
v = 54
value = (8192*8)
ignorehitpause = 1

[state -1,airjuggle計算 7 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*8)
triggerall = numtarget
trigger1 = target,hitfall && target,time = 1 && movehit = 1 && hitcount = 1
trigger1 = stateno = 2100 || stateno = 2400
v = 54
value = (8192*7)
ignorehitpause = 1

[state -1,airjuggle計算 7 投げ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive && !var(20)
triggerall = (var(54)&122880) <= (8192*8)
triggerall = numtarget && time = 1
trigger1 = stateno = 2501
v = 54
value = (8192*7)
ignorehitpause = 1

[state 50000,挑発スイッチ]
type = varset
triggerall = !IsHelper
trigger1 = stateno=195
v = 54
value = (var(54)|1048576)
IgnoreHitPause = 1

[state 50000,挑発スイッチ]
type = varset
triggerall = !IsHelper
trigger1 = (var(54)&1048576)=1048576
trigger1 = roundstate!=2
v = 54
value = (var(54)|1048576)-1048576
IgnoreHitPause = 1

[state 50000,判定チェック(立ち)]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&2097152)=0
trigger1 = numtarget
trigger1 = target,stateno = [5000,5001]
trigger1 = stateno = [1100,1121]
trigger1 = floor(fvar(37))=1 && !movecontact ;|| (playerid(var(56)),animtime = 0 && playerid(var(56)),stateno = 5001)
v = 54
value = (var(54)|2097152)
IgnoreHitPause = 1

[state 50000,判定チェック(立ち)_リセット]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&2097152)=2097152
triggerall = roundstate<2
trigger1 = playerid(var(56)),roundsexisted = 0 || teammode = simul || enemy,teammode = simul
v = 54
value = (var(54)|2097152)-2097152
IgnoreHitPause = 1

[state 50000,判定チェック(屈み)]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&4194304)=0
trigger1 = numtarget
trigger1 = target,stateno = [5010,5011]
trigger1 = stateno = [1100,1121]
trigger1 = floor(fvar(37))=1 && !movecontact
trigger2 = (var(54)&2097152)=2097152
v = 54
value = (var(54)|4194304)
IgnoreHitPause = 1

[state 50000,判定チェック(屈み)_リセット]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&4194304)=4194304
triggerall = roundstate<2
trigger1 = playerid(var(56)),roundsexisted = 0 || teammode = simul || enemy,teammode = simul
v = 54
value = (var(54)|4194304)-4194304
IgnoreHitPause = 1

;----------------------------------- 滑り防止 -----------------------------------------------
[State -3]
type = velset
triggerall = var(59)>0
triggerall = statetype != A
triggerall = time = 1
trigger1 = (stateno = [10,12]) || (stateno = [400,450]) || stateno = 120
x = 0
IgnoreHitPause = 0

;-------------------------------- AI補助ヘルパー --------------------------------------------
[State -3,AI補助ヘルパー]
Type = HelPer
triggerall = !IsHelper
TriggerAll = var(59) >= 0 || var(58) >= 0
Trigger1 = numhelper(50000+id) = 0
Trigger1 = Alive
HelperType = Normal
Name = "AI_helper"
StateNo = 50000
ID = 50000+id
OwnPal = 1
PauseMoveTime= 99999999
SuperMoveTime= 99999999
IgnoreHitPause = 1

[State -3]
type = changeState
;triggerall = numhelper(50000+id)
triggerall = IsHelper(50000+id)
trigger1 = StateNo != 50000
value = 50000
ignorehitpause = 1

[state -3,画面端検出+AI補助]
Type = helper
Trigger1 = var(59)>=0 || var(58) >= 0
Trigger1 = !NumHelper(60000+id)
Helpertype = normal
Name = "AI_stage"
Postype = p1
Stateno = 60000
ID = 60000+id
pausemovetime = 2147483647
supermovetime = 2147483647
Persistent = 0
Ignorehitpause  = 1
Keyctrl = 0
Ownpal = 1

[State -3, 関係無いステートに行かないように]
type = changestate
trigger1 = ishelper
trigger1 = ishelper(60000+root,id)
trigger1 = stateno!=60000
value = 60000

;--------------------------------- Custom Combo ---------------------------------------------
[State -3, Shining Knuckle_締め1]
type = ChangeState
value = 3200
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = Statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0) && power>0
triggerall = var(20)<=60 || power<=500
triggerall = p2movetype = H && stateno != 6000
triggerall = floor(fvar(37))>=13
trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger2 = (stateno=[200,499]) && movecontact
trigger3 = (stateno=[1000,1999]) && movecontact
trigger4 = (stateno=[2000,2999]) && movecontact

[State -3, Raging Storm_締め2]
type = ChangeState
value = 3000
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = Statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0) && power>0
triggerall = var(20)<=60 || power<=200
triggerall = p2movetype = H && stateno != 6000
triggerall = floor(fvar(37))>=8
trigger1 = (stateno=[1000,2999]) && (numhelper(1090))
trigger1 = helper(1090),var(5)
trigger2 = (stateno=[1000,2999]) && (numhelper(2090))
trigger2 = helper(2090),var(5)
trigger3 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>=1
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = Statetype != A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0)
triggerall = floor(fvar(37))>=15 && p2statetype = C
triggerall = p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)) < 50
trigger1 = ctrl
trigger1 = var(10):=1
trigger2 = (stateno=[200,449]) && movecontact
trigger2 = var(10):=1
;trigger3 = var(21)
;trigger3 = var(10):=1

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>=1
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0) && p2bodydist x<40
triggerall = floor(fvar(37))>=14 && playerid(var(56)),backedgebodydist<5
trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger1 = var(10):=1 && fvar(39):=1000.2
trigger2 = (stateno=[200,449]) && movecontact
trigger2 = var(10):=1 && fvar(39):=1000.2
trigger3 = var(21) && stateno = 1000 && time>11
trigger3 = var(10):=ifelse(anim=1000,1,0) || fvar(39):=1000.2

[State -3, Double Repuuken]
type = null;ChangeState
value = 1050
triggerall = var(59)>=1
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0) && p2bodydist x<40
triggerall = floor(fvar(37))>=14 && playerid(var(56)),backedgebodydist<5
trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger2 = (stateno=[200,449]) && movecontact
trigger3 = var(21) && stateno = 1050 && time>28

[State -3,Close Standing Strong Kick]]
type = ChangeState
value = 255
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = P2BodyDist X = [-20,20]
triggerall = statetype != A && p2statetype != L && p2statetype != C && p2statetype != A
triggerall = (var(20)>0)
trigger1 = ((stateno=760) && (statetype != A)) && !animtime
trigger2 = p2movetype = H
trigger2 = (((stateno=52) && !animtime) || ctrl)

; Crouching Medium Kick
[State -3, Crouching Medium Kick]
type = ChangeState
value = 440
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = statetype != A && p2statetype != L && p2statetype != A
triggerall = (var(20)>0)
trigger1 = ((stateno=760) && (statetype != A)) && !animtime
trigger2 = p2movetype = H
trigger2 = (((stateno=52) && !animtime) || ctrl)

[State -3, Hard Edge3]
type = ChangeState
value = 1120
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = Statetype != A && p2statetype != L && p2statetype != A
triggerall = var(21)
triggerall = p2movetype = H
triggerall = floor(fvar(37))>=13
trigger1 = (stateno=[200,449]) && movecontact
trigger2 = var(21) && (stateno != 1050 || p2bodydist x>=40) && stateno != 1120 && fvar(39)!=1000.2

; Jump Medium Punch
[State -3, Jump Medium Punch]
type = ChangeState
value = 610
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2
triggerall = statetype = A && p2statetype != L && p2statetype != A
triggerall = var(21)
trigger1 = p2movetype = H && movecontact
trigger1 = stateno = 1120

[state 50000,AI]
type = varset
triggerall = !IsHelper
trigger1 = roundstate!=2 && stateno != 760
trigger1 = movetype = A || movetype = H
trigger1 = fvar(39)=[760,761)
Fv = 39
value = 0
IgnoreHitPause = 1

;------------------------------------ 隙付き ------------------------------------------------
[State -3, roll/dodge]
type = changestate
value = ifelse(p2dist x<0,700,ifelse(((p2bodydist x<=40 && fvar(35)<=-2.5 && random%4!=1)||backedgebodydist<10),730,701))
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype != H
triggerall = fvar(39)=0
triggerall = helper(50000+id),var(58)=0||(numhelper(1005)>0)
triggerall = helper(50000+id),var(59)=0
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = ((stateno=[200,499]) && !animtime && !ctrl && time>0)
triggerall = (P2BodyDist X+floor(3*(fvar(35))) = [-45,85])
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -30
triggerall = !movecontact
trigger1 =  (var(54)&127)%8=0 || p2dist x<0
trigger2 = numhelper(50000+id)
trigger2 = p2movetype= A && fvar(39)!=700 && prevstateno!=[150,155]
trigger2 = playerid(var(56)),time >= var(55) || helper(50000+id),fvar(34)-time >= var(55) || var(59)>5
trigger2 = helper(50000+id),fvar(34)-time >= 20 ;|| playerid(var(56)),stateno >= 2000
trigger3 = numhelper(50000+id) && numhelper(60000+id)
trigger3 = helper(60000+id),var(1)!=0
trigger3 = p2movetype= A && fvar(39)!=700 && prevstateno!=[150,155]

[State -3,Close Standing Strong Kick]]
type = ChangeState
value = 255
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X+fvar(35)*2 >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 <= 40
triggerall = P2BodyDist X = [-20,20]
triggerall = p2dist y >= -60
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*100 && ((var(54)&127)=[1,40]) || stateno = 700 || p2statetype = A
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-8,-4]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -4
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime = [-8,-4]
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime = [-8,-4]
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -4
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime = [-8,-4]

[State -3,Close Stand Strong Punch]
type = ChangeState
value = 225
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 <= 40
triggerall = P2BodyDist X = [-20,20]
triggerall = p2dist y >= -30
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = (playerid(var(56)),Const(size.head.pos.y)<=-40 && p2statetype = S) || playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*200 && ((var(54)&127)=[1,(var(59)+4)*10]) || stateno = 700
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-8,-4]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -4
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime = [-8,-4]
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime = [-8,-4]
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -4
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime = [-8,-4]

[State -3,Close Standing Medium Kick]
type = ChangeState
value = 245
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 <= 40
triggerall = P2BodyDist X = [-20,20]
triggerall = p2dist y >= -40
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*200 && ((var(54)&127)=[1,(var(59)+4)*10]) || stateno = 700
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-4,-3]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -3
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime = [-4,-3]
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime = [-4,-3]
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -3
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime = [-4,-3]

; Crouching Light Kick
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 <= 40
triggerall = p2dist y >= 0
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*160 && ((var(54)&127)=[1,(var(59)+4)*10]) || stateno = 700
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-6,0]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -4
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime >= -6
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime >= -6
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -4
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime >= -6

[State -3, Crouching Strong Kick]
type = ChangeState
value = 450
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 = [40,70]
triggerall = p2dist y >= 0
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0 || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*100 && ((var(54)&127)=[1,20]) || stateno = 700 || ((var(54)&4194304)!=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)!=0 && playerid(var(56)),statetype = S)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-8,-6]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -6
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime = [-8,-6]
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime = [-8,-6]
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -6
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime = [-8,-6]

; Crouching Medium Kick
[State -3, Crouching Medium Kick]
type = ChangeState
value = 440
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*2 <= 70
triggerall = p2dist y >= -20
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0 || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*160 && ((var(54)&127)=[1,(var(59)+4)*10]) || stateno = 700
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),facing != facing
Trigger1 = playerid(var(56)),AnimTime = [-8,-1]
Trigger2 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (fvar(39)!=700.5)
trigger2 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger2 = playerid(var(56)),AnimTime <= -4
Trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger3 = (fvar(39)=700.5)
Trigger3 = playerid(var(56)),AnimTime = [-8,-1]
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = playerid(var(56)),facing != facing
Trigger4 = playerid(var(56)),AnimTime = [-8,-1]
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (fvar(39)!=700.5)
trigger5 = playerid(var(56)),facing = facing || (fvar(39)=[700,701]) || playerid(var(56)),moveguarded
Trigger5 = playerid(var(56)),AnimTime <= -4
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = (fvar(39)=700.5)
Trigger6 = playerid(var(56)),AnimTime = [-8,-1]

[State -3, Standing Strong Kick]
type = ChangeState
value = 250
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X+fvar(35)*5 >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*6 <= 70
triggerall = P2BodyDist X != [-20,20]
triggerall = p2dist y >= -60 && fvar(39)=700
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*100 && ((var(54)&127)=[1,(var(59)+4)*10]) || stateno = 700
triggerall = p2statetype = A
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -3, throw]
type = changestate
value = ifelse((p2bodydist x<=40&&(var(54)&127)%2=0),800,430)
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = P2StateType != L 
triggerall = stateno != 100
triggerall = p2dist x >0
triggerall = P2bodydist X+fvar(35)*2 <= 40
triggerall = p2movetype != H
triggerall = stateno != 100
triggerall = p2dist x <=60
triggerall = (p2statetype = S) || (p2statetype = C)
Triggerall = (fvar(39)=[700,701])
Triggerall = !playerid(var(56)),Ctrl
triggerall = (var(54)&262144)=0
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = p2stateno || p2stateno = 52
triggerall = P2StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (P2StateNo = [200,649]) || P2MoveType = A || p2stateno = 52
triggerall = random <= var(59)*200 ;&& (var(54)&127)=[1,70]
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = (fvar(39)!=700.5)
trigger1 = P2BodyDist Y+floor(2*(fvar(34))+(2*(2+1)/2)*fvar(38))>=10 || P2BodyDist Y=0
Trigger2 = (((stateno=52 || stateno=5120 || (stateno=[200,259])) || ((stateno=[700,701]) || (stateno=[710,729]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = (fvar(39)!=700.5)
trigger2 = P2BodyDist Y+floor(2*(fvar(34))+(2*(2+1)/2)*fvar(38))>=10 || P2BodyDist Y=0

[State -3, Hard Edge1]
type = ChangeState
value = 1100
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && P2dist X >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2bodydist X+fvar(35)*6 = [60,120]
triggerall = p2dist y >= 0
triggerall = (playerid(var(56)),Const(size.head.pos.y)<=-70 && playerid(var(56)),statetype = S) || playerid(var(56)),Const(size.head.pos.y)<=-110
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0 || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = (fvar(39)=[700,701]) && life>250
triggerall = random <= var(59)*100 && ((var(54)&127)=[1,25])
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
Trigger1 = playerid(var(56)),AnimTime <= -14-ceil((p2bodydist x>=70)*(p2bodydist x-70)*(10))
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
Trigger2 = playerid(var(56)),AnimTime <= -14-ceil((p2bodydist x>=70)*(p2bodydist x-70)*(10))

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = var(52) != 6 && var(52) != [9,10]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && time<=12) && !(p2stateno = 5210 && time<=12)
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = var(20) <=0
triggerall = StateType != A && P2dist X >0
triggerall = P2StateType != L 
triggerall = P2StateNo != [5100,5270]
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) ;|| ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && hitover && var(59)>=5)
trigger1 = playerid(var(56)),facing = facing
trigger1 = (P2StateNo = [200,649]) || P2MoveType = A
trigger1 = P2stateno >=200 && !numtarget
Trigger1 = !playerid(var(56)),Ctrl
trigger1 = P2bodydist X >= 100
trigger1 = P2bodydist X+fvar(35)*10 >= 100
trigger1 = P2bodydist y >= -80
trigger1 = playerid(var(56)),time >= var(55)
trigger1 = (P2StateNo = [200,649]) || playerid(var(56)),hitdefattr = SCA,AA,AP
triiger1 = var(10):=ifelse(random%3=0,1,0) || 1
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) ;|| ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && hitover && var(59)>=5)
trigger2 = var(52) = 3 || var(52) = 7 || var(52) = 11
trigger2 = P2bodydist X+fvar(35)*10 >= 100
trigger2 = P2bodydist y >= -30 && !numtarget
trigger2 = numpartner && random<=var(59)*100
trigger2 = partner,p2bodydist x + ifelse(partner,movetype=H,20,60) < p2bodydist x
triiger2 = var(10):=0 || 1
trigger3 = ((stateno=[4000,4020]) && var(59)>=4 && !animtime && time>0 && !ctrl) || ctrl || stateno = 21 || stateno = [120,140]
trigger3 = !playerid(var(56)),Ctrl && p2bodydist x>80 && fvar(39)=700.0
trigger3 = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
trigger3 = random <= var(59)*120 && ((var(54)&127)=[1,(var(59))*10])
Trigger5 = playerid(var(56)),AnimTime <= -20
triiger3 = var(10):=1

[State -1,]
type = VarSet
triggerall = var(59)>3
triggerall = !IsHelper
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),fvar(16)=0 || helper(50000+id),fvar(16)!=p2stateno
triggerall = helper(50000+id),fvar(17)=0 || helper(50000+id),fvar(17)!=p2stateno
triggerall = stateno = [4000,4020]
trigger1 = var(59)=4
trigger1 = (var(54)&127)=[1,35]
trigger2 = var(59)=5
trigger2 = (var(54)&127)=[1,70]
trigger3 = var(59)>=6
fvar(39) = 700

[State -1,]
type = VarSet
triggerall = var(59)>3
triggerall = !IsHelper
trigger1 = stateno = 1220 || stateno = 2220
fvar(39) = 700

[State -1,]
type = VarSet
triggerall = var(59)>3
triggerall = !IsHelper
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),fvar(16)!=0 && helper(50000+id),fvar(16)=p2stateno
triggerall = helper(50000+id),fvar(17)!=0 && helper(50000+id),fvar(17)=p2stateno
triggerall = stateno = [4000,4020]
trigger1 = var(59)=4
trigger1 = (var(54)&127)=[1,35]
trigger2 = var(59)=5
trigger2 = (var(54)&127)=[1,70]
trigger3 = var(59)>=6
fvar(39) = 700.5

[State -1,着地]
type = VarSet
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=10
triggerall = playerid(var(56)),statetype != A && playerid(var(56)),statetype != L
triggerall = ((var(54)&127)=[1,ifelse(var(59)=3,35,70)]) || var(59)>=5
trigger1 = helper(50000+id),var(49)>0 && abs(helper(50000+id),var(49))=playerid(var(56)),prevstateno
trigger2 = helper(50000+id),var(50)>0 && abs(helper(50000+id),var(50))=playerid(var(56)),prevstateno
fvar(39) = 700

[State -1,着地]
type = VarSet
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=10
triggerall = ((var(54)&127)=[1,ifelse(var(59)=4,35,70)]) || var(59)>=6
trigger1 = helper(50000+id),var(49)<0 && abs(helper(50000+id),var(49))=playerid(var(56)),prevstateno
trigger2 = helper(50000+id),var(50)<0 && abs(helper(50000+id),var(50))=playerid(var(56)),prevstateno
fvar(39) = 700.5

[State -1,]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = abs(helper(50000+id),var(49))!=playerid(var(56)),prevstateno || helper(50000+id),var(49)=0
trigger1 = abs(helper(50000+id),var(50))!=playerid(var(56)),prevstateno || helper(50000+id),var(50)=0
trigger1 = playerid(var(56)),prevstateno = 52 || movetype = A || stateno = 21 || stateno = 150 || stateno = 151
trigger1 = fvar(39)=700 || fvar(39)=700.5
trigger2 = abs(helper(50000+id),var(49))!=playerid(var(56)),prevstateno || abs(helper(50000+id),var(50))!=playerid(var(56)),prevstateno
trigger2 = playerid(var(56)),prevstateno = 52 || movetype = A || playerid(var(56)),ctrl
trigger2 = fvar(39)=700 || fvar(39)=700.5
fvar(39) = 0

;---------------------------------- 切り替えし ----------------------------------------------
[State -3, Cursed Blood]
type = ChangeState
value = 3300
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = power >=3000
triggerall = var(20) <=0
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=[700,701]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = playerid(var(56)),hitdefattr=SC,AA || (playerid(var(56)),stateno = [200,499])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = facing != playerid(var(56)),facing
triggerall = (p2dist y+floor(8*(playerid(var(56)),vel Y)+(8*(8+1)/2)*fvar(38)) = [-60,-10]) || (playerid(var(56)),statetype != A && p2dist y = 0)
triggerall = p2bodydist x+fvar(35)*4 <=ifelse(life>500,70,60)
triggerall = (((var(54)&127)=[31,60])||movetype=A) && random<=var(59)*ifelse(p2bodydist x<=40,100,50)
;triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*460.0)
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*120.0)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
triggerall = (playerid(var(56)),AnimElemNo(abs(playerid(var(56)),Animtime+1)))>=(playerid(var(56)),AnimElemNo(0))*ifelse((playerid(var(56)),stateno = [200,499]),3,2)
Triggerall = (abs(playerid(var(56)),AnimTime)>=abs(playerid(var(56)),time))
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (stateno=[200,499]) && movecontact
trigger3 = (stateno=[1000,1999]) && movecontact
trigger4 = (stateno=[1000,2999]) && (numhelper(1090))
trigger4 = helper(1090),var(5)
trigger4 = (stateno=[2000,2999]) && movecontact
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -3, Custom Combo]
type = changestate
value = 760
triggerall = var(59)>=4
triggerall = stateno !=780
triggerall = roundstate=2 && power>=3000 && !var(20)
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),hitdefattr=SC,AA,AT,AP || (playerid(var(56)),stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0 && playerid(var(56)),statetype != A
triggerall = numenemy = 1 || var(52) = [2,4]
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = ((var(54)&4194304)=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)=0 && playerid(var(56)),statetype = S)
triggerall = playerid(var(56)),hitdefattr=SC,NA,NT || playerid(var(56)),time>=ifelse((playerid(var(56)),hitdefattr=SCA,HA,HT),40,12) || playerid(var(56)),stateno = [200,499]
triggerall = playerid(var(56)),pos y = 0
;triggerall = (playerid(var(56)),stateno != [200,249]) || playerid(var(56)),power<1000
triggerall = playerid(var(56)),Const(size.head.pos.y)<=-70 || playerid(var(56)),backedgebodydist<10
triggerall = statetype !=A || playerid(var(56)),hitdefattr=SC,NA || playerid(var(56)),stateno = [200,499]
triggerall = ((var(54)&127)=[1,ifelse(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*600.0),60,30)]) && random<=var(59)*50
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*100.0)
triggerall = statetype != A && p2statetype != A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = playerid(var(56)),AnimTime<=-7-(Random%var(59))+(Random%(7-var(59)))
trigger1 = p2bodydist x+fvar(35)*6<=50+(p2statetype=S*8)
trigger1 = fvar(39):=760.1
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = playerid(var(56)),AnimTime<=-7-(Random%var(59))+(Random%(7-var(59)))
trigger2 = p2bodydist x+fvar(35)*6<=50+(p2statetype=S*8)
trigger2 = fvar(39):=760.1

[State -3, EX-Raging Storm]
type = ChangeState
value = 3050
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=2000
triggerall = var(20) <=0
triggerall = fvar(39)!=700 && playerid(var(56)),prevstateno!=[150,155]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),hitdefattr=SC,AA,AT,AP || (playerid(var(56)),stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = playerid(var(56)),hitdefattr=SCA,NA,SA,NT,ST || playerid(var(56)),time>=8
triggerall = (playerid(var(56)),stateno != [200,249]) || playerid(var(56)),power<1000 || p2statetype = A
triggerall = (p2dist y+floor(8*(playerid(var(56)),vel Y)+(8*(8+1)/2)*fvar(38)) = [-120,-5]) || (playerid(var(56)),statetype != A && p2dist y = 0)
triggerall = p2bodydist x+fvar(35)*8 =[ifelse(p2dist x>0,-75,-55),30]
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*340.0) || (random<=var(59)*25 && ((var(54)&127)=[61,ifelse(p2statetype=A,100,70)]))
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*80.0)
triggerall = playerid(var(56)),AnimTime<=-9-(Random%var(59))+(Random%(7-var(59))) || playerid(var(56)),statetype = A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (stateno=[200,499]) && movecontact
trigger3 = (stateno=[1000,1999]) && movecontact
trigger4 = (stateno=[1000,2999]) && (numhelper(1090))
trigger4 = helper(1090),var(5)
trigger5 = (stateno=[2000,2999]) && movecontact
trigger6 = (stateno=[1000,2999]) && (numhelper(2090))
trigger6 = helper(2090),var(5)
trigger7 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -3, Deadly Rave]
type = ChangeState
value = 3100
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=2000
triggerall = var(20) <=0
triggerall = fvar(39)!=700 && playerid(var(56)),prevstateno!=[150,155]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),hitdefattr=SC,AA,AT,AP || (playerid(var(56)),stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0 && playerid(var(56)),statetype != A
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = playerid(var(56)),hitdefattr=SC,NA,NT,ST || playerid(var(56)),time>=8
;triggerall = (playerid(var(56)),stateno != [200,249]) || playerid(var(56)),power<1000
triggerall = p2dist y+floor(7*(playerid(var(56)),vel Y)+(7*(7+1)/2)*fvar(38)) = 0
triggerall = p2bodydist x <=20+(10*10)
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,460.0,380.0)) || (random<=var(59)*25 && (var(54)&127)=[71,100])
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*100.0)
triggerall = playerid(var(56)),AnimTime<=-2-(Random%var(59))+(Random%(7-var(59)))-ceil((P2BodyDist X>25)*(P2BodyDist X-25)/(10.0))
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (stateno=[200,499]) && movecontact
trigger3 = (stateno=[1000,1999]) && movecontact
trigger4 = (stateno=[1000,2999]) && (numhelper(1090))
trigger4 = helper(1090),var(5)
trigger5 = (stateno=[2000,2999]) && movecontact
trigger6 = (stateno=[1000,2999]) && (numhelper(2090))
trigger6 = helper(2090),var(5)
trigger7 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -1, Focus Attack]
type = ChangeState
value = 790
triggerall = var(59)>2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = stateno != 790
TriggerAll = playerid(var(56)),Alive
triggerall = p2statetype != L && p2movetype != H
triggerall = life>=150 || life>=p2life
triggerall = playerid(var(56)),hitdefattr=SCA,AA || (p2stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && P2MoveType = A && p2dist x>=0
triggerall = p2bodydist y = 0 && p2statetype != A
triggerall = (p2bodydist x+fvar(35)*6 = [-10,70])
triggerall = random<=var(59)*ifelse(life<400,60,50) && (var(54)&127)=[ifelse(life<400,26,36),ifelse(((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270])),75,65)]
triggerall = (playerid(var(56)),Const(size.head.pos.y))<=ifelse(p2statetype = S,-30,-60)
Triggerall = playerid(var(56)),AnimTime<=-28-(Random%var(59))+(Random%(7-var(59)))
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),fvar(16)=0 || helper(50000+id),fvar(16)!=p2stateno
triggerall = helper(50000+id),fvar(17)=0 || helper(50000+id),fvar(17)!=p2stateno
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && hitover && var(59)>=5)
trigger1 = fvar(39):=790
trigger2 = ((stateno=52 || stateno=105 || stateno=5120) || (stateno=[200,499]) || ((stateno=[4000,4020]) || (stateno=[700,701]) || ((stateno=760) && (statetype != A)))) && !animtime && var(59)>=4
trigger2 = fvar(39):=790
trigger3 = (stateno=[1000,1999]) && movecontact  && (power >= 300)
trigger3 = fvar(39):=790
trigger4 = (stateno=[2000,2999]) && movecontact  && (power >= 300)
trigger4 = fvar(39):=790
trigger5 = (stateno=[1000,2999]) && (numhelper(1090)) && (power >= 300)
trigger5 = helper(1090),var(5) && (power >= 300)
trigger5 = fvar(39):=790
trigger6 = (stateno=[1000,2999]) && (numhelper(2090)) && (power >= 300)
trigger6 = helper(2090),var(5)
trigger6 = fvar(39):=790
trigger7 = (stateno=[200,499]) && movecontact  && (power >= 300)
trigger7 = fvar(39):=790

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper
trigger1 = movetype = H || p2movetype = H || stateno = [792,794]
trigger1 = fvar(39)=790
fvar(39) = 0

[State -1, Focus Dash Fwd]
type = ChangeState
value = 793
triggerall = var(59)>2
triggerall = (stateno = [790,791])
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = p2statetype != L && p2movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = P2dist X>0
triggerall = stateno !=[100,106]
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = BackEdgeBodyDist>=30 || (playerid(var(56)),HitDefAttr=SAC,NT && life>=400)
TriggerAll = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT
TriggerAll = playerid(var(56)),facing!=facing
TriggerAll = P2BodyDist X<=140 && P2dist X>0
TriggerAll = floor(fvar(35))<=4
triggerall = helper(50000+id),var(58)=0
TriggerAll = P2MoveType=A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
trigger1 = Random<=var(59)*ifelse(life<=200,180,60)||(var(59)>5)

[State -3, EX-Crack Counter]
type = ChangeState
value = 2300
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = power >=500
triggerall = var(20) <=0
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=[700,701]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499]) || ((playerid(var(56)),stateno = [1000,1999]) && fvar(35)<1)
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = (stateno!=[130,155]) && (stateno!=[5000,5300]) && (prevstateno!=[130,155]) && (prevstateno!=[5000,5119])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = (helper(50000+id),var(52)!=playerid(var(56)),stateno) && (helper(50000+id),var(53)!=playerid(var(56)),stateno)
triggerall = helper(50000+id),var(59)=0
triggerall = facing != playerid(var(56)),facing
triggerall = (p2dist y+floor(8*(playerid(var(56)),vel Y)+(8*(8+1)/2)*fvar(38)) = [-60,-10]) || (playerid(var(56)),statetype != A && p2dist y = 0)
triggerall = p2bodydist x+fvar(35)*4 <=ifelse(life>333,80,60) && life>200 && helper(50000+id),var(56)>-3
triggerall = (((var(54)&127)=[31,ifelse(movetype=A,65,45)])||movetype=A||prevstateno=5120) && random<=var(59)*ifelse(p2bodydist x<=40,80,40)
triggerall = power<3000 || power>=3500
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
triggerall = (playerid(var(56)),AnimElemNo(abs(playerid(var(56)),Animtime+1)))>=(playerid(var(56)),AnimElemNo(0))*ifelse((playerid(var(56)),stateno = [200,499]),3,2)
Triggerall = (abs(playerid(var(56)),AnimTime)>=abs(playerid(var(56)),time))
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (stateno=[200,449]) && movecontact
trigger3 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -3, Crack Counter]
type = ChangeState
value = 1300
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=[700,701]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = (stateno!=[130,155]) && (stateno!=[5000,5300]) && (prevstateno!=[130,155]) && (prevstateno!=[5000,5119])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = (helper(50000+id),var(52)!=playerid(var(56)),stateno) && (helper(50000+id),var(53)!=playerid(var(56)),stateno)
triggerall = helper(50000+id),var(59)=0
triggerall = facing != playerid(var(56)),facing
triggerall = (p2dist y+floor(7*(playerid(var(56)),vel Y)+(7*(7+1)/2)*fvar(38)) = [-70,-5]) || (playerid(var(56)),statetype != A && p2dist y = 0)
triggerall = p2bodydist x+fvar(35)*4 <=80 && (life>250 || movehit) && (helper(50000+id),var(56)>-3 || (movehit && p2statetype =S))
triggerall = (((var(54)&127)=[46,100+helper(50000+id),var(56)*20])||movetype=A||prevstateno=5120) && random<=var(59)*30*(movetype=A+1)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
triggerall = (playerid(var(56)),AnimElemNo(abs(playerid(var(56)),Animtime+1)))>=(playerid(var(56)),AnimElemNo(0))*ifelse((playerid(var(56)),stateno = [200,499]),3,2)
Triggerall = (abs(playerid(var(56)),AnimTime)>=abs(playerid(var(56)),time)) || playerid(var(56)),statetype = A
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = (playerid(var(56)),stateno >= 1000 && fvar(35)<-1) || ((playerid(var(56)),stateno = [600,699]) && playerid(var(56)),statetype = A)
trigger1 = var(10):=0 || 1
trigger2 = (stateno=[200,449]) && movecontact
trigger2 = (playerid(var(56)),stateno >= 1000 && fvar(35)<-1) || ((playerid(var(56)),stateno = [600,699]) && playerid(var(56)),statetype = A)
trigger2 = var(10):=0 || 1
trigger3 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger3 = (playerid(var(56)),stateno >= 1000 && fvar(35)<-1) || ((playerid(var(56)),stateno = [600,699]) && playerid(var(56)),statetype = A)
trigger3 = var(10):=0 || 1
Trigger4 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger4 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger4 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger4 = playerid(var(56)),Const(size.head.pos.y)<=-70 && (playerid(var(56)),statetype = S || playerid(var(56)),stateno = [400,420])
trigger4 = var(10):=1
trigger5 = (stateno=[200,449]) && movecontact
trigger5 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger5 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger5 = playerid(var(56)),Const(size.head.pos.y)<=-70 && (playerid(var(56)),statetype = S || playerid(var(56)),stateno = [400,420])
trigger5 = var(10):=1
trigger6 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger6 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger6 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger6 = playerid(var(56)),Const(size.head.pos.y)<=-70 && (playerid(var(56)),statetype = S || playerid(var(56)),stateno = [400,420])
trigger6 = var(10):=1
Trigger7 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger7 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger7 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger7 = playerid(var(56)),statetype = C
trigger7 = var(10):=2
trigger8 = (stateno=[200,449]) && movecontact
trigger8 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger8 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger8 = playerid(var(56)),statetype = C
trigger8 = var(10):=2
trigger9 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger9 = playerid(var(56)),hitdefattr=SC,NA || (playerid(var(56)),stateno = [200,499])
trigger9 = playerid(var(56)),AnimTime<=-15-(movetype=A*5)
trigger9 = playerid(var(56)),statetype = C
trigger9 = var(10):=2

[State -3, Rising Tackle]
type = ChangeState
value = ifelse((p2bodydist x+fvar(35)*6 =[ifelse(p2statetype=A,-10,-30),15]),1400,1420)
triggerall = var(59)>=2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700 && playerid(var(56)),prevstateno!=[150,155]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),hitdefattr=SCA,AA,AT,AP || (playerid(var(56)),stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = fvar(35)<=2 && p2dist x>0
triggerall = (stateno != [4000,4010]) && (prevstateno != [4000,4010])
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = playerid(var(56)),hitdefattr=SCA,NA,SA,NT,ST || playerid(var(56)),time>=8
triggerall = (p2dist y+floor(6*(playerid(var(56)),vel Y)+(6*(6+1)/2)*fvar(38)) = [-60,-5]) || (playerid(var(56)),statetype != A && p2dist y = 0)
triggerall = p2bodydist x+fvar(35)*6 =[ifelse(p2statetype=A,-20,-40),30]
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*80.0)||(random<=var(59)*20&&((var(54)&127)=[1,ifelse(p2statetype=A,20,30)]))||(playerid(var(56)),hitdefattr=SCA,NT,ST&&(random<=var(59)*20)||(random%3!=0&&var(59)>5))
triggerall = playerid(var(56)),AnimTime<=-7-(Random%var(59))+(Random%(7-var(59))) || playerid(var(56)),statetype = A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger2 = (stateno=[200,449]) && movecontact
trigger3 = var(21)
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

;対落下物
[State -3, Sidestep]
type = ChangeState
value = 730
triggerall = var(59)>=5
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numexplod(700)=0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)
triggerall = playerid(var(56)),AnimTime<=-16 || p2bodydist x>=80
triggerall = numhelper(60000+id)
trigger1 = helper(60000+id),var(1)!=0 || (var(54)&127)%4=0
trigger1 = helper(60000+id),var(6)!=[10,18]
trigger1 = helper(60000+id),var(6)!=0 || playerid(var(56)),numproj
trigger1 = helper(60000+id),var(47)=[-80,80]
trigger1 = helper(60000+id),var(49)=[-1,1]
trigger1 = helper(60000+id),var(50)>0
trigger1 = helper(60000+id),var(48)-helper(60000+id),var(50)*18<=0

;対地を這う飛び道具
[State -3, Double Repuuken]
type = ChangeState
value = 1050
triggerall = var(59)>=3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = var(20) <=0
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = (playerid(var(56)),AnimTime<=-20-(Random%var(59))+(Random%(7-var(59))) && (playerid(var(56)),stateno = [1000,2000]) && !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A) || life>666
triggerall = p2dist x>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = p2bodydist x+fvar(35)*4 >=20
triggerall = ((var(54)&127)=[ifelse(life>750,1,ifelse(life>500,51,76)),100])
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl) || ((stateno=[200,449]) && movecontact)
triggerall = helper(60000+id),var(1)=0
triggerall = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
triggerall = (helper(60000+id),var(49))>0
trigger1 = helper(60000+id),var(48) = [-10,20]
trigger1 = helper(60000+id),var(47)-(helper(60000+id),var(49))*14 = [20,85]
trigger1 = helper(60000+id),var(50) = [-1,1]
trigger2 = helper(60000+id),var(47)-(helper(60000+id),var(49))*14 = [10,50]
trigger2 = helper(60000+id),var(50) != [-1,1]
trigger2 = helper(60000+id),var(48)-helper(60000+id),var(50)*14 = [-10,20]

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>=3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = var(20) <=0
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = (playerid(var(56)),AnimTime<=-20-(Random%var(59))+(Random%(7-var(59))) && (playerid(var(56)),stateno = [1000,2000]) && !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A) || life>666
triggerall = p2dist x>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = p2bodydist x+fvar(35)*4 >=20
triggerall = ((var(54)&127)=[ifelse(life>750,1,ifelse(life>500,51,76)),100]) || playerid(var(56)),AnimTime<=-30
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl) || ((stateno=[200,449]) && movecontact)
triggerall = helper(60000+id),var(1)=0 && (helper(60000+id),var(6)!=[25,27])
triggerall = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
triggerall = helper(60000+id),var(49)>0
trigger1 = helper(60000+id),var(48) = [-10,20]
trigger1 = helper(60000+id),var(47)-(helper(60000+id),var(49))*14 >= 60
trigger1 = helper(60000+id),var(50) = [-1,1]
trigger1 = var(10):=0 || 1

;対遅い設置
[State -3, Run Back]
type = ChangeState
value = ifelse(helper(60000+id),var(47) >= 70,105,701)
triggerall = var(59)>=3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20) <=0
triggerall = stateno !=[100,106]
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = p2dist x>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = p2bodydist x+fvar(35)*4 >=20
;triggerall = ((var(54)&127)=[ifelse(life>750,1,ifelse(life>500,51,76)),100])
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1) || p2movetype != A
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl) || ((stateno=[200,449]) && movecontact)
triggerall = helper(60000+id),var(5)>=1000 || life>666
triggerall = (playerid(var(56)),Frontedgebodydist + backedgebodydist)>40
trigger1 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=100)
trigger1 = helper(60000+id),var(49)>0
trigger1 = helper(60000+id),var(48) = [0,100]
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))) = [-10,80]
trigger1 = (helper(60000+id),var(49)) = [-1,2]

[State -3, EX-Rage Run]
type = ChangeState
value = 2200
triggerall = var(59)>4
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = power>=500
triggerall = var(20) <=0
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype = A && !playerid(var(56)),ctrl
triggerall = helper(50000+id),var(59)=0
triggerall = P2dist x >0
triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=[200,449]) && movecontact)
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -40
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)
trigger1 = (var(54)&127)=[ifelse((numhelper(1090)),21,1),ifelse((helper(50000+id),var(58)>0),80,ifelse(life>500,60,40))]
trigger1 = (P2BodyDist X+floor(3*(fvar(35))) = [ifelse(helper(50000+id),var(59)=0,100,40),256])
trigger1 = (numhelper(1090))
trigger1 = !helper(1090),var(5) && helper(1090),p2bodydist x>120
Trigger1 = playerid(var(56)),AnimTime <= -25
trigger1 = (helper(50000+id),var(52)=playerid(var(56)),stateno) || (helper(50000+id),var(53)=playerid(var(56)),stateno)
trigger2 = (var(54)&127)=[ifelse((numhelper(1090)),21,1),ifelse((helper(50000+id),var(58)>0),80,ifelse(life>500,60,40))]
trigger2 = (P2BodyDist X+floor(3*(fvar(35))) = [ifelse(helper(50000+id),var(59)=0,100,40),256])
trigger2 = (numhelper(1090))
trigger2 = !helper(1090),var(5) && helper(1090),p2bodydist x>120
Trigger2 = playerid(var(56)),AnimTime <= -24
trigger2 = (helper(50000+id),var(58)>0)
Trigger2 = helper(50000+id),inguarddist && inguarddist
trigger3 = (var(54)&127)=[ifelse((numhelper(1090)),21,1),ifelse((helper(50000+id),var(58)>0),80,ifelse(life>500,60,40))]
trigger3 = (P2BodyDist X+floor(3*(fvar(35))) = [ifelse(helper(50000+id),var(59)=0,100,40),256])
trigger3 = !(numhelper(1090))
Trigger3 = playerid(var(56)),AnimTime <= -25
trigger3 = (helper(50000+id),var(52)=playerid(var(56)),stateno) || (helper(50000+id),var(53)=playerid(var(56)),stateno)
trigger4 = (var(54)&127)=[ifelse((numhelper(1090)),21,1),ifelse((helper(50000+id),var(58)>0),80,ifelse(life>500,60,40))]
trigger4 = (P2BodyDist X+floor(3*(fvar(35))) = [ifelse(helper(50000+id),var(59)=0,100,40),256])
trigger4 = !(numhelper(1090))
Trigger4 = playerid(var(56)),AnimTime <= -24
trigger4 = (helper(50000+id),var(58)>0)
Trigger4 = helper(50000+id),inguarddist && inguarddist
trigger5 = (P2BodyDist X+floor(3*(fvar(35))) <= 256)
trigger5 = var(59)>=6 || (var(54)&127)<=ifelse(life>500,20,30)
trigger5 = (helper(60000+id),var(6)=[19,27])
trigger5 = (var(54)&127)<=ifelse(life>500,20,30) || helper(60000+id),var(1)!=0 || helper(60000+id),var(5)>=3000 || (helper(60000+id),var(6)=[25,27])
trigger5 = !(numhelper(1090))
trigger5 = !playerid(var(56)),movecontact
trigger5 = playerid(var(56)),stateno >= 1000
trigger5 = (helper(60000+id),var(47)) = [0,254]
trigger5 = (helper(60000+id),var(49))!=[-2,2]
trigger5 = (helper(60000+id),var(48)) = [-10,90]
trigger5 = helper(60000+id),var(50) = [-1,1]
Trigger5 = playerid(var(56)),AnimTime <= -16-((helper(60000+id),var(47))/(8.0+((helper(60000+id),var(49))))) || p2statetype = A
trigger6 = (P2BodyDist X+floor(3*(fvar(35))) <= 256)
trigger6 = var(59)>=6 || (var(54)&127)<=ifelse(life>500,40,30)
trigger6 = (helper(60000+id),var(6)=[19,27])
trigger6 = (var(54)&127)<=ifelse(life>500,40,30) || helper(60000+id),var(1)!=0 || helper(60000+id),var(5)>=3000 || (helper(60000+id),var(6)=[25,27])
trigger6 = (numhelper(1090))
trigger6 = (helper(1090),stateno = 1090) && !playerid(var(56)),movecontact
trigger6 = playerid(var(56)),stateno >= 1000
trigger6 = (helper(60000+id),var(47)) = [0,254]
trigger6 = (helper(60000+id),var(49))!=[-2,2]
trigger6 = (helper(60000+id),var(48)) = [40,90]
trigger6 = helper(60000+id),var(50) = [-1,1]
Trigger6 = playerid(var(56)),AnimTime <= -16-((helper(60000+id),var(47))/(8.0+((helper(60000+id),var(49))))) || p2statetype = A


[State -3, Dodge forward/Sidestep]
type = changestate
value = ifelse(P2BodyDist X>200,730,700)
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),statetype != A
triggerall = (prevstateno != [4000,4010]) || p2bodydist x>=100
triggerall = numexplod(700)=0
TriggerAll = playerid(var(56)),Alive && p2dist x>0
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(36)=0 && p2stateno>155
TriggerAll = helper(50000+id),var(58)=0 || p2dist x<110 || playerid(var(56)),HitDefAttr = SCA,AA,AP || (playerid(var(56)),stateno = [200,699]) || stateno=5120
triggerall = playerid(var(56)),movetype = A || InGuardDist
TriggerAll = (playerid(var(56)),AnimTime=[-43,-33]) || (p2dist x<110&&(playerid(var(56)),AnimTime<=-33))
TriggerAll = playerid(var(56)),facing + facing = 0 || stateno=5120
triggerall = random<=var(59)*40 && (var(54)&127)=[70,ifelse(((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270])),90,100)]
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && time>0 && !ctrl)
trigger1 = fvar(39):=701
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = fvar(39):=701

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = movetype = H || movetype = A || p2movetype = H || (stateno = 21 && time>10) || p2bodydist x>=120
trigger1 = fvar(39)=701
fvar(39) = 0

[State -3,]
type = ChangeState
value = 40
triggerall = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2 && (stateno!=[100,106])
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = P2dist X>0
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = fvar(39)=700.5
TriggerAll = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT
TriggerAll = playerid(var(56)),facing+facing=0
TriggerAll = P2BodyDist X<=140
triggerall = helper(50000+id),var(58)=0
TriggerAll = playerid(var(56)),MoveType=A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = (p2bodydist x>=60&&playerid(var(56)),statetype!=A)||(playerid(var(56)),HitDefAttr=S,HT&&abs(fvar(35))>=3)
trigger1 = Random<=var(59)*ifelse(life<=200,180,60)||(var(59)>5)
trigger1 = fvar(39):=1+(random%9)

[State -3,]
type = ChangeState
value = ifelse((helper(50000+id),fvar(33)>=6&&p2bodydist x<70&&!playerid(var(56)),HitDefAttr=SAC,HT),440,ifelse(helper(50000+id),var(39)>=4&&p2bodydist x<60,440,105))
triggerall = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2 && (stateno!=[100,106])
;triggerall = !numtarget
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = P2dist X>0
triggerall = fvar(39)!=700.5
triggerall = numhelper
triggerall = numhelper(50000+id)
;TriggerAll = BackEdgeBodyDist>=30 || (playerid(var(56)),HitDefAttr=SAC,NT,ST && life>=300)
TriggerAll = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT
TriggerAll = playerid(var(56)),facing!=facing
TriggerAll = P2BodyDist X<=140 && P2dist X>0
;TriggerAll = floor(fvar(35))<=4
triggerall = helper(50000+id),var(58)=0
TriggerAll = playerid(var(56)),MoveType=A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = Random<=var(59)*ifelse(life<=200,180,60)||(var(59)>5)
trigger1 = fvar(39):=700.5

[State -3, roll/dodge]
type = changestate
value = ifelse(helper(50000+id),var(36)=0&&p2bodydist X>=220&&Random%2=0,700,730)
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = P2dist X>0 && numexplod(700)=0
triggerall = prevstateno != [4000,4010]
triggerall = !playerid(var(56)),HitDefAttr = SCA,AT
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = helper(50000+id),var(36)=0 || p2bodydist x>140 || playerid(var(56)),HitDefAttr = SCA,HA
trigger1 = Random<=var(59)*40*ifelse(movetype=H&&var(59)>=6,2,1) || life<=100
Trigger1 = helper(50000+id),inguarddist || var(59)<4
trigger1 = helper(50000+id),var(58)>=1 || (playerid(var(56)),numhelper>helper(50000+id),var(54))
trigger1 = helper(50000+id),Pos y=Pos y+999
trigger1 = helper(60000+id),var(21)=0 || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger2 = Random<=var(59)*100*ifelse(movetype=H&&var(59)>=6,2,1)
Trigger2 = helper(50000+id),inguarddist || var(59)<4
trigger2 = p2bodydist x <=80
trigger2 = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger2 = playerid(var(56)),HitDefAttr = SCA,HA
trigger2 = playerid(var(56)),vel x >3 || movetype = H
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger3 = Random<=var(59)*60*ifelse(movetype=H&&var(59)>=6,2,1) || life<=100
Trigger3 = helper(50000+id),inguarddist || var(59)<4
trigger3 = helper(50000+id),var(58)>=1 || (playerid(var(56)),numhelper>helper(50000+id),var(54))
trigger3 = helper(50000+id),Pos y=Pos y+999
trigger3 = helper(60000+id),var(21)=0 || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
trigger3 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = Random<=var(59)*100*ifelse(movetype=H&&var(59)>=6,2,1)
Trigger4 = helper(50000+id),inguarddist || var(59)<4
trigger4 = p2bodydist x <=80
trigger4 = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger4 = playerid(var(56)),HitDefAttr = SCA,HA
trigger4 = playerid(var(56)),vel x >3 || movetype = A
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = var(59)>=6 || (var(54)&127)<=25
trigger5 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger5 = (helper(60000+id),var(49))>=4
trigger5 = (helper(60000+id),var(47))-((helper(60000+id),var(49)))*3 = [-25,15]
trigger5 = (var(54)&127)<=ifelse(life<500,75,30) || helper(60000+id),var(1)!=0 || helper(60000+id),var(5)>=3000 || (helper(60000+id),var(6)=[25,27])

[State -3, throw]
type = changestate
value = 800
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = stateno != 100
triggerall = p2dist x <=60
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = p2movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = roundstate=2 && statetype!=A && stateno!=100
triggerall = (playerid(var(56)),statetype = S) || (playerid(var(56)),statetype = C)
triggerall = playerid(var(56)),movetype != H
triggerall = (var(54)&262144)=0
triggerall = playerid(var(56)),statetype != L
triggerall = life>=150 || life>=p2life
triggerall = (playerid(var(56)),stateno=[700,1999]) || (playerid(var(56)),stateno=[52,120))
triggerall = !playerid(var(56)),hitdefattr=SCA,AA,AT,AP
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A && p2dist x>=0
triggerall = p2dist y = 0 && p2stateno != 40 && p2dist x>0
triggerall = random<=var(59)*30 && (var(54)&127)=[21,70]
Triggerall = playerid(var(56)),AnimTime<=-4-(Random%var(59))+(Random%(7-var(59)))
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>4 && time <= 1)
Trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl

;----------------------------------- 起き攻め -----------------------------------------------
[State -1, Rage Run]
type = ChangeState
value = 1200
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = roundstate=2 && statetype!=A
Triggerall = (P2dist X>0)
Triggerall = P2BodyDist X <= 30 && BackEdgeBodyDist<20
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -24) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger1 = var(10):=2
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -24) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger2 = var(10):=2
Trigger3 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger3 = numhelper(50000+id) && numtarget
trigger3 = helper(50000+id),var(57)!=0 && target,stateno = 3306
trigger3 = var(10):=2
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = numhelper(50000+id) && numtarget
trigger4 = helper(50000+id),var(57)!=0 && target,stateno = 3306
trigger4 = var(10):=2

; Crouching Light Kick
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A && playerid(var(56)),StateType != A
Triggerall = (P2dist X>0)
Triggerall = P2BodyDist X <= 40 && fvar(39)!=[10.1,10.2)
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = (ctrl || (stateno = [120,140])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = fvar(39)=430.1
trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = playerid(var(56)),AnimTime >= -2
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = fvar(39)=430.1
trigger2 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger2 = playerid(var(56)),AnimTime >= -2
trigger3 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger3 = fvar(39)=430.1
trigger3 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger3 = playerid(var(56)),AnimTime >= -2
Trigger4 = (ctrl || (stateno = [120,140])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger4 = (var(54)&127)=[1,30]
trigger4 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger4 = playerid(var(56)),AnimTime = -5
trigger4 = fvar(39):=ifelse(((var(54)&127)%3=0&&life>500),1500.1,430.1)
trigger5 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger5 = (var(54)&127)=[1,30]
trigger5 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger5 = playerid(var(56)),AnimTime = -5
trigger5 = fvar(39):=ifelse(((var(54)&127)%3=0&&life>500),1500.1,430.1)
trigger6 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger6 = (var(54)&127)=[1,30]
trigger6 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger6 = playerid(var(56)),AnimTime = -5
trigger6 = fvar(39):=ifelse(((var(54)&127)%3=0&&life>500),1500.1,430.1)

[State -3, Shinku Nage]
type = ChangeState
value = 1500
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A && playerid(var(56)),StateType != A
Triggerall = (P2dist X>0)
Triggerall = P2BodyDist X <= 42
triggerall = Statetype != A
trigger1 = fvar(39)=1500.1
trigger1 = (stateno=[200,499]) && var(59)>=4 && !animtime && time>0 && !ctrl

[State -3, Run/Dash Fwd]
type = ChangeState
value = 102
triggerall = stateno !=[100,106]
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21||stateno=100 || stateno = 1 || (stateno = [10,12])
triggerall = p2dist x>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
triggerall = p2statetype != A && playerid(var(56)),statetype != A
Trigger1 = var(59)>=5
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X <= 50
Trigger1 = playerid(var(56)),AnimTime = -6-4-ceil((P2BodyDist X>10)*(P2BodyDist X-10)/const(velocity.run.fwd.x))
trigger1 = (var(54)&127)=[31,50+(10*power < 300)]
trigger1 = fvar(39):=10.11
Trigger2 = var(59)>=5
Trigger2 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger2 = P2BodyDist X <= 50 && (power >= 300)
Trigger2 = playerid(var(56)),AnimTime = -6-ceil((P2BodyDist X>10)*(P2BodyDist X-10)/const(velocity.run.fwd.x))
trigger2 = (var(54)&127)=[51,60]
trigger2 = fvar(39):=10.12

;ジャンプ
[state -3,jump]
Type = ChangeState
value = 40
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21||stateno=100 || stateno = 1 || (stateno = [10,12])
triggerall = p2dist x>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = var(59)>=5
trigger1 = fvar(39)=10.11 || (p2bodydist x<25 && fvar(39)!=10.12 && (power<300 || (var(54)&127)%2=0))
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X <= 30
Trigger1 = playerid(var(56)),AnimTime = -6
trigger1 = fvar(39):=1.11
Trigger2 = var(59)>=4
trigger2 = p2bodydist x<45
trigger2 = (var(54)&127)=[31,45]
Trigger2 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger2 = playerid(var(56)),AnimTime = -24
trigger2 = fvar(39):=2.11

; Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
value = 650
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = statetype = A
TriggerAll = vel y >=0
triggerall = ctrl || (stateno = [120,140])
Trigger1 = ((playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X <= 50 ;&& p2dist y <= 60
Trigger1 = playerid(var(56)),AnimTime >= -3
trigger1 = fvar(39)=2.11

[State -3, Rising Tackle1]
type = ChangeState
value = 1400
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21||stateno=100 || stateno = 1 || (stateno = [10,12])
triggerall = p2dist x>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = var(59)>=5
trigger1 = fvar(39)=10.12 || (p2bodydist x<25 && fvar(39)!=10.12)
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X <= 30 && (power >= 300)
Trigger1 = playerid(var(56)),AnimTime = [-2,0]

; Jump Strong Kick
[State -3, Jump Strong Kick]
type = ChangeState
value = 650
triggerall = var(59)>=1
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = statetype = A
triggerall = p2dist x>0
triggerall = ctrl || (stateno = [120,140])
trigger1 = fvar(39)=1.11

[State -3, Focus Attack]
type = ChangeState
value = 790
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = stateno != 790
triggerall = roundstate=2 && statetype!=A
Triggerall = (P2dist X>0)
Triggerall = P2BodyDist X = [25,65]
triggerall = p2movetype != A && playerid(var(56)),movetype != A
triggerall = (var(54)&127)=[61,100]
trigger1 = playerid(var(56)),StateType != A
Trigger1 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger1 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -24) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger1 = fvar(39):=790.1
trigger2 = playerid(var(56)),StateType != A
trigger2 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger2 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -24) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger2 = fvar(39):=790.1
Trigger3 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && var(59)>=5 && hitover && !ctrl)
trigger3 = numhelper(50000+id) && numtarget
trigger3 = helper(50000+id),var(57)!=0 && target,stateno = 3306
trigger3 = target,time=(100+helper(50000+id),var(57)-52)
trigger3 = fvar(39):=790.1
trigger4 = (((stateno=52 || stateno=105 || stateno=5120 || (stateno=[200,499])) || ((stateno=[4000,4020]) || (stateno=[700,701]) || stateno=760))) && var(59)>=4 && !animtime && time>0 && !ctrl
trigger4 = numhelper(50000+id) && numtarget
trigger4 = helper(50000+id),var(57)!=0 && target,stateno = 3306
trigger4 = target,time=(100+helper(50000+id),var(57)-52)
trigger4 = fvar(39):=790.1

[State -1, Focus Dash Fwd]
type = ChangeState
value = 793
triggerall = (stateno = [790,791])
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
triggerall = p2dist x>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = var(59)>=5
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X <= 65
Trigger1 = playerid(var(56)),AnimTime = -15-6
trigger1 = (var(54)&127)=[41,50]
trigger1 = fvar(39):=10.11
Trigger2 = var(59)>=5
Trigger2 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger2 = P2BodyDist X <= 65 && (power >= 300)
Trigger2 = playerid(var(56)),AnimTime = -15-4
trigger2 = (var(54)&127)=[51,60]
trigger2 = fvar(39):=10.12

[State -1, Focus Dash Back]
type = ChangeState
value = 794
triggerall = (stateno = [790,791])
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
triggerall = p2dist x>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
triggerall = fvar(39)=790.1
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
Trigger1 = var(16)-playerid(var(56)),AnimTime>=56 && playerid(var(56)),Time>1
Trigger1 = playerid(var(56)),AnimTime < -4
trigger1 = fvar(39):=0 || 1
trigger2 = (playerid(var(56)),StateNo != [5120,5129]) && helper(50000+id),var(59)!=2
trigger2 = playerid(var(56)),StateNo = [5000,5110]
trigger2 = var(16)>=45
trigger2 = fvar(39):=0 || 1
trigger3 = (var(54)&127)%3=2
Trigger3 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2
trigger3 = fvar(39):=0 || 1

[State -3,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = movetype = H || p2movetype = A || stateno = 1500 || prevstateno = 430
trigger1 = fvar(39)=1500.1 || fvar(39)=430.1
trigger2 = movetype = H || movetype = A
trigger2 = fvar(39)=10.11 || fvar(39)=10.12 || fvar(39)=790.1 || fvar(39)=1.11 || fvar(39)=2.11
trigger3 = movetype = H || stateno = 3051 || p2stateno<=155
trigger3 = fvar(39)=3051
fvar(39) = 0

[State -1, Focus Attack]
type = ChangeState
value = 790
triggerall = var(59)>3
triggerall = !IsHelper
triggerall = alive
triggerall = roundstate = 2
triggerall = !var(20)
TriggerAll = RoundState=2
triggerall = numhelper(50000+id)
triggerall = statetype != A
triggerall = stateno != 790
triggerall = stateno = [1400,1420]
triggerall = (stateno=[1000,1999]) && movecontact  && (power >= 300)
triggerall = (abs(helper(50000+id),var(48))-2 >= var(55))
trigger1 = p2stateno=[120,155]
trigger1 = fvar(39):=79.1

[State -1, Focus Dash Fwd]
type = ChangeState
value = ifelse(random%2=0,793,794)
triggerall = var(59)>0
triggerall = alive
triggerall = roundstate = 2
TriggerAll = RoundState=2
triggerall = (var(54)&127)<50
triggerall = (stateno = [790,791]) || ((stateno = 792) && movecontact)
trigger1 = fvar(39)=79.1
trigger1 = fvar(39):=0 || 1

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper
triggerall = fvar(39)=79.1
trigger1 = stateno = 792 || movetype = H || stateno = 21 || stateno = 1 || prevstateno = 790
trigger2 = statetype = A
fvar(39) = 0
;------------------------------------ 目押し ------------------------------------------------
[State -1, EX-Raging Storm]
type = ChangeState
value = 3050
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = power >=2000
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = [5000,5100)
triggerall = var(20) <=0
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L ;&& p2dist x>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*320.0)
trigger1 = var(52) = 2 || (!numpartner && numenemy = 1)
trigger1 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= 0
trigger1 = floor(fvar(37))>65
trigger1 = numtarget
trigger1 = target,stateno = 797
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,40]
trigger1 = fvar(39):=3051



[State -1, Custom Combo]
type=changestate
value=760
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = stateno !=780
triggerall = roundstate=2 && power>=3000 && !var(20)
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive && p2statetype!=A
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((var(54)&127)%4<=1)
triggerall = ((var(54)&4194304)=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)=0 && playerid(var(56)),statetype = S)
triggerall = ((((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) || p2stateno = 797) && var(15)=0
triggerall = P2BodyDist X = [-10,30]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306 && floor(fvar(37))>=7
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 35 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger3 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0


[State -1, Raging Storm]
type = ChangeState
value = 3000
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = (power >=1000) || (var(20)>0)
triggerall = (power >=1000)
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = 1505 || playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=[1120,1121]) && movecontact && p2statetype = A)
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L ;&& p2dist x>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = prevstateno != 106 || var(15)!=0 || (((var(54)&122880)/8192)>8) || (var(54)&127)%3=0
triggerall = !numtarget || (((var(54)&122880)/8192)>=8) || var(15)!=0
trigger1 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger1 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=8
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,30]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger2 = floor(fvar(37))>=8
trigger2 = p2bodydist x < 30 && p2bodydist y =[-100,-1]

[State -1, Shining Knuckle]
type = ChangeState
value = 3200
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = (power >=1000) || (var(20)>0)
triggerall = (power >=1000)
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = 1505 || playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L && p2dist x>0 ;&& !numhelper(1090)
triggerall = p2movetype = H && playerid(var(56)),movetype = H ;&& p2dist y<0
triggerall = prevstateno != 106 || var(15)!=0 || (((var(54)&122880)/8192)>8) || (var(54)&127)%3=1 || p2stateno = 1505
triggerall = !numtarget || (((var(54)&122880)/8192)>=8) || var(15)!=0
trigger1 = playerid(var(56)),stateno != 1505
trigger1 = P2Dist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = [-65,-30]
trigger1 = P2Dist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger1 = P2Dist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2Dist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=12
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) =[0,85]
trigger2 = playerid(var(56)),stateno != 1505
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger2 = floor(fvar(37))>=12
trigger2 = p2bodydist x < 85 && p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) =[-65,-30]
trigger3 = playerid(var(56)),stateno = 1505
trigger3 = P2Dist Y+floor((12)*(fvar(34))+((12)*((12)+1)/2)*.49) = [-30,-10]
trigger3 = floor(fvar(37))>=12
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) =[0,85]

[State -3, EX-Rising Tackle]
type = ChangeState
value = 2400
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = power>=500
triggerall = var(20) <=0
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = 1505 || playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L && p2dist x>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (((var(54)&122880)/8192)=8) && var(15)=0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=6
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,30]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6
trigger2 = p2bodydist x < 30 && p2bodydist y =[-45,-1]
trigger3 = playerid(var(56)),stateno = 1505
trigger3 = P2Dist Y+floor((6)*(fvar(34))+((6)*((6)+1)/2)*.49) = [-30,-10]
trigger3 = floor(fvar(37))>=6
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,6)) =[0,85]

[State -1, Hard Edge3]
type = ChangeState
value = 1120
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = (abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2stateno!=[120,155]
triggerall = power>=1000
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger1 = playerid(var(56)),statetype = A
trigger1 = (helper(50000+id),var(41))>0
trigger1 = p2dist y+floor((helper(50000+id),var(41))*(fvar(34))+((helper(50000+id),var(41))*((helper(50000+id),var(41))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((helper(50000+id),var(41))*(fvar(34))+((helper(50000+id),var(41))*((helper(50000+id),var(41))+1.0)/2)*fvar(38)) = [-75,-20]
trigger1 = floor(fvar(37))>=helper(50000+id),var(41)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(15.5-fvar(35)))
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) > 20
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) < 256
trigger2 = playerid(var(56)),statetype = A
trigger2 = (helper(50000+id),var(41))<=0
trigger2 = floor(fvar(37))>=helper(50000+id),var(41)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(15.5-fvar(35))) && p2dist y >-60
trigger2 = p2bodydist x < 256 && p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) >-60

[State -1, Rising Tackle]
type = ChangeState
value = 1420
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = var(20) <=0
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = 1505 || playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L && p2dist x>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (((var(54)&122880)/8192)<=7) && var(15)=0
triggerall = ((var(54)&127)%2=0) || power<1000
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=6
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,30]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6
trigger2 = p2bodydist x < 30 && p2bodydist y =[-45,-1]

[State -1, Hard Edge2]
type = ChangeState
value = 1110
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = (abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2stateno!=[120,155]
triggerall = !(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10) || p2bodydist x>40
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger1 = playerid(var(56)),statetype = A
trigger1 = (helper(50000+id),var(40))>0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-75,-20]
trigger1 = floor(fvar(37))>=helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(12-fvar(35)))
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) > 20
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 160
trigger2 = playerid(var(56)),statetype = A
trigger2 = (helper(50000+id),var(40))<=0
trigger2 = floor(fvar(37))>=helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(12-fvar(35))) && p2dist y >-60
trigger2 = p2bodydist x < 160 && p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) >-60


; Crouching Medium Punch
[State -1, Crouching Medium Punch]
type = ChangeState
value = 410
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = var(20) <=0
triggerall = playerid(var(56)),stateno = 797 || playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = playerid(var(56)),stateno != 3306
;triggerall = (var(21)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
TriggerAll = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = p2stateno!=[120,155]
triggerall = statetype != A && p2statetype != L && p2dist x>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=6 || !numtarget
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[-20,0]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6 || !numtarget
trigger2 = (p2bodydist x = [-20,0]) && p2bodydist y =[-100,-40]

[State -3,]
type = ChangeState
value = 230
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((var(54)&127)=[16,60]) || power<3000
triggerall = ((((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) || p2stateno = 797) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306 && helper(50000+id),var(32) = 0
triggerall = p2bodydist x<10 || fvar(39)<=8
triggerall = power>=800 && (playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<=3
trigger1 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=5 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<5 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger1 = fvar(39):=230
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger2 = (floor(fvar(37))>=5 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<5 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x <= 0 && p2bodydist y =0
trigger2 = fvar(39):=230
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x<=5
trigger3 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = fvar(39):=230

; Crouching Light Kick
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0 && prevstateno != 3109
triggerall = (p2statetype = S&&(var(54)&127)=[1,15]) || stateno = 430
triggerall = ((((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) || p2stateno = 797) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=6
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 35 && p2bodydist y =0
Trigger3 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger3 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger4 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger4 = playerid(var(56)),statetype != A
trigger4 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger4 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger4 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger4 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger4 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger5 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger5 = playerid(var(56)),statetype != A
trigger5 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger5 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger5 = p2bodydist x < 35 && p2bodydist y =0
trigger6 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger6 = playerid(var(56)),statetype != A
trigger6 = numtarget
trigger6 = target,stateno = 797
trigger6 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger6 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

; Standing Medium Kick
[State -1,Close Standing Medium Kick]
type = ChangeState
value = 245
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) || p2stateno = 797) && var(15)=0
triggerall = P2BodyDist X = [-20,20]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = fvar(39)=3 ;|| ((var(54)&127)=[61,75])
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=3-playerid(var(56)),gethitvar(hitshaketime),var(53),3-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger1 = P2BodyDist Y+floor((3-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((3-playerid(var(56)),gethitvar(hitshaketime))*((3-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=3 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<3 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=3
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>3
trigger2 = (floor(fvar(37))>=3 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<3 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 30 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=3-playerid(var(56)),gethitvar(hitshaketime),var(53),3-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<30
trigger3 = P2BodyDist Y+floor((3-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((3-playerid(var(56)),gethitvar(hitshaketime))*((3-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

[State -1,Close Stand Strong Punch]
type = ChangeState
value = 225
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
;triggerall = ((var(54)&127)%3<=1)
triggerall = ((((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) || p2stateno = 797) && var(15)=0
triggerall = P2BodyDist X = [-20,20]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=8
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 35 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger3 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

[State -3, Stand Strong Punch]
type = ChangeState
value = 220
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((var(54)&127)%3=0)
triggerall = P2BodyDist X != [-20,20]
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=8
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<50
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 50 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<50
trigger3 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

[State -3, Stand Medium Punch]
type = ChangeState
value = 210
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((var(54)&127)%5=0)
triggerall = P2BodyDist X != [-20,20]
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=8
triggerall = ((var(54)&4194304)=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)=0 && playerid(var(56)),statetype = S)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<60
trigger1 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=5 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<5 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger2 = (floor(fvar(37))>=5 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<5 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 60 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<60
trigger3 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

; Standing Medium Kick
[State -1, Standing Medium Kick]
type = ChangeState
value = 240
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = ((var(54)&127)%5=1)
triggerall = P2BodyDist X != [-20,20]
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=9
triggerall = ((var(54)&4194304)=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)=0 && playerid(var(56)),statetype = S)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 70 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<70
trigger3 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

; Crouching Medium Kick
[State -1, Crouching Medium Kick]
type = ChangeState
value = 440
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
;triggerall = ((var(54)&127)%3<=1)
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<10 || fvar(39)<=8 || stateno = 430
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<72
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 70 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = numtarget
trigger3 = target,stateno = 797
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<72
trigger3 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0

[State -3, Standing Strong Kick]
type = ChangeState
value = 250
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = P2BodyDist X != [-20,20]
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
triggerall = playerid(var(56)),statetype = A
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -30
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=7 || !numtarget
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[0,60]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = floor(fvar(37))>=7 || !numtarget
trigger2 = (p2bodydist x = [0,60]) && p2bodydist y =[-70,-30]

[State -3, run/dash]
type = ChangeState
value = 102
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = stateno !=[100,106]
triggerall = alive
triggerall = roundstate=2 && (stateno!=[100,106]) && statetype!=A
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = abs(helper(50000+id),var(48)) >= var(55)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,259])) || ((stateno=[700,701]) || (stateno=[710,729]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
triggerall = p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)) = [10,256]
triggerall = p2bodydist x>=ifelse(playerid(var(56)),BackEdgeBodyDist <20||playerid(var(56)),FrontEdgeBodyDist <20,80,60)
triggerall = (playerid(var(56)),stateno != [120,155]) || fvar(37)>=10
triggerall = (helper(60000+id),var(47)) >= p2bodydist x || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
trigger1 = floor(fvar(37))>=10+ceil((P2BodyDist X-20>(const(velocity.run.fwd.x)*10))*(P2BodyDist X-20-(const(velocity.run.fwd.x)*10))/const(velocity.run.fwd.x))
trigger1 = fvar(39):=10
trigger2 = playerid(var(56)),statetype = A
trigger2 = fvar(39):=10

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper
triggerall = fvar(39)=10 && stateno != 102
trigger1 = movetype = H || stateno = 21 || stateno = 1 || prevstateno = 100 || stateno = 100
trigger2 = statetype = A
fvar(39) = 0

;------------------------------------ コンボ ------------------------------------------------
[State -3, Raging Storm]
type = ChangeState
value = 3000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (power >=1000) || (var(20)>0)
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=230
triggerall = P2life<(((Const(data.attack)+.0)*fvar(11))/(playerid(var(56)),Const(data.defence)+.0)*200.0) || (var(54)&127)%ifelse(stateno>=1000,10,15)=0 || stateno = 1050 || stateno = 1551
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15
triggerall = stateno != 2000 || (stateno = 2000 && time >= 32)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger1 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=8-playerid(var(56)),gethitvar(hitshaketime),var(53),8-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 30
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger2 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 30 && p2dist y >=0
trigger3 = playerid(var(56)),statetype = A
trigger3 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=8
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,30]
trigger4 = playerid(var(56)),statetype = A
trigger4 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger4 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 30 && p2dist y >=-100
trigger5 = playerid(var(56)),statetype != A
trigger5 = (stateno=[1000,2999]) && (numhelper(1090))
trigger5 = helper(1090),var(5)
trigger5 = stateno != 1050 || time>28
trigger5 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger5 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=8-playerid(var(56)),gethitvar(hitshaketime),var(53),8-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 30
trigger6 = playerid(var(56)),statetype != A
trigger6 = (stateno=[1000,2999]) && (numhelper(1090))
trigger6 = helper(1090),var(5)
trigger6 = stateno != 1050 || time>28
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger6 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger6 = p2bodydist x < 30 && p2dist y >=0
trigger7 = playerid(var(56)),statetype = A
trigger7 = (stateno=[1000,2999]) && (numhelper(1090))
trigger7 = helper(1090),var(5)
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger7 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = floor(fvar(37))>=8
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger7 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,30]
trigger8 = playerid(var(56)),statetype = A
trigger8 = (stateno=[1000,2999]) && (numhelper(1090))
trigger8 = helper(1090),var(5)
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger8 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger8 = p2bodydist x < 30 && p2dist y >=-100
trigger9 = playerid(var(56)),statetype != A
trigger9 = (stateno=[1000,2999]) && (numhelper(1090))
trigger9 = helper(1090),var(5)
trigger9 = stateno != 1050 || time>28
trigger9 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger9 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger9 = playerid(var(56)),BackEdgeBodyDist<=3
trigger9 = p2bodydist x < 30

[State -3, Shining Knuckle]
type = ChangeState
value = 3200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (power >=1000) || (var(20)>0)
triggerall = var(20) <=0 && stateno!=[1400,1420]
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=230
triggerall = P2life<(((Const(data.attack)+.0)*fvar(11))/(playerid(var(56)),Const(data.defence)+.0)*220.0) || (var(54)&127)%ifelse(stateno>=1000,10,15)=1 || stateno = 1050 || stateno = 1000
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15
triggerall = stateno != 2000 || (stateno = 2000 && time >= 32)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger1 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)+1
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=12-playerid(var(56)),gethitvar(hitshaketime),var(53),12-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 80
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger2 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)+1
trigger2 = p2bodydist x < 80 && p2dist y >=0
trigger3 = playerid(var(56)),statetype = A
trigger3 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 0
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=12
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) <=80
trigger4 = playerid(var(56)),statetype = A
trigger4 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger4 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)+1
trigger4 = p2bodydist x < 80 && p2dist y >=-60
trigger5 = playerid(var(56)),statetype != A
trigger5 = (stateno=[1000,2999]) && (numhelper(1090))
trigger5 = helper(1090),var(5)
trigger5 = stateno != 1050 || time>28
trigger5 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger5 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=12-playerid(var(56)),gethitvar(hitshaketime),var(53),12-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 80
trigger6 = playerid(var(56)),statetype != A
trigger6 = (stateno=[1000,2999]) && (numhelper(1090))
trigger6 = helper(1090),var(5)
trigger6 = stateno != 1050 || time>28
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger6 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)+1
trigger6 = p2bodydist x < 80 && p2dist y >=0
trigger7 = playerid(var(56)),statetype = A
trigger7 = (stateno=[1000,2999]) && (numhelper(1090))
trigger7 = helper(1090),var(5)
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 0
trigger7 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = floor(fvar(37))>=12
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger7 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) <=80
trigger8 = playerid(var(56)),statetype = A
trigger8 = (stateno=[1000,2999]) && (numhelper(1090))
trigger8 = helper(1090),var(5)
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger8 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger8 = p2bodydist x < 80 && p2dist y >=-60
trigger9 = playerid(var(56)),statetype != A
trigger9 = (stateno=[1000,2999]) && (numhelper(1090))
trigger9 = helper(1090),var(5)
trigger9 = stateno != 1050 || time>28
trigger9 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger9 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger9 = playerid(var(56)),BackEdgeBodyDist<=3 || playerid(var(56)),FrontEdgeBodyDist<=3
trigger9 = p2bodydist x < 80

[State -3, EX-Raging Storm]
type = ChangeState
value = 3050
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=2000
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=230
triggerall = P2life<(((Const(data.attack)+.0)*fvar(11))/(playerid(var(56)),Const(data.defence)+.0)*340.0) || (var(54)&127)%ifelse(stateno>=1000,10,15)=2 || stateno = 1050 || stateno = 1551
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15
triggerall = stateno != 2000 || (stateno = 2000 && time >= 32)
triggerall = (playerid(var(56)),BackEdgeBodyDist>=30 && playerid(var(56)),FrontEdgeBodyDist>=30) || helper(50000+id),var(32) != 0
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger1 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=8-playerid(var(56)),gethitvar(hitshaketime),var(53),8-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 30
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger2 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 30 && p2dist y >=0
trigger3 = playerid(var(56)),statetype = A
trigger3 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=8
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,30]
trigger4 = playerid(var(56)),statetype = A
trigger4 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger4 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 30 && p2dist y >=-100
trigger5 = playerid(var(56)),statetype != A
trigger5 = (stateno=[1000,2999]) && (numhelper(1090))
trigger5 = helper(1090),var(5)
trigger5 = stateno != 1050 || time>28
trigger5 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger5 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=8-playerid(var(56)),gethitvar(hitshaketime),var(53),8-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 30
trigger6 = playerid(var(56)),statetype != A
trigger6 = (stateno=[1000,2999]) && (numhelper(1090))
trigger6 = helper(1090),var(5)
trigger6 = stateno != 1050 || time>28
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger6 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger6 = p2bodydist x < 30 && p2dist y >=0
trigger7 = playerid(var(56)),statetype = A
trigger7 = (stateno=[1000,2999]) && (numhelper(1090))
trigger7 = helper(1090),var(5)
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger7 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = floor(fvar(37))>=8
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger7 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,8)-playerid(var(56)),gethitvar(hitshaketime)) =[-40,30]
trigger8 = playerid(var(56)),statetype = A
trigger8 = (stateno=[1000,2999]) && (numhelper(1090))
trigger8 = helper(1090),var(5)
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger8 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger8 = p2bodydist x < 30 && p2dist y >=-100
trigger9 = playerid(var(56)),statetype != A
trigger9 = (stateno=[1000,2999]) && (numhelper(1090))
trigger9 = helper(1090),var(5)
trigger9 = stateno != 1050 || time>28
trigger9 = p2dist y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger9 = floor(fvar(37))>=8-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger9 = playerid(var(56)),BackEdgeBodyDist<=3
trigger9 = p2bodydist x < 30

[State -3, EX-ShiningKnuckle]
type = ChangeState
value = 3250
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=2000
triggerall = var(20) <=0 && stateno!=[1400,1420]
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = fvar(39)!=230
triggerall = P2life<(((Const(data.attack)+.0)*fvar(11))/(playerid(var(56)),Const(data.defence)+.0)*ifelse((power>=3000)&&(life<=666),430.0,320.0)) || (var(54)&127)%ifelse(stateno>=1000,10,15)=3 || stateno = 1050 || stateno = 1000
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15
triggerall = stateno != 2000 || (stateno = 2000 && time >= 32)
triggerall = playerid(var(56)),BackEdgeBodyDist<25 || playerid(var(56)),FrontEdgeBodyDist<25 || (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<=300)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger1 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=12-playerid(var(56)),gethitvar(hitshaketime),var(53),12-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 80
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger2 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 80 && p2dist y >=0
trigger3 = playerid(var(56)),statetype = A
trigger3 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -40
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 0
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=12
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) <=80
trigger4 = playerid(var(56)),statetype = A
trigger4 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger4 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 80 && p2dist y >=-60
trigger5 = playerid(var(56)),statetype != A
trigger5 = (stateno=[1000,2999]) && (numhelper(1090))
trigger5 = helper(1090),var(5)
trigger5 = stateno != 1050 || time>28
trigger5 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger5 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=12-playerid(var(56)),gethitvar(hitshaketime),var(53),12-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 80
trigger6 = playerid(var(56)),statetype != A
trigger6 = (stateno=[1000,2999]) && (numhelper(1090))
trigger6 = helper(1090),var(5)
trigger6 = stateno != 1050 || time>28
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger6 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger6 = p2bodydist x < 80 && p2dist y >=0
trigger7 = playerid(var(56)),statetype = A
trigger7 = (stateno=[1000,2999]) && (numhelper(1090))
trigger7 = helper(1090),var(5)
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -40
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 0
trigger7 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = floor(fvar(37))>=12
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger7 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,12)-playerid(var(56)),gethitvar(hitshaketime)) <=80
trigger8 = playerid(var(56)),statetype = A
trigger8 = (stateno=[1000,2999]) && (numhelper(1090))
trigger8 = helper(1090),var(5)
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger8 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger8 = p2bodydist x < 80 && p2dist y >=-60
trigger9 = playerid(var(56)),statetype != A
trigger9 = (stateno=[1000,2999]) && (numhelper(1090))
trigger9 = helper(1090),var(5)
trigger9 = stateno != 1050 || time>28
trigger9 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger9 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger9 = playerid(var(56)),BackEdgeBodyDist<=3
trigger9 = p2bodydist x < 80

[State -3, Deadly Rave]
type = ChangeState
value = 3100
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=2000
triggerall = var(20) <=0 && stateno!=[1400,1420]
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = fvar(39)!=230
triggerall = P2life<(((Const(data.attack)+.0)*fvar(11))/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,460.0,380.0)) || (var(54)&127)%ifelse(stateno>=1000,10,15)=4 || stateno = 1050 || stateno = 1000
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15
triggerall = stateno != 2000 || (stateno = 2000 && time >= 32)
triggerall = playerid(var(56)),statetype != A && fvar(34)=0
trigger1 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger1 = p2dist y = 0
trigger1 = floor(fvar(37))>=1-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>25)*(P2BodyDist X-25)/10.0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=1
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 25+ceil((fvar(37)>=1)*(fvar(37)-1)*10.0)
trigger2 = ((stateno=[200,499]) || (stateno=[1000,1999]) || (stateno=[2000,2999])) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger2 = floor(fvar(37))>=1-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>25)*(P2BodyDist X-25)/10.0)
trigger2 = p2bodydist x < 25+ceil((fvar(37)>=1)*(fvar(37)-1)*10.0) && p2dist y >=0
trigger3 = (stateno=[1000,2999]) && (numhelper(1090))
trigger3 = helper(1090),var(5)
trigger3 = stateno != 1050 || time>28
trigger3 = p2dist y = 0
trigger3 = floor(fvar(37))>=1-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>25)*(P2BodyDist X-25)/10.0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=1
trigger3 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 25+ceil((fvar(37)>=1)*(fvar(37)-1)*10.0)
trigger4 = (stateno=[1000,2999]) && (numhelper(1090))
trigger4 = helper(1090),var(5)
trigger4 = stateno != 1050 || time>28
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger4 = floor(fvar(37))>=1-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>25)*(P2BodyDist X-25)/10.0)
trigger4 = p2bodydist x < 25+ceil((fvar(37)>=1)*(fvar(37)-1)*10.0) && p2dist y >=0

[State -3, Focus Attack]
type = ChangeState
value = 790
triggerall = var(59)>=5
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = statetype != A
triggerall = stateno != 790
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H && (stateno != [1100,1121])
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 || power>=1000
trigger1 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) || ((stateno=[2000,2999]) && movecontact  && (power >= 300))
trigger1 = stateno != 2000 || (stateno = 2000 && time >= 32)
trigger1 = fvar(39)=792 || fvar(39)=230
trigger1 = fvar(39):=792
trigger2 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) && playerid(var(56)),statetype = A
trigger2 = playerid(var(56)),BackEdgeBodyDist <10 ;|| playerid(var(56)),FrontEdgeBodyDist <10
;trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((50-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((50-playerid(var(56)),gethitvar(hitshaketime))*((50-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38))>=-120
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38))<=-55
trigger2 = P2BodyDist Y+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger2 = P2BodyDist Y+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -10
trigger2 = floor(fvar(37))>=50-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)<=32 && helper(50000+id),var(32) = 0
trigger2 = (stateno = [1400,1420]) || (var(54)&127)<20
trigger2 = p2bodydist x < 50
trigger2 = fvar(39):=792
trigger3 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) || ((stateno=[2000,2999]) && movecontact  && (power >= 300))
trigger3 = stateno != 2000 || (stateno = 2000 && time >= 32)
trigger3 = (var(54)&127)>life*.1 || ((stateno = [1400,1420]) && (p2stateno = [120,155])) || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) && stateno >=2000) || ((var(54)&2097152)!=0 && stateno = [2100,2121])
trigger3 = fvar(11)>(0.001*life) || ((stateno = [1400,1420]) && (p2stateno = [120,155])) || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) && stateno >=2000) || ((var(54)&2097152)!=0 && stateno = [2100,2121])
trigger3 = playerid(var(56)),statetype != A
trigger3 = p2dist y = 0 && fvar(34)=0
trigger3 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=20
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<75
trigger3 = fvar(39):=ifelse(floor(fvar(37))>=28,791,793)
trigger4 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) || ((stateno=[2000,2999]) && movecontact  && (power >= 300))
trigger4 = stateno != 2000 || (stateno = 2000 && time >= 32)
trigger4 = (var(54)&127)>life*.1 || ((stateno = [1400,1420]) && (p2stateno = [120,155])) || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) && stateno >=2000) || ((var(54)&2097152)!=0 && stateno = [2100,2121])
trigger4 = fvar(11)>(0.001*life) ;|| ((stateno = [1400,1420]) && (p2stateno = [120,155])) || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) && stateno >=2000) || ((var(54)&2097152)!=0 && stateno = [2100,2121])
trigger4 = playerid(var(56)),statetype != A
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>20
trigger4 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 75 && p2dist y >=0
trigger4 = fvar(39):=ifelse(floor(fvar(37))>=28,791,793)
trigger5 = (stateno=[1000,2999]) && (numhelper(1090)) && (power >= 300)
trigger5 = helper(1090),var(5) && (power >= 300)
trigger5 = (var(54)&127)>life*.1
trigger5 = fvar(11)>(0.001*life)
trigger5 = playerid(var(56)),statetype != A
trigger5 = p2dist y = 0 && fvar(34)=0
trigger5 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=20
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<75
trigger5 = fvar(39):=ifelse(floor(fvar(37))>=28,791,793)
trigger6 = (stateno=[1000,2999]) && (numhelper(1090)) && (power >= 300)
trigger6 = helper(1090),var(5) && (power >= 300)
trigger6 = (var(54)&127)>life*.1 || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) && stateno =1050) || (playerid(var(56)),BackEdgeBodyDist <10 || playerid(var(56)),FrontEdgeBodyDist <10)
trigger6 = fvar(11)>(0.001*life)
trigger6 = playerid(var(56)),statetype != A
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>20
trigger6 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger6 = p2bodydist x < 75 && p2dist y >=0
trigger6 = fvar(39):=ifelse(floor(fvar(37))>=28,791,793)
trigger7 = ((stateno=[2000,2999]) && movecontact  && (power >= 300)) && playerid(var(56)),statetype = A
trigger7 = (playerid(var(56)),BackEdgeBodyDist <10 || playerid(var(56)),FrontEdgeBodyDist <10)
trigger7 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((50-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((50-playerid(var(56)),gethitvar(hitshaketime))*((50-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38))>=-120
trigger7 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38))<=-55
trigger7 = P2BodyDist Y+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((32-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((32-playerid(var(56)),gethitvar(hitshaketime))*((32-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -10
trigger7 = floor(fvar(37))>=50-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=32
trigger7 = stateno = 2501 && helper(50000+id),var(32) = 0
trigger7 = p2bodydist x < 50
trigger7 = fvar(39):=792

[State -3, Focus Attack]
type = ChangeState
value = 790
triggerall = var(59)>=5
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = statetype != A
triggerall = stateno != 790
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H && stateno != [1100,1121]
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 || power>=1000
trigger1 = (stateno=[200,499]) && movecontact  && (power >= 300)
trigger1 = stateno = 225
Trigger1 = playerid(var(56)),statetype != A
trigger1 = (var(54)&127)>life*.3 && (var(54)&127)%2=0
trigger1 = fvar(11)>(0.008*life)
trigger1 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<75
trigger1 = fvar(39):=793
trigger2 = (stateno=[2000,2999]) && movecontact  && (power >= 300)
trigger2 = stateno = 2501
Trigger2 = playerid(var(56)),statetype = A
trigger2 = (var(54)&127)+10>life*.1 || power>=1300
trigger2 = fvar(11)>(0.001*life)
trigger2 = floor(fvar(37))>=20-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = fvar(39):=ifelse((playerid(var(56)),BackEdgeBodyDist <20 || playerid(var(56)),FrontEdgeBodyDist <20),792,793)

[State -3, Focus Dash]
type = ChangeState
value = ifelse(p2bodydist x<=80&&(playerid(var(56)),BackEdgeBodyDist <10 || playerid(var(56)),FrontEdgeBodyDist <10)&&p2statetype=A,794,793)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A && p2statetype != L
triggerall = p2dist x>0
trigger1 = ((stateno = 792) && movecontact)
trigger1 = floor(fvar(37))>=12
trigger2 = (stateno = [790,791])
trigger2 = fvar(39)=793

[State -3,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = movetype = H || stateno = 792 || prevstateno = 792
trigger1 = fvar(39)=[791,792]
trigger2 = movetype = H || (stateno = [793,794]) || prevstateno = [793,794]
trigger2 = fvar(39)=793
trigger2 = movetype = H || prevstateno = 230
trigger2 = fvar(39)=230
fvar(39) = 0

[State -3, EX-Shinku Nage]
type = ChangeState
value = 2500
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = power>=500
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[1,10+(20*(BackEdgeBodyDist<20))])
triggerall = playerid(var(56)),movetype = H && (playerid(var(56)),BackEdgeBodyDist>=30 && playerid(var(56)),FrontEdgeBodyDist>=30)
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && var(15)=0
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 40
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 40 && p2dist y >=0

[State -3, EX-Rage Run]
type = ChangeState
value = 2200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = power>=500
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = life>666 || var(59)<=4
triggerall = ((var(54)&127)=[1,10])
triggerall = playerid(var(56)),movetype = H
triggerall = (playerid(var(56)),Const(size.head.pos.y)<=-75 && p2statetype = S) || playerid(var(56)),Const(size.head.pos.y)<=-120
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && var(15)=0 && stateno != 230
trigger1 = playerid(var(56)),statetype != A ;&& (playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)
trigger1 = p2dist y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = [-20,0]
trigger1 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<15+ceil((fvar(37)>=7)*(fvar(37)-7)*8)
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger2 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 15+ceil((fvar(37)>=7)*(fvar(37)-7)*8) && p2dist y >-10

[State -1, EX-Repuuken]
type = ChangeState
value = 2000
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = power>=500
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[ifelse(life<500,31,41),ifelse(((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)),60,50)])
triggerall = life<=(var(59)*100) || ((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
triggerall = playerid(var(56)),movetype = H ;&& playerid(var(56)),BackEdgeBodyDist>=20
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && var(15)=0
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((14-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((14-playerid(var(56)),gethitvar(hitshaketime))*((14-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=14-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=14
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=14-playerid(var(56)),gethitvar(hitshaketime),var(53),14-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 90
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>14
trigger2 = floor(fvar(37))>=14-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 90 && p2dist y >=0

[State -3, EX-Hard Edge]
type = ChangeState
value = 2100
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = power>=500
triggerall = var(20) <=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[ifelse(life<500,71,81),ifelse(((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)),100,90)])
triggerall = life<=(var(59)*100) || ((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && var(15)=0
triggerall = ((var(54)&2097152)=0) || playerid(var(56)),statetype = A || power>=800
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((10-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((10-playerid(var(56)),gethitvar(hitshaketime))*((10-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = [-40,0]
trigger1 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>30)*(P2BodyDist X-30)/15.5)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=10+ceil((P2BodyDist X>30)*(P2BodyDist X-30)/15.5)
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 30+ceil((fvar(37)>=10)*(fvar(37)-10)*15.5)
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 200
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>10+ceil((P2BodyDist X>30)*(P2BodyDist X-30)/15.5)
trigger2 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>30)*(P2BodyDist X-30)/15.5)
trigger2 = p2bodydist x < 30+ceil((fvar(37)>=10)*(fvar(37)-10)*15.5) && p2dist y >-40
trigger2 = p2bodydist x < 200

[State -3, Rising Tackle3]
type = ChangeState
value = 1420
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact = 1
triggerall = power>=800
triggerall = var(20) <=0
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[56,ifelse(((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))*2,75,65)]) || stateno = 230
triggerall = playerid(var(56)),movetype = H && playerid(var(56)),BackEdgeBodyDist<5
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=0 && var(15)=0
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=6-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = p2bodydist x<=5 && helper(50000+id),var(32) = 0
trigger1 = stateno = 205 || stateno = 230 || stateno = 400 || stateno = 430
trigger1 = fvar(39):=230

[State -3, Double Repuuken]
type = ChangeState
value = 1050
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact && stateno != 420
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[1,30]) && power>=300
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15 && var(15)=0
trigger1 = playerid(var(56)),statetype != A ;&& (playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)
trigger1 = p2dist y+floor((15-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((15-playerid(var(56)),gethitvar(hitshaketime))*((15-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = [-20,0]
trigger1 = floor(fvar(37))>=15-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=15
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<(40+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*10))
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>15
trigger2 = floor(fvar(37))>=15-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 50 && p2dist y >-10

[State -3, Shinku Nage]
type = ChangeState
value = 1500
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[31,100])
triggerall = playerid(var(56)),movetype = H && (playerid(var(56)),BackEdgeBodyDist>=10 || (power<1000 && (var(54)&127)%2=1))
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1) < 42
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 42 && p2dist y >=0

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[1,70]) || ((var(54)&4194304)!=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)!=0 && playerid(var(56)),statetype = S)
triggerall = power>=1000 || playerid(var(56)),BackEdgeBodyDist>=20
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=15 && var(15)=0
trigger1 = playerid(var(56)),statetype != A ;&& (playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)
trigger1 = p2dist y+floor((13-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((13-playerid(var(56)),gethitvar(hitshaketime))*((13-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = [-20,0]
trigger1 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=13
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3 || playerid(var(56)),FrontEdgeBodyDist<3)*.33))<35+ceil((fvar(37)>=13)*(fvar(37)-13)*4.5)
trigger1 = var(10):=1
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>13
trigger2 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 35+ceil((fvar(37)>=13)*(fvar(37)-13)*4.5) && p2dist y >-10
trigger2 = var(10):=1

[State -3, Hard Edge3]
type = ChangeState
value = 1120
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
;triggerall = ((var(54)&127)=[21,60])
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
triggerall = ((var(54)&4194304)=0 && playerid(var(56)),statetype = C) || ((var(54)&2097152)=0 && playerid(var(56)),statetype = S) || playerid(var(56)),statetype = A
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((13-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((13-playerid(var(56)),gethitvar(hitshaketime))*((13-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = [-40,0]
trigger1 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>90)*(P2BodyDist X-90)/15.5)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=13+ceil((P2BodyDist X>90)*(P2BodyDist X-90)/15.5)
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=13-playerid(var(56)),gethitvar(hitshaketime),var(53),13-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 90+ceil((fvar(37)>=13)*(fvar(37)-13)*15.5)
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=13-playerid(var(56)),gethitvar(hitshaketime),var(53),13-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 200
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>13+ceil((P2BodyDist X>90)*(P2BodyDist X-90)/15.5)
trigger2 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>90)*(P2BodyDist X-90)/15.5)
trigger2 = p2bodydist x < 90+ceil((fvar(37)>=13)*(fvar(37)-13)*15.5) && p2dist y >-40
trigger2 = p2bodydist x < 200

[State -1, Hard Edge3]
type = ChangeState
value = 1120
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2stateno!=[120,155]
triggerall = power>=1000
trigger1 = playerid(var(56)),statetype = A
trigger1 = (helper(50000+id),var(41))>0
trigger1 = p2dist y+floor((helper(50000+id),var(41))*(fvar(34))+((helper(50000+id),var(41))*((helper(50000+id),var(41))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((helper(50000+id),var(41))*(fvar(34))+((helper(50000+id),var(41))*((helper(50000+id),var(41))+1.0)/2)*fvar(38)) = [-75,-20]
trigger1 = floor(fvar(37))>=helper(50000+id),var(41)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(15.5-fvar(35)))
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) > 20
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(41))) < 256
trigger2 = playerid(var(56)),statetype = A
trigger2 = (helper(50000+id),var(41))<=0
trigger2 = floor(fvar(37))>=helper(50000+id),var(41)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(15.5-fvar(35))) && p2dist y >-60
trigger2 = p2bodydist x < 256 && p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) >-60

[State -1, Hard Edge2]
type = ChangeState
value = 1110
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7 && var(15)=0
trigger1 = playerid(var(56)),statetype = A
trigger1 = (helper(50000+id),var(40))>0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-75,-20]
trigger1 = floor(fvar(37))>=helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(12-fvar(35)))
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) > 20
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 160
trigger2 = playerid(var(56)),statetype = A
trigger2 = (helper(50000+id),var(40))<=0
trigger2 = floor(fvar(37))>=helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 75+ceil((fvar(37)>=13)*(fvar(37)-13)*(12-fvar(35))) && p2dist y >-60
trigger2 = p2bodydist x < 160 && p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) >-60

;------------------------------------- 固め -------------------------------------------------
;ジャンプ
[state -3,jump]
Type = ChangeState
value = 40
triggerall = var(59)>3 && (var(54)&524288)=0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),statetype != A
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = (var(54)&127)%3=0
triggerall = playerid(var(56)),movetype = H && playerid(var(56)),BackEdgeBodyDist>=20
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && var(15)=0
triggerall = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((10-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((10-playerid(var(56)),gethitvar(hitshaketime))*((10-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=10
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)))/(1+((playerid(var(56)),BackEdgeBodyDist<3)*.33)) < 30
trigger1 = fvar(39):=1.11
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>10
trigger2 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 30 && p2dist y >=0
trigger2 = fvar(39):=1.11

; Crouching Light Kick
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<25 || fvar(39)<=8
triggerall = playerid(var(56)),statetype != A
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<45
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 45 && p2bodydist y =0
trigger3 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<45
trigger3 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger4 = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger4 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger4 = p2bodydist x < 45 && p2bodydist y =0

; Crouching Medium Kick
[State -3, Crouching Medium Kick]
type = ChangeState
value = 440
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = p2bodydist x<25 || fvar(39)<=8
triggerall = playerid(var(56)),statetype != A
triggerall = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = playerid(var(56)),statetype != A
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<70
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 70 && p2bodydist y =0

; Standing Medium Kick
[State -1, Standing Medium Kick]
type = ChangeState
value = 240
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(20)=0) || !numtarget
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = (((var(54)&122880)/8192)<=ifelse(numtarget,0,7)) && var(15)=0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),stateno != 3306
triggerall = P2BodyDist X != [-20,20]
triggerall = p2bodydist x<25 || fvar(39)<=8
triggerall = playerid(var(56)),statetype != A
triggerall = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = playerid(var(56)),statetype != A
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,499])) || ((stateno=[700,701]) || (stateno=[4000,4020]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 70 && p2bodydist y =0

[State -3, Rage Run]
type = ChangeState
value = 1200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((var(54)&122880)/8192)<=15 && var(15)=0
triggerall = playerid(var(56)),statetype != A
trigger1 = ((var(54)&127)=[71,85]) && life>500
trigger1 = playerid(var(56)),movetype = H
trigger1 = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = stateno = 440
Trigger1 = (stateno=[200,449]) && movecontact
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))>=70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = var(10):=ifelse(random%5<=1,0,2) || 1
trigger2 = ((var(54)&127)=[71,85]) && life>500
trigger2 = playerid(var(56)),movetype = H
trigger2 = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = stateno = 440
Trigger2 = (stateno=[200,449]) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x >= 70 && p2bodydist y =0
trigger2 = var(10):=ifelse(random%5<=1,0,2) || 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>5)
trigger3 = playerid(var(56)),AnimTime<=-27-(Random%var(59))+(Random%(7-var(59)))
trigger3 = ((var(54)&127)=[1,33]) && life>500
trigger3 = playerid(var(56)),movetype = A
trigger3 = var(59)>=5
Trigger3 = (stateno=[200,449]) && movecontact
trigger3 = p2bodydist x <= 20 && p2bodydist y =0
trigger3 = var(10):=2 || 1

[State -1, Double Repuuken]
type = ChangeState
value = 1050
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[91,100]) && life>333
triggerall = playerid(var(56)),BackEdgeBodyDist>=10
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((var(54)&122880)/8192)<=15 && var(15)=0
triggerall = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = playerid(var(56)),statetype != A
;triggerall = stateno = 440
Trigger1 = (stateno=[200,449]) && movecontact
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))>=70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
Trigger2 = (stateno=[200,449]) && movecontact
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x >= 70 && p2bodydist y =0

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(20)=0
triggerall = (stateno=[200,449]) && movecontact
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = ((var(54)&127)=[1,60]) || stateno = 220 || stateno = 410
triggerall = playerid(var(56)),BackEdgeBodyDist>=10 || (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>300)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
triggerall = ((var(54)&122880)/8192)<=15 && var(15)=0
;triggerall = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = stateno != 430
Trigger1 = (stateno=[200,449]) && movecontact
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))>=70
trigger1 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = var(10):=ifelse(random%5=0,0,1) || 1
Trigger2 = (stateno=[200,449]) && movecontact
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x >= 70 && p2bodydist y =0
trigger2 = var(10):=ifelse(random%5=0,0,1) || 1

trigger3 = p2bodydist x>30 || stateno != 430
trigger3 = ((playerid(var(56)),stateno = [120,155))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger3 = (var(54)&127)%2=0 || stateno = 220 || stateno = 410
trigger3 = var(10):=ifelse(random%5=0,0,1) || 1

[State -3, Focus Attack]
type = ChangeState
value = 790
triggerall = var(59)>=5
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = statetype != A
triggerall = stateno != 790
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = statetype != A && playerid(var(56)),statetype != L && p2dist x>0
trigger1 = playerid(var(56)),movetype = H
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) || ((stateno=[2000,2999]) && movecontact  && (power >= 300))
trigger1 = stateno = [1100,1121]
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2bodydist x < 100 && p2dist y >=0
trigger1 = fvar(39):=ifelse(floor(fvar(37))>=28,791,ifelse(floor(fvar(37))>=20,793,794))
trigger2 = playerid(var(56)),movetype != H && var(59)>=6
trigger2 = ((stateno=[1000,1999]) && movecontact  && (power >= 300)) || ((stateno=[2000,2999]) && movecontact  && (power >= 300))
trigger2 = stateno = [1100,1121]
trigger2 = (p2stateno != [120,155])
trigger2 = playerid(var(56)),statetype != A
trigger2 = p2bodydist x < 100 && p2dist y >=0 && fvar(34)=0

[State -1, Focus Dash Fwd]
type = ChangeState
value = 793
triggerall = var(59)>0
triggerall = (stateno = [790,791])
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A && p2statetype != L && p2movetype!=H
trigger1 = p2dist x<=0 || p2bodydist x <=-10
trigger2 = var(16) >=40
trigger2 = p2bodydist y <-120 && BackEdgeBodyDist<35

[State -1, Focus Dash Back]
type = ChangeState
value = 794
triggerall = var(59)>0
triggerall = (stateno = [790,791])
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A && p2statetype != L && (p2movetype!=H || fvar(37)<20)
trigger1 = p2dist x>0
trigger1 = ifelse(p2movetype=H,p2bodydist x+(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36))>70,p2bodydist x>80)
trigger1 = var(16) >=40 || life<333
trigger2 = var(16) >=40
trigger2 = p2bodydist y <-120 && BackEdgeBodyDist>=35
trigger3 = fvar(39)=794

[State -1,var reset]
type = VarSet
triggerall = fvar(39)=794
trigger1 = movetype=H || stateno = 794
trigger2 = roundstate!=2
fvar(39) = 0
;----------------------------------- 地上移動 -----------------------------------------------
[State -1,var set]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)=0
;triggerall = (fvar(39)!=(-4,10)) && fvar(39)!=430.1 && fvar(39)!=1500.1
triggerall = life<=750
triggerall = var(20)=0
triggerall = life>0 && playerid(var(56)),life>0
trigger1 = p2statetype = L
trigger1 = ((playerid(var(56)),power+.0)/(life+.0))>2.0
fvar(39) = 20.1

[State -1,var set]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = life>0 && playerid(var(56)),life>0
triggerall = fvar(39)=0
;triggerall = (fvar(39)!=(-4,10)) && fvar(39)!=430.1 && fvar(39)!=1500.1
triggerall = var(20)=0
;triggerall = ((lifemax+.0)/(life+.0))*2<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
trigger1 = stateno = 3000 || stateno = 3050 || stateno = 3200 || (stateno = [1100,1121]) || stateno = 2000 || stateno = 2121 || stateno = 1551 || stateno = 801 || stateno = 811
trigger1 = animtime = 0
trigger1 = p2bodydist x >= 100
trigger2 = playerid(var(56)),movetype = H && floor(fvar(37))>=22
trigger2 = p2bodydist x >= 160
trigger3 = stateno = 794 && p2statetype = L
trigger3 = p2bodydist x >= 100
trigger4 = stateno = 3000 && animtime=-1
trigger4 = p2bodydist x>=80 && p2dist y<=-40
fvar(39) = 20.2

[State -1,var set]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)=0
;triggerall = (fvar(39)!=(-4,10)) && fvar(39)!=430.1 && fvar(39)!=1500.1
triggerall = var(20)=0
triggerall = life>0 && playerid(var(56)),life>0 && life>666
triggerall = ((lifemax+.0)/(life+.0))*3<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
trigger1 = stateno = 3000 || stateno = 3050 || stateno = 3200 || (stateno = [1100,1121]) || stateno = 2000 || stateno = 2121 || stateno = 1551 || stateno = 801 || stateno = 811
trigger1 = animtime = 0
trigger1 = p2bodydist x >= 100
trigger2 = playerid(var(56)),movetype = H && floor(fvar(37))>=22
trigger2 = p2bodydist x >= 160
trigger3 = stateno = 3000 && animtime=-1
trigger3 = p2bodydist x>=80 && p2dist y<=-40
fvar(39) = 20.3

[State -1,var reset]
type = VarSet
triggerall = fvar(39)=[20,21)
trigger1 = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
trigger2 = roundstate!=2
fvar(39) = 0

[State -3, taunt]
type = changestate
value = 195
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&1048576)=0
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
triggerall = alive
triggerall = (var(20)=0)
triggerall = RoundState = 2
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = !inguarddist && fvar(35)>=-1
triggerall = statetype != A
triggerall = life>0 && playerid(var(56)),life>0
triggerall = p2stateno != 5201 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
triggerall = statetype != A && p2dist x>0
trigger1 = (p2stateno = [5000,5110])
trigger1 = p2bodydist x >= 120 && life>666
trigger1 = fvar(39)=20.3
trigger1 = fvar(39):=20.1
trigger2 = (p2stateno = 3306) && numtarget && p2movetype = H && life>500
trigger2 = ((lifemax+.0)/(life+.0))<((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
trigger2 = fvar(39):=20.1

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = alive
triggerall = RoundState = 2
triggerall = !inguarddist && fvar(35)>=-1
triggerall = !(p2stateno = 5210 && playerid(var(56)),time<=12)
;triggerall = numhelper
;triggerall = numhelper(50000+id)
triggerall = statetype != A && p2dist x>0
triggerall = life>0 && playerid(var(56)),life>0
trigger1 = ((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) || (P2life<=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*60.0))
trigger1 = (p2stateno = [5100,5110])|| p2stateno = 5201
trigger1 = p2bodydist x >= ifelse(fvar(39)=20.2,100,120)
trigger1 = fvar(39)=20.1 || fvar(39)=20.2 || p2bodydist x>120
trigger1 = var(10):=ifelse(Random%3=0,1,0) || 1
trigger2 = p2stateno = [5100,5120]
trigger2 = p2bodydist x >= 100
trigger2 = (P2life<=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*60.0))
trigger2 = var(10):=0 || 1
trigger3 = p2bodydist x >= 80
trigger3 = fvar(39)=20.2
trigger3 = var(10):=0 || 1

[State -3, run/dash]
type = changestate
value = 105
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = alive
triggerall = RoundState = 2
triggerall = (stateno!=[100,106])
triggerall = (var(20)=0)
triggerall = !inguarddist
triggerall = statetype != A && p2dist x>0 && anim!=5
triggerall = stateno != 780
triggerall = BackEdgeBodyDist>30
triggerall = p2stateno != 3306
triggerall = p2statetype = L || ((var(54)&122880)/8192)>ifelse(power>=1000,15,ifelse((power>=500),8,7))
trigger1 = p2statetype = L || (p2movetype = H && floor(fvar(37))>=20)
trigger1 = p2bodydist x < 100 && prevstateno != 794
trigger1 = fvar(39)=20.1 || fvar(39)=20.2 || fvar(39)=20.3

[State -3, Power Charge]
type = ChangeState
value = 780
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A
triggerall = power < 3000
triggerall = !var(20)
triggerall = stateno != 780
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = alive
triggerall = RoundState = 2
triggerall = (var(20)=0)
triggerall = !inguarddist
triggerall = life>0 && playerid(var(56)),life>0
triggerall = statetype != A && p2dist x>0 && anim!=5
triggerall = stateno != 740 && prevstateno != 740
triggerall = numhelper(50000+id)
triggerall = (helper(50000+id),var(52)!=playerid(var(56)),stateno) && (helper(50000+id),var(53)!=playerid(var(56)),stateno)
trigger1 = p2statetype = L || (p2movetype = H && floor(fvar(37))>=20)
trigger1 = (numhelper(1090)>0) || (P2life>((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*60.0))
trigger1 = ((lifemax+.0)/(life+.0))>=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) || power<1000
trigger1 = p2bodydist x >= 100
trigger1 = fvar(39)=20.1 || fvar(39)=20.2
trigger2 = p2statetype = S && p2movetype = I && playerid(var(56)),vel x=0 && playerid(var(56)),vel y=0 && playerid(var(56)),time>=12
trigger2 = p2bodydist x >= 180 && p2stateno >=200 && (var(52)=[2,4]) && p2stateno !=[2000,4000)
trigger3 = numpartner
trigger3 = partner,numtarget>=ifelse((var(52)=[7,8]),2,1)
trigger3 = (p2stateno!=[120,159])
trigger3 = (var(52)=[2,4]) || var(52)=[7,8]
trigger3 = (stateno = 21 && time>60) || (p2stateno!=[5000,5210])
trigger4 = numpartner
trigger4 = partner,numtarget
trigger4 = (p2stateno!=[120,159])
trigger4 = (stateno = 21 && time>300)

[State -3, Run/Dash Fwd]
type = ChangeState
value = 102
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = stateno !=[100,106]
triggerall = (var(20)=0)
triggerall = alive
triggerall = RoundState = 2 && prevstateno!=5120
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = playerid(var(56)),Alive && helper(50000+id),fvar(33)=0
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0||P2bodydist X >=80
triggerall = helper(60000+id),var(52)!=1
triggerall = (helper(60000+id),var(47)) >= p2bodydist x || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
triggerall = statetype != A
triggerall = p2dist x >0
Triggerall = !helper(50000+id),inguarddist
triggerall = !playerid(var(56)),hitdefattr = SCA,HA,HT,HP
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || ((stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && hitover && var(59)>=5 && !ctrl)
trigger1 = P2bodydist X >=120 || (p2statetype != L && p2statetype != A && p2movetype = H && (fvar(37))>=13)
trigger1 = p2statetype != L || (P2bodydist X >=100 && fvar(39)=0) ;|| (numhelper(1090)>0)
Trigger1 = !inguarddist ;|| (numhelper(1090)>0)
trigger1 = Random%10>=ifelse(life>333,7,9) || (p2statetype != L && p2statetype != A && p2movetype = H && (fvar(37))>=13)
trigger1 = fvar(39):=10
trigger2 = P2bodydist X >=160
trigger2 = (numhelper(1090)>0)
trigger2 = p2statetype != L ;|| !(P2BodyDist X = [25+((fvar(39)=[20,21))*100),50+((fvar(39)=[20,21))*100)])
trigger2 = fvar(39):=10
trigger3 = numtarget
trigger3 = target,stateno = 797 && p2bodydist x>10
trigger3 = fvar(39):=10
trigger4 = numtarget
trigger4 = target,stateno = 1505 && p2bodydist x>10
trigger4 = fvar(39):=10

[state -3]
type = AssertSpecial
trigger1 = var(59)>0
flag = nowalk

[state -1]
type = ChangeState
value = 21
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
triggerall = playerid(var(56)),movetype != A
triggerall = statetype != A && stateno != 21 && Anim != 5
triggerall = (stateno != [4000,4010]) && P2dist X>0 && stateno != [100,102]
triggerall = ctrl || (stateno = [120,140]) || (stateno = 1) || stateno = [10,12]
triggerall = !inguarddist || random<10
trigger1 = p2statetype != L && !(numtarget && p2stateno = 3306) && ((stateno != [10,12])||playerid(var(56)),statetype=A)
trigger1 = (var(54)&127)<=ifelse(life>=300,80,40) || playerid(var(56)),movetype = H
trigger1 = Random%4<=(playerid(var(56)),statetype != A) || (p2bodydist x != [30,90]) || playerid(var(56)),movetype = H
trigger2 = playerid(var(56)),statetype = L || (numtarget && p2stateno = 3306)
trigger2 = (fvar(39)!=[20,21))
trigger2 = (var(54)&127)!=[61,100]
trigger2 = P2BodyDist X != [20+((fvar(39)=[20,21))*100),45+((fvar(39)=[20,21))*100)]
trigger3 = playerid(var(56)),statetype = L || (numtarget && p2stateno = 3306)
trigger3 = (fvar(39)!=[20,21))
trigger3 = (var(54)&127)=[61,100]
trigger3 = P2BodyDist X != [35,65]
trigger4 = playerid(var(56)),statetype = L || (numtarget && p2stateno = 3306)
trigger4 = (var(54)&127)!=[61,100]
trigger4 = P2BodyDist X != [20,45]
trigger5 = playerid(var(56)),statetype = L || (numtarget && p2stateno = 3306)
trigger5 = p2bodydist x<=20


[state -3]
type = ChangeState
value = 40
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
Triggerall = StateType != A
triggerall = alive
triggerall = fvar(39) = 0 ;|| fvar(39)=10 || fvar(39)=701
triggerall = numhelper
triggerall = numhelper(50000+id)
;triggerall = helper(50000+id),var(57)=0
triggerall = helper(50000+id),var(59)=0
Triggerall = P2statetype != L
triggerall = (stateno != [4000,4010])
Triggerall = (playerid(var(56)),MoveType != H && p2movetype != H) || (!numtarget && floor(fvar(37))>=36 && playerid(var(56)),MoveType = H && p2movetype = H)
Triggerall = P2dist X >0
triggerall = life>200 || life>p2life
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100
triggerall = (numhelper(1090)=0) || fvar(35)=0
trigger1 = P2bodydist X =[100,140]
trigger1 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger1 = Random <= ifelse(life>600,40,ifelse(life<200,5,15))
Trigger1 = !inguarddist && stateno != 100
trigger1 = fvar(39):=3
trigger2 = P2bodydist X >=180
trigger2 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger2 = Random <= ifelse(life>600,50,ifelse(life<200,10,20))
Trigger2 = !inguarddist
trigger2 = fvar(39):=9
trigger3 = P2bodydist X =[140,180]
trigger3 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger3 = Random <= ifelse(life>600,40,ifelse(life<200,5,15))
Trigger3 = !inguarddist
trigger3 = fvar(39):=ifelse(random%3!=0||stateno=100,-3,6)
trigger4 = P2bodydist X =[50,80]
trigger4 = life>250
trigger4 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger4 = Random <= ifelse(life>600,30,ifelse(life<300,1,15))
Trigger4 = !inguarddist && stateno != 100
trigger4 = fvar(39):=2

[State -3,]
type = varset
triggerall = !IsHelper && time>1
triggerall = statetype = A || movetype=H
trigger1 = (fvar(39)=1) || (fvar(39)=2) || (fvar(39)=3) || (fvar(39)=4) || (fvar(39)=5) || (fvar(39)=6)
trigger2 = (fvar(39)=7) || (fvar(39)=8) || (fvar(39)=9) || (fvar(39)=-1) || (fvar(39)=-2) || (fvar(39)=-3)
fvar(39) = 0

[State -3,しゃがみ解除]
type = ChangeState
value = 12
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = stateno = 11
triggerall = !ctrl
triggerall = alive && !(numtarget && p2stateno = 3306)
trigger1 = RoundState != 2 || p2dist x < 0
trigger2 = inguarddist || playerid(var(56)),movetype = A
trigger3 = playerid(var(56)),ctrl || playerid(var(56)),statetype != L
ctrl = 1

[State -1, Rising Tackle3]
type = ChangeState
value = 1420
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
triggerall = alive
triggerall = roundstate=2 && statetype!=A
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,259])) || ((stateno=[700,701]) || (stateno=[710,729]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
triggerall = P2BodyDist X<=40
triggerall = playerid(var(56)),Frontedgebodydist<30 || playerid(var(56)),backedgebodydist<30
triggerall = numtarget
triggerall = target,stateno = 3306
trigger1 = ((var(54)&127)!=[61,100]) || helper(50000+id),var(57)=0 || (helper(50000+id),var(57)!=0 && target,time>(100+helper(50000+id),var(57)-52)) || target,life<150

[State -3, Double Repuuken]
type = ChangeState
value = 1050
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = Statetype != A
triggerall = alive
triggerall = roundstate=2 && statetype!=A
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = p2dist x >0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=52 || (stateno=[200,259])) || ((stateno=[700,701]) || (stateno=[710,729]) || stateno=760)) && var(59)>=4 && !animtime && time>0 && !ctrl)
triggerall = P2BodyDist X<=40
triggerall = numtarget
triggerall = target,stateno = 3306
trigger1 = ((var(54)&127)!=[61,100]) || helper(50000+id),var(57)=0 || (helper(50000+id),var(57)!=0 && target,time>(100+helper(50000+id),var(57)-52)) || target,life<150

;------------------------------ 地上立ち回り技振り ------------------------------------------
[State -3, Standing Strong Kick(対空1)]
type = ChangeState
value = 250
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && P2dist x >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = P2BodyDist X != [-20,20]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H || p2stateno=[120,155] ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-7,7]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=[700,701]) || (stateno=[710,729]) || stateno=760) && !animtime && time>0 && var(59)>=4 && !ctrl)
triggerall = (var(54)&127)>=ifelse(life>=333,((8-var(59))*10),60) || (stateno=[700,701]) || fvar(39)=700
triggerall = random<var(59)*var(59)*16 || (stateno=[700,701]) || fvar(39)=700
trigger1 = P2BodyDist X+floor(7*(fvar(35))) = [35,70]
trigger1 = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = [-80,ifelse(P2movetype=A,-10,-40)]
trigger2 = P2BodyDist X+floor(7*(fvar(35))) = [35,70]
trigger2 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger2 = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = [-80,ifelse(P2movetype=A,-10,-40)]

[State -3, Crouching Medium Punch(対空2)]
type = ChangeState
value = 410
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && P2dist x >-30 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H || p2stateno=[120,155] ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-7,7]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=[700,701]) || (stateno=[710,729]) || stateno=760) && !animtime && time>0 && var(59)>=4 && !ctrl)
triggerall = (var(54)&127)>=ifelse(life>=333,((8-var(59))*10),60) || (stateno=[700,701]) || fvar(39)=700
triggerall = random<var(59)*var(59)*16 || (stateno=[700,701]) || fvar(39)=700
trigger1 = P2BodyDist X+floor(6*(fvar(35))) = [-25,-5]
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) <= -65
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) = [-100,ifelse(P2movetype=A,-80,-60)]

;ジャンプ
[state -3,(対空3)]
type = ChangeState
value = 40
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
Triggerall = StateType != A
triggerall = alive
triggerall = fvar(39) = 0
triggerall = p2stateno != [80,120)
triggerall = !numtarget && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(39)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=5)
TriggerAll = P2statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = p2movetype != H
Triggerall = playerid(var(56)),MoveType != H && !playerid(var(56)),movecontact
triggerall = !playerid(var(56)),hitdefattr = SCA,HA,HP,HT
Triggerall = P2dist X >0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
Triggerall = !inguarddist || life>666
triggerall = life>333 || (((lifemax+.0)/(life+.0))>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))*2)
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100
;triggerall = (var(54)&127)<=ifelse(life>666,30,20)
;triggerall = random<var(59)*var(59)*6
TriggerAll = RoundState=2
trigger1 = P2BodyDist X+floor(9*(fvar(35))) = [-10,30]
trigger1 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-70,-50]
trigger1 = fvar(39):=1.80
trigger2 = P2BodyDist X+floor(9*(fvar(35))) = [30,70]
trigger2 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-70,-50]
trigger2 = fvar(39):=2.80
trigger3 = P2BodyDist X+floor(9*(fvar(35))) = [-10,30]
trigger3 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0 && life>333
trigger3 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-90,-70]
trigger3 = fvar(39):=4.80
trigger4 = P2BodyDist X+floor(9*(fvar(35))) = [30,70]
trigger4 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0 && life>500
trigger4 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-90,-70]
trigger4 = fvar(39):=5.80
trigger5 = P2BodyDist X+floor(9*(fvar(35))) = [70,100]
trigger5 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger5 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-70,-50]
trigger5 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=300) && life>400
trigger5 = fvar(39):=3.80

; Jump Medium Kick
[State -3, Jump Medium Kick]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype=A
Triggerall = ctrl || (stateno = [120,140])
trigger1 = fvar(39)=1.80 || fvar(39)=2.80 || fvar(39)=3.80 || fvar(39)=4.80 || fvar(39)=5.80 || fvar(39)=6.80 || fvar(39)=7.80 || fvar(39)=8.80 || fvar(39)=9.80

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = stateno = 640 || movetype = H || stateno = 52
trigger1 = fvar(39)=1.80 || fvar(39)=2.80 || fvar(39)=3.80 || fvar(39)=4.80 || fvar(39)=5.80 || fvar(39)=6.80 || fvar(39)=7.80 || fvar(39)=8.80 || fvar(39)=9.80
fvar(39) = 0

[State -3, Crouching Strong Punch(対空4)]
type = ChangeState
value = 420
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && P2dist x >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = P2BodyDist X != [-20,20]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H || p2stateno=[120,155] ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-7,7]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=[700,701]) || (stateno=[710,729]) || stateno=760) && !animtime && time>0 && var(59)>=4 && !ctrl)
triggerall = (var(54)&127)>=ifelse(life>=333,((11-var(59))*10),70) || (stateno=[700,701]) || fvar(39)=700
triggerall = random<var(59)*var(59)*8 || (stateno=[700,701]) || fvar(39)=700
trigger1 = P2BodyDist X+floor(7*(fvar(35))) = [20,40]
trigger1 = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = [-60,ifelse(P2movetype=A,-10,-40)]
trigger2 = P2BodyDist X+floor(7*(fvar(35))) = [20,40]
trigger2 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger2 = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = [-60,ifelse(P2movetype=A,-10,-40)]


[State -3, Crack Counter(対空5)]
type = ChangeState
value = 1300
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && P2dist x >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = P2BodyDist X != [-20,20]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,AT
triggerall = (fvar(35)=[-7,7]) || life>666
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = (var(54)&127)>=ifelse(life>=333,((10-var(59))*10),70)
triggerall = random<var(59)*var(59)*10
trigger1 = P2BodyDist X+floor(5*(fvar(35))) = [0,50]
trigger1 = P2BodyDist Y+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38)) = [-70,ifelse(P2movetype=A,-10,-40)]
trigger1 = var(10):=0 || 1
trigger2 = P2BodyDist X+floor(5*(fvar(35))) = [0,50]
trigger2 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger2 = P2BodyDist Y+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38)) = [-70,ifelse(P2movetype=A,-10,-40)]
trigger2 = var(10):=0 || 1


[State -3, Rage Run(対空6)]
type = ChangeState
value = 1200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id) && P2dist x >0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(60000+id),var(52)!=1
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H || (p2stateno=[120,155]) || movecontact
triggerall = !playerid(var(56)),hitdefattr = SCA,SA,HA && !playerid(var(56)),movereversed
triggerall = facing != playerid(var(56)),facing && fvar(35)<=2
triggerall = fvar(35)!=0 || movecontact
triggerall = (fvar(35)=[-7,7]) || life>666
triggerall = helper(60000+id),var(47)=0
triggerall = playerid(var(56)),numhelper<=helper(50000+id),var(54) && fvar(35)!=[-2,2]
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(21)=0 && !playerid(var(56)),numproj && prevstateno != 52 && stateno != 52
trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=[700,701]) || (stateno=[710,729]) || stateno=760) && !animtime && time>0 && var(59)>=4 && !ctrl)
trigger1 = (var(54)&127)<=ifelse(life>=333,((8-var(59))*35),30) || (stateno=[700,701]) || fvar(39)=700 || p2stateno=[120,155]
trigger1 = random<var(59)*var(59)*16 || (stateno=[700,701]) || fvar(39)=700 || p2stateno=[120,155]
trigger1 = P2BodyDist X+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(35))) = [-40,40]
trigger1 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38)) = [-80,ifelse(P2movetype=A,-5,-20)]
trigger1 = var(10):=2
trigger2 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (((stateno=[700,701]) || (stateno=[710,729]) || stateno=760) && !animtime && time>0 && var(59)>=4 && !ctrl)
trigger2 = (var(54)&127)<=ifelse(life>=333,((8-var(59))*35),30) || (stateno=[700,701]) || fvar(39)=700 || p2stateno=[120,155]
trigger2 = random<var(59)*var(59)*16 || (stateno=[700,701]) || fvar(39)=700 || p2stateno=[120,155]
trigger2 = P2BodyDist X+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(35))) = [-60,40]
trigger2 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger2 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38)) = [-80,ifelse(P2movetype=A,-5,-20)]
trigger2 = var(10):=2
trigger3 = (stateno=[200,449]) && movecontact
trigger3 = (var(54)&127)<=ifelse(life>=333,((8-var(59))*40),((8-var(59))*20))
trigger3 = p2stateno != [5000,5210]
trigger3 = P2BodyDist X+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(35))) = [-40,80]
trigger3 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38))<0
trigger3 = P2BodyDist Y+floor(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(fvar(34))+(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)*(ceil((P2BodyDist X>0)*(P2BodyDist X-0)/7.0)+1)/2)*fvar(38)) = [-80,0]
trigger3 = var(10):=2


[State -3, Dodge forward(対空7)]
type = ChangeState
value = 700
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=6)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H && P2dist x >0
triggerall = (var(54)&127)>=ifelse(life>666,70,80)
triggerall = random<var(59)*var(59)*8
triggerall = P2BodyDist X+floor(15*(fvar(35))) = [-80,-10]
triggerall = P2BodyDist Y+floor(15*(fvar(34))+(15*(15+1)/2)*fvar(38))<0
triggerall = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(15*(fvar(34))+(15*(15+1)/2)*fvar(38)) = [-80,0]
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)

[State -3, Dodge back(対空8)]
type = ChangeState
value = 701
triggerall = var(59)>4
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=6)
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>5
triggerall = P2movetype!=H && backedgebodydist>=30 && fvar(35)>0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
;triggerall = (var(54)&127)>=ifelse(life>666,70,80)
;triggerall = random<var(59)*var(59)*10
triggerall = P2BodyDist X+floor(7*(fvar(35))) = [-10,80]
triggerall = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38))<0
triggerall = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = [-80,0]
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)


[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=701||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))||(playerid(var(56)),Const(size.head.pos.y)<=-90&&life>=250&&p2statetype=S&&((p2stateno=[200,250])||playerid(var(56)),time>=30))||fvar(39)=701
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = P2dist x >0
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0
triggerall = stateno != 100 || (var(54)&127)%4>=1
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=200,(4+var(59)),(var(59))*12)||facing=playerid(var(56)),facing||stateno = 100||(playerid(var(56)),stateno = 106)||fvar(39)=701||((playerid(var(56)),stateno=[95,102])&&playerid(var(56)),time>=var(55))
triggerall = (P2BodyDist X+floor(3*(fvar(35))) = [-10,45]) || (stateno=100 && P2BodyDist X+floor(3*(fvar(35))) <=45)
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -15
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*12),(var(59)*12))||facing=playerid(var(56)),facing||stateno=100||(playerid(var(56)),stateno=106)||fvar(39)=701
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

[State -3, Crouching Medium Kick]
type = ChangeState
value = ifelse(Random%10=1,450,ifelse(Random%5=0,400,440))
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))||(playerid(var(56)),Const(size.head.pos.y)<=-90&&life>=250&&p2statetype=S&&((p2stateno=[200,250])||playerid(var(56)),time>=30))||fvar(39)=700
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = P2dist x >0
Triggerall = !inguarddist || life>400
triggerall = helper(60000+id),var(47)=0
triggerall = stateno != 100 || (var(54)&127)%4=1
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=200,(4+var(59)),(var(59))*10)||facing=playerid(var(56)),facing||stateno = 100||(playerid(var(56)),stateno = 106)||fvar(39)=700||((playerid(var(56)),stateno=[95,102])&&playerid(var(56)),time>=var(55))
triggerall = (P2BodyDist X+floor(3*(fvar(35))) = [45,70]) || (stateno=100 && P2BodyDist X+floor(3*(fvar(35))) <=70)
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -15
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*8),(var(59)*8))||facing=playerid(var(56)),facing||stateno=100||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

[State -1, Shinku Nage]
type = ChangeState
value = 1500
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = (var(54)&262144)=0
triggerall = playerid(var(56)),movetype != H
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))||fvar(39)=700
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 || helper(50000+id),var(59)=3
triggerall = P2dist x >0 && helper(50000+id),fvar(33)=0
Triggerall = !inguarddist || life>500
triggerall = helper(60000+id),var(47)=0
triggerall = stateno != 100 || (var(54)&127)%4=0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=200,(4+var(59)),(var(59))*10)||facing=playerid(var(56)),facing||stateno = 100||(playerid(var(56)),stateno = 106)||fvar(39)=700||((playerid(var(56)),stateno=[95,102])&&playerid(var(56)),time>=var(55))
triggerall = (P2BodyDist X+floor(7*(fvar(35))) = [-5,42]) || (stateno=100 && P2BodyDist X+floor(7*(fvar(35))) =[-5,42])
triggerall = P2BodyDist Y+floor(7*(fvar(34))+(7*(7+1)/2)*fvar(38)) = 0 && p2bodydist x<=42
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*9),(var(59)*9))||facing=playerid(var(56)),facing||stateno=100||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

[State -3, Stand Light Kick]
type = ChangeState
value = ifelse(Random%10=0,400,230)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = P2dist x >0
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = stateno != 100 || (var(54)&127)%4=1
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=200,(4+var(59)),(var(59))*10)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700||((playerid(var(56)),stateno=[95,102])&&playerid(var(56)),time>=var(55))
triggerall = (P2BodyDist X+floor(3*(fvar(35))) = [-10,55])
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= 0
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*9),(var(59)*9))||facing=playerid(var(56)),facing||stateno=100||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

; Standing Medium Kick
[State -3,Close Standing Medium Kick]
type = ChangeState
value = 245
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = P2dist x >0
Triggerall = !inguarddist || life>400
triggerall = helper(60000+id),var(47)=0
triggerall = P2BodyDist X = [-20,20]
triggerall = stateno != 100
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=400,(4+var(59)),(var(59))*7)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700
triggerall = (P2BodyDist X+floor(3*(fvar(35))) = [-5,30])
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -30
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*7),(var(59)*7))||facing=playerid(var(56)),facing||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

; Standing Medium Kick
[State -3, Standing Medium Kick]
type = ChangeState
value = ifelse(Random%3=0,400,240)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0 && playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = P2dist x >0
Triggerall = !inguarddist || life>450
triggerall = helper(60000+id),var(47)=0
triggerall = P2BodyDist X != [-20,20]
triggerall = stateno != 100 || (var(54)&127)%6=1
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=400,(4+var(59)),(var(59))*7)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700
triggerall = (P2BodyDist X+floor(5*(fvar(35))) = [45,70])
triggerall = P2BodyDist Y+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38)) >= -30
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*6),(var(59)*6))||facing=playerid(var(56)),facing||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

[State -3,Stand Punch]
type = ChangeState
value = ifelse(Random%3=0,200,ifelse(Random%2=1,210,220))
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0 && playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = P2dist x >0
Triggerall = !inguarddist || life>500
triggerall = helper(60000+id),var(47)=0
triggerall = P2BodyDist X != [-20,20]
triggerall = stateno != 100 || (var(54)&127)%6=1
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=400,(4+var(59)),(var(59))*5)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700
triggerall = (P2BodyDist X+floor(5*(fvar(35))) = [40,60])
triggerall = P2BodyDist Y+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38)) >= -40
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*5),(var(59)*5))||facing=playerid(var(56)),facing||(playerid(var(56)),stateno=106)||fvar(39)=700
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55))
trigger3 = var(20) && !numtarget

[State -3, Repuuken]
type = ChangeState
value = 1000
triggerall = var(59)>0
triggerall = alive
triggerall = (numhelper(1090)=0) || var(12) || var(21)
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState = 2
TriggerAll = P2statetype != L && playerid(var(56)),prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=12) && !(p2stateno = 5210 && playerid(var(56)),time<=6)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(52)!=1
triggerall = (helper(60000+id),var(47)) >= p2bodydist x || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
triggerall = P2statetype != A
triggerall = p2movetype != H
triggerall = fvar(39)=0
triggerall = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && life>333
triggerall = P2dist x >0 && p2statetype != A
triggerall = p2stateno != [95,103]
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*9),(var(59)*9)) || facing = playerid(var(56)),facing || (p2stateno = 106)
trigger1 = random<var(59)*ifelse(life<=350,(4+var(59)),(var(59))*5) || facing = playerid(var(56)),facing || (p2stateno = 106) ;|| (p2stateno = [95,103])
trigger1 = P2BodyDist X+floor(16*(fvar(35))) >= ifelse(life>500,120,160)
trigger1 = P2BodyDist X >= 120
trigger1 = P2BodyDist Y = 0
trigger1 = var(10):=0 || 1
trigger2 = abs(fvar(35))<=2
;trigger2 = p2statetype = L || (p2movetype = H && floor(fvar(37))>=20)
Trigger2 = playerid(var(56)),stateno = 5120
trigger2 = P2BodyDist X+floor(14*(fvar(35))) >= 120
Trigger2 = playerid(var(56)),AnimTime <= -16
trigger2 = p2bodydist x >= 100
trigger2 = playerid(var(56)),movetype != A || (playerid(var(56)),movetype= A && playerid(var(56)),time < var(55))
;trigger2 = fvar(39)=20.1 || fvar(39)=20.2 || ((lifemax+.0)/(life+.0))>=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) || p2bodydist x>=140
trigger2 = var(10):=0 || 1
trigger3 = fvar(39)=1000
trigger3 = var(10):=(random%2) || 1

[State -3, Hard Edge1]
type = ChangeState
value = ifelse(Random%10=0,400,1100)
triggerall = var(59)>1
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(52)!=1 && life>333
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))||fvar(39)=700
triggerall = helper(50000+id),var(58)=0&&(numhelper(1090)=0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0 && playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = P2dist x >0 && fvar(35)=[-4,0]
triggerall = (power>=300 && life>200) || var(59)<=4
Triggerall = !inguarddist || life>450
triggerall = helper(60000+id),var(47)=0
triggerall = helper(60000+id),var(21)=0 && !playerid(var(56)),numproj
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=333,(4+var(59)),(var(59))*6)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700
triggerall = (P2BodyDist X+floor(4*(fvar(35))) = [80,105])
triggerall = P2BodyDist Y+floor(4*(fvar(34))+(4*(4+1)/2)*fvar(38)) >= -40
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*5),(var(59)*5))||facing=playerid(var(56)),facing||(playerid(var(56)),stateno=106)

[State -1, Crack Counter]
type = ChangeState
value = 1300
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0 && playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = P2dist x >0
Triggerall = var(59)<=4 || life>666
triggerall = helper(60000+id),var(47)=0
triggerall = stateno != 100
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = random<var(59)*ifelse(life<=400,(4+var(59)),(var(59))*5)||facing=playerid(var(56)),facing||(playerid(var(56)),stateno = 106)||fvar(39)=700
triggerall = (P2BodyDist X+floor(5*(fvar(35))) = [30,80])
triggerall = P2BodyDist Y+floor(5*(fvar(34))+(5*(5+1)/2)*fvar(38)) >= 0
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*4),(var(59)*4))
trigger1 = var(10):=ifelse(random%4=0,1,2)

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(p2statetype=A,200,400)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = (var(54)&262144)=0
triggerall = playerid(var(56)),movetype != H
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = helper(50000+id),var(58)=0||(numhelper(1090)>0)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0 && helper(60000+id),var(1)=0
triggerall = P2dist x >0 && p2bodydist x>-1
Triggerall = !inguarddist || life>200
triggerall = (stateno=200||stateno=205||stateno=400||stateno=430)&&time>4
triggerall = (P2BodyDist X+floor(3*(fvar(35))) <= 45)
triggerall = P2BodyDist Y+floor(3*(fvar(34))+(3*(3+1)/2)*fvar(38)) >= -40
trigger1 = stateno != 400
trigger1 = helper(50000+id),fvar(34)-time < 10

[State -1, Sidestep follow Kick]
type = ChangeState
value = 732
triggerall = var(59)>2
triggerall = statetype != A
triggerall = StateNo = 730 && Time =[14,24]
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=701||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = P2dist x >0 && (!helper(50000+id),inguarddist || life>500)
Triggerall = !inguarddist || life>250
triggerall = random<var(59)*ifelse(life<=200,(4+var(59)),(var(59))*12)||facing=playerid(var(56)),facing||stateno = 100||(playerid(var(56)),stateno = 106)||fvar(39)=701||((playerid(var(56)),stateno=[95,102])&&playerid(var(56)),time>=var(55))
triggerall = (P2BodyDist X+floor(2*(fvar(35))) = [-10,50]) || (stateno=100 && P2BodyDist X+floor(2*(fvar(35))) <=50)
triggerall = P2BodyDist Y+floor(2*(fvar(34))+(2*(2+1)/2)*fvar(38)) >= -30
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*10),(var(59)*10))||facing=playerid(var(56)),facing||stateno=100||(playerid(var(56)),stateno=106)||fvar(39)=701
trigger2 = (playerid(var(56)),stateno=[95,102]) || (playerid(var(56)),stateno=100&&playerid(var(56)),time>=var(55)) || playerid(var(56)),stateno<100
trigger3 = var(20) && !numtarget

[State -3, run/dash]
type = changestate
value = 105
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = alive
triggerall = RoundState = 2
triggerall = (stateno!=[100,106])
triggerall = numhelper(60000+id)
triggerall = (var(20)=0)
triggerall = !inguarddist
triggerall = statetype != A && p2dist x>0 && anim!=5
triggerall = stateno != 780
triggerall = BackEdgeBodyDist>30
triggerall = p2stateno != 3306
triggerall = p2statetype != L && life>333
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(21)=0 && !playerid(var(56)),numproj
trigger1 = (p2bodydist x = [120,160]) && prevstateno != 794
trigger1 = random<var(59)*ifelse(life<=333,(4+var(59)),(var(59))*5)
trigger1 = (var(54)&127)<=ifelse(((playerid(var(56)),power+.0)/(life+.0))<=3||life>=999||var(59)<=4,(4+var(59)*4),(var(59)*4))
trigger1 = fvar(39):=1000

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (fvar(39)=1000)
trigger1 = movetype = A || movetype = H || p2bodydist x<100
fvar(39) = 0

[State -3, Shining Knuckle]
type = ChangeState
value = 3200
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = roundstate=2 && statetype!=A && power>=1000 && var(20)<=0
TriggerAll = P2statetype != L && p2stateno != [5000,5210)
triggerall = p2movetype != H
triggerall = fvar(39)=0
triggerall = P2dist x >0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
trigger1 = var(59)<=3
trigger1 = random<(5-var(59))*10
trigger1 = P2BodyDist X+floor(8*(fvar(35))) <= 160
trigger1 = P2BodyDist X <= 140
trigger1 = P2BodyDist Y >= -60

;------------------------------ 空中立ち回り技振り ------------------------------------------
; Jump Strong Kick
[State -3, Jump Strong Kick]
type = ChangeState
value = 650
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = var(20)=0 && playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
TriggerAll = p2StateType != A
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && P2dist x >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
trigger1 = vel y >=0
;trigger1 = P2BodyDist X-floor(6*(vel x-fvar(35))) > -20
trigger1 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger1 = P2BodyDist X-floor(6*(vel x-fvar(35))) <= 50 || P2BodyDist X = [-5,50]
trigger1 = (P2BodyDist Y-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger2 = vel y >=0
;trigger2 = P2BodyDist X-floor(6*(vel x-fvar(35))) > -20
trigger2 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger2 = P2BodyDist X-floor(7*(vel x-fvar(35))) <= 45 || P2BodyDist X = [-5,45]
trigger2 = (P2BodyDist Y-floor(7*(vel Y)+(7*(7+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger3 = vel y >=0
;trigger3 = P2BodyDist X-floor(7*(vel x-fvar(35))) > -20
trigger3 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger3 = P2BodyDist X-floor(8*(vel x-fvar(35))) <= 40 || P2BodyDist X = [-5,40]
trigger3 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger4 = vel y >=0
trigger4 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger4 = P2BodyDist X-floor(9*(vel x-fvar(35))) <= 50 || P2BodyDist X = [-5,50]
trigger4 = (P2BodyDist Y-floor(9*(vel Y)+(9*(9+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger5 = vel y >=0
trigger5 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger5 = P2BodyDist X-floor(10*(vel x-fvar(35))) <= 45 || P2BodyDist X = [-5,45]
trigger5 = (P2BodyDist Y-floor(10*(vel Y)+(10*(10+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger6 = vel y >=0
trigger6 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger6 = P2BodyDist X-floor(11*(vel x-fvar(35))) <= 40 || P2BodyDist X = [-5,40]
trigger6 = (P2BodyDist Y-floor(11*(vel Y)+(11*(11+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])

; Jump Medium Kick
[State -3, Jump Medium Kick]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = var(20)=0 && playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
TriggerAll = p2StateType != A
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && P2dist x >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
trigger1 = vel y >=0
;trigger1 = P2BodyDist X-floor(5*(vel x-fvar(35))) > -20
trigger1 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger1 = P2BodyDist X-floor(5*(vel x-fvar(35))) <= ifelse(vel x=0,85,70) || P2BodyDist X = [-5,70]
trigger1 = (P2BodyDist Y-floor(5*(vel Y)+(5*(5+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger2 = vel y >=0
;trigger2 = P2BodyDist X-floor(6*(vel x-fvar(35))) > -20
trigger2 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger2 = P2BodyDist X-floor(6*(vel x-fvar(35))) <= 65 || P2BodyDist X = [-5,65]
trigger2 = (P2BodyDist Y-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger3 = vel y >=0
;trigger3 = P2BodyDist X-floor(7*(vel x-fvar(35))) > -20
trigger3 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger3 = P2BodyDist X-floor(7*(vel x-fvar(35))) <= 60 || P2BodyDist X = [-5,60]
trigger3 = (P2BodyDist Y-floor(7*(vel Y)+(7*(7+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger4 = vel y >=0
trigger4 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger4 = P2BodyDist X-floor(8*(vel x-fvar(35))) <= 50 || P2BodyDist X = [-5,60]
trigger4 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger5 = vel y >=0
trigger5 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger5 = P2BodyDist X-floor(9*(vel x-fvar(35))) <= 50 || P2BodyDist X = [-5,60]
trigger5 = (P2BodyDist Y-floor(9*(vel Y)+(9*(9+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger6 = vel y >=0
trigger6 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger6 = P2BodyDist X-floor(10*(vel x-fvar(35))) <= 45 || P2BodyDist X = [-5,60]
trigger6 = (P2BodyDist Y-floor(10*(vel Y)+(10*(10+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger7 = vel y >=0
trigger7 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger7 = P2BodyDist X-floor(11*(vel x-fvar(35))) <= 40 || P2BodyDist X = [-5,60]
trigger7 = (P2BodyDist Y-floor(11*(vel Y)+(11*(11+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger8 = vel y >=0
trigger8 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger8 = P2BodyDist X-floor(12*(vel x-fvar(35))) = [45,60]
trigger8 = (P2BodyDist Y-floor(12*(vel Y)+(12*(12+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger9 = vel y >=0
trigger9 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger9 = P2BodyDist X-floor(13*(vel x-fvar(35))) = [45,60]
trigger9 = (P2BodyDist Y-floor(13*(vel Y)+(13*(13+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger10 = vel y >=0
trigger10 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9)
trigger10 = P2BodyDist X-floor(14*(vel x-fvar(35))) = [45,60]
trigger10 = (P2BodyDist Y-floor(14*(vel Y)+(14*(14+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])


; Jump Medium Punch
[State -3, Jump Medium Punch]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = var(20)=0 && playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && P2dist x >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
trigger1 = vel y >=0
trigger1 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9) || p2statetype=A
trigger1 = P2BodyDist X-floor(4*(vel x-fvar(35))) <= ifelse(vel x=0,50,40) || P2BodyDist X = [-5,40]
trigger1 = ((Pos Y*-1)-floor(4*(vel Y)+(4*(4+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger1 = p2bodydist y >=-15

; Jump Medium Kick
[State -3, Jump Medium Kick]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = var(20)=0 && playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && P2dist x >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
trigger1 = vel y >=0
trigger1 = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime > -9) || p2statetype=A
trigger1 = P2BodyDist X-floor(5*(vel x-fvar(35))) <= ifelse(vel x=0,85,70) || P2BodyDist X = [-5,70]
trigger1 = ((Pos Y*-1)-floor(5*(vel Y)+(5*(5+1)/2)*const(movement.yaccel))=[0,10+(((var(54)&127)%(7-var(59)))*10)])
trigger1 = p2bodydist y <-15

;------------------------------- ガードキャンセル -------------------------------------------
[State -1, Guard Counter]
type = ChangeState
value = 750
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = statetype != A
triggerall = stateno != 100
triggerall = power >= 1000
triggerall = stateno=150||stateno=152
triggerall = alive
triggerall = !IsHelper
TriggerAll = RoundState=2
triggerall = !numtarget
TriggerAll = playerid(var(56)),Alive && !playerid(var(56)),ctrl
triggerall = p2statetype != L
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),HitPauseTime>=8
triggerall = helper(50000+id),var(37)>=260
triggerall = random <= var(59)*helper(50000+id),var(37)*.1
triggerall = (((lifemax+.0)/(life+.0))*2)>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
triggerall = var(52) != 6 && var(52) != [9,10]
trigger1 = p2statetype = A && p2movetype = A && playerid(var(56)),hitdefattr=SCA,AA,AP
trigger1 = (p2bodydist x = [-10,70]) && p2bodydist y = [-70,0]
trigger1 = var(10):=1
trigger2 = p2statetype != A && p2movetype = A && playerid(var(56)),hitdefattr=SCA,AA,AP
trigger2 = (p2bodydist x = [-10,70]) && p2bodydist y = [-10,0]
trigger2 = var(10):=2

[State -1, Guard Roll Forward]
type = ChangeState
value = 710
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = statetype != A
triggerall = stateno != 100
triggerall = power >= 1000
triggerall = stateno=150||stateno=152
triggerall = alive
triggerall = !IsHelper
TriggerAll = RoundState=2
triggerall = !numtarget
TriggerAll = playerid(var(56)),Alive
triggerall = p2statetype != L
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(37)>=320
triggerall = random <= var(59)*helper(50000+id),var(37)*.1
triggerall = (((lifemax+.0)/(life+.0))*3)>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
triggerall = var(52) != 4 && (var(52) != [7,8]) && var(52) != 11
trigger1 = p2statetype != A && p2movetype = A && !playerid(var(56)),ctrl
trigger1 = (p2dist x = [0,95]) && p2bodydist y = 0
Trigger1 = playerid(var(56)),AnimTime <=-40+playerid(var(56)),HitPauseTime

;------------------------------------ ガード ------------------------------------------------
[state -3,ガード]
Type = ChangeState
Value = 120
TriggerAll = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
triggerall = var(20) <=0
triggerall = statetype = A || stateno != [4000,4010]
TriggerAll = stateno = 140 || StateNo != [120,155]
TriggerAll = ctrl || (stateno = [120,140])||stateno=100||stateno=21 || stateno = [10,12]
triggerall = numhelper
triggerall = numhelper(50000+id)
trigger1 = facing = playerid(var(56)),facing || p2dist x<0
Trigger1 = helper(50000+id),inguarddist || inguarddist
Trigger1 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>5||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
trigger1 = Random<=var(59)*50||var(59)>4
trigger2 = Prevstateno = 710 || helper(50000+id),inguarddist
trigger2 = helper(50000+id),var(58)>0
trigger2 = helper(50000+id),Pos y=Pos y+999
trigger2 = Random<=var(59)*100||var(59)>4
Trigger3 = (inguarddist) || ((Facing*(playerid(var(56)),Facing)*P2Dist X >0)&&playerid(var(56)),movetype=A&&var(59)>3&&abs(P2bodydist X)<80) || (p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
Trigger3 = Random<=var(59)*100||var(59)>4
Trigger3 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>5||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
ctrl = 0

[State -3]
type = AssertSpecial
trigger1 = var(59) = 1
trigger2 = numhelper(50000+id)
trigger2 = !(helper(50000+id),fvar(36)<helper(50000+id),fvar(38) || helper(50000+id),fvar(37)>=helper(50000+id),fvar(39))
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

;--------------------------------------------------------------------------------------------
[state -3]
type = ChangeState
value = ifelse(prevstateno!=810&&Frontedgebodydist<70,105,ifelse(prevstateno!=810&&p2bodydist x<=80,1200,102))
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !playerid(var(56)),alive
triggerall = alive && statetype != A && Win && fvar(39)!=-100
triggerall = roundstate = [2,3]
triggerall = fvar(39)!=-100 && (prevstateno != 3110)
triggerall = (prevstateno != [100,110]) && prevstateno != 1220
trigger1 = (Frontedgebodydist>60 && backedgebodydist<40) || (Frontedgebodydist<70 && backedgebodydist>50)
trigger1 = ctrl && time>1
trigger1 = fvar(39):=-100
trigger1 = var(10):=2

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (roundstate=[0,1])
trigger1 = (fvar(39)=-100)
trigger2 = (stateno = 195 && !animtime) || prevstateno = 195 || movetype = H
trigger2 = (fvar(39)=195)
fvar(39) = 0

;--------------------------------------------------------------------------------------------
;AI Walk
; Walk
[Statedef 21]
type    = S
physics = S
sprpriority = 0
ctrl = 0

[State 21,0]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 21, 1]
type = Turn
trigger1 = P2dist X < 0

[State 21, 2]
type = VelSet
trigger1 = time = 0
trigger1 = (P2bodydist x>40 && p2movetype != A)
trigger2 = anim = 20
x = const(velocity.walk.fwd.x)

[State 21, 3]
type = VelSet
trigger1 = time = 0
trigger1 = P2bodydist x<=40 || p2movetype = A
trigger2 = anim = 21
trigger3 = time = 0
trigger3 = P2bodydist x<=40 && P2statetype = L
x = const(velocity.walk.back.x)

[State 21, 4]
type = VelSet
trigger1 = p2statetype = L || p2movetype = A || (numtarget && p2stateno = 3306)
trigger1 = (Anim = 20 && p2bodydist x >=20) || (Anim = 21 && p2bodydist x >40)
trigger2 = !(p2movetype = H ) && helper(50000+id),var(59)!=2
trigger2 = (p2statetype != L && p2movetype != A) || (numtarget && p2stateno = 3306)
trigger2 = (Anim = 20 && p2bodydist x >=50) || (Anim = 21 && p2bodydist x >140)
x = const(velocity.walk.fwd.x)

[State 21, 5]
type = VelSet
trigger1 = p2statetype = L || p2movetype = A || (numtarget && p2stateno = 3306)
trigger1 = (Anim = 20 && p2bodydist x <20+((fvar(39)=[20,21))*100)) || (Anim = 21 && p2bodydist x <=40+((fvar(39)=[20,21))*100))
trigger2 = !(p2movetype = H ) && helper(50000+id),var(59)!=2
trigger2 = (p2statetype != L && p2movetype != A) || (numtarget && p2stateno = 3306)
trigger2 = (Anim = 20 && p2bodydist x <50) || (Anim = 21 && p2bodydist x <=140)
x = const(velocity.walk.back.x)

[State 21, 6]
type = VelSet
triggerall = p2movetype = H || helper(50000+id),var(59)=2
triggerall = p2statetype != L && !(numtarget && p2stateno = 3306)
trigger1 = (((var(54)&122880)/8192)>8 && power<1000) && p2statetype = A && var(20)=0
trigger1 = (Anim = 20 && p2bodydist x >= ifelse(fvar(35)<0,40,25)) || (Anim = 21 && p2bodydist x > ifelse(fvar(35)<0,60,45))
trigger2 = ((var(54)&122880)/8192)<=8 || p2statetype != A || var(20) || power>=1000
trigger2 = (Anim = 20 && p2bodydist x >= 5) || (Anim = 21 && p2bodydist x > 20)
x = const(velocity.walk.fwd.x)

[State 21, 7]
type = VelSet
triggerall = p2movetype = H || helper(50000+id),var(59)=2
triggerall = p2statetype != L && !(numtarget && p2stateno = 3306)
trigger1 = (((var(54)&122880)/8192)>8 && power<1000) && p2statetype = A && var(20)=0
trigger1 = (Anim = 20 && p2bodydist x < ifelse(fvar(35)<0,40,25)) || (Anim = 21 && p2bodydist x <= ifelse(fvar(35)<0,60,45))
trigger2 = ((var(54)&122880)/8192)<=8 || p2statetype != A || var(20) || power>=1000
trigger2 = (Anim = 20 && p2bodydist x < 5) || (Anim = 21 && p2bodydist x <= 20)
x = const(velocity.walk.back.x)

[State 21, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 21,stop1]
type = ChangeState
triggerall = p2statetype = L || (numtarget && p2stateno = 3306)
;triggerall = P2BodyDist X = [25+((fvar(39)=[20,21))*120),40+((fvar(39)=[20,21))*120)]
triggerall = abs(fvar(35))<=.5
trigger1 = (fvar(39)!=[20,21))
trigger1 = (var(54)&127)!=[61,100]
trigger1 = P2BodyDist X = [25+((fvar(39)=[20,21))*100),40+((fvar(39)=[20,21))*100)]
trigger2 = (fvar(39)!=[20,21))
trigger2 = (var(54)&127)=[61,100]
trigger2 = P2BodyDist X = [40,60]
trigger3 = (var(54)&127)!=[61,100]
trigger3 = P2BodyDist X = [25,40]
value = 10
ctrl = 0

[State 21,stop2]
type = ChangeState
trigger1 = roundstate != 2 || p2dist x<-20
trigger2 = p2statetype != L && !(numtarget && p2stateno = 3306)
trigger2 = p2movetype!=H
trigger2 = frontedgebodydist<=0 ;|| backedgebodydist<=10
trigger3 = p2statetype != L && !(numtarget && p2stateno = 3306)
trigger3 = p2movetype = I && time>12
trigger3 = (Anim = 21 && p2bodydist x >100 && random<120)
trigger4 = p2statetype != L && !(numtarget && p2stateno = 3306)
trigger4 = p2movetype = I && time>12
trigger4 = (Anim = 20 && p2bodydist x <60 && random<120)
trigger5 = p2statetype = A && p2movetype!=H
trigger5 = (random<120)
trigger6 = p2statetype = L || (numtarget && p2stateno = 3306)
trigger6 = (p2bodydist x<25 && anim = 20) || (p2bodydist x>160 && anim = 21)
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------------


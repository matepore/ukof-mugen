; ################################
; Be welcomed to Slash's .CNS file
; ################################
; SLASH by Inverse ^_^
;
; Send your comments to:
; mr_santana@hotmail.com
; members.nbci.com/shaolinroad
;
; SLASH Version 2.0 (100%)
;
;
; Variables used:
; ---------------
;
; Var(0) - Used to space the multiple projectile hits in Slash Shot and ES
;          Slash Shot.
; Var(5) - Used in DARKNESS WIND KO background effects.
; Var(6) - Used in DARKNESS SLASH and ES moves KO background effects.
;          (both start counting the moment the effect is started, useful for
;          not displaying the effect again if the move connects again).
; Var(7) - Counts SUPER MODE's remaining time, if activated (else, it's 0).
; Var(8) - Controls Slash's blinking during SUPER MODE.
; Var(9) - Counts number of ticks after a win by KO.
; Var(10) - Controls the delay between shadows in DARKNESS SLASH (shadow 1).
; Var(11) - Controls the delay between shadows in DARKNESS SLASH (shadow 2).
; Var(12) - Used in KO effects. Needed because WinKO triggers 1 tick late.
; Var(13) - Records the state Slash is when P2 is KOed (if Slash killed P2,
;           it shows with which move).
; Var(14) - Auxiliary. The same as 12.
; Var(15) - Controls DARKNESS SLASH flashes.
; Var(20) - Used to time spaces between hits in DARKNESS WIND's cloud.
; Var(25) - Counts ticks after RoundState = 4 (win poses). For lose poses.
; Var(30) - 0 -> AI on    1 -> AI off


[Data]
life = 3000          ;Amount of life to start with
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
power = 5000
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 60    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 4        ;Default spark number
guard.sparkno = 3 ;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 255;150           ;Volume offset (negative for softer)
IntPersistIndex = 30

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 20     ;Player width (back, ground)
ground.front = 20    ;Player width (front, ground)
air.back = 22        ;Player width (back, air)
air.front = 22       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = 0, -100     ;Approximate position of head
mid.pos = 0, -64     ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow

[Velocity]
walk.fwd  = 2        ;Walk forward
walk.back = -1.8     ;Walk backward
run.fwd  = 6, 0      ;Run forward (x, y)  - if y<0, player will hop
run.back = -4.5, 0   ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-8.9    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55,-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5,-8.1    ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Running
[Statedef 100]
type    = S
physics = S
velset = 0, 0
ctrl = 1
anim = 100

[State 100, 0]
type = VelSet
trigger1 = Time <= 9
x = 0

[State 100, 1]
type = VelSet
trigger1 = Time > 9
x = const(velocity.run.fwd.x)

[State 100, 3]
type = explod
trigger1 = Time >= 7
trigger1 = numexplod(100) = 0
ID = 100
ownpal = 1
pos = -16, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 100, 4]
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
value = 0, 20

[State 100, 6] ;Prevent run from cancelling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 9]
type = CtrlSet
triggerall = command != "holdfwd"
triggerall = Time > 11
trigger1 = Var(30) = 0
trigger2 = Var(30) = 1
trigger2 = P2BodyDist X < 160
value = 0

[State 100, 10]
type = ChangeState
triggerall = command != "holdfwd"
triggerall = Time > 11
trigger1 = Var(30) = 0
trigger2 = Var(30) = 1
trigger2 = P2BodyDist X < 160
value = 101


;---------------------------------------------------------------------------
; Stops running
[Statedef 101]
type    = S
physics = N
ctrl = 0
anim = 101

[State 101, 1]
type = VelSet
trigger1 = Time = 0
x = 7

[State 101, 2]
type = VelMul
trigger1 = Time >= 0
x = 0.925

[State 101, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 101, 4]
type = explod
trigger1 = AnimElem = 1
ID = 100
ownpal = 1
pos = 20, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 101, 5]
type = CtrlSet
trigger1 = AnimElem >= 2
value = 1

[State 101, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Hopping back
[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105
velset = 0, 0

[State 105, 0]
type = VelSet
trigger1 = AnimElem <=3
x = 0
y = 0

[State 105, 8]
type = Null ;PlaySnd
trigger1 = Time >= 5
trigger1 = numexplod(100) = 0
trigger2 = Time = 5
value = 0,0

[State 105, 10]
type = ChangeState
trigger1 = AnimElem = 5
value = 106

;---------------------------------------------------------------------------
; Stops hopping back
[Statedef 106]
type    = S
physics = N
ctrl = 0

[State 106, 0]
type = Explod
trigger1 = Time = 0
ID = 100
ownpal = 1
pos = 50, 22
postype = p1
bindtime = 1
anim = 998
sprpriority = 7

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = -6
y = 0

[State 106, 2]
type = VelMul
trigger1 = Time >= 8
x = 0.92

[State 106, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0, 14

[State 106 4]
type = explod
trigger1 = AnimElem = 9
ID = 100
ownpal = 1
pos = -20, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 106, 10]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Victory
[Statedef 180]
type = S

[State 180, 0]
type = ChangeState
trigger1 = Time = 0
trigger1 = Life >= 900
value = 8003

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = Random < 500
value = 8001

[State 180, 2]
type = ChangeState
trigger1 = Time = 0
value = 8002

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 8001]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 8001, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 8001, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 21

[State 8001, 3]
type = PalFX
trigger1 = Time = 40
trigger2 = Time = 42
time = 2
add = 64, 64, 64

[State 8001, 4]
type = explod
trigger1 = AnimElem = 8
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 8001, 5]
type = AssertSpecial
trigger1 = time = [0, 142]
flag = roundnotover
             
;---------------------------------------------------------------------------
; Win pose 2
[Statedef 8002]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 8002, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 8002, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 45

[State 8002, 2]
type = PlaySnd
trigger1 = Time = 86
value = 0, 46

[State 8002, 3]
type = PalFX
trigger1 = Time = [78, 106]
trigger1 = Time % 2 = 0
time = 1
add = 32, 32, 32

[State 8002, 4]
type = explod
trigger1 = Time = 86
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 183
sprpriority = 7

[State 8002, 5]
type = AssertSpecial
trigger1 = time = [0, 200]
flag = roundnotover
             
;---------------------------------------------------------------------------
; Win pose 3
[Statedef 8003]
type = S
ctrl = 0
anim = 184
velset = 0,0,0

[State 8003, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 8003, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0, 43

[State 8003, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 21

[State 8003, 3]
type = PlaySnd
trigger1 = Time = 152
value = 11, 0

[State 8003, 4]
type = PlaySnd
trigger1 = Time = 152
value = 0, 51

[State 8003, 4]
type = PlaySnd
trigger1 = Time = [127, 152]
trigger1 = Time % 8 = 4
trigger2 = Time = 92
value = 0, 20

[State 8003, 5]
type = ChangeAnim
trigger1 = Time = 152
value = 4700

[State 8003, 6]
type = Helper
name = "Fernandez swarm"
trigger1 = Time = 152
ID = 189
pos = -830, 0
postype = p1
stateno = 8006 ;8005
helpertype = normal
keyctrl = 0
ownpal = 1

[State 8003, 7]
type = explod
trigger1 = Time = 92
ID = 100
ownpal = 1
pos = 0, 10
postype = p1
bindtime = 1
anim = 997
sprpriority = 5

[State 8003, 8]
type = explod
trigger1 = AnimElem = 8
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 8001
sprpriority = 6

[State 8003, 9]
type = explod
trigger1 = Time = [131, 152]
trigger1 = Time % 10 = 0
ID = 100
ownpal = 1
pos = -16, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 8003, 10]
type = AssertSpecial
trigger1 = time = [0, 358]
flag = roundnotover

[State 8004, 13]
type = ChangeState
trigger1 = Time = 152
value = 8004

;---------------------------------------------------------------------------
; Fleeing
[Statedef 8004]
type = S
ctrl = 0
anim = 189

[State 8004, 3]
type = VelSet
trigger1 = Time = 0
x = 6

[State 8004, 3]
type = VelMul
trigger1 = Time = [1, 10]
x = 1.05

[State 8004, 4]
type = explod
trigger1 = Time % 4 = 3
ID = 100
ownpal = 1
pos = -16, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 8004, 5]
type = PlaySnd
trigger1 = Pos X != Var(26)
trigger1 = Time % 4 = 3
trigger1 = Pos X = [-200, 160]
value = 0, 20

[State 8004, 6]
type = PlaySnd
trigger1 = Pos X != Var(26)
trigger1 = Time % 4 = 3
trigger1 = Pos X > 160
value = 0, 20
volume = -Floor(((Pos X)-160)/5)

[State 8004, 7]
type = PlaySnd
trigger1 = Pos X != Var(26)
trigger1 = Time % 4 = 3
trigger1 = Pos X < -200
value = 0, 20
volume = Floor( ((Pos X)+200)/5 )

[State 8004, 10]
type = VarSet
trigger1 = 1
fv = 26
value = Pos X

[State 8004, 15]
type = ScreenBound
trigger1 = 1
value = 0

[State 8004, 17]
type = AssertSpecial
trigger1 = time = [0, 210]
flag = roundnotover

[State 8004, 19]
type = ChangeAnim
trigger1 = Time > 10
trigger1 = Pos X = Var(26)
value = 4700

[State 8004, 20]
type = VarSet
trigger1 = 1
v = 26
value = Floor(Pos X)

;---------------------------------------------------------------------------
; Fernandez swarm
[Statedef 8005]
type = S
ctrl = 0
anim = 188

[State 8005, 0]
type = EnvShake
triggerall = Time % 4 = 0
trigger1 = Pos X < -450
trigger2 = Pos X > 600
time = 4
ampl = -2
freq = 90
phase = 90

[State 8005, 0]
type = EnvShake
triggerall = Time % 4 = 0
trigger1 = Pos X = [-450, -300]
trigger2 = Pos X = [460, 600]
time = 4
ampl = -4
freq = 90
phase = 90

[State 8005, 2]
type = EnvShake
triggerall = Time % 4 = 0
trigger1 = Pos X = [-300, 460]
time = 4
ampl = -6
freq = 90
phase = 90

[State 8005, 3]
type = SprPriority
trigger1 = Time = 0
value = 7

[State 8005, 4]
type = VelSet
trigger1 = Time = 0
x = 10

[State 8005, 5]
type = explod
trigger1 = Time % 4 = 3
ID = 100
ownpal = 1
pos = -16, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 8005, 6]
type = explod
trigger1 = Time = 0
ID = 100
ownpal = 1
pos = -200, 0
postype = p1
bindtime = -1
anim = 188
sprpriority = 7
removetime = 350

[State 8005, 7]
type = PlaySnd
trigger1 = Time % 2 = 0
trigger1 = Pos X < -160
value = 0, 48
volume = Floor(((Pos X)+160)/5)
channel = 3

[State 8005, 8]
type = PlaySnd
trigger1 = Time % 2 = 0
trigger1 = Pos X = [-160, 160]
value = 0, 48
channel = 3

[State 8005, 9]
type = PlaySnd
trigger1 = Time % 2 = 0
trigger1 = Pos X > 160
value = 0, 48
volume = -Floor(((Pos X)-160)/5)
channel = 3

[State 8005, 10]
type = PlaySnd
trigger1 = Time % 15 = 0
trigger1 = Pos X < -200
value = 0, 49
volume = Floor(((Pos X)+200)/5)
channel = 4

[State 8005, 11]
type = PlaySnd
trigger1 = Time % 15 = 0
trigger1 = Pos X = [-200, 160]
value = 0, 49
channel = 4

[State 8005, 12]
type = PlaySnd
trigger1 = Time % 15 = 0
trigger1 = Pos X > 160
value = 0, 49
volume = -Floor(((Pos X)-160)/5)
channel = 4

[State 8005, 13]
type = PlaySnd
trigger1 = Time % 30 = 0
trigger1 = Pos X < -200
value = 0, 50
volume = Floor(((Pos X)+200)/5)
channel = 5

[State 8005, 14]
type = PlaySnd
trigger1 = Time % 30 = 0
trigger1 = Pos X = [-200, 160]
value = 0, 50
channel = 5

[State 8005, 15]
type = PlaySnd
trigger1 = Time % 30 = 0
trigger1 = Pos X > 160
value = 0, 50
volume = -Floor(((Pos X)-160)/5)
channel = 5

[State 8005, Debug]
type = DisplayToClipboard
trigger1 = 1 
text = "Pos X : %f     Var(26): %d"
params = Pos X, Var(26)
ignorehitpause = 1

[State 8005, 19]
type = RemoveExplod
triggerall = Time > 100
trigger1 = Pos X = Var(26)
trigger2 = Time = 300

[State 8005, 20]
type = DestroySelf
triggerall = Time > 100
trigger1 = Pos X = Var(26)
trigger2 = Time = 300

[State 8005, 22]
type = VarSet
trigger1 = 1
v = 26
value = Floor(Pos X)

;---------------------------------------------------------------------------
; Fernandez swarm (before showing up)
[Statedef 8006]
type = S
ctrl = 0
anim = 4700

[State 8006, 10]
type = ChangeState
trigger1 = ParentDist X >= 837
value = 8005


;---------------------------------------------------------------------------
; Lose
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0,0

[State 185, 0]
type = Null ;Turn
trigger1 = Time = 0

[State 185, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 185, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 47

[State 185, 5]
type = AssertSpecial
trigger1 = time = [0, 100]
flag = roundnotover
             
;---------------------------------------------------------------------------
; Lose (last round)
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0,0

[State 186, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 186, 1]
type = PlaySnd
trigger1 = Time = 20
value = 0, 46

[State 186, 3]
type = PalFX
trigger1 = Time = [7, 43]
trigger1 = Time % 2 = 1
time = 1
add = 32, 32, 32

[State 186, 4]
type = explod
trigger1 = Time = 9
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 187
sprpriority = 7

[State 186, 5]
type = AssertSpecial
trigger1 = time = [0, 100]
flag = roundnotover
             
;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
velset = 0,0,0

[State 191, 5]
type = ChangeState
trigger1 = Time = 0
trigger1 = Random < 500
value = 192

[State 191, 10]
type = ChangeState
trigger1 = Time = 0
value = 193

;---------------------------------------------------------------------------
; INTRO 1
[Statedef 192]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 192, 1] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = Time = [0,250]
flag = Intro

[State 192, 4]
type = explod
trigger1 = Time = 38
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 191
sprpriority = 7

[State 192, 5]
type = PlaySnd
trigger1 = Time = 34
value = 0, 28

[State 192, 6]
type = PlaySnd
trigger1 = Time = 34
value = 0, 29

[State 192, 7]
type = PlaySnd
trigger1 = Time = 96
value = 0, 3

[State 192, 8]
type = PlaySnd
trigger1 = Time = 96
value = 0, 13

[State 192, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; INTRO 2
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0,0

[State 193, 0] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = Time = [0,250]
flag = Intro

[State 193, 1]
type = explod
trigger1 = Time = 30
ID = 100
ownpal = 1
pos = -170, 0
postype = p1
bindtime = 1
anim = 193
vel = 3, -8.9
accel = 0, .37
sprpriority = 7

[State 193, 2]
type = Explod
trigger1 = AnimElem = 2
trigger1 = Anim = 192
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 985
sprpriority = 7

[State 193, 3]
type = Explod
trigger1 = AnimElem = 2
trigger1 = Anim = 192
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 986
sprpriority = -1

[State 193, 4]
type = PlaySnd
trigger1 = Time = 80
value = 0, 20

[State 193, 5]
type = PlaySnd
trigger1 = Time = 30
value = 0, 11

[State 193, 8]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 0

[State 193, 10]
type = ChangeState
trigger1 = Time = 125
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 199]
type    = S
movetype= I
physics = S
juggle  = 4
ctrl = 0
anim = 199

[State 199, 8]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0, 3

[State 199, 9]
type = Null ;PlaySnd
trigger1 = Time = 0
value = 0, 20

[State 199, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_X
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1;4
ctrl = 0
anim = 200
poweradd = 22;30

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 50,ifelse(var(7)!=0,6,0);45
animtype = Light
getpower = 66,33;20
givepower = 16;10
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 7,8 
numhits = 1
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -7
airguard.velocity = -1.9,-.8
air.velocity = -2.0,-4.0

[State 200, 4]
type = explod
trigger1 = AnimElem = 3
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 200, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 1

[State 200, 7]
type = PlaySnd
trigger1 = Time = 7
trigger1 = MoveContact = 0
value = 0, 0

[State 200, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 200, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 200, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 200, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 200, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 200, 20]
type = ChangeState
trigger1 = var(59) < 1
trigger1 = Time >= 9
trigger1 = Command = "holddown"
trigger1 = MoveContact; = 1
value = 10
ctrl = 1

[State 200, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_Y
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 210

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 126,ifelse(var(7)!=0,15,0);100
getpower = 167,83
givepower = 41
guardflag = M
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-70
hitsound   = S0, 6
guardsound = S0, 104
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5

[State 210, 4]
type = explod
trigger1 = AnimElem = 3
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 210, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 210, 7]
type = PlaySnd
trigger1 = Time = 12
trigger1 = MoveContact = 0
value = 0, 0

[State 210, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 210, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 210, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 210, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 210, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 210, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_A
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22;30
ctrl = 0
anim = 220

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 62,ifelse(var(7)!=0,7,0);45
animtype = Light
getpower = 77,38;20
givepower = 19;10
guardflag = L
hitflag = MAF;D
priority = 3, Hit
pausetime = 7,8 
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-20
hitsound = S0, 100
guardsound = S0, 104
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -7
airguard.velocity = -1.9,-.8
air.velocity = -2.0,-4.0
down.velocity = -4,0

[State 220, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4

[State 220, 9]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = -1

[State 220, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 220, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 220, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 220, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 220, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 220, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_B
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 230

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 151,ifelse(var(7)!=0,18,0);100
getpower = 201,100;66,33
givepower = 50;16
guardflag = M
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5

[State 230, 4]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = -1

[State 230, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 4

[State 230, 7]
type = PlaySnd
trigger1 = Time = 5
value = 0, 3

[State 230, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 230, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 230, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 230, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 230, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 230, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 突き　STAND_X (Alternative)
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 22;30
ctrl = 0
anim = 300

[State 300, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 64,ifelse(var(7)!=0,8,0);35
getpower = 67,33
givepower = 16
guardflag = M
pausetime = 7,8
animtype  = Light
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-65
hitsound = S0, 8
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -7
air.velocity = -2.4,-4.5

[State 300, 4]
type = explod
trigger1 = AnimElem = 6
ID = 101
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 300, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 25

[State 300, 7]
type = PlaySnd
trigger1 = Time = 5
trigger1 = MoveContact = 0
value = 0, 9

[State 300, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 300, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 300, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 300, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 300, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 300, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 連続斬り　STAND_Y (Alternative)
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 310

[State 310, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 62,ifelse(var(7)!=0,7,0)
getpower = 67,33
givepower = 16
guardflag = M
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-70
hitsound   = S0, 6
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5

[State 310, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Heavy
damage    =129,ifelse(var(7)!=0,16,0);63
getpower = 168,84
givepower = 42
guardflag = LAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-40
hitsound   = S0, 6
guardsound = S0, 104
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5

[State 310, 4]
type = explod
trigger1 = AnimElem = 10
ID = 101
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 310, 5]
type = PlaySnd
trigger1 = Time = 4
value = 0, 2

[State 310, 6]
type = PlaySnd
trigger1 = Time = 6
trigger1 = MoveContact = 0
value = 0, 13

[State 310, 7]
type = PlaySnd
trigger1 = Time = 14
trigger1 = MoveContact = 0
value = 0, 12

[State 310, 8]
type = MoveHitReset
trigger1 = Time = 10

[State 310, 9]
type = Null ;PlaySnd
trigger1 = Time = 12
trigger1 = MoveContact = 0
value = 0, 0

[State 310, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 6
v = 12
value = 0

[State 310, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 310, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 310, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 310, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 310, 20]
type = MoveHitReset
trigger1 = AnimElem = 5

[State 310, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 下段突き　STAND_A (Alternative)
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 22;30
ctrl = 0
anim = 320

[State 320, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 76,ifelse(var(7)!=0,9,0);35
getpower = 100,50
givepower = 25
guardflag = LAF
pausetime = 7,8
animtype  = Light
sparkno = S7000
guard.sparkno = S7020
sparkxy = 0,-20
hitsound = S0, 8
guardsound = S0, 104
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -7
air.velocity = -2.4,-4.5

[State 320, 4]
type = explod
trigger1 = AnimElem = 6
ID = 101
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 320, 7]
type = PlaySnd
trigger1 = Time = 5
trigger1 = MoveContact = 0
value = 0, 9

[State 320, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 320, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 320, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 320, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 320, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 320, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 膝蹴り　STAND_B (Alternative)
[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 330

[State 330, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 165,ifelse(var(7)!=0,20,0);110
getpower = 212,106
givepower = 53
guardflag = M
pausetime = 7,8
sparkno = S7005 ;2
guard.sparkno = S7020
sparkxy = -10,-70
hitsound   = S0, 27
guardsound = S0, 104
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5
fall = 1
fall.yvelocity = -2.5
fall.recover = 0
p2stateno = 940
p2facing = 1

[State 330, 4]
type = explod
trigger1 = AnimElem = 5
ID = 101
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 330, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 4

[State 330, 7]
type = PlaySnd
trigger1 = Time = 5
value = 0, 11

[State 330, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 330, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 330, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 330, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 330, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 330, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_X
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 22;30
ctrl = 0
anim = 400

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 48,ifelse(var(7)!=0,6,0);45
animtype  = Light
getpower  = 54,27;10
givepower = 13;8
hitflag = MAF
guardflag = L
pausetime = 10,12
sparkno = S7000
guard.sparkno = S7020
sparkxy = -2,-41
hitsound   = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -8
air.velocity = -2.0,-4
down.velocity = -4,0
down.hittime = 20

[State 400, 4]
type = explod
trigger1 = AnimElem = 3
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 400, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 1

[State 400, 7]
type = PlaySnd
trigger1 = Time = 7
trigger1 = MoveContact = 0
value = 0, 0

[State 400, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 400, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 400, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 400, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 400, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 400, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_Y
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 34;60
ctrl = 0
anim = 410

[State 410, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Heavy
damage    = 115,ifelse(var(7)!=0,14,0);100
getpower = 144,72
givepower = 36
guardflag = M
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-70
hitsound   = S0, 6
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5

[State 410, 6]
type = PlaySnd
trigger1 = Time = 8
value = 0, 0

[State 410, 4]
type = explod
trigger1 = AnimElem = 3
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 410, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 410, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 410, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 410, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 410, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 410, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_A
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 22;30
ctrl = 0
anim = 420

[State 420, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 56,ifelse(var(7)!=0,7,0);45
animtype  = Light
getpower  = 65,32;10
givepower = 16;8
hitflag = MAF
guardflag = L
pausetime = 7, 8
sparkno = S7000
guard.sparkno = S7020
sparkxy = -2,-41
hitsound   = S0, 100
guardsound = S0, 104
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -8
air.velocity = -2.0,-4
down.velocity = -4,0
down.hittime = 20

[State 420, 4]
type = explod
trigger1 = AnimElem = 3
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 995
sprpriority = 7

[State 420, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4

[State 420, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 420, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 420, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 420, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 420, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 420, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 430]
type    = C
movetype= A
physics = N
juggle  = 7
poweradd= 34;60
ctrl = 0
anim = 430

[State 430, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 137,ifelse(var(7)!=0,17,0);100
getpower  = 179,89;40
givepower = 44;40
hitflag = MAF
guardflag = L
pausetime = 7, 8
sparkxy = -5,-10
sparkno = S7004
guard.sparkno = S7020
hitsound   = S0, 101
guardsound = S0, 104
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, -4
air.velocity = 0, -4
guard.velocity = -5
fall = 1
fall.recover = 0

[State 430, 5]
type = VelAdd
trigger1 = AnimElem = 2
X = 6

[State 430, 6]
type = VelMul
trigger1 = Time >= 6
X = 0.9

[State 430, 7]
type = VelSet
trigger1 = AnimElem = 6
X = 0

[State 430, 8]
type = explod
trigger1 = AnimElem = 5
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = -1

[State 430, 9]
type = explod
trigger1 = AnimElem = 2
ID = 100
ownpal = 1
pos = -26, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 430, 10]
type = PlaySnd
trigger1 = Time = 5
value = 0, 7

[State 430, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 430, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 430, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 430, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 430, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 430, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_X
[Statedef 500]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 22;30
ctrl = 0
anim = 500

[State 500, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 50,ifelse(var(7)!=0,6,0);45
getpower = 66,33
givepower = 16
guardflag = HAF
pausetime = 7,8
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-80
hitsound   = S0, 5
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.4,-4.5

[State 500, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 1

[State 500, 7]
type = PlaySnd
trigger1 = Time = 6
trigger1 = MoveContact = 0
value = 0, 0

[State 500, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 500, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 500, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 500, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 500, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 500, 20]
type = ChangeAnim
trigger1 = Anim = 500
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_Y
[Statedef 510]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 510

[State 510, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 126,ifelse(var(7)!=0,15,0);100
getpower = 167,83
givepower = 41
guardflag = HAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-80
hitsound   = S0, 8
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -7
air.velocity = -2.4,-4.5

[State 510, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 3

[State 510, 7]
type = PlaySnd
trigger1 = Time = 9
trigger1 = MoveContact = 0
value = 0, 0

[State 510, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 510, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 510, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 510, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 510, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 510, 20]
type = ChangeAnim
trigger1 = Anim = 510
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_A
[Statedef 520]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 22;30
ctrl = 0
anim = 520

[State 520, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 62,ifelse(var(7)!=0,7,0);45
getpower = 77,38
givepower = 19
guardflag = HAF
pausetime = 7,8
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-20
hitsound = S0, 5
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.4,-4.5

[State 520, 6]
type = PlaySnd
trigger1 = Time = 4
value = 0, 9

[State 520, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 520, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 520, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 520, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 520, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 520, 20]
type = ChangeAnim
trigger1 = Anim = 520
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_B
[Statedef 530]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 530

[State 530, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 151,ifelse(var(7)!=0,18,0);100
getpower = 201,100
givepower = 50
guardflag = HAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-40
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -7
air.velocity = -2.4,-4.5

[State 530, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 26

[State 530, 7]
type = PlaySnd
trigger1 = Time = 5
value = 0, 11

[State 530, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 530, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 530, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 530, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 530, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 530, 20]
type = ChangeAnim
trigger1 = Anim = 530
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; 斬り上げ　JUMP_X (Alternative)
[Statedef 700]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 22;30
ctrl = 0
anim = 700

[State 700, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 64,ifelse(var(7)!=0,8,0);45
getpower = 77,38
givepower = 19
guardflag = HAF
pausetime = 7,8
sparkno = S7000
guard.sparkno = S7020
sparkxy = -10,-80
hitsound = S0, 8
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.4,-4.5

[State 700, 6]
type = PlaySnd
trigger1 = Time = 3
value = 0, 1

[State 700, 7]
type = PlaySnd
trigger1 = Time = 6
trigger1 = MoveContact = 0
value = 0, 0

[State 700, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 700, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 700, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 700, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 700, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 700, 20]
type = ChangeAnim
trigger1 = Anim = 700
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; 斬り下ろし　JUMP_Y (Alternative)
[Statedef 710]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 710

[State 710, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 140,ifelse(var(7)!=0,17,0);85
getpower = 178,89
givepower = 44
guardflag = HAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-60 ;-80
hitsound   = S0, 6
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -1.8, -3 ;-2.4, -4.5
air.velocity = -1.8, -3 ;-2.4, -4.5
fall = 1
fall.recover = 0
fall.yvelocity = -2.5

[State 710, 6]
type = PlaySnd
trigger1 = Time = 6
value = 0, 3

[State 710, 7]
type = PlaySnd
trigger1 = Time = 10
trigger1 = MoveContact = 0
value = 0, 0

[State 710, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 710, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 710, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 710, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 710, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 710, 20]
type = ChangeAnim
trigger1 = Anim = 710
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; 兜割り　JUMP_A (Alternative)
[Statedef 720]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 22;30
ctrl = 0
anim = 720

[State 720, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 76,ifelse(var(7)!=0,9,0);45
getpower = 100,50
givepower = 25
guardflag = HAF
pausetime = 7,8
sparkno = S7000
guard.sparkno = S7020
sparkxy = 0,-20
hitsound   = S0, 5
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.4,-4.5

[State 720, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 25

[State 720, 7]
type = PlaySnd
trigger1 = Time = 7
trigger1 = MoveContact = 0
value = 0, 0

[State 720, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 720, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 720, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 720, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 720, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 720, 20]
type = ChangeAnim
trigger1 = Anim = 720
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
; ハイキック　JUMP_B (Alternative)
[Statedef 730]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 34;60
ctrl = 0
anim = 730

[State 730, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 165,ifelse(var(7)!=0,20,0);120
getpower = 213,106
givepower = 53
guardflag = HAF
pausetime = 7,8
sparkno = S7005 ;2
guard.sparkno = S7020
sparkxy = -10,-80
hitsound   = S0, 27
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5
fall = 1
fall.yvelocity = -2.5
fall.recover = 0
p2stateno = 940
p2facing = 1

[State 730, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 26

[State 730, 7]
type = PlaySnd
trigger1 = Time = 5
value = 0, 11

[State 730, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 730, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 730, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 730, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 730, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 730, 20]
type = ChangeAnim
trigger1 = Anim = 730
trigger1 = AnimTime = 0
value = 990
ctrl = 1

;---------------------------------------------------------------------------
;Getting Up Recovery Roll Forward
[Statedef 800]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0,0
anim = 800

[State 800, 0]
type = VelSet
trigger1 = Time >= 0
X = 4.7

[State 800, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time= 34

[State 800, 2]
type = VelSet
trigger1 = AnimTime = 0
X = 0

[State 800, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0, 14

[State 800, 5]
type = explod
trigger1 = AnimElem = 11
ID = 100
ownpal = 1
pos = 40, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 800, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Getting Up Recovery Roll Backwards
[Statedef 805]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0,0
anim = 805

[State 805, 0]
type = VelSet
trigger1 = Time >= 0
X = -4.7

[State 805, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time= 34

[State 805, 2]
type = VelSet
trigger1 = AnimTime = 0
X = 0

[State 805, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0, 14

[State 805, 5]
type = explod
trigger1 = AnimElem = 12
ID = 100
ownpal = 1
pos = -20, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 805, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Getup Counterattack
[Statedef 810]
type    = S
movetype= A
physics = S
poweradd= 45;0
ctrl = 0
velset = 0,0,0
anim = 810

[State 810, 0]
type = VelSet
trigger1 = Time = 0
X = 0

[State 810, 4]
type = explod
trigger1 = AnimElem = 15
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = -1

[State 810, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 126,ifelse(var(7)!=0,15,0);135
getpower = 166,83
givepower = 41
guardflag = HAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-60
hitsound   = S0, 6
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -1.8, -3 ;-2.4, -4.5
air.velocity = -1.8, -3 ;-2.4, -4.5
fall = 1
fall.recover = 0
fall.yvelocity = -2.5

[State 810, 6]
type = PlaySnd
trigger1 = Time = 15
value = 0, 0

[State 810, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 810, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 810, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 810, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 810, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 810, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Triangle jump
[Statedef 900]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 900

[State 900, 0]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 900, 1]
type = VelSet
trigger1 = Time = 6
y = -10
x = 5

[State 900, 2]
type = PosAdd
trigger1 = Time = 6
x = 20
y =  -10

[State 900, 3]
type = explod
trigger1 = Time = 0
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim =  905
sprpriority = 7

[State 900, 10]
type = ChangeState
trigger1 = Time = 6
value = 905

;---------------------------------------------------------------------------
; Triangle jump (flying)
[Statedef 905]
type    = A
movetype= I
physics = A
ctrl = 0

[State 905, 0]
type = ChangeAnim
trigger1 = Time = 0
value = 42

[State 905, 5]
type = PlaySnd
trigger1 = Time = 0
value = 0, 38

[State 905, 6]
type = PlaySnd
trigger1 = Time = 0
value = 0, 39

[State 905, 10]
type = CtrlSet
trigger1 = Time = 2
value = 1

;---------------------------------------------------------------------------
; Hit by power move (shaking)
[Statedef 940]
type    = A
movetype= H ;Get hit
physics = N

[State 940, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 940, 1]
type = NotHitBy
trigger1 = 1
value = SCA
Time = 1

[State 940, 2]
type = PosAdd
trigger1 = Time = 0
y = -20

[State 940, 3]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 912

[State 940, 4]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 941

; Hit by power move (flying)
[Statedef 941]
type    = A
movetype= H ;Get hit
physics = N

[State 941, 0]
type = NotHitBy
trigger1 = 1
value = SCA
Time = 1

[State 941, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 913

[State 941, 2]
type = VelSet
trigger1 = Time = 0
x = -20
y = -2

[State 941, 5]
type = ChangeState
trigger1 = backedgedist <= 5
value = 942

; Hit by power move (hitting the wall)
[Statedef 942]
type    = A
movetype= H ;Get hit
physics = N

[State 942, 0]
type = PlaySnd
Trigger1 = Time = 0
value = F5, 4

[State 942, 1]
type = PosAdd
trigger1 = Time = 0
y = -20

[State 942, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 912

[State 942, 3]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 942, 4]
type = EnvShake
Trigger1 = Time = 0
time = 20
ampl = -4
freq = 90
phase = 90

[State 942, 5]
type = NotHitBy
trigger1 = 1
value = SCA
Time = 1

[State 942,19]
type = GameMakeAnim
trigger1 = Time = 0
value = 72
pos = -10, -50

[State 942, 6]
type = ChangeState
trigger1 = Time = 10
value = 943

; Hit by power move (falling to the ground)
[Statedef 943]
type    = A
movetype= H ;Get hit
physics = N

[State 943, 0]
type = ChangeAnim2
Trigger1 = Time = 0
value = 910

[State 943, 1]
type = Gravity
trigger1 = Time >= 0

[State 943, 2]
type = NotHitBy
trigger1 = 1
value = SCA
Time = 35

[State 943, 5]
type = SelfState
trigger1 = Pos Y > 10
trigger1 = Vel Y > 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
;ダウン追撃
[Statedef 950]
type    = S
physics = S
anim = 950
ctrl = 0
sprpriority = 2
poweradd= 45

[State 900, 2]
type = ChangeState
Trigger1 = animtime = 0
value = 951


[Statedef 951]
type    = A
movetype= A
physics = N
anim = 951
ctrl = 0
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,10;30, 1

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 901, 1]
type = Velset
Trigger1 = time = 0
x = (p2dist x/44)
y = -8.8

[State 901, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 952


[Statedef 952]
type    = A
movetype= A
physics = N
anim = 952
ctrl = 0
sprpriority = 2
velset = 0,0

[State 230, 1]
type = PlaySnd
trigger1 = time = 1
value = 240, 0
channel = 0

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 900, 2]
type = posset
Trigger1 = Time = 0
y = 0

[State 900, 3]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype  = back
damage    = 131,ifelse(var(7)!=0,16,0)
getpower = 166,83
givepower = 0,42
hitflag = MFD
guardflag = M
pausetime = 7,7
guard.pausetime = 5,5
sparkno = s75
guard.sparkno = s(ifelse(var(7)!=0,7021,7020))
sparkxy = -20,0
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
guard.velocity = 0
fall = 1
fall.recover = 0
p2stateno = 960

[State 200, 1]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(38) = 200

[State 950, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 953



[Statedef 953]
type    = A
movetype= I
physics = N
anim = 953
ctrl = 0
sprpriority = 3
velset = -4,-5.6

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 901, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 900, 2]
type = ChangeState
Trigger1 = pos y >= 0
Trigger1 = vel y > 0
value = 52

;つぶれ
[Statedef 960]
type    = L
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = posset
Trigger1 = time = 0
y=0

[State 820, 1]
type = ChangeAnim
Trigger1 = 1
value = 5080

[State 5080, 5]
type = selfState
trigger1 = HitShakeOver
value = 5081 ;HITL_SLIDE

;-------------------------------------
; ** SLASH BARRIER (weak) - QCB + X **
;-------------------------------------
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;80
ctrl = 0
anim = 1000

[State 1000, 0]
type = VelSet
trigger1 = Time <= 31
x = 0

[State 1000, 2]
type = HitDef
triggerall = P2BodyDist Y = 0
trigger1 = AnimElem = 3
attr = S, NA
priority = 4, Hit
animtype  = Heavy
damage    = 100,12;60, 9
getpower = 130,65
givepower = 32
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = 0 ;-10
air.velocity = -2.4,-4.5

[State 1000, 3]
type = HitDef
triggerall = P2BodyDist Y != 0
trigger1 = AnimElem = 3
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 100,12;60, 9
getpower = 130,65
givepower = 32
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 1000, 4]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 100,12;60, 9
getpower = 130,65
givepower = 32
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 17
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 1000, 9]
type = explod
trigger1 = AnimElem = 19
ID = 100
ownpal = 1
pos = 5, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1000, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 12

[State 1000, 11]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0, 13

[State 1000, 12]
type = PlaySnd
trigger1 = AnimElem = 19
value = 0, 14

[State 1000, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 11
v = 12
value = 0

[State 1000, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1000, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1000, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1000, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1000, 20]
type = MoveHitReset
trigger1 = AnimElem = 10

[State 1000, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
; ** SLASH BARRIER (strong) - QCB + Y **
;---------------------------------------
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;80
ctrl = 0
anim = 1010

[State 1010, 0]
type = VelSet
trigger1 = Time <= 31
x = 0

[State 1010, 1]
type = Null ;PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1010, 2]
type = HitDef
triggerall = P2BodyDist Y = 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
attr = S, NA
priority = 4, Hit
animtype  = Heavy
damage    = 56,7;40, 9
getpower = 68,34
givepower = 17
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = 0 ;-10
air.velocity = -2.4,-4.5

[State 1010, 3]
type = HitDef
triggerall = P2BodyDist Y != 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 56,7;40, 9
getpower = 68,34
givepower = 17
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 1010, 4]
type = HitDef
trigger1 = AnimElem = 26
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 56,7;40, 9
getpower = 68,34
givepower = 17
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 17
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 1010, 9]
type = explod
trigger1 = AnimElem = 34
ID = 100
ownpal = 1
pos = 5, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1010, 10]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
value = 0, 12

[State 1010, 11]
type = PlaySnd
trigger1 = AnimElem = 26
value = 0, 13

[State 1010, 12]
type = PlaySnd
trigger1 = AnimElem = 34
value = 0, 14

[State 1010, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
v = 12
value = 0

[State 1010, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1010, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1010, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1010, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1010, 20]
type = MoveHitReset
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25

[State 1010, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; ** SLASH SHOT (weak) - QCF + X **
;----------------------------------
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;80
ctrl = 0
anim = 1100

[State 1100, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 67,8;100, 9
getpower = 85,42
givepower = 21
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -1.45,-4.25
air.velocity = -1.8,-4.25
fall.yvelocity = -2.5 ;5
fall = 1
fall.recover = 0

[State 1100, 6]
type = Helper
trigger1 = AnimElem = 7
ID = 1107
pos = 113, 0
postype = p1
stateno = 1105
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1100, 8]
type = PalFX
trigger1 = Time = 12
time = 2
add = 64, 64, 64

[State 1100, 9]
type = explod
trigger1 = AnimElem = 11
ID = 100
ownpal = 1
pos = 5, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1100, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 1100, 11]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 18

[State 1100, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 1100, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1100, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1100, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1100, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1100, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
; ** SLASH SHOT (strong) - QCF + Y **
;------------------------------------
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;80
ctrl = 0
anim = 1100

[State 1103, 0]
type = VelSet
trigger1 = Time <= 31
x = 0

[State 1103, 1]
type = Null ;PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1103, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
priority = 4, Hit
animtype  = Back
damage    = 240,30;100, 9
getpower = 301,150
givepower = 75
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -1.45,-4.25
air.velocity = -1.8,-4.25
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1103, 6]
type = Helper
trigger1 = AnimElem = 7
ID = 1105
pos = 176, 0
postype = p1
stateno = 1107
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1103, 8]
type = PalFX
trigger1 = Time = 12
time = 2
add = 64, 64, 64

[State 1103, 9]
type = explod
trigger1 = AnimElem = 11
ID = 100
ownpal = 1
pos = 5, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1103, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 1103, 11]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 18

[State 1103, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 1103, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1103, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1103, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1103, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1103, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; SLASH SHOT projectile (weak - fast)
[Statedef 1105]
type    = S
movetype= A
juggle  = 4
ctrl = 0
anim = 1105

[State 1105, 0]
type = PosAdd
trigger1 = Time >= 0
x = 1
ignorehitpause = 1

[State 1105, 1]
type = VarSet
trigger1 = Time = 0
v = 0
value = 0

[State 1105, 2]
type = VelSet
trigger1 = Time >= 0
x = 0
ignorehitpause = 1

[State 1105, 2]
type = AttackMulSet
trigger1 = parent, Var(7) = 1
ignorehitpause = 1
value = 1

[State 1105, 3]
type = AttackMulSet
trigger1 = parent, Var(7) > 1
ignorehitpause = 1
value = 1.2

; Air hit
[State 1105, 5]
type = HitDef
trigger1 = HitCount < 3
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y != 0
attr = S, NA
priority = 4, Hit
damage    = 33,4;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = High
air.velocity = -1.75,-4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1110
p2facing = 1

; Standing(high) hit
[State 1105, 7]
type = HitDef
triggerall = HitCount < 3
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 0
trigger2 = HitCount = 2
attr = S, NA
priority = 4, Hit
damage    = 33,4;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,1
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1112
p2facing = 1

; Standing(low) hit
[State 1105, 8]
type = HitDef
triggerall = HitCount < 3
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 1
trigger2 = HitCount = 3
attr = S, NA
priority = 4, Hit
damage    = 33,4;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1114
p2facing = 1

; Crouching hit
[State 1105, 9]
type = HitDef
trigger1 = HitCount < 3
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y = 0
trigger1 = P2StateType = C
attr = S, NA
priority = 4, Hit
damage    = 33,4;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1116
p2facing = 1

[State 1105, 16]
type = ChangeState
trigger1 = Time = 20
trigger1 = HitCount = 0
Value = 1106

[State 1105, 17]
type = VarAdd
trigger1 = MoveContact; = 1
trigger2 = Var(0) > 0
v = 0
value = 1
ignorehitpause = 1

[State 1105, 18]
type = Null ;MoveHitReset
trigger1 = MoveContact; = 1
ignorehitpause = 1

[State 1105, 19]
type = VarSet
trigger1 = Var(0) > 6
v = 0
value = 0
ignorehitpause = 1

[State 1105, 25]
type = VarSet
trigger1 = Time = 0
trigger2 = Var(0) = 0
v = 12
value = 0

[State 1105, 26]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1105, 27]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1105, 28]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1105, 29]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1105, 30]
type = MoveHitReset
trigger1 = Var(0) = 0

[State 1105, 40]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1106]
type    = S
movetype= A
juggle  = 4
ctrl = 0
velset = 1

[State 1106, 0]
type = DestroySelf
trigger1 = AnimTime = 0

; SLASH SHOT projectile (strong - slow)
[Statedef 1107]
type    = S
movetype= A
juggle  = 4
ctrl = 0
anim = 1105

[State 1107, 0]
type = PosAdd
trigger1 = Time >= 0
x = 0.25
ignorehitpause = 1

[State 1107, 1]
type = VarSet
trigger1 = Time = 0
v = 0
value = 0

[State 1107, 2]
type = VelSet
trigger1 = Time >= 0
x = 0
ignorehitpause = 1

[State 1107, 2]
type = AttackMulSet
trigger1 = parent, Var(7) = 1
ignorehitpause = 1
value = 1

[State 1107, 3]
type = AttackMulSet
trigger1 = parent, Var(7) > 1
ignorehitpause = 1
value = 1.2

; Air hit
[State 1107, 5]
type = HitDef
trigger1 = HitCount < 4
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y != 0
attr = S, NA
priority = 4, Hit
damage    = 28,3;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = High
air.velocity = -1.75,-4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1110
p2facing = 1

; Standing(high) hit
[State 1107, 7]
type = HitDef
triggerall = HitCount < 4
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 0
trigger2 = HitCount = 2
trigger3 = HitCount = 6
attr = S, NA
priority = 4, Hit
damage    = 28,3;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,1
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5, -3
air.type = Low
air.velocity = -1.75, -4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1112
p2facing = 1

; Standing(low) hit
[State 1107, 8]
type = HitDef
triggerall = HitCount < 4
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 1
trigger2 = HitCount = 3
trigger3 = HitCount = 5
attr = S, NA
priority = 4, Hit
damage    = 28,3;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75, -5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1114
p2facing = 1

; Crouching hit
[State 1107, 9]
type = HitDef
trigger1 = HitCount < 4
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y = 0
trigger1 = P2StateType = C
attr = S, NA
priority = 4, Hit
damage    = 28,3;26,2
animtype  = Hard
getpower  = 0
givepower = 31
guardflag = MA
pausetime = 3,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75, -5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1116
p2facing = 1

[State 1106, 16]
type = ChangeState
trigger1 = Time = 20
trigger1 = HitCount = 0
Value = 1108

[State 1107, 17]
type = VarAdd
trigger1 = MoveContact; = 1
trigger2 = Var(0) > 0
v = 0
value = 1
ignorehitpause = 1

[State 1107, 18]
type = Null ;MoveHitReset
trigger1 = MoveContact; = 1
ignorehitpause = 1

[State 1107, 19]
type = VarSet
trigger1 = Var(0) > 6
v = 0
value = 0
ignorehitpause = 1

[State 1107, 25]
type = VarSet
trigger1 = Time = 0
trigger2 = Var(0) = 0
v = 12
value = 0

[State 1107, 26]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1107, 27]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1107, 28]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1107, 29]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1107, 30]
type = MoveHitReset
trigger1 = Var(0) = 0

[State 1107, 40]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1108]
type    = S
movetype= A
juggle  = 4
ctrl = 0
velset = 0.25

[State 1108, 0]
type = DestroySelf
trigger1 = AnimTime = 0

; Hit by SLASH SHOT projectile - Air hit
[Statedef 1110]
type    = A
movetype= H
physics = A ;U
ctrl = 0
anim = 5030

[State 1110, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
x = 0
y = 0

[State 1110, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
x = -2.5
y = -5

[State 1110, 2]
type = Gravity
trigger1 = Time = 2
trigger1 = Time = 4
trigger1 = Time = 6

[State 1110, 3]
type = Gravity
trigger1 = Time = 2
trigger1 = Time = 4
trigger1 = Time = 6

[State 1110, 9]
type = Changeanim
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 1110, 10]
type = ChangeAnim
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 1110, 20]
type = SelfState
trigger1 = Time = 7
value = 5035

; Hit by SLASH SHOT projectile - Standing(high) hit
[Statedef 1112]
type    = S
movetype= H
physics = S ;U
ctrl = 0
anim = 5002

[State 1112, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 1112, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 1112, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 1112, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 1112, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 1112, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 1112, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 1112, 19]
type = Changeanim
trigger1 = Life > 0
trigger1 = Time = 2
value = 5007

[State 1112, 20]
type = SelfState
trigger1 = Time = 9
value = 5001

; Hit by SLASH SHOT projectile - Standing(low) hit
[Statedef 1114]
type    = S
movetype= H
physics = S ;U
ctrl = 0
anim = 5012

[State 1114, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 1114, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 1114, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 1114, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 1114, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 1114, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 1114, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 1114, 19]
type = Changeanim
trigger1 = Time > 0
trigger1 = Time = 2
value = 5017

[State 1114, 20]
type = SelfState
trigger1 = Time = 9
value = 5001

; Hit by SLASH SHOT projectile - Crouching hit
[Statedef 1116]
type    = C
movetype= H
physics = C ;U
ctrl = 0
anim = 5022

[State 1116, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 1116, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 1116, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 1116, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 1116, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 1116, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 1116, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 1116, 19]
type = Changeanim
trigger1 = Life > 0
trigger1 = Time = 2
value = 5027

[State 1116, 20]
type = SelfState
trigger1 = Time = 9
value = 5001


;---------------------------------------------------
; ** SLASH DYNAMIC (weak - start) - F,D,D/F + Y **
;---------------------------------------------------
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;80
ctrl = 0
velset = 0,0,0
anim = 1200

[State 1200, 0]
type = NotHitBy
trigger1 = AnimElem = 9
value = SCA
time = 1

[State 1200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 67,8;45, 9
getpower = 85,42
givepower = 21
animtype = Hard
getpower = 20
givepower = 10
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-20
hitsound = S0, 8
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.velocity = -2.0,-4.0
down.velocity = -4,0

[State 1200, 3]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage    = 67,8;45, 9
getpower = 85,42
givepower = 21
animtype = Hard
getpower = 20
givepower = 10
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 7,7
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-30
hitsound = S0, 8
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-6
air.velocity = -1.75,-6
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1200, 9]
type = explod
trigger1 = AnimElem = 5
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 992
sprpriority = -1

[State 1200, 10]
type = PalFX
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
time = 2
add = 64, 64, 64

[State 1200, 7]
type = PlaySnd
trigger1 = Time = 1
trigger2 = AnimElem = 9
value = 0, 0

[State 1200, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 9
v = 12
value = 0

[State 1200, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1200, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1200, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1200, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1200, 20]
type = MoveHitReset
trigger1 = AnimElem = 8

[State 1200, 30]
type = ChangeState
trigger1 = AnimElem = 10
value = 1203
ctrl = 0
        
;-------------------------------------------------
; ** SLASH DYNAMIC (weak - air) - F,D,D/F + Y **
;-------------------------------------------------
[Statedef 1203]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0

[State 1203, 0]
type = VelSet
trigger1 = Time = 0
x = 0.75
y = -6.6

[State 1203, 3]
type = HitDef
trigger1 = Time = 2
attr = S, NA
damage    = 67,8;45, 9
getpower = 85,42
givepower = 21
animtype = Hard
getpower = 20
givepower = 10
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7,7
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
air.velocity = -1.75,-4.25
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-4.25
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1203, 8]
type = PalFX
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
time = 2
add = 64, 64, 64

[State 1203, 9]
type = Gravity
trigger1 = Time >= 0

[State 1203, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 1203, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1203, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1203, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1203, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1203, 30]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1205
ctrl = 0

;-----------------------------------------------------
; ** SLASH DYNAMIC (weak - landing) - F,D,D/F + Y **
;-----------------------------------------------------
[Statedef 1205]
type    = S
movetype= I
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 1205

[State 1205, 3]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = -1

[State 1205, 6]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1205, 8]
type = PlaySnd
trigger1 = Time = 0
value = 0, 14

[State 1205, 9]
type = PlaySnd
trigger1 = Time = 0
value = 0, 20

[State 1205, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
; ** SLASH DYNAMIC (strong - start) - F,D,D/F + Y **
;---------------------------------------------------
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 56;60
ctrl = 0
velset = 0,0,0
anim = 1210

[State 1210, 0]
type = NotHitBy
trigger1 = AnimElem = 9
value = SCA
time = 1

[State 1210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 56,7;31, 9
getpower = 62,31
givepower = 15
animtype = Hard
getpower = 20
givepower = 10
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-20
hitsound   = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.velocity = -2.0,-4.0
down.velocity = -4,0

[State 1210, 3]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage    = 56,7;31, 9
getpower = 62,31
givepower = 15
animtype = Hard
getpower = 20
givepower = 10
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 7,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-30
hitsound   = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25, -8
air.velocity = -1.75, -8
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1210, 9]
type = explod
trigger1 = AnimElem = 5
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 992
sprpriority = -1

[State 1210, 10]
type = PalFX
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
time = 2
add = 64, 64, 64

[State 1210, 7]
type = PlaySnd
trigger1 = Time = 1
trigger2 = AnimElem = 9
value = 0, 0

[State 1210, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 9
v = 12
value = 0

[State 1210, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1210, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1210, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1210, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1210, 20]
type = MoveHitReset
trigger1 = AnimElem = 8

[State 1210, 30]
type = ChangeState
trigger1 = AnimElem = 10
value = 1213
ctrl = 0
        
;-------------------------------------------------
; ** SLASH DYNAMIC (strong - air) - F,D,D/F + Y **
;-------------------------------------------------
[Statedef 1213]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0

[State 1213, 0]
type = VelSet
trigger1 = Time = 0
x = 1.7
y = -10.1

[State 1213, 3]
type = HitDef
trigger1 = Time = 2
attr = S, NA
damage    = 56,7;55, 9
getpower = 62,31
givepower = 15
animtype = Hard
getpower = 20
givepower = 10
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7,5
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25, -10
air.velocity = -1.75, -8
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1213, 4]
type = HitDef
trigger1 = AnimElem = 20
attr = S, NA
damage    = 56,7;55, 9
getpower = 62,31
givepower = 15
animtype = Hard
getpower = 20
givepower = 10
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7,8 
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5 ;S0, 6
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-4.25
air.velocity = -1.75,-4.25
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 1213, 8]
type = PalFX
trigger1 = AnimElem = 10
trigger2 = AnimElem = 13
trigger3 = AnimElem = 20
time = 2
add = 64, 64, 64

[State 1213, 9]
type = Gravity
trigger1 = Time >= 0

[State 1213, 10]
type = Null ;PlaySnd
trigger1 = AnimElem = 12
value = 0, 0

[State 1213, 11]
type = PlaySnd
trigger1 = AnimElem = 20 ;23
value = 0, 12

[State 1213, 15]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 20
v = 12
value = 0

[State 1213, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 1213, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 1213, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1213, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1213, 20]
type = MoveHitReset
trigger1 = AnimElem = 19

[State 1213, 30]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1215
ctrl = 0

;-----------------------------------------------------
; ** SLASH DYNAMIC (strong - landing) - F,D,D/F + Y **
;-----------------------------------------------------
[Statedef 1215]
type    = S
movetype= I
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 1215

[State 1215, 9]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = -1

[State 1215, 6]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1215, 8]
type = PlaySnd
trigger1 = Time = 0
value = 0, 14

[State 1215, 9]
type = PlaySnd
trigger1 = Time = 0
value = 0, 20

[State 1215, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; ** SLASH TELEPORT - B,D,B/D + X/Y/A/B (on the ground) **
;---------------------------------------------------------
; Forward
[Statedef 1300]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1300

[State 1300, 0]
type = VelSet
trigger1 = Time > 8
x = 11.5

[State 1300, 1]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1300, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = 7

[State 1300, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 22

[State 1300, 4]
type = NotHitBy
trigger1 = Time >= 4
value = SCA
time = 1

[State 1300, 5]
type = VelSet
trigger1 = Time <= 8
x = 0

[State 1300, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0

; End - Forward
[Statedef 1301]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1301

[State 1301, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1301, 1]
type = explod
trigger1 = AnimElem = 9
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1301, 2]
type = CtrlSet
trigger1 = Time = 8
value = 1

[State 1301, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0, 14

[State 1301, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Up-Back
[Statedef 1302]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1300

[State 1302, 0]
type = VelSet
trigger1 = Time > 8
x = -11.5
y = -11.5

[State 1302, 1]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1302, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = 7

[State 1302, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 22

[State 1302, 4]
type = NotHitBy
trigger1 = Time >= 4
value = SCA
time = 1

[State 1302, 5]
type = VelSet
trigger1 = Time <= 8
x = 0

[State 1302, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 1303
ctrl = 0

; End - Up-Back
[Statedef 1303]
type    = A
movetype= I
physics = S
ctrl = 0
anim = 1302

[State 1303, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1303, 0]
type = Gravity
trigger1 = Time >= 8

[State 1303, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 52
ctrl = 1

; Up
[Statedef 1304]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1300

[State 1304, 0]
type = VelSet
trigger1 = Time > 8
y = -11.5

[State 1304, 1]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1304, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = 7

[State 1304, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 22

[State 1304, 4]
type = NotHitBy
trigger1 = Time >= 4
value = SCA
time = 1

[State 1304, 5]
type = VelSet
trigger1 = Time <= 8
x = 0

[State 1304, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 0

; End - Up
[Statedef 1305]
type    = A
movetype= I
physics = S
ctrl = 0
anim = 1303

[State 1305, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1305, 0]
type = Gravity
trigger1 = Time >= 8

[State 1305, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 52
ctrl = 1

; Up-Forward
[Statedef 1306]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1300

[State 1306, 0]
type = VelSet
trigger1 = Time > 8
x = 11.5
y = -11.5

[State 1306, 1]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1306, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = 7

[State 1306, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 22

[State 1306, 4]
type = NotHitBy
trigger1 = Time >= 4
value = SCA
time = 1

[State 1306, 5]
type = VelSet
trigger1 = Time <= 8
x = 0

[State 1306, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 1307
ctrl = 0

; End - Up-Forward
[Statedef 1307]
type    = A
movetype= I
physics = S
ctrl = 0
anim = 1304

[State 1307, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1307, 0]
type = Gravity
trigger1 = Time >= 8

[State 1307, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 52
ctrl = 1

;----------------------------------------------------
; ** SLASH TELEPORT - B,D,B/D + X/Y/A/B (airborne) **
;----------------------------------------------------
; Forward
[Statedef 1310]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1310

[State 1310, 0]
type = VelSet
trigger1 = Time > 8
x = 11.5

[State 1310, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 22

[State 1310, 4]
type = NotHitBy
trigger1 = Time >= 4
value = SCA
time = 1

[State 1310, 5]
type = VelSet
trigger1 = Time <= 8
x = 0
y = 0

[State 1310, 10]
type = ChangeState
trigger1 = Time = 16
value = 1311
ctrl = 0

; End - Forward
[Statedef 1311]
type    = A
movetype= I
physics = S
ctrl = 0
anim = 1312

[State 1311, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1311, 0]
type = Gravity
trigger1 = Time >= 8

[State 1311, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 52
ctrl = 1



; Down-Back
[Statedef 1312]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1310

[State 1312, 0]
type = VelSet
trigger1 = Time > 8
x = -11.5
y = 11.5

[State 1312, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 22

[State 1312, 4]
type = NotHitBy
trigger1 = Time >= 2
value = SCA
time = 1

[State 1312, 5]
type = VelSet
trigger1 = Time <= 8
x = 0
y = 0

[State 1312, 10]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1313
ctrl = 0

; End - Down-Back
[Statedef 1313]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1311

[State 1313, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1313, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 1313, 4]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 20

[State 1313, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Down
[Statedef 1314]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1310

[State 1314, 0]
type = VelSet
trigger1 = Time > 8
x = 0
y = 11.5

[State 1314, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 22

[State 1314, 4]
type = NotHitBy
trigger1 = Time >= 2
value = SCA
time = 1

[State 1314, 5]
type = VelSet
trigger1 = Time <= 8
x = 0
y = 0

[State 1314, 10]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1315
ctrl = 0

; End - Down
[Statedef 1315]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1311

[State 1315, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1315, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1315, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1315, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 1315, 4]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 20

[State 1315, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Down-Forward
[Statedef 1316]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1310

[State 1316, 0]
type = VelSet
trigger1 = Time > 8
x = 11.5
y = 11.5

[State 1316, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 22

[State 1316, 4]
type = NotHitBy
trigger1 = Time >= 2
value = SCA
time = 1

[State 1316, 5]
type = VelSet
trigger1 = Time <= 8
x = 0
y = 0

[State 1316, 10]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1317
ctrl = 0

; End - Down-Forward
[Statedef 1317]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1311

[State 1317, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1317, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1317, 2]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1317, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 1317, 4]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 20

[State 1317, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; KICK TURN THROW
[Statedef 1700]
type    = S
movetype= A
physics = S
poweradd= 210
ctrl = 0
anim = 1700

[State 1700, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1700, 5] 
type = PlayerPush
trigger1 = 1
value = 0

[State 1700, 10]
type = HitDef
Trigger1 = Time = 0
animtype = Medium
ground.type  = High
attr = S, NT
getpower  = 0
givepower = 0
hitflag = M-
guardflag = 
priority = 2, Miss
hitsound = -1, -1
sparkno = -1
guard.sparkno = S7021
p2facing = 1
p1stateno = 1705
p2stateno = 1750
air.velocity = 0, 0
ground.velocity = 0

[State 1700,20]
type = ChangeState
trigger1 = Time >= 1
value = 310
ctrl = 1

;---------------------------------------------------------------------------
; Air KICK TURN THROW
[Statedef 1701]
type    = U
movetype= A
physics = U
poweradd= 210
ctrl = 0
anim = 1701

[State 1701, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1701, 5] 
type = PlayerPush
trigger1 = 1
value = 0

[State 1701, 10]
type = HitDef
Trigger1 = Time = 0
animtype = Medium
ground.type  = High
attr = S, NT
getpower  = 0
givepower = 0
hitflag = A-
guardflag = 
priority = 2, Miss
hitsound = -1, -1
sparkno = -1
guard.sparkno = S7021
p2facing = 1
p1stateno = 1705
p2stateno = 1751
air.velocity = 0, 0
ground.velocity = 0

[State 1701,20]
type = ChangeState
trigger1 = Time >= 1
value = 510
ctrl = 1

;---------------------------------------------------------------------------
; KICK TURN THROW (success)
[Statedef 1705]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 238
ctrl = 0
velset = 0,0,0

[State 1705, 0]
type = TargetBind
trigger1 = Time = 0
time = 1
pos = 20, 0

[State 1705, 1] 
type = NotHitBy
trigger1 = Time = 0
time = 30
value = SCA

[State 1705, 2]
type = Explod
trigger1 = AnimElem = 3
trigger1 = Pos Y = 0
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 1705, 3]
type = Explod
trigger1 = AnimElem = 3
trigger1 = Pos Y = 0
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 994
sprpriority = -1

[State 1705, 5]
type = Explod
trigger1 = AnimElem = 7
anim = 7004
pos = 50, -50
sprpriority = 7

[State 1705, 7]
type = PlaySnd
trigger1 = Time = 18
value = 0, 102

[State 1705, 8]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = -floor(176*ifelse(var(7)!=0,1.5,1));140

[State 191, 2]
type = varadd
trigger1 = AnimElem = 7
var(38) = ifelse(var(7)!=0,470,310)

[State 1705, 20]
type = ChangeState
trigger1 = AnimElem = 7
value = 1710

;---------------------------------------------------------------------------
; KICK TURN THROW (rebounding)
[Statedef 1710]
type    = A
movetype= I
physics = A
juggle  = 4
ctrl = 0

[State 1710, 0]
type = VelSet
trigger1 = Time = 0
x = -2
y = -10

[State 1710, 5]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 1710, 8]
type = EnvColor
trigger1 = WinKO
trigger1 = Time = 1
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 1710, 9]
type = PlaySnd
trigger1 = WinKO
trigger1 = Time = 2
value = 0, 103
channel = 14
ignorehitpause = 1

[State 1710, 10]
type = ChangeState
trigger1 = Anim = 6
value = 1710

;---------------------------------------------------------------------------
; Hit by KICK TURN THROW
[Statedef 1750]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 1750, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1750

[State 1750, 1] 
type = NotHitBy
trigger1 = Time = 0
time = 50
value = SCA

[State 1750, 10]
type = ChangeState
trigger1 = Time = 19
value = 1755

;---------------------------------------------------------------------------
; Hit by Air KICK TURN THROW
[Statedef 1751]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 1751, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1751

[State 1751, 1] 
type = NotHitBy
trigger1 = Time = 0
time = 50
value = SCA

[State 1751, 10]
type = ChangeState
trigger1 = Time = 19
value = 1755

;---------------------------------------------------------------------------
; Hit by KICK TURN THROW (flying)
[Statedef 1755]
type    = A
movetype= I
physics = N
juggle  = 4
ctrl = 0

[State 1755, 0]
type = VelSet
trigger1 = Time = 0
y = -1
x = -16

[State 1755, 5]
type = Gravity
trigger1 = 1

[State 1755, 10]
type = ChangeState
trigger1 = Time > 13
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 1780

;---------------------------------------------------------------------------
; Bouncing after landing
[Statedef 1780]
type    = A
movetype = H
physics = N
ctrl = 0

[State 1780, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1780, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1780, 2]
type = PosAdd
trigger1 = Time = 0
x = 40

[State 1780, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 1780

[State 1780, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0

[State 1780, 5]
type = Explod
trigger1 = Time = 0
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 100
sprpriority = 7
anim = F62

[State 1780, 1]
type = VelMul
trigger1 = 1
x = 0.95

[State 1780, 10]
type = ChangeState
trigger1 = Time = 5 ;15
ctrl = 1
value = 1790

; Bouncing after being thrown
[Statedef 1790]
type    = L
movetype = H
physics = N
ctrl = 0

[State 1790, 0]
type = VelSet
trigger1 = Time = 0
y = -2

[State 1790, 1]
type = Gravity
trigger1 = Pos Y < 0
trigger2 = Vel Y < 0

[State 1790, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 1790, 3]
type = PosSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
y = 0

[State 1790, 4]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
y = 0

[State 1790, 5]
type = Explod
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
trigger1 = Anim != 5170
anim = F62
pos = 0, 0
sprpriority = 7

[State 1790, 6]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
trigger1 = Anim != 5170
value = F7, 0 ;Hit ground

[State 1790, 7]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
trigger1 = Anim != 5170
value = 5170

[State 1790, 9]
type = VarSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
sysvar(0) = 1     ; To prevent MUGEN from automatically showing ground wave

[State 1790, 10]
type = ChangeState
triggerall = Anim = 5170
trigger1 = AnimTime = 0
trigger2 = Time > 5
value = 1795

; Lying in the ground a bit ^_^
[Statedef 1795]
type    = L
movetype = H
physics = N
ctrl = 0
anim = 5110

[State 1795, 5]
type = VelMul
trigger1 = 1
x = 0.85

[State 1795, 10]
type = SelfState
trigger1 = Time = 30
ctrl = 1
value = 5110

;---------------------------------------------------------------------------
; 縦割り(中段)　SLASH STRIKE
[Statedef 2000]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 45;60
ctrl = 0
velset = 0,0,0
anim = 2000

[State 2000, 0]
type = VelSet
trigger1 = Time < 19
x = 3
y = 0

[State 2000, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
priority = 4, Hit
animtype  = Heavy
damage    = 126,ifelse(var(7)!=0,15,0);125
getpower = 165,82
givepower = 41
guardflag = HAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7020
sparkxy = -10,-80
hitsound = S0, 5
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1.8, -3 ;-2.4, -4.5
air.velocity = -1.8, -3 ;-2.4, -4.5
fall = 1
fall.recover = 0
fall.yvelocity = -2.5

[State 2000, 4]
type = explod
trigger1 = AnimElem = 7
ID = 100
ownpal = 1
pos = 25, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = -1

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 20
value = 0, 30

[State 2000, 7]
type = PlaySnd
trigger1 = Time = 21
trigger1 = MoveContact = 0
value = 0, 13

[State 2000, 8]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = S

[State 2000, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 2000, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 2000, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 2000, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 2000, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 2000, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; SLASH CORRIDOR
[Statedef 2100]
type    = S
movetype= A
physics = S
;poweradd= 150
ctrl = 0
anim = 2100

[State 2100, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 2100, 5] 
type = PlayerPush
trigger1 = 1
value = 0

[State 2100, 10]
type = HitDef
Trigger1 = Time = 0
animtype = Medium
ground.type  = High
attr = S, NT
getpower  = 0
givepower = 0
hitflag = M-
guardflag = 
priority = 2, Miss
hitsound = -1, -1
sparkno = -1
guard.sparkno = S7021
p2facing = 1
p1stateno = 2105
p2stateno = 2150
air.velocity = 0, 0
ground.velocity = 0

[State 2100,20]
type = ChangeState
trigger1 = Time >= 1
value = 230
ctrl = 1

;---------------------------------------------------------------------------
; SLASH CORRIDOR (success)
[Statedef 2105]
type    = S
movetype= I
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 2105, 0]
type = TargetBind
trigger1 = Time = 0
time = 1
pos = 20, 0

[State 2105, 1] 
type = NotHitBy
trigger1 = Time = 0
time = 30
value = SCA

[State 2105, 2]
type = PlaySnd
trigger1 = Time = 5
value = 0, 23

[State 2105, 3]
type = PlaySnd
trigger1 = Time = 12
trigger2 = Time = 37
trigger3 = Time = 48
value = 0, 24

[State 2105, 4]
type = PlaySnd
trigger1 = Time = 48
value = 0, 6

[State 2105, 5]
type = Explod
trigger1 = Time = 12
trigger2 = Time = 37
trigger3 = Time = 48
anim = 7004
pos = 40, -65
sprpriority = 7

[State 2105, 6]
type = Explod
trigger1 = Time = 12
trigger2 = Time = 37
trigger3 = Time = 48
anim = 2190
pos = 40, -45
sprpriority = 7

[State 2105, 7]
type = explod
trigger1 = AnimElem = 22
ID = 101
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 2105, 8]
type = null;TargetLifeAdd
trigger1 = Time = 12
value = -105

[State 2105, 9]
type = TargetLifeAdd
;trigger2 = Time = 37
trigger1 = Time = 48
value = -floor(226*ifelse(var(7)!=0,1.5,1));-30

[State 191, 2]
type = varadd
trigger1 = time = 47
var(38) = ifelse(var(7)!=0,620,400)

[State 2105, 10]
type = PowerAdd
trigger1 = Time = 38
value = 374;150

[State 2105, 18]
type = EnvColor
triggerall = WinKO
trigger1 = Time = 13
trigger2 = Time = 38
trigger3 = Time = 49
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 2105, 19]
type = PlaySnd
triggerall = WinKO
trigger1 = Time = 13
trigger2 = Time = 38
trigger3 = Time = 49
value = 0, 40
channel = 14
ignorehitpause = 1

[State 2105, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hit by SLASH CORRIDOR
[Statedef 2150]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 2150, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 2150

[State 2150, 1]
type = ChangeAnim
trigger1 = Time = 13
trigger2 = Time = 37
value = 5002

[State 2150, 2]
type = ChangeAnim
trigger1 = Time = 20
trigger2 = Time = 44
value = 5007

[State 2150, 3]
type = ChangeAnim
trigger1 = Time = 48
value = 5030

[State 2150, 5] 
type = NotHitBy
trigger1 = Time = 0
time = 100
value = SCA

[State 2150, 6] 
type = PalFX
trigger1 = Time % 2 = 0
trigger1 = Time > 11
color = 0
add = 0, 100, 150
mul = 0, 256, 256
time = 1

[State 2150, 7] 
type = PalFX
trigger1 = Time % 2 = 1
trigger1 = Time > 11
color = 0
add = 0, 0, 50
mul = 0, 0, 256
time = 1

[State 2150, 8]
type = ChangeAnim2
trigger1 = Time = 55
value = 2155

[State 2150, 10]
type = ChangeState
trigger1 = Time = 55
value = 2155

;---------------------------------------------------------------------------
; Hit by SLASH CORRIDOR (flying)
[Statedef 2155]
type    = A
movetype= I
physics = N
juggle  = 4
ctrl = 0

[State 2155, 0]
type = VelSet
trigger1 = Time = 0
y = -3.5
x = -16

[State 2155, 5]
type = Gravity
trigger1 = 1

[State 2155, 6] 
type = PalFX
trigger1 = Time % 2 = 1
color = 0
add = 0, 100, 150
mul = 0, 256, 256
time = 1

[State 2155, 7] 
type = PalFX
trigger1 = Time % 2 = 0
color = 0
add = 0, 0, 50
mul = 0, 0, 256
time = 1

[State 2155, 6] 
type = PalFX
trigger1 = Time = 19
color = 0
add = 25, 25, 0
mul = 256, 200, 0
time = 15

[State 2155, 10]
type = ChangeState
trigger1 = Time = 19
value = 1780




;            #### SUPER MOVES ####


;-----------------------------------
; ** ES SLASH BARRIER - QCB + X+Y **
;-----------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -944;-1000
ctrl = 0
anim = 3000

[State 3000, 0]
type = VarSet
trigger1 = Time = 0
v = 6
value = 0

[State 3000, 1]
type = VelSet
trigger1 = Time <= 106
x = 0

[State 3000, 2]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 3000, 3]
type = HitDef
triggerall = P2BodyDist Y = 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 33
trigger6 = AnimElem = 41
trigger7 = AnimElem = 48
trigger8 = AnimElem = 56
trigger9 = AnimElem = 63
attr = S, HA
priority = 5, Hit
getpower = 0
animtype  = Heavy
damage    = 33,4;30, 9
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = 0 ;-10
air.velocity = -2.4,-4.5

[State 3000, 4]
type = HitDef
triggerall = P2BodyDist Y != 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 33
trigger6 = AnimElem = 41
trigger7 = AnimElem = 48
trigger8 = AnimElem = 56
trigger9 = AnimElem = 63
attr = S, HA
priority = 5, Hit
getpower = 0
animtype  = Back
damage    = 33,4;30, 9
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 16
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 71
attr = S, HA
priority = 5, Hit
getpower = 0
animtype  = Back
damage    = 56,7;36, 9
guardflag = MAF
pausetime = 7,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 17
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3,-4.25
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
fall = 1
fall.recover = 0

[State 3000, 6]
type = explod
trigger1 = Time = 1
ownpal = 1
pos = -16, -62
postype = p1
bindtime = 100
sprpriority = 7
anim = 980
supermove = 1

[State 3000, 7]
type = SuperPause
trigger1 = Time = 1
pos = -20, -62
time = 23
anim = -1
movetime = 23

[State 3000, 8]
type = PalFX
trigger1 = TimeMod = 2, 1
time = 2
add = 64, 64, 64

[State 3000, 9]
type = explod
trigger1 = Time = 121
ID = 100
ownpal = 1
pos = 5, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 3000, 10]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 33
trigger6 = AnimElem = 41
trigger7 = AnimElem = 48
trigger8 = AnimElem = 56
trigger9 = AnimElem = 63
value = 0, 9

[State 3000, 11]
type = PlaySnd
trigger1 = AnimElem = 71
value = 0, 13

[State 3000, 12]
type = PlaySnd
trigger1 = Time = 121
value = 0, 14

[State 3000, 13]
type = PlaySnd
trigger1 = Time = 1
value = 0, 15

[State 3000, 15]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 3000, 16]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 2
ignorehitpause = 1

[State 3000, 17]
type = EnvColor
trigger1 = Var(12) = 2
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 3000, 18]
type = Explod
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
anim = 6097
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

; Play sound of ES KO
[State 3000, 19]
type = PlaySnd
triggerall = WinKO
triggerall = MoveHit = 1
trigger1 = Var(9) <= 1
trigger2 = Var(13) = 3000
value = 0, 37
channel = 14
ignorehitpause = 1

; Play sound of normal KO
[State 3000, 20]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(13) != 3000
value = 0, 103
channel = 14
ignorehitpause = 1

[State 3000, 21]
type = VarSet
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
v = 6
value = 497
ignorehitpause = 1

[State 3000, 25]
type = MoveHitReset
trigger1 = Var(12) = 1
ignorehitpause = 1
       
[State 3000, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ** ES SLASH SHOT - QCF + X+Y **
;--------------------------------
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -944;-1000
ctrl = 0
velset = 0,0,0
anim = 3100

[State 3100, 0]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 3100, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Heavy
damage = 28,3;30, 9
getpower = 0
guardflag = MA
pausetime = 7,8
priority = 5, Hit
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -6 ;-7
air.velocity = -2.4,-4.5
air.fall = 1
fall.recover = 0

[State 3100, 10]
type = Helper
trigger1 = Time = 28
ID = 6553
pos = 45, 0
postype = p1
stateno = 3105
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3100, 11]
type = Helper
trigger1 = Time = 38
ID = 6553
pos = 125, 0
postype = p1
stateno = 3105
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3100, 12]
type = Helper
trigger1 = Time = 48
ID = 6553
pos = 205, 0
postype = p1
stateno = 3105
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3100, 20]
type = explod
trigger1 = Time = 1
ownpal = 1
pos = -16, -62
postype = p1
bindtime = 100
sprpriority = 7
anim = 980
supermove = 1

[State 3100, 21]
type = SuperPause
trigger1 = Time = 1
pos = -20, -62
time = 18
anim = -1
movetime = 18 ;23

[State 3100, 22]
type = PalFX
trigger1 = TimeMod = 2, 1
time = 2
add = 64, 64, 64

[State 3100, 25]
type = PosAdd
trigger1 = AnimElem = 11
x = 21

[State 3100, 27]
type = PosAdd
trigger1 = AnimElem = 21
x = -9

[State 3100, 28]
type = PosAdd
trigger1 = AnimElem = 22
x = -12

[State 3100, 29]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 3100, 30]
type = PlaySnd
trigger1 = Time = 1
value = 0, 15

[State 3100, 31]
type = PlaySnd
trigger1 = AnimElem = 12
value = 0, 0

[State 3100, 32]
type = PlaySnd
trigger1 = Time = 28
value = 0, 19

[State 3100, 33]
type = PlaySnd
trigger1 = Time = 38
value = 0, 19

[State 3100, 34]
type = PlaySnd
trigger1 = Time = 48
value = 0, 19

[State 3100, 35]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 3100, 36]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 2
ignorehitpause = 1

[State 3100, 37]
type = EnvColor
trigger1 = Var(12) = 2
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 3100, 38]
type = Explod
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
anim = 6097
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

; Play sound of ES KO
[State 3100, 39]
type = PlaySnd
triggerall = WinKO
triggerall = MoveHit = 1
trigger1 = Var(9) <= 1
trigger2 = Var(13) = 3100
value = 0, 37
channel = 14
ignorehitpause = 1

; Play sound of normal KO
[State 3100, 40]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(13) != 3100
value = 0, 103
channel = 14
ignorehitpause = 1

[State 3100, 41]
type = VarSet
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
v = 6
value = 497
ignorehitpause = 1

[State 3100, 45]
type = MoveHitReset
trigger1 = Var(12) = 1
ignorehitpause = 1
       
[State 3100, 50]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ES SLASH SHOT projectile
[Statedef 3105]
type    = S
movetype= A
juggle  = 4
ctrl = 0
anim = 3105

[State 3105, 0]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0
ignorehitpause = 1

[State 3105, 1]
type = VarSet
trigger1 = Time = 0
v = 0
value = 0

[State 3105, 2]
type = AttackMulSet
trigger1 = parent, Var(7) = 1
ignorehitpause = 1
value = 1

[State 3105, 3]
type = AttackMulSet
trigger1 = parent, Var(7) > 1
ignorehitpause = 1
value = 1.2

[State 3105, 5]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

; Air hit
[State 3105, 5]
type = HitDef
trigger1 = HitCount <= 6
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y != 0
attr = S, NA
priority = 5, Hit
damage = 22,2;33, 9
animtype  = Hard
getpower  = 0
;givepower = 31
guardflag = MA
pausetime = 6, 5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = High
air.velocity = -1.75,-4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 1110
p2facing = 1

; Standing(high) hit
[State 3105, 7]
type = HitDef
triggerall = HitCount <= 6
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 0
trigger2 = HitCount = 2
trigger3 = HitCount = 4
trigger4 = HitCount = 6
attr = S, NA
priority = 5, Hit
damage = 22,2;33, 9
animtype  = Hard
getpower  = 0
;givepower = 31
guardflag = MA
pausetime = 3,1
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-4.25
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 3112
p2facing = 1

; Standing(low) hit
[State 3105, 8]
type = HitDef
triggerall = HitCount <= 6
triggerall = Var(0) = 0
triggerall = P2BodyDist Y = 0
triggerall = P2StateType = S
trigger1 = HitCount = 1
trigger2 = HitCount = 3
trigger3 = HitCount = 5
trigger4 = HitCount = 7
attr = S, NA
priority = 5, Hit
damage = 22,2;33, 9
animtype  = Hard
getpower  = 0
;givepower = 31
guardflag = MA
pausetime = 6, 5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 3114
p2facing = 1

; Crouching hit
[State 3105, 9]
type = HitDef
trigger1 = HitCount < 3
trigger1 = Var(0) = 0
trigger1 = P2BodyDist Y = 0
trigger1 = P2StateType = C
attr = S, NA
priority = 5, Hit
damage = 22,2;33, 9
animtype  = Hard
getpower  = 0
;givepower = 31
guardflag = MA
pausetime = 6, 5
sparkno = S7004
guard.sparkno = S7021
sparkxy = 0, -70
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 23 ;15
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -3.5,-3
air.type = Low
air.velocity = -1.75,-5.5
air.juggle = 4
fall.yvelocity = -2.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
p2stateno = 3116
p2facing = 1

[State 3105, 17]
type = VarAdd
trigger1 = MoveContact; = 1
trigger2 = Var(0) > 0
v = 0
value = 1
ignorehitpause = 1

[State 3105, 19]
type = VarSet
trigger1 = Var(0) > 6
v = 0
value = 0
ignorehitpause = 1

[State 3105, 15]
type = VarAdd
trigger1 = Var(12) > 0 ;parent, Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 3105, 16]
type = VarSet ;ParentVarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0 ;parent, Var(12) = 0
v = 12
value = 2
ignorehitpause = 1

[State 3105, 17]
type = EnvColor
trigger1 = Var(12) = 2 ;parent, Var(12) = 2
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 3105, 18]
type = Explod
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = parent, Var(6) = 0
trigger1 = parent, Var(9) <= 1
anim = 6097
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

; Play sound of ES KO
[State 3105, 19]
type = PlaySnd
triggerall = WinKO
triggerall = MoveHit = 1
trigger1 = parent, Var(9) = 0
trigger2 = parent, Var(13) = 3100
value = 0, 37
channel = 14
ignorehitpause = 1

; Play sound of normal KO
[State 3105, 20]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = parent, Var(13) != 3100
value = 0, 103
channel = 14
ignorehitpause = 1

[State 3105, 21]
type = ParentVarSet
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = parent, Var(6) = 0
trigger1 = parent, Var(9) <= 1
v = 6
value = 497
ignorehitpause = 1

[State 3105, 25]
type = MoveHitReset
trigger1 = Var(12) = 1 ;parent, Var(12) = 1
ignorehitpause = 1
       
[State 3105, 40]
type = DestroySelf
trigger1 = AnimTime = 0

; Hit by ES SLASH SHOT projectile - Air hit
[Statedef 3110]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030

[State 3110, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
x = 0
y = 0

[State 3110, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
x = -2.5
y = -5

[State 3110, 2]
type = Gravity
trigger1 = Time = 2
trigger1 = Time = 4
trigger1 = Time = 6

[State 3110, 3]
type = Gravity
trigger1 = Time = 2
trigger1 = Time = 4
trigger1 = Time = 6

[State 3110, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
time = 1

[State 3110, 9]
type = Changeanim
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 3110, 10]
type = ChangeAnim
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 3110, 20]
type = SelfState
trigger1 = Time = 7
value = 5035

; Hit by ES SLASH SHOT projectile - Standing(high) hit
[Statedef 3112]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5002

[State 3112, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 3112, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 3112, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
time = 1

[State 3112, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 3112, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 3112, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 3112, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 3112, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 3112, 19]
type = Changeanim
trigger1 = Life > 0
trigger1 = Time = 2
value = 5007

[State 3112, 20]
type = SelfState
trigger1 = Time = 9
value = 5001

; Hit by ES SLASH SHOT projectile - Standing(low) hit
[Statedef 3114]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5012

[State 3114, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 3114, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 3114, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
time = 1

[State 3114, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 3114, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 3114, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 3114, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 3114, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 3114, 19]
type = Changeanim
trigger1 = Time > 0
trigger1 = Time = 2
value = 5017

[State 3114, 20]
type = SelfState
trigger1 = Time = 9
value = 5001

; Hit by ES SLASH SHOT projectile - Crouching hit
[Statedef 3116]
type    = c
movetype= H
physics = S
ctrl = 0
anim = 5022

[State 3116, 0]
type = VelSet
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 5
trigger4 = Time = 7
x = 0
y = 0

[State 3116, 1]
type = VelSet
trigger1 = Time = 2
trigger2 = Time = 4
trigger3 = Time = 6
trigger4 = Time = 8
x = -7

[State 3116, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
time = 1

[State 3116, 5]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time < 2
value = 5030

[State 3116, 6]
type = Changeanim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035
trigger1 = AnimExist(5035)

[State 3116, 10]
type = ChangeAnim
trigger1 = Life = 0
trigger1 = Time = 2
value = 5050
trigger1 = !AnimExist(5035)

[State 3116, 17]
type = VelSet
trigger1 = Life = 0
trigger1 = Time = 2
x = -1.75
y = -5.5

[State 3116, 18]
type = SelfState
trigger1 = Life = 0
trigger1 = Time = 2
value = 5035

[State 3116, 19]
type = Changeanim
trigger1 = Life > 0
trigger1 = Time = 2
value = 5027

[State 3116, 20]
type = SelfState
trigger1 = Time = 9
value = 5001

;-----------------------------------------------
; ** ES SLASH DYNAMIC (start) - F,D,D/F + X+Y **
;-----------------------------------------------
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -944;-1000
ctrl = 0
velset = 0,0,0
anim = 3200

[State 3200, 0]
type = SuperPause
trigger1 = Time = 1
pos = -20, -62
time = 18
anim = -1
movetime = 18 ;23

[State 3200, 0]
type = NotHitBy
trigger1 = AnimElem = 9
value = SCA
time = 1

[State 3200, 1]
type = explod
trigger1 = Time = 1
ownpal = 1
pos = -34, -93
postype = p1
bindtime = 100
sprpriority = 7
anim = 980
supermove = 1

[State 3200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 58,7;55, 9
animtype = Hard
getpower = 0
;givepower = 10
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0,8
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10, -20
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.velocity = -2.0,-4.0
down.velocity = -4,0

[State 3200, 3]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage    = 58,7;55, 9
animtype = Hard
getpower = 0
;givepower = 10
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 7,6
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10, -30
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-6
air.velocity = -1.75,-9
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 3200, 4]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 3200, 7]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
value = 0, 0

[State 3200, 9]
type = explod
trigger1 = AnimElem = 5
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 992
sprpriority = -1

[State 3200, 10]
type = PalFX
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
time = 2
add = 64, 64, 64

[State 3200, 10]
type = PlaySnd
trigger1 = Time = 1
value = 0, 15

[State 3200, 12]
type = PalFX
trigger1 = TimeMod = 2, 1
time = 2
add = 64, 64, 64

[State 3200, 15]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 3200, 16]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 2
ignorehitpause = 1

[State 3200, 17]
type = EnvColor
trigger1 = Var(12) = 2
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 3200, 18]
type = Explod
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
anim = 6097
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

[State 3200, 19]
type = PlaySnd
triggerall = WinKO
triggerall = MoveHit = 1
trigger1 = Var(9) <= 1
trigger2 = Var(13) = 3200
value = 0, 37
channel = 14
ignorehitpause = 1

; Play sound of ES KO
[State 3200, 20]
type = VarSet
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
v = 6
value = 497
ignorehitpause = 1

; Play sound of normal KO
[State 3200, 21]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(13) != 3200
value = 0, 103
channel = 14
ignorehitpause = 1

[State 3200, 22]
type = MoveHitReset
trigger1 = Var(12) = 1
ignorehitpause = 1

[State 3200, 30]
type = ChangeState
trigger1 = AnimElem = 10
value = 3203
ctrl = 0
        
;---------------------------------------------
; ** ES SLASH DYNAMIC (air) - F,D,D/F + X+Y **
;---------------------------------------------
[Statedef 3203]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0

[State 3203, 0]
type = VelSet
trigger1 = Time = 0
x = 1.7
y = -14.8

[State 3203, 1]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 3203, 3]
type = HitDef
trigger1 = Time = 2
attr = S, NA
damage    = 58,7;55, 9
animtype = Hard
getpower = 0
;givepower = 10
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 7,7
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
;ground.velocity = -1.25,-4.25
ground.velocity = -1.75,-17.5
air.velocity = -1.75,-16
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 3203, 4]
type = HitDef
trigger1 = AnimElem = 22
attr = S, NA
damage    = 58,7;55, 9
animtype = Hard
getpower = 0
;givepower = 10
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 7,7
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-4.25
air.velocity = -1.75,-8
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 3203, 4]
type = HitDef
trigger1 = AnimElem = 29
trigger2 = AnimElem = 36
attr = S, NA
damage    = 58,7;55, 9
animtype = Hard
getpower = 0
;givepower = 10
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 7,7
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-50
hitsound = S0, 5
guardsound = S0, 104
ground.type = Low
ground.slidetime = 5
ground.hittime  = 14
airguard.velocity = -1.9,-.8
down.velocity = -4,0
ground.velocity = -1.25,-4.25
air.velocity = -1.75,-5
fall.yvelocity = -2.5
fall = 1
fall.recover = 0

[State 3203, 8]
type = Null ;PalFX
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
time = 2
add = 64, 64, 64

[State 3203, 9]
type = Gravity
trigger1 = Time >= 0

[State 3203, 10]
type = PlaySnd
trigger1 = AnimElem = 22
trigger2 = AnimElem = 29
trigger3 = AnimElem = 36
;trigger4 = AnimElem = 12
value = 0, 0

[State 3200, 12]
type = PalFX
trigger1 = TimeMod = 2, 1
time = 2
add = 64, 64, 64

[State 3203, 15]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 3203, 16]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 2
ignorehitpause = 1

[State 3203, 17]
type = EnvColor
trigger1 = Var(12) = 2
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 3203, 18]
type = Explod
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
anim = 6097
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

; Play sound of ES KO
[State 3203, 19]
type = PlaySnd
triggerall = WinKO
triggerall = MoveHit = 1
trigger1 = Var(9) <= 1
trigger2 = Var(13) = 3200
trigger3 = Var(13) = 3203
value = 0, 37
channel = 14
ignorehitpause = 1

; Play sound of normal KO
[State 3203, 20]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(13) != 3200
trigger1 = Var(13) != 3203
value = 0, 103
channel = 14
ignorehitpause = 1

[State 3203, 30]
type = VarSet
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(6) = 0
trigger1 = Var(9) <= 1
v = 6
value = 497
ignorehitpause = 1

[State 3203, 25]
type = MoveHitReset
trigger1 = Var(12) = 1
ignorehitpause = 1

[State 3203, 30]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 3205
ctrl = 0

;-------------------------------------------------
; ** ES SLASH DYNAMIC (landing) - F,D,D/F + X+Y **
;-------------------------------------------------
[Statedef 3205]
type    = S
movetype= I
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 3205

[State 3205, 3]
type = explod
trigger1 = AnimElem = 4
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = -1

[State 3205, 6]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3205, 8]
type = PlaySnd
trigger1 = Time = 0
value = 0, 14

[State 3205, 9]
type = PlaySnd
trigger1 = Time = 0
value = 0, 20

[State 3205, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; ** SUPER Mode **
;-----------------
[Statedef 4000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0,0
anim = 4000

[State 4000, 0]
type = VarSet
trigger1 = Time = 0
v = 7
value = 328

[State 4000, 1]
type = VarSet
trigger1 = Time = 0
v = 8
value = 1

[State 4000, 2]
type = AfterImage
trigger1 = AnimElem = 2
length = 5
palbright = 255, 255, 0
palmul = 1.2, 1.2, 1
trans = add1
timegap = 1
framegap =  4
time = 700

[State 4000, 3]
type = HitDef
trigger1 = Time = 16
attr = S, NA
animtype  = Heavy
damage    = 140,17;100
guardflag = MA;F
pausetime = 2,8
getpower = 256,128;0
givepower = 0,64
sparkno = S7004
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1.8, -3 ;-2.4, -4.5
air.velocity = -1.8, -3 ;-2.4, -4.5
fall = 1
fall.recover = 0
fall.yvelocity = -2.5

[State 4000, 4]
type = explod
trigger1 = Time = 6
ID = 100
ownpal = 1
pos = 0, 0
postype = p1
bindtime = 1
anim = 4010
sprpriority = 3

[State 4000, 5]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 34

[State 4000, 6]
type = PlaySnd
trigger1 = Time = 6
value = 0, 32

[State 4000, 7]
type = PlaySnd
trigger1 = Time = 4
value = 0, 31

[State 4000, 15]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 4000, 16]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 4000, 17]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 4000, 18]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 4000, 19]
type = PlaySnd
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401
value = 0, 103
channel = 14
ignorehitpause = 1

[State 4000, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------
; ** DARKNESS SLASH - F,B,D,F + A+B **
;-------------------------------------
; ** Running forward **
[Statedef 4600]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
poweradd = -944;-1000
anim = 4600

[State 4600, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 4600, 1]
type = VelSet
trigger1 = Time >= 43
x = 5

[State 4600, 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 43

[State 4600, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
getpower = 0
animtype  = Heavy
damage    = 0, 0
guardflag = M
pausetime = 8,8
sparkno = S7004
guard.sparkno = S7021
priority = 5, Hit
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = Low
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -3
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
p2stateno = 4660
p2facing = 1
fall = 1
fall.recover = 0
hitonce = 1

[State 4600, 6]
type = explod
trigger1 = Time = 5
ownpal = 1
pos = -40, -62
postype = p1
bindtime = 100
sprpriority = 7
anim = 981
supermove = 1

[State 4600, 7]
type = SuperPause
trigger1 = Time = 0
pos = -20, -62
time = 43
anim = -1
darken = 0
movetime = 43

[State 4600, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4600, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4600, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4600, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4600, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4600, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4600, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4600, 15]
type = BGPalFX
trigger1 = 1
time = 1
add = 25, 25, 25
mul = 100, 100, 100
ignorehitpause = 1

[State 4600, 17]
type = PlaySnd
trigger1 = Time = 1
value = 0, 33

[State 4600, 18]
type = PlaySnd
trigger1 = Time >= 43
trigger1 = Time % 14 = 2
value = 0, 20
persistent = 4

[State 4600, 19]
type = explod
trigger1 = Time >= 43
trigger1 = numexplod(100) = 0
ID = 100
ownpal = 1
pos = -16, 22
postype = p1
bindtime = 1
anim = 999
sprpriority = 7

[State 4600, 20]
type = Helper
trigger1 = Time = 0
ID = 4600
stateno = 4700
supermovetime = 43
ownpal = 1

[State 4600, 21]
type = Helper
trigger1 = Time = 0
ID = 4600
stateno = 4750
supermovetime = 43
ownpal = 1

[State 4600, 26]
type = VarSet
trigger1 = MoveHit = 1
trigger1 = Var(15) = 0
v = 15
value = 7
ignorehitpause = 1

[State 4600, 27]
type = ChangeAnim
trigger1 = MoveHit = 1
value = 4610

[State 4600, 28]
type = ChangeState
trigger1 = MoveHit = 1
value = 4620

[State 4600, 29]
type = ChangeState
trigger1 = MoveContact; = 1
value = 4610
ctrl = 1

[State 4600, 30]
type = ChangeState
trigger1 = Time = 99
value = 101
ctrl = 1

; ** Combo **
[Statedef 4610]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4610

[State 4610, 0]
type = BGPalFX
trigger1 = 1
time = 1
add = 25, 25, 25
mul = 100, 100, 100
ignorehitpause = 1

[State 4610, 1]
type = VelSet
trigger1 = 1
x = 0.75

[State 4610, 2]
type = VelSet
trigger1 = Time = [2, 9]
trigger2 = Time = [17, 25]
trigger3 = Time = [32, 40]
trigger4 = Time = [47, 53]
trigger5 = Time = [58, 66]
trigger6 = Time = [73, 81]
trigger7 = Time = [89, 97]
trigger8 = Time = [104, 112]
trigger9 = Time = [117, 225]
trigger10 = Time = [132, 140]
x = 0

[State 4610, 4]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 22
trigger5 = AnimElem = 30
trigger6 = AnimElem = 38
trigger7 = AnimElem = 47
trigger8 = AnimElem = 55
trigger9 = AnimElem = 60
trigger10 = AnimElem = 66
attr = S, HA
getpower = 0
priority = 5, Hit
animtype  = Heavy
damage    = 28,3;36, 3
guardflag = MAF
pausetime = 0, 12
sparkno = -1
guard.sparkno = S7021
sparkxy = -25+(random%30), -80+(random%30) ;-10,-80
hitsound   = S0, 17
guardsound = S0, 104
ground.type = High
ground.cornerpush.veloff = 0
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -2.5
fall.yvelocity = -2.5
air.velocity = -2.2,-4.25
p1stateno = 4620
p2stateno = 4655
p2facing = 1
fall = 1
fall.recover = 0

[State 4610, 5]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4610, 6]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4610, 7]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4610, 8]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4610, 9]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4610, 10]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4610, 11]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4610, 12]
type = ChangeState
triggerall = MoveContact = 0
trigger1 = Time = 9
trigger2 = Time = 24
trigger3 = Time = 39
trigger4 = Time = 54
trigger5 = Time = 65
trigger6 = Time = 80
trigger7 = Time = 96
trigger8 = Time = 111
trigger9 = Time = 124
trigger10 = Time = 139
value = 4625

[State 4610, 13]
type = MoveHitReset
trigger1 = Time = 9
trigger2 = Time = 24
trigger3 = Time = 39
trigger4 = Time = 54
trigger5 = Time = 65
trigger6 = Time = 80
trigger7 = Time = 96
trigger8 = Time = 111
trigger9 = Time = 124
trigger10 = Time = 139
time = 1

[State 4610, 14]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 3
value = 0, 9

[State 4610, 15]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 18
trigger2 = Time = 48
trigger3 = Time = 59
trigger4 = Time = 90
trigger5 = Time = 105
trigger6 = Time = 118
value = 0, 13

[State 4610, 16]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 33
trigger2 = Time = 133
value = 0, 12

[State 4610, 17]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 74
value = 0, 0

[State 4610, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 4627
ctrl = 1

; ** Combo (hitting) **
[Statedef 4620]
type    = S
movetype= A
physics = N ;S
juggle  = 4
ctrl = 0

[State 4620, 0]
type = VelSet
trigger1 = 1
x = 1.25

[State 4620, 1]
type = VelSet
trigger1 = AnimElemTime(1) = [2, 9]
trigger2 = AnimElemTime(1) = [17, 25]
trigger3 = AnimElemTime(1) = [32, 40]
trigger4 = AnimElemTime(1) = [47, 53]
trigger5 = AnimElemTime(1) = [58, 66]
trigger6 = AnimElemTime(1) = [73, 81]
trigger7 = AnimElemTime(1) = [89, 97]
trigger8 = AnimElemTime(1) = [104, 112]
trigger9 = AnimElemTime(1) = [117, 125]
trigger10 = AnimElemTime(1) = [132, 140]
trigger11 = P2Dist X < 40
x = 0

[State 4620, 2]
type = BGPalFX
trigger1 = 1
time = 1
add = 25, 25, 25
mul = 100, 100, 100
ignorehitpause = 1

[State 4620, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 4620, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 4620, 5]
type = TargetState
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 73
trigger6 = AnimElemTime(1) = 104
trigger7 = AnimElemTime(1) = 117
value = 4655

[State 4620, 6]
type = TargetState
trigger1 = AnimElemTime(1) = 58
trigger2 = AnimElemTime(1) = 89
trigger3 = AnimElemTime(1) = 132
value = 4660

[State 200, 1]
type = varset
trigger1 = AnimElemTime(1) = 132
var(38) = ifelse(var(7)!=0,630,420)

[State 4620, 6]
type = TargetLifeAdd
triggerall = Var(7) = 0
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 73
trigger6 = AnimElemTime(1) = 104
trigger7 = AnimElemTime(1) = 117
trigger8 = AnimElemTime(1) = 58
trigger9 = AnimElemTime(1) = 89
trigger10 = AnimElemTime(1) = 132
value = -28;-23
kill = 0

[State 4620, 6]
type = TargetLifeAdd
triggerall = Var(7) > 0
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 73
trigger6 = AnimElemTime(1) = 104
trigger7 = AnimElemTime(1) = 117
trigger8 = AnimElemTime(1) = 58
trigger9 = AnimElemTime(1) = 89
trigger10 = AnimElemTime(1) = 132
value = -42;-28
kill = 0

[State 4620, 7]
type = Explod
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 58
trigger6 = AnimElemTime(1) = 73
trigger7 = AnimElemTime(1) = 89
trigger8 = AnimElemTime(1) = 104
trigger9 = AnimElemTime(1) = 117
trigger10 = AnimElemTime(1) = 132
anim = 7004
pos = 50, -50
random = 40, 30
sprpriority = 7

[State 4620, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4620, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4620, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4620, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4620, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4620, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4620, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = AnimElemTime(1) != [0,8]
trigger1 = AnimElemTime(1) != [16,23]
trigger1 = AnimElemTime(1) != [30,38]
trigger1 = AnimElemTime(1) != [45,53]
trigger1 = AnimElemTime(1) != [56,64]
trigger1 = AnimElemTime(1) != [71,79]
trigger1 = AnimElemTime(1) != [87,95]
trigger1 = AnimElemTime(1) != [102,110]
trigger1 = AnimElemTime(1) != [115,123]
trigger1 = AnimElemTime(1) != [130,138]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4620, 15]
type = VarSet
trigger1 = AnimElemTime(1) = 1
trigger2 = AnimElemTime(1) = 16
trigger3 = AnimElemTime(1) = 31
trigger4 = AnimElemTime(1) = 46
trigger5 = AnimElemTime(1) = 57
trigger6 = AnimElemTime(1) = 72
trigger7 = AnimElemTime(1) = 87
trigger8 = AnimElemTime(1) = 103
trigger9 = AnimElemTime(1) = 116
trigger10 = AnimElemTime(1) = 131
v = 15
value = 7

[State 4620, 16]
type = PlaySnd
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 58
trigger6 = AnimElemTime(1) = 73
trigger7 = AnimElemTime(1) = 89
trigger8 = AnimElemTime(1) = 104
trigger9 = AnimElemTime(1) = 117
trigger10 = AnimElemTime(1) = 132
value = 0, 6

[State 4620, 17]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 3
value = 0, 9

[State 4620, 18]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 18
trigger2 = Time = 48
trigger3 = Time = 59
trigger4 = Time = 90
trigger5 = Time = 105
trigger6 = Time = 118
value = 0, 13

[State 4620, 19]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 33
trigger2 = Time = 133
value = 0, 12

[State 4620, 20]
type = PlaySnd
triggerall = MoveHit = 0
trigger1 = Time = 74
value = 0, 0

[State 4620, 21]
type = HitAdd
trigger1 = AnimElemTime(1) = 2
trigger2 = AnimElemTime(1) = 17
trigger3 = AnimElemTime(1) = 32
trigger4 = AnimElemTime(1) = 47
trigger5 = AnimElemTime(1) = 58
trigger6 = AnimElemTime(1) = 73
trigger7 = AnimElemTime(1) = 89
trigger8 = AnimElemTime(1) = 104
trigger9 = AnimElemTime(1) = 117
trigger10 = AnimElemTime(1) = 132
value = 1

[State 4620, 28]
type = ChangeState
trigger1 = Time = 0
trigger1 = target, Pos Y != 0
value = 4625

[State 4620, 29]
type = TargetBind
trigger1 = 1
pos = 50, 0
time = 2

[State 4620, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 4630
ctrl = 1

; Didn't connect
[Statedef 4625]
type    = S
physics = N
ctrl = 0
anim = 101

[State 4625, 1]
type = VelSet
trigger1 = Time = 0
x = 4

[State 4625, 2]
type = VelMul
trigger1 = Time >= 0
x = 0.925

[State 4625, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 4625, 4]
type = explod
trigger1 = AnimElem = 1
ID = 100
ownpal = 1
pos = 20, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 4625, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Didn't connect (end of combo)
[Statedef 4627]
type    = S
physics = N
ctrl = 0
anim = 101

[State 4627, 1]
type = VelSet
trigger1 = Time = 0
x = 3

[State 4627, 2]
type = VelMul
trigger1 = Time >= 0
x = 0.925

[State 4627, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 14

[State 4627, 4]
type = explod
trigger1 = AnimElem = 1
ID = 100
ownpal = 1
pos = 20, 0
postype = p1
bindtime = 1
anim = 993
sprpriority = 7

[State 4627, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ** Air Combo (hitting) **
[Statedef 4630]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 4630
ctrl = 0

[State 4630, 0]
type = VarSet
trigger1 = Time = 0
v = 6
value = 0

[State 4630, 0]
type = VelSet
trigger1 = 1
x = 1.25

[State 4630, 1]
type = VelSet
trigger1 = P2Dist X < 40
trigger1 = Time < 63
trigger2 = Time = [2, 9]
trigger3 = Time = [10, 17]
trigger4 = Time = [18, 25]
trigger5 = Time = [37, 44]
trigger6 = Time = [55, 62]
x = 0

[State 4630, 2]
type = VelSet
trigger1 = Time = [2, 9]
trigger2 = Time = [10, 17]
trigger3 = Time = [18, 25]
trigger4 = Time = [37, 44]
trigger5 = Time = [55, 62]
y = 0

[State 4630, 3]
type = BGPalFX
trigger1 = !WinKO
time = 1
add = 25, 25, 25
mul = 100, 100, 100
ignorehitpause = 1

[State 4630, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 4630, 5]
type = TargetBind
trigger1 = Time < 25
pos = 50, 0
time = 2

[State 4630, 5]
type = TargetBind
trigger1 = Time = [25, 62]
pos = 50, -15
time = 2

[State 4630, 6]
type = TargetState
trigger1 = Time = 2
trigger2 = Time = 10
value = 4665

[State 4630, 6]
type = TargetState
trigger1 = Time = 18
trigger2 = Time = 37
value = 4667

[State 4630, 6]
type = TargetState
trigger1 = Time = 55
value = 4670

[State 4630, 7]
type = Explod
trigger1 = Time = 2
trigger2 = Time = 10
trigger3 = Time = 18
trigger4 = Time = 37
trigger5 = Time = 55
anim = 7004
pos = 50, -50
sprpriority = 7

[State 4630, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4630, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4630, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4630, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4630, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4630, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4630, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4630, 15]
type = PlaySnd
trigger1 = Time = 2
trigger2 = Time = 10
trigger3 = Time = 18
trigger4 = Time = 37
trigger5 = Time = 55
value = 0, 6

[State 4630, 16]
type = PlaySnd
triggerall = !WinKO
trigger1 = Time = 3
trigger2 = Time = 11
trigger3 = Time = 19
trigger4 = Time = 38
value = 0, 0

[State 4630, 17]
type = PlaySnd
triggerall = !WinKO
trigger1 = Time = 56
value = 0, 12

[State 4630, 18]
type = HitAdd
trigger1 = Time = 2
trigger2 = Time = 10
trigger3 = Time = 18
trigger4 = Time = 37
trigger5 = Time = 55
value = 1

[State 4630, 20]
type = VelSet
trigger1 = Time = 10
trigger2 = Time = 18
trigger3 = Time = 26
y = -14

[State 4630, 21]
type = VelSet
trigger1 = Time = 45
y = -9.7

[State 4630, 22]
type = VelSet
trigger1 = Time = 63
y = -5.4

[State 4630, 23]
type = TargetLifeAdd
triggerall = Var(7) = 0
trigger1 = Time = 2
trigger2 = Time = 10
value = -23
kill = 0

[State 4630, 24]
type = TargetLifeAdd
triggerall = Var(7) = 0
trigger1 = Time = 18
trigger2 = Time = 37
trigger3 = Time = 55
value = -23

[State 4630, 25]
type = TargetLifeAdd
triggerall = Var(7) > 0
trigger1 = Time = 2
trigger2 = Time = 10
value = -28
kill = 0

[State 4630, 26]
type = TargetLifeAdd
triggerall = Var(7) > 0
trigger1 = Time = 18
trigger2 = Time = 37
trigger3 = Time = 55
value = -28

[State 4630, 29]
type = Gravity
trigger1 = Time > 26
trigger1 = Time != [37, 44]
trigger1 = Time != [55, 64]

[State 4630, 30]
type = EnvColor
;triggerall = !WinKO
trigger1 = Time = 2
trigger2 = Time = 10
trigger3 = Time = 18
trigger4 = Time = 37
trigger5 = Time = 55
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 4630, 31]
type = EnvColor
triggerall = Var(6) != 0
trigger1 = Time = 3
trigger2 = Time = 11
trigger3 = Time = 19
trigger4 = Time = 38
trigger5 = Time = 56
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 4630, 30]
type = VarSet
triggerall = !WinKO
trigger1 = Time = 3
trigger2 = Time = 11
trigger3 = Time = 19
trigger4 = Time = 38
trigger5 = Time = 56
v = 15
value = 5

[State 4630, 31]
type = VarSet
trigger1 = WinKO
trigger1 = Var(15) > 0
v = 15
value = 0
ignorehitpause = 1

[State 4630, 33]
type = PosSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 4630, 34]
type = PlaySnd
triggerall = WinKO
trigger1 = Var(6) = 0
value = 0, 37
ignorehitpause = 1

[State 4630, 35]
type = PlaySnd
triggerall = WinKO
;trigger1 = Var(6) = 0
trigger1 = Time = 2
trigger2 = Time = 10
trigger3 = Time = 18
trigger4 = Time = 37
trigger5 = Time = 55
value = 0, 37
ignorehitpause = 1

[State 4630, 36]
type = Helper
trigger1 = WinKO
trigger1 = Var(6) = 0
ID = 4680
pos = 0, 0
postype = p1
stateno = 4680
helpertype = normal
keyctrl = 0
ownpal = 1

[State 4630, 37]
type = VarSet
trigger1 = WinKO
trigger1 = Var(6) = 0
v = 6
value = 497
ignorehitpause = 1

[State 4630, 40]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3205
ctrl = 1

; ** Combo (hit up) **
[Statedef 4655]
type    = S
movetype= H
physics = S
juggle  = 4
ctrl = 0

[State 4655, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4655, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4655, 5]
type = ChangeAnim
trigger1 = Time = 0
value = 5002

[State 4655, 10]
type = ChangeAnim
trigger1 = Time = 8
value = 5007

[State 4655, 15]
type = Null ;LifeAdd
trigger1 = Time = 2
value = -23
kill = 0

[State 4655, 20]
type = SelfState
trigger1 = Time = 20
value = 0
ctrl = 1

; ** Combo (hit down) **
[Statedef 4660]
type    = S
movetype= H
physics = S
juggle  = 4
ctrl = 0

[State 4660, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4660, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4660, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 4660, 5]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 4660, 10]
type = ChangeAnim
trigger1 = Time = 8
value = 5017

[State 4660, 15]
type = Null ;LifeAdd
trigger1 = Time = 2
value = -23
kill = 0

[State 4660, 19]
type = SelfState
trigger1 = Time = 0
trigger1 = Pos Y != 0
value = 5000

[State 4660, 20]
type = SelfState
trigger1 = Time = 20
value = 0
ctrl = 1

; ** Combo (air hit) - Doesn't kill **
[Statedef 4665]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0

[State 4665, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4665, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4665, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 4665, 5]
type = Null ;LifeAdd
trigger1 = Time = 2
value = -23
kill = 0

[State 4665, 10]
type = VelSet
trigger1 = Time = 8
y = -9
x = -1.5

[State 4665, 9]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 4665, 11]
type = ChangeAnim
trigger1 = Time = 8
trigger1 = AnimExist(5035)
value = 5035

[State 4665, 12]
type = ChangeAnim
trigger1 = Time = 8
value = 5050
trigger1 = !AnimExist(5035)

[State 4665, 15]
type = Gravity
trigger1 = 1

[State 4665, 20]
type = SelfState
trigger1 = Time = 20
value = 5035 ;0
ctrl = 0

; ** Combo (air hit) **
[Statedef 4667]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0

[State 4667, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4667, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4667, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 4667, 5]
type = Null ;LifeAdd
trigger1 = Time = 2
value = -23

[State 4667, 10]
type = VelSet
trigger1 = Time = 8
y = -9
x = -1.5

[State 4667, 9]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 4667, 11]
type = ChangeAnim
trigger1 = Time = 8
trigger1 = AnimExist(5035)
value = 5035

[State 4667, 12]
type = ChangeAnim
trigger1 = Time = 8
value = 5050
trigger1 = !AnimExist(5035)

[State 4667, 15]
type = Gravity
trigger1 = 1

[State 4667, 20]
type = SelfState
trigger1 = Time = 20
value = 5035 ;0
ctrl = 0

; ** Combo (air hit-last one) **
[Statedef 4670]
type    = S
movetype= H
physics = N
juggle  = 4
ctrl = 0

[State 4670, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4670, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4670, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 4670, 5]
type = LifeAdd
trigger1 = Time = 2
value = -23

[State 4670, 10]
type = VelSet
trigger1 = Time = 8
y = -9
x = -1.5

[State 4670, 9]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 4670, 11]
type = ChangeAnim
trigger1 = Time = 8
trigger1 = AnimExist(5035)
value = 5035

[State 4670, 12]
type = ChangeAnim
trigger1 = Time = 8
value = 5050
trigger1 = !AnimExist(5035)

[State 4670, 15]
type = Gravity
trigger1 = 1

[State 4670, 20]
type = SelfState
trigger1 = Time = 20
value = 5035 ;0
ctrl = 0

; ** KO flash **
[Statedef 4680]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0
anim = 4700

[State 4680, 0]
type = PalFX
trigger1 = Time = 0
time = 1
color = 0
add = 25, 100, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4680, 4]
type = PalFX
trigger1 = Time = 5
time = 2
color = 0
add = 0, 100, 100
mul = 255, 255, 255
ignorehitpause = 1

[State 4680, 5]
type = PalFX
trigger1 = Time = 8
time = 4
color = 0
add = 100, 25, 100
mul = 255, 255, 255
ignorehitpause = 1

[State 4680, 6]
type = PalFX
trigger1 = Time = 10
time = 4
color = 0
add = 25, 100, 100
mul = 255, 255, 255
ignorehitpause = 1

[State 4680, 9]
type = Explod
trigger1 = Time = 0
anim = 6089
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ignorehitpause = 1
ownpal = 0

[State 4680, 10]
type = DestroySelf
trigger1 = Time = 30
value = SCA
time = 1

; ** Shadow 1 **
[Statedef 4700]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4700

[State 4700, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 4700, 20]
type = ChangeState
trigger1 = Time = 6
value = 4705
ctrl = 1

[Statedef 4705]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4605

[State 4705, 0]
type = AssertSpecial
trigger1 = Time %2 = 0
flag = invisible

[State 4705, 1]
type = VelSet
trigger1 = Time >= 43
x = 5

[State 4705, 2]
type = VarSet
trigger1 = Time = 0
v = 10
value = -1

[State 4705, 3]
type = VarSet
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620
v = 10
value = 8

[State 4705, 4]
type = VarAdd
trigger1 = Var(10) > 0
v = 10
value = -1

[State 4705, 5]
type = PosSet
trigger1 = ParentDist X < 0
x = parent, Pos X

[State 4705, 6]
type = ChangeState
trigger1 = Var(10) = 0
value = 4710

[State 4705, 7]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1000

[State 4705, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4705, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4705, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4705, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4705, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4705, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4705, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4705, 20]
type = DestroySelf
trigger1 = parent, StateNo != 4600
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620

[Statedef 4710]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4615

[State 4710, 0]
type = AssertSpecial
trigger1 = Time %2 = 0
flag = invisible

[State 4710, 1]
type = PosSet
trigger1 = 1
x = parent, Pos X

[State 4710, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4710, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4710, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4710, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4710, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4710, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4710, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4710, 19]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = parent, StateNo = 4630
value = 4780

[State 4710, 20]
type = DestroySelf
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620
trigger1 = parent, StateNo != 4630

; ** Shadow 2 **
[Statedef 4750]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4700

[State 4750, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 4750, 20]
type = ChangeState
trigger1 = Time = 12
value = 4755
ctrl = 1

[Statedef 4755]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4605

[State 4755, 0]
type = AssertSpecial
trigger1 = Time %2 = 0
flag = invisible

[State 4755, 1]
type = VelSet
trigger1 = Time >= 43
x = 5

[State 4755, 2]
type = VarSet
trigger1 = Time = 0
v = 11
value = -1

[State 4755, 3]
type = VarSet
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620
v = 11
value = 14

[State 4755, 4]
type = VarAdd
trigger1 = Var(11) > 0
v = 11
value = -1

[State 4755, 5]
type = PosSet
trigger1 = ParentDist X < 0
x = parent, Pos X

[State 4755, 6]
type = ChangeState
trigger1 = Var(11) = 0
value = 4710

[State 4755, 7]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1000

[State 4755, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4755, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4755, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4755, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4755, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4755, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4755, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != 48
trigger1 = Time != 50
trigger1 = Time != [42,46]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4755, 20]
type = DestroySelf
trigger1 = parent, StateNo != 4600
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620

[Statedef 4760]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 4615

[State 4760, 0]
type = AssertSpecial
trigger1 = Time %2 = 0
flag = invisible

[State 4760, 1]
type = PosSet
trigger1 = 1
x = parent, Pos X

[State 4760, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4760, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4760, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4760, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4760, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4760, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4760, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != [0,8]
trigger1 = Time != [16,23]
trigger1 = Time != [30,38]
trigger1 = Time != [45,53]
trigger1 = Time != [56,64]
trigger1 = Time != [71,79]
trigger1 = Time != [87,95]
trigger1 = Time != [102,110]
trigger1 = Time != [115,123]
trigger1 = Time != [130,138]
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4760, 20]
type = DestroySelf
trigger1 = parent, StateNo != 4610
trigger1 = parent, StateNo != 4620

; ** Shadow - Air Combo **
[Statedef 4780]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 4630     
ctrl = 0

[State 4780, 0]
type = VelSet
trigger1 = 1
x = 1.25

[State 4780, 1]
type = VelSet
trigger1 = P2Dist X < 40
trigger1 = Time < 63
trigger2 = Time = [2, 9]
trigger3 = Time = [10, 17]
trigger4 = Time = [18, 25]
trigger5 = Time = [37, 44]
trigger6 = Time = [55, 62]
x = 0

[State 4780, 2]
type = VelSet
trigger1 = Time = [2, 9]
trigger2 = Time = [10, 17]
trigger3 = Time = [18, 25]
trigger4 = Time = [37, 44]
trigger5 = Time = [55, 62]
y = 0

[State 4780, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 4780, 8]
type = PalFX
trigger1 = TimeMod = 14, 0
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 100, 100
mul = 0, 255, 255
ignorehitpause = 1

[State 4780, 9]
type = PalFX
trigger1 = TimeMod = 14, 2
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 0, 100
mul = 0, 0, 255
ignorehitpause = 1

[State 4780, 10]
type = PalFX
trigger1 = TimeMod = 14, 4
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 0, 100
mul = 255, 0, 255
ignorehitpause = 1

[State 4780, 11]
type = PalFX
trigger1 = TimeMod = 14, 6
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 0, 0
mul = 255, 0, 0
ignorehitpause = 1

[State 4780, 12]
type = PalFX
trigger1 = TimeMod = 14, 8
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 75, 0
mul = 255, 192, 0
ignorehitpause = 1

[State 4780, 13]
type = PalFX
trigger1 = TimeMod = 14, 10
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 100, 50, 0
mul = 255, 255, 0
ignorehitpause = 1

[State 4780, 14]
type = PalFX
trigger1 = TimeMod = 14, 12
trigger1 = Time != [0,8]
trigger1 = Time != [36,43]
trigger1 = Time != 62
time = 1
color = 0
add = 0, 100, 0
mul = 0, 255, 0
ignorehitpause = 1

[State 4780, 20]
type = VelSet
trigger1 = Time = 10
trigger2 = Time = 18
trigger3 = Time = 26
y = -14

[State 4780, 21]
type = VelSet
trigger1 = Time = 45
y = -9.7

[State 4780, 22]
type = VelSet
trigger1 = Time = 63
y = -5.4

[State 4780, 25]
type = Gravity
trigger1 = Time > 26
trigger1 = Time != [37, 44]
trigger1 = Time != [55, 64]

[State 4780, 26]
type = AssertSpecial
trigger1 = Time %2 = 0
flag = invisible

[State 4780, 29]
type = PosSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 4780, 30]
type = DestroySelf
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

;---------------------------------------------------------------------------
;-------------------------------------
; ** DARKNESS WIND - D,D, + A+B/C+D **
;-------------------------------------
; Charging
[Statedef 6000]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -932;-2000
ctrl = 0
velset = 0,0,0
anim = 6000

[State 6000, 5]
type = Width
trigger1 = Time > 6
player = 0, 10

[State 6000, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 36

[State 6000, 7]
type = PlaySnd
trigger1 = Time = 5
value = 0, 34
channel = 0

[State 6000, 10]
type = explod
trigger1 = Time = [0,3]
anim = 6090
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 11]
type = explod
trigger1 = Time = [4,7]
anim = 6091
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 12]
type = explod
trigger1 = Time = [8,11]
anim = 6092
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 13]
type = explod
trigger1 = Time = [12,15]
anim = 6093
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 14]
type = explod
trigger1 = Time = [16,19]
anim = 6094
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 15]
type = explod
trigger1 = Time = [20,23]
anim = 6095
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 16]
type = explod
trigger1 = Time = [24,27]
trigger2 = Time = [28,200]
trigger2 = TimeMod = 2, 0
anim = 6096
ownpal = 1
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 1

[State 6000, 20]
type = ChangeState
trigger1 = Time = 120
value = 6010
ctrl = 1

; Hitting
[Statedef 6010]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 6010

[State 6010, 0]
type = VarSet
trigger1 = Time = 0
v = 5
value = 0

[State 6010, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Heavy
damage    = 554;660
guardflag =
pausetime = 7,8
getpower = 0
priority = 6, Hit
sparkno = S6098 ;2
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5
fall = 1
fall.yvelocity = -2.5
fall.recover = 0
p2stateno = 940
p2facing = 1

[State 6010, 6]
type = PlaySnd
trigger1 = Time = 5
value = 0, 35

[State 6010, 8]
type = Width
trigger1 = Time < 10
player = 0, 10

[State 6010, 9]
type = Width
trigger1 = Time = [10, 40]
player = 30, 10

[State 6010, 10]
type = Helper
trigger1 = Time = 1
ID = 1107
pos = 0, 0
postype = p1
stateno = 6050
helpertype = normal
keyctrl = 0
ownpal = 1

[State 6010, 15]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
;trigger1 = Var(12) = 401
trigger1 = Var(5) = 0
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 6010, 16]
type = Explod
trigger1 = WinKO
trigger1 = Var(5) = 0
trigger1 = MoveHit = 1
anim = 6099
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ignorehitpause = 1
ownpal = 1

[State 6010, 17]
type = PlaySnd
trigger1 = WinKO
trigger1 = Var(5) = 0
trigger1 = MoveHit = 1
value = 0, 37
ignorehitpause = 1

[State 6010, 18]
type = VarSet
trigger1 = WinKO
trigger1 = Var(5) = 0
trigger1 = MoveHit = 1
v = 5
value = 497
ignorehitpause = 1

[State 6010, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Cloud
[Statedef 6050]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 6050

[State 6050, 0]
type = SprPriority
trigger1 = AnimElem = 17
value = 7

[State 6050, 1]
type = ParentVarSet
trigger1 = Time = 0
v = 5
value = 0

[State 6050, 2]
type = VarSet
trigger1 = Time = 0
v = 20
value = 0

[State 6050, 3]
type = VarSet
trigger1 = Time = 0
v = 21
value = 0

[State 6050, 4]
type = HitDef
trigger1 = Time >= 20
trigger1 = Var(20) = 0
trigger1 = HitCount < 6
attr = S, NA
animtype  = Heavy
damage    = 67;70
guardflag =
pausetime = 1, 3 ;2, 3
getpower = 0
sparkno = S6098 ;2
guard.sparkno = S7021
sparkxy = -25+(random%30), -80+(random%30) ;-10,-80
hitsound   = -1 ;S0, 102
guardsound = S0, 104
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5
ground.cornerpush.veloff = 0
air.fall = 1
fall.yvelocity = -2.5
fall.recover = 0

[State 6050, 5]
type = HitDef
trigger1 = AnimElem = 30
attr = S, NA
animtype  = Heavy
damage    = 67;62
guardflag =
pausetime = 1, 3 ;2,8
sparkno = S6098 ;2
guard.sparkno = S7021
sparkxy = -10,-80
hitsound   = -1 ;S0, 27
guardsound = S0, 104
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
air.velocity = -2.4,-4.5
ground.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -2.5
fall.recover = 0
p2stateno = 940
p2facing = 1

[State 6050, 8]
type = VarSet
trigger1 = MoveHit = 1
trigger1 = Var(20) = 0
trigger1 = HitCount < 7
v = 20
value = 3

[State 6050, 9]
type = VarAdd
trigger1 = Var(20) > 0
v = 20
value = -1

[State 6050, 10]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = Var(21) = 0
trigger1 = Var(5) = 0
value = 0, 102
channel = 10

[State 6050, 11]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = Var(21) = 0
trigger1 = Var(5) != 0
value = 0, 102

[State 6050, 12]
type = PlaySnd
trigger1 = parent, Var(5) = 96
value = 0, 37

[State 6050, 13]
type = VarAdd
trigger1 = MoveHit
v = 21
value = 1

[State 6050, 14]
type = VarSet
trigger1 = Var(21) > 1
v = 21
value = 0

[State 6050, 20]
type = VarSet
trigger1 = Time = 0
v = 14
value = 0

[State 6050, 21]
type = VarAdd
trigger1 = Var(14) > 0
v = 14
value = -1
ignorehitpause = 1

[State 6050, 22]
type = VarSet
trigger1 = MoveHit
;trigger1 = Var(14) = 0
v = 14
value = 2
ignorehitpause = 1

[State 6050, 32]
type = VarSet
trigger1 = Time = 0
v = 12
value = 0

[State 6050, 33]
type = VarAdd
trigger1 = Var(12) > 0
v = 12
value = -1
ignorehitpause = 1

[State 6050, 34]
type = VarSet
trigger1 = MoveHit
trigger1 = Var(12) = 0
v = 12
value = 402
ignorehitpause = 1

[State 6050, 35]
type = EnvColor
trigger1 = WinKO
trigger1 = MoveHit = 1
trigger1 = Var(12) = 401  ; Prevents the flash from triggering more than once
trigger1 = parent, Var(9) = 1  ; This is the first tick from KO
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State 6050, 36]
type = Explod
trigger1 = WinKO
trigger1 = parent, Var(5) = 0  ; The KO effect hasn't triggered yet
trigger1 = parent, Var(9) = 1  ; This is the first tick from KO
trigger1 = MoveHit = 1
anim = 6099
pos = 160, 120
postype = left
sprpriority = -1
bindtime = 200
ownpal = 1
ignorehitpause = 1

[State 6050, 27]
type = ParentVarSet
trigger1 = WinKO
trigger1 = parent, Var(5) = 0  ; The KO effect hasn't triggered yet
trigger1 = parent, Var(9) = 1  ; This is the first tick from KO
trigger1 = MoveHit = 1
v = 5
value = 497
ignorehitpause = 1

[State 6050, 28]
type = PlaySnd
;trigger1 = WinKO
trigger1 = parent, Var(5) = 497  ; The KO effect has just triggered
;trigger1 = parent, Var(9) = 2  ; This is the first tick from KO
;trigger1 = MoveHit = 1
value = 0, 37
ignorehitpause = 1

[State 6050, 29]
type = MoveHitReset
trigger1 = Var(20) = 0

[State -3, Debug]
type = Null ;DisplayToClipboard
trigger1 = 1 
text = "WinKO: %d    MoveContact: %d    Var 12: %d    Var 20: %d"
params = WinKO, MoveContact, Var(12), Var(20)
ignorehitpause = 1

[State 6050, 30]
type = DestroySelf
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Override common states (use same number to override) :

 JUMP_LAND
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = explod
trigger1 = Time = 0
ID = 100
ownpal = 1
pos = -1, 4
postype = p1
bindtime = 1
anim = 997
sprpriority = 7

[State 52, 4]
type = PlaySnd
trigger1 = Time = 0
value = 0, 20

[State 52, 5]
type = PlaySnd
trigger1 = Time = 1
value = 0, 14

[State 52, 9]
type = CtrlSet
trigger1 = AnimElem = 1
value = 1

[State 52, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5111]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)


[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine


[State 1028, Hit ground]
type = SelfState
trigger1 = enemy,var(38)<=0
value = 5110;5120;5110

;---------------------------------------------------------------------------
; States that are always checked

[Statedef -2]

; NEW !! Tag active definer
[State -2, def]
type = VarSet
trigger1 = teammode = simul
trigger1 = roundstate < 1
trigger1 = time = [0,1]
v = 51
value = 0;ここの右側の数字を1にするとTAG TEAM MODEが起動します。tag2

[State -2, 距離確認デバック]
type = AppendToClipboard
trigger1 = 1
text =  "P2X:%f,P2Y:%f,Vx%f,Vy%f,Py%f \n"
params = P2BodyDist x,P2BodyDist y,vel x,vel y,Pos y
IgnoreHitPause = 1

[State -2,];虫取り用
type = null;DisplayToClipboard
trigger1 = 1
text = "var=%d,p2state=%d,p2x=%d"
params = var(38),p2stateno,floor(P2BodyDist X)
ignorehitpause = 1

[State -2,EnemyNear確認]
type = VarSet
trigger1 = NumEnemy > 1
var(4) = (!Enemy,Alive || (EnemyNear,Alive && EnemyNear,ID != Enemy,ID))

[State 9800, 0]
type = explod
trigger1 = var(38)
trigger1 = numtarget
trigger1 = !numexplod(9800)
trigger1 = Target,StateNo = 5111
anim = 9800
ID = 9800
pos = 160, 140
postype = left
facing = ifelse(teamSide = 1,1,-1)
sprpriority = 5
bindtime = -1
ownpal = 1

[State 9800, 0]
type = removeexplod
trigger1 = numtarget
trigger1 = Target,StateNo != 5111
ID = 9800

[State 191, 2]
type = varadd
triggerall = numtarget
trigger1 = movecontact=1
trigger2 = projhit(2005)=1
trigger3 = projhit(3005)=1
var(38) = floor(1.8*target,GetHitVar(damage))
ignorehitpause = 1

[State 191, 2]
type = varadd
trigger1 = !numtarget
trigger1 = var(38)
var(38) = -1
ignorehitpause = 1

[State 191, 2]
type = varset
trigger1 = var(38)<0
var(38) = 0
ignorehitpause = 1


[State -2,TargetState];ダウンポイントたまってたら
type = TargetState
triggerall = var(38)
triggerall = alive
trigger1 = NumTarget
trigger1 = Target,StateNo = 5110
trigger1 = Target,alive
value = 5111

[State -2, 0]
type = varadd
trigger1 = var(38)
trigger1 = alive
trigger1 = NumTarget
trigger1 = Target,StateNo = 5111
trigger1 = Target,alive
var(38) = -10

[State 9800, 0]
type = varadd
triggerall = numtarget
triggerall = alive
triggerall = Target,alive
triggerall = numexplod(9800)
triggerall = Target,StateNo = 5111
trigger1 = Target,command = "x"
trigger2 = Target,command = "y"
trigger3 = Target,command = "z"
trigger4 = Target,command = "a"
trigger5 = Target,command = "b"
trigger6 = Target,command = "c"
var(38) = -10

[State -2, 2]
type = PalFX
triggerall = Var(7)
trigger1 = gametime%12 = 1
color = 0
add = 255,255,0
time = 1
ignorehitpause = 1

[State -2, 2]
type = PalFX
triggerall = Var(7)
trigger1 = gametime%12 = 3
trigger2 = gametime%12 = 11
color = 0
add = 128,32,-128
time = 1
ignorehitpause = 1

[State -2, 2]
type = PalFX
triggerall = Var(7)
trigger1 = gametime%12 = 5
trigger2 = gametime%12 = 9
color = 0
add = 108,16,-255
time = 1
ignorehitpause = 1

[State -2, 2]
type = PalFX
triggerall = Var(7)
trigger1 = gametime%12 = 7
color = 0
add = 64,-32,-255
time = 1
ignorehitpause = 1

[State 1000, 0];暫定補正　相手HP50%以降から最大80%の逆根性値
type = varset
triggerall = RoundState = 2
trigger1 = (100*enemy,life/enemy,const(data.life)) >= 30
fvar(2) = 100.0

[State 1000, 0];暫定補正　相手HP70%以降から最大70%の逆根性値
type = varset
triggerall = RoundState = 2
trigger1 = (100*enemy,life/enemy,const(data.life)) < 30
fvar(2) = 100.0-(30-(30*enemy,life/(enemy,const(data.life)*0.3)))

[State -2, 8]
type = DefenceMulSet
trigger1 = Var(7) = 0;1
ignorehitpause = 1
value = 1

[State -2, 8]
type = DefenceMulSet
trigger1 = Var(7) > 0;1
ignorehitpause = 1
value = .5;0.85

[State -2, 8]
type = AttackMulSet
trigger1 = Var(7) = 0
ignorehitpause = 1
value = 1*fvar(2)*0.01

[State -2, 8]
type = AttackMulSet
trigger1 = Var(7) = 0;1
ignorehitpause = 1
value = 1

[State -2, 8]
type = AttackMulSet
trigger1 = Var(7) > 0;1
ignorehitpause = 1
value = 1.5*fvar(2)*0.01;1.2

[State -2, 10]
type = VarSet
trigger1 = Var(8) = 0
v = 8
value = 12
ignorehitpause = 1

[State -2, 11]
type = VarAdd
trigger1 = Var(8) >= 0
v = 8
value = -1
ignorehitpause = 1

[State -2, 12]
type = VarAdd
trigger1 = Var(7) > 0
v = 7
value = -1
ignorehitpause = 1

; Sword flashes (standing)
[State -2, 20]
type = PalFX
triggerall = StateNo = 0
trigger1 = AnimElem = 21
trigger2 = AnimElem = 23
trigger3 = AnimElem = 25
trigger4 = AnimElem = 27
trigger5 = AnimElem = 31
trigger6 = AnimElem = 35
time = 1
add = 40, 40, 40

; Sword flashes (walking forward)
[State -2, 21]
type = PalFX
triggerall = StateNo = 20
triggerall = Anim = 20
trigger1 = TimeMod = 112, 57
trigger2 = TimeMod = 112, 59
trigger3 = TimeMod = 112, 61
trigger4 = TimeMod = 112, 63
trigger5 = TimeMod = 112, 67
trigger6 = TimeMod = 112, 71
time = 1
add = 40, 40, 40

; Sword flashes (walking back)
[State -2, 22]
type = PalFX
triggerall = StateNo = 20
triggerall = Anim = 21
trigger1 = TimeMod = 140, 73
trigger2 = TimeMod = 140, 75
trigger3 = TimeMod = 140, 77
trigger4 = TimeMod = 140, 79
trigger5 = TimeMod = 140, 83
trigger6 = TimeMod = 140, 87
time = 1
add = 40, 40, 40

; Sword flashes (crouching)
[State -2, 23]
type = PalFX
triggerall = StateNo = 11
trigger1 = TimeMod = 211, 24
trigger2 = TimeMod = 211, 26
trigger3 = TimeMod = 211, 28
trigger4 = TimeMod = 211, 30
trigger5 = TimeMod = 211, 34
trigger6 = TimeMod = 211, 38
time = 1
add = 40, 40, 40

; Sword flashes (blocking)
[State -2, 24]
type = PalFX
triggerall = TimeMod = 2, 1
trigger1 = StateNo = 150
trigger2 = StateNo = 151
trigger3 = StateNo = 152
trigger4 = StateNo = 153
trigger5 = StateNo = 154
trigger5 = Time <= 12
trigger6 = StateNo = 155
trigger6 = Time <= 12
time = 1
add = 40, 40, 40

[State -2, 30]
type = VarAdd
trigger1 = Var(5) > 0
v = 5
value = -1
ignorehitpause = 1

[State -2, 31]
type = BGPalfx
trigger1 = Var(5) = [401, 432]
time = 1
add = (Var(5)-400)*(255/30), (Var(5)-400)*(255/30), (Var(5)-400)*(255/30)
ignorehitpause = 1

[State -2, 32]
type = BGPalfx
trigger1 = Var(5) = [432, 490]
time = 1
add = 255, 255, 255
ignorehitpause = 1

[State -2, 33]
type = BGPalfx
trigger1 = Var(5) = [491, 496]
time = 1
add = (497-Var(5))*(255/6), (497-Var(5))*(255/6), (497-Var(5))*(255/6)
ignorehitpause = 1

[State -2, 34]
type = VarAdd
trigger1 = Var(6) > 0
v = 6
value = -1
ignorehitpause = 1

[State -2, 36]
type = BGPalfx
trigger1 = Var(6) = [432, 480]
time = 1
add = 255, 255, 255
ignorehitpause = 1

[State -2, 37]
type = BGPalfx
trigger1 = Var(6) = [481, 496]
time = 1
add = (497-Var(6))*(255/16), (497-Var(6))*(255/16), (497-Var(6))*(255/16)
ignorehitpause = 1

[State -2, 38]
type = BGPalfx
trigger1 = Var(6) = [401, 432]
time = 1
add = (Var(6)-400)*(255/30), (Var(6)-400)*(255/30), (Var(6)-400)*(255/30)
ignorehitpause = 1

[State -2, 50]
type = ChangeState
triggerall = RoundState = 4
triggerall = StateNo = 5150
trigger1 = MatchOver = 1
trigger1 = Win = 1
trigger2 = MatchOver = 0
trigger2 = Var(25) = 48
value = 185

[State -2, 51]
type = ChangeState
trigger1 = RoundState = 4
trigger1 = StateNo = 5150
trigger1 = MatchOver = 1
trigger1 = Lose = 1
value = 186

[State -2, 52]
type = VarAdd
trigger1 = RoundState = 4
v = 25
value = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; わくわくAI記述
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;SUPER!表示(1P側)
[State 10000, 0]
type = explod
trigger1 = var(7) = [61,328]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 35, 40
postype = left
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 1]
type = explod
trigger1 = var(7) = [55,60]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 38,42
postype = left
scale = 0.9,0.9
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 2]
type = explod
trigger1 = var(7) = [49,54]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 41,44
postype = left
scale = 0.8,0.8
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 3]
type = explod
trigger1 = var(7) = [43,48]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 44,46
postype = left
scale = 0.7,0.7
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 4]
type = explod
trigger1 = var(7) = [37,42]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 47,48
postype = left
scale = 0.6,0.6
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 5]
type = explod
trigger1 = var(7) = [31,36]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 50,50
postype = left
scale = 0.5,0.5
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 6]
type = explod
trigger1 = var(7) = [25,30]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 53,52
postype = left
scale = 0.4,0.4
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 7]
type = explod
trigger1 = var(7) = [19,24]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 56,54
postype = left
scale = 0.3,0.3
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 8]
type = explod
trigger1 = var(7) = [13,18]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 59,56
postype = left
scale = 0.2,0.2
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 9]
type = explod
trigger1 = var(7) = [7,12]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 1
anim = 10000
ID = 10000
pos = 62,58
postype = left
scale = 0.1,0.1
sprpriority = -2
bindtime = -1
ownpal = 1

;SUPER!表示(2P側)
[State 10000, 10]
type = explod
trigger1 = var(7) = [61,360]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -95, 40
postype = right
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 11]
type = explod
trigger1 = var(7) = [55,60]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -92,42
postype = right
scale = 0.9,0.9
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 12]
type = explod
trigger1 = var(7) = [49,54]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -89,44
postype = right
scale = 0.8,0.8
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 13]
type = explod
trigger1 = var(7) = [43,48]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -86,46
postype = right
scale = 0.7,0.7
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 14]
type = explod
trigger1 = var(7) = [37,42]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -83,48
postype = right
scale = 0.6,0.6
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 15]
type = explod
trigger1 = var(7) = [31,36]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -80,50
postype = right
scale = 0.5,0.5
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 16]
type = explod
trigger1 = var(7) = [25,30]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -77,52
postype = right
scale = 0.4,0.4
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 17]
type = explod
trigger1 = var(7) = [19,24]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -74,54
postype = right
scale = 0.3,0.3
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 18]
type = explod
trigger1 = var(7) = [13,18]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -71,56
postype = right
scale = 0.2,0.2
sprpriority = -2
bindtime = -1
ownpal = 1

[State 10000, 19]
type = explod
trigger1 = var(7) = [7,12]
trigger1 = numexplod(10000) = 0
trigger1 = TeamSide = 2
anim = 10000
ID = 10000
pos = -68,58
postype = right
scale = 0.1,0.1
sprpriority = -2
bindtime = -1
ownpal = 1

[State -2,ハラハラ阻止]
type     = Varadd
trigger1 = prevStateNo = 6000
trigger1 = StateNo = 5000 && time = 1
var(52) = 1
IgnoreHitPause = 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; タッグチームモード関連記述 TAG TEAM MODE
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -2, deactivate tag]
type = VarSet
triggerall = var(51)	; Partner TAG mode activated
trigger1 = roundstate > 2
trigger1 = Win || Lose
v = 51
value = 0

; NEW !! Tag active ctrl
[State -2, ctrl]
type = ChangeState
triggerall = var(51)        ; Partner TAG mode activated
triggerall = NumPartner
triggerall = ID > Partner,ID
trigger1 = partner, var(51) != 2
trigger1 = RoundState <= 2
trigger1 = Life && Partner, Life		; Team is alive
trigger1 = (stateno != [1000,40000]) && (stateno != [45000,46010])
trigger1 = (partner, stateno != [1000,4000]) && (partner, stateno != [45000,46010])
value = 45120

;AI連発防止
[state -2,否交代拘束時間加算]
type = varset
trigger1 = var(59) >= 1 && roundstate = 2
trigger1 = stateno = 45000
v = 55
value = 840-(var(56)*40)

[state -2,否交代拘束時間減少]
type = varadd
trigger1 = var(55) > 0
var(55) = -1
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 待機時ライフ回復設定
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -2]
type     = varSet
trigger1 = 1
var(54) = 1;この右側の数字で回復の有無を設定、0が無しで1が有り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 交代頻度設定
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -2]
type     = varSet
trigger1 = 1
var(56) = 5;この右側の数字で交代頻度を設定、詳細はリドミで(1〜10)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 終了 END
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Statedef -3]

[State -3,AI]
type = VarSet
triggerall = var(59) < 1
triggerall = roundstate = 2
trigger1 = command = "AI_01" || command = "AI_02" || command = "AI_03" || command = "AI_04"
trigger2 = command = "AI_05" || command = "AI_06" || command = "AI_07" || command = "AI_08"
trigger3 = command = "AI_09" || command = "AI_10" || command = "AI_11" || command = "AI_12"
trigger4 = command = "AI_13" || command = "AI_14" || command = "AI_15" || command = "AI_16"
trigger5 = command = "AI_17" || command = "AI_18" || command = "AI_19" || command = "AI_20"
trigger6 = command = "AI_21" || command = "AI_22" || command = "AI_23" || command = "AI_24"
trigger7 = command = "AI_25" || command = "AI_26" || command = "AI_27" || command = "AI_28"
trigger8 = command = "AI_29" || command = "AI_30" || command = "AI_31" || command = "AI_32"
trigger9 = command = "AI_33" || command = "AI_34" || command = "AI_35" || command = "AI_36"
trigger10 = command = "AI_37" || command = "AI_38" || command = "AI_39" || command = "AI_40"
trigger11 = command = "AI_41" || command = "AI_42" || command = "AI_43" || command = "AI_44"
trigger12 = command = "AI_45" || command = "AI_46" || command = "AI_47" || command = "AI_48"
trigger13 = command = "AI_49" || command = "AI_50"
trigger14 = !var(59)
trigger14 = NumHelper(10000+ID)
trigger14 = Helper(10000+ID),var(59) > 0
var(59) = 5;AIレベル設定
IgnoreHitPause = 1

[State -3];AI起動用ヘルパー
type = Helper
trigger1 = !NumHelper(10000+ID)
trigger1 = Alive
trigger1 = !var(59)
trigger1 = RoundState < 2 || RoundState = 2 && Ctrl
Helpertype = Normal
Name = "AI"
StateNo = 10000
ID = 10000+ID
Pos = 0,0
KeyCtrl = 1
PauseMoveTime = -1
SuperMoveTime = -1

[State -3,ハラハラアタックスイッチ]
type     = VarSet
trigger1 = 1
var(53) = 1;この右側の数字でAIのハラハラアタック使用の有無を設定、0が無しで1が有り

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; AI行動
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3,ガード]
type = ChangeState
Value = 120
triggerall = !IsHelper
triggerall = NumEnemy > 0
triggerall = var(59) > 0
triggerall = Ctrl ||(stateno = [10,22]) || stateno = 101
triggerall = StateNo != [120,155]
triggerall = Random < 400 && statetype = A || var(59) = 3 && Random < 600 || var(59) >= 4
triggerall = Random < var(59)*(60+Enemy,time/3) || var(59) = 3 && Random < 600 || var(59) >= 4
trigger1 = InGuardDist
trigger2 = NumHelper(30000+ID)
trigger2 = Helper(30000+ID),fvar(0) > 0
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ガード切り替え
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3,しゃがみ]
type = ChangeState
value = 11
Ctrl = 0
triggerall = !IsHelper
triggerall = NumEnemy > 0
triggerall = var(59) >= 1 && roundstate = 2
triggerall = StateType != A
triggerall = Enemy,StateType != L
triggerall = Enemy,MoveType != H
triggerall = 0
triggerall = Ctrl
triggerall = !InGuardDist
triggerall = NumHelper(30000+ID)
trigger1 = Helper(30000+ID),fvar(0) = 0
trigger1 = Random<var(59)*230 || var(59) > 4

[State -3,しゃがみ解除]
type = ChangeState
value = 0
Ctrl = 1
triggerall = !IsHelper
triggerall = NumEnemy > 0
triggerall = StateType != A
triggerall = var(59) >= 1 && roundstate = 2
triggerall = !InGuardDist
triggerall = NumHelper(30000+ID)
triggerall = Helper(30000+ID),fvar(0) = 0
trigger1 = p2bodydist X = [90,120]
trigger1 = StateNo = [21,22]
trigger2 = StateNo = [10,22]
trigger2 = RoundState != 2

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; タッグチームモード関連記述 TAG TEAM MODE
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, タッグ攻撃交代(スラッシュショットWP)]
type = ChangeState
value = 3100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = var(55) = 0;TAG TEAM MODE否交代拘束時間終わり
triggerall = var(7) = 0;非スーパーモード
triggerall = alive
triggerall = statetype != A
triggerall = stateno != [5000,5210]
triggerall = var(51) = 1;TAG TEAM MODEフラグ
triggerall = var(56) >= 1;TAG TEAM MODE交代頻度設定
triggerall = partner, life > 0
triggerall = power >= 3000
trigger1 = enemy(var(4)),statetype != L
trigger1 = p2bodydist X = [70,170]
trigger1 = enemy(var(4)),Pos Y >= -40
trigger1 = enemy(var(4)),movetype != A
trigger1 = !inguarddist
trigger1 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger1 = life < (lifemax / 4 + lifemax / 4 + lifemax / 4)
trigger1 = life > lifemax / 2
trigger1 = (var(56) = [1,3]) && (random <= var(56)*15) || (var(56) = [4,10]) && (random <= var(56)*10)
trigger2 = enemy(var(4)),statetype != L
trigger2 = p2bodydist X = [70,170]
trigger2 = enemy(var(4)),Pos Y >= -40
trigger2 = enemy(var(4)),movetype != A
trigger2 = !inguarddist
trigger2 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger2 = life < lifemax / 2
trigger2 = life > lifemax / 4
trigger2 = (var(56) = [1,3]) && (random <= var(56)*20) || (var(56) = [4,10]) && (random <= var(56)*19)
trigger3 = enemy(var(4)),statetype != L
trigger3 = p2bodydist X = [70,170]
trigger3 = enemy(var(4)),Pos Y >= -40
trigger3 = enemy(var(4)),movetype != A
trigger3 = !inguarddist
trigger3 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger3 = life < lifemax / 4
trigger3 = (var(56) = [1,3]) && (random <= var(56)*33) || (var(56) = [4,7]) && (random <= var(56)*32) || (var(56) = [8,10]) && (random <= var(56)*34)
trigger4 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = p2bodydist X = [70,170]
trigger4 = enemy(var(4)),animtime >= -3
trigger4 = var(38) <= 500
trigger4 = life < (lifemax / 4 + lifemax / 4 + lifemax / 4)
trigger4 = life > lifemax / 2
trigger4 = (var(56) = [1,3]) && (random <= var(56)*15) || (var(56) = [4,10]) && (random <= var(56)*10)
trigger5 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger5 = enemy(var(4)),statetype = L
trigger5 = enemy(var(4)),stateno = 5120
trigger5 = p2bodydist X = [70,170]
trigger5 = enemy(var(4)),animtime >= -3
trigger5 = life < lifemax / 2
trigger5 = life > lifemax / 4
trigger5 = (var(56) = [1,3]) && (random <= var(56)*20) || (var(56) = [4,10]) && (random <= var(56)*19)
trigger6 = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger6 = enemy(var(4)),statetype = L
trigger6 = enemy(var(4)),stateno = 5120
trigger6 = p2bodydist X = [70,170]
trigger6 = enemy(var(4)),animtime >= -3
trigger6 = life < lifemax / 4
trigger6 = (var(56) = [1,3]) && (random <= var(56)*33) || (var(56) = [4,7]) && (random <= var(56)*32) || (var(56) = [8,10]) && (random <= var(56)*34)
trigger7 = prevstateno = 13
trigger7 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(56)*100 || (enemy(var(4)),stateno = [120,155]) && random <= var(56)*10

[State -3,タッグ交代(待機移行)]
type = ChangeState
value = 45100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = var(55) = 0;TAG TEAM MODE否交代拘束時間終わり
triggerall = var(7) = 0;非スーパーモード
triggerall = alive
triggerall = statetype != A
triggerall = stateno != [5000,5210]
triggerall = enemy(var(4)),movetype != A
triggerall = var(51) = 1;TAG TEAM MODEフラグ
triggerall = var(56) >= 1;TAG TEAM MODE交代頻度設定
triggerall = partner, life > 0
triggerall = ctrl || stateno = 21 || stateno = 22 || StateNo = 101
trigger1 = p2bodydist X >= 150
trigger1 = life < (lifemax / 4 + lifemax / 4 + lifemax / 4)
trigger1 = life > lifemax / 2
trigger1 = (var(56) = [1,3]) && (random <= var(56)*10) || (var(56) = [4,10]) && (random <= var(56)*15)
trigger2 = p2bodydist X >= 150
trigger2 = life < lifemax / 2
trigger2 = life > lifemax / 4
trigger2 = (var(56) = [1,3]) && (random <= var(56)*18) || (var(56) = [4,7]) && (random <= var(56)*17) || (var(56) = [8,10]) && (random <= var(56)*20)
trigger3 = p2bodydist X >= 150
trigger3 = life < lifemax / 4
trigger3 = (var(56) = [1,3]) && (random <= var(56)*25) || (var(56) = [4,7]) && (random <= var(56)*28) || (var(56) = [8,10]) && (random <= var(56)*30)
trigger4 = p2bodydist X <= 120
trigger4 = life < (lifemax / 4 + lifemax / 4 + lifemax / 4)
trigger4 = life > lifemax / 2
trigger4 = (var(56) = [1,3]) && (random <= var(56)*15) || (var(56) = [4,10]) && (random <= var(56)*18)
trigger5 = p2bodydist X <= 120
trigger5 = life < lifemax / 2
trigger5 = life > lifemax / 4
trigger5 = (var(56) = [1,3]) && (random <= var(56)*21) || (var(56) = [4,7]) && (random <= var(56)*20) || (var(56) = [8,10]) && (random <= var(56)*23)
trigger6 = p2bodydist X <= 120
trigger6 = life < lifemax / 4
trigger6 = (var(56) = [1,3]) && (random <= var(56)*30) || (var(56) = [4,7]) && (random <= var(56)*33) || (var(56) = [8,10]) && (random <= var(56)*34)

; Run into the screen (tagged in)
[State -3, enter the screen]
type = ChangeState
triggerall = var(51)      		; Partner TAG mode activated
triggerall = NumPartner
triggerall = stateno = 45120		; Player waiting outside the screen
trigger1 = (partner, stateno = 45100) || (partner, stateno = 46000)	; Partner leaving the screen
trigger1 = Life		                ; And you're alive
value = 45000

; Jump into the screen (partner was KOed)
[State -3, enter the screen]
type = ChangeState
triggerall = var(51)      		; Partner TAG mode activated
triggerall = NumPartner
triggerall = StateNo = 45120	; Player waiting outside the screen
trigger1 = !(Partner, Life)	; Partner dead
trigger1 = Life			; And you're alive
trigger2 = roundstate >= 3	; the match is over
trigger2 = Win || LoseTime || WinTime || drawgame
value = 45200

[State -3, wait out of the stage]
type = ChangeState
triggerall = NumPartner
trigger1 = var(51) = 2       		; just performed team attack
trigger1 = RoundState = 2
trigger1 = Life && Partner, Life	; And you're alive
trigger1 = (stateno != [1000,4000]) && (stateno != [45000,46010])
value = 45110
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 終了 END
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; スーパー化
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, スーパー化]
type = ChangeState
value = 4000
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = var(7) = 0
triggerall = power >= 1000
trigger1 = ctrl || stateno = 21  || stateno = 22 || stateno = 100 || stateno = 101
trigger1 = enemy(var(4)),movetype = A
trigger1 = enemy(var(4)),StateNo > 199
trigger1 = !enemy(var(4)),Ctrl
trigger1 = p2bodydist x  = [-20,50]
trigger1 = (var(59) = 3) && (enemy(var(4)),time >= 6) || (var(59) = 4) && (enemy(var(4)),time >= 4) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger1 = enemy(var(4)),Pos Y >= -50
trigger1 = (var(59) = [3,4]) && (Random < var(59)*170) || var(59) = 5
trigger2 = var(59) >= 3
trigger2 = stateno = [150,153]
trigger2 = p2bodydist x  = [-20,50]
trigger2 = Random < var(59)*150 || var(59) = 5
trigger3 = ctrl || stateno = 21  || stateno = 22 || stateno = 100 || stateno = 101
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120
trigger3 = p2bodydist X >= 70
trigger3 = enemy(var(4)),animtime <= -12
trigger3 = (random <= var(59)*120) && (power = [1000,1999]) || (random <= var(59)*160) && (power >= 2000)

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 必殺技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, ダークネスラッシュ]
type = ChangeState
Value = 4600
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = power >= 1000
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y = 0
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = p2bodydist X = [-59,59]
trigger1 = var(59) = [1,3]
trigger1 = !inguarddist
trigger1 = random <= var(59)*6
trigger2 = var(59) >= 4
trigger2 = p2bodydist X = [-56,56]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*20
trigger3 = p2bodydist X = [-60,75]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = (var(59) = 3) && (enemy(var(4)),time >= 6) || (var(59) = 4) && (enemy(var(4)),time >= 4) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*190

[State -3, スラッシュショット(WP)]
type = ChangeState
Value = 3100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = power >= 1000
triggerall = enemy(var(4)),Pos Y >= -40
triggerall = enemy(var(4)),statetype != L
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
trigger1 = (p2bodydist X = [30,100]) || p2bodydist X = [140,170]
trigger1 = !inguarddist
trigger1 = random <= var(59)*2
trigger2 = var(59) = [3,4]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= 60+(power/20) && (p2bodydist X = [0,26])  || (enemy(var(4)),stateno = [120,155]) && random <= 130-(power/20) && (p2bodydist X = [0,60])
trigger3 = p2bodydist X = [-55,55]
trigger3 = var(59) = [3,4]
trigger3 = prevstateno = 710 && stateno = 52
trigger3 = enemy(var(4)),stateno = [5000,5100]
trigger3 = random <= 90+(power/20)

[State -3, ダークネスウィンド]
type = ChangeState
value = 6000
triggerall = var(59) >= 1 && roundstate = 2
triggerall = var(53) = 1
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = power >= 1000
triggerall = ctrl || stateno = 21 || stateno = 22
trigger1 = p2bodydist X >= 110 && (enemy(var(4)),stateno = [5020,5071]) || p2bodydist X >= 145 && (enemy(var(4)),stateno = [5080,5100])
trigger1 = random <= (var(59)*100)-(var(52)*250)
trigger2 = !inguarddist
trigger2 = p2bodydist X >= 200
trigger2 = enemy(var(4)),statetype != L
trigger2 = random <= (var(59)*8)-(var(52)*20)
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120 && (enemy(var(4)),animtime <= -22) || enemy(var(4)),stateno = [5110,5111]
trigger3 = p2bodydist X = [160,260]
trigger3 = random <= (var(59)*60)-(var(52)*150)
trigger4 = var(59) >= 4
trigger4 = p2bodydist X >= 140
trigger4 = !inguarddist
trigger4 = enemy(var(4)),life >=150 || power >= 2000
trigger4 = prevstateno = 2105 || prevstateno = 330
trigger4 = random <= (var(59)*160)-(var(52)*250)

[State -3, スラッシュバリヤー(WP)]
type = ChangeState
Value = 3000
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = power >= 1000
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y >= -50
triggerall = prevstateno != 5120
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = var(59) = [1,3]
trigger1 = (p2bodydist X = [40,68]) || p2bodydist X = [-68,-40]
trigger1 = !inguarddist
trigger1 = random <= var(59)*4
trigger2 = var(59) >= 4
trigger2 = p2bodydist X = [-65,65]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*8
trigger3 = (p2bodydist X = [50,68]) || p2bodydist X = [-68,0]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*180
trigger4 = p2bodydist X = [50,69]
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime >= -1
trigger4 = random <= 80+(power/20)

[State -3, スラッシュバリヤー(強)]
type = ChangeState
Value = 1010
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y >= -50
triggerall = prevstateno != 5120
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = (p2bodydist X = [40,69]) || p2bodydist X = [-69,-40]
trigger1 = !inguarddist
trigger1 = random <= var(59)*3
trigger2 = p2bodydist X = [-69,69]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (var(59) = [3,4]) && (enemy(var(4)),stateno = [120,155]) && random <= var(59)*10
trigger3 = p2bodydist X = [50,69]
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120
trigger3 = enemy(var(4)),animtime >= -2
trigger3 = random <= var(59)*15

[State -3, スラッシュバリヤー(弱)]
type = ChangeState
Value = 1000
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y >= -50
triggerall = prevstateno != 5120
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = (p2bodydist X = [40,69]) || p2bodydist X = [-69,-40]
trigger1 = !inguarddist
trigger1 = random <= var(59)*6
trigger2 = p2bodydist X = [-69,69]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*10
trigger3 = (p2bodydist X = [60,70]) || p2bodydist X = [-70,0]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = vel X <= 2
trigger3 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*100
trigger4 = p2bodydist X = [-70,70]
trigger4 = var(59) >= 3
trigger4 = prevstateno = 710 && stateno = 52
trigger4 = enemy(var(4)),stateno = [5000,5100]
trigger4 = random <= var(59)*200 || var(59) >= 4
trigger5 = p2bodydist X = [50,69]
trigger5 = enemy(var(4)),statetype = L
trigger5 = enemy(var(4)),stateno = 5120
trigger5 = enemy(var(4)),animtime >= -1
trigger5 = random <= var(59)*20

[State -3, スラッシュテレポート(地上B)]
type = ChangeState
Value = 1300
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
trigger1 = enemy(var(4)),numproj
trigger1 = !enemy(var(4)),Ctrl
trigger1 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger1 = P2Bodydist X = [95,140]
trigger1 = random <= var(59)*30
trigger2 = !enemy(var(4)),numproj
trigger2 = (p2bodydist X = [15,63]) || p2bodydist X = [140,180]
trigger2 = !inguarddist
trigger2 = enemy(var(4)),Ctrl
trigger2 = random <= var(59)*10
trigger3 = (p2bodydist X = [45,95]) && p2bodydist Y = [0,-20]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*30
trigger4 = enemy(var(4)),statetype != L
trigger4 = P2Bodydist X = [15,63]
trigger4 = enemy(var(4)),StateNo = [120,155]
trigger4 = random <= var(59)*30
trigger5 = p2bodydist X = [0,63]
trigger5 = enemy(var(4)),statetype = L
trigger5 = enemy(var(4)),stateno = 5120
trigger5 = enemy(var(4)),animtime >= -2
trigger5 = random <= var(59)*10

[State -3, スラッシュテレポート(空中B)]
type = ChangeState
Value = 1316
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A
triggerall = ctrl
triggerall = !numexplod(9800)
trigger1 = p2bodydist Y = [0,115]
trigger1 = vel Y >= 0 && (p2bodydist X = [20,85]) || (Pos Y = [-60,-20]) && (p2bodydist X = [0,60]) 
trigger1 = random <= var(59)*10
trigger2 = enemy(var(4)),statetype = A
trigger2 = p2bodydist X = [45,70]
trigger2 = !inguarddist
trigger2 = p2bodydist Y = [-80,30]
trigger2 = random <= var(59)*6
trigger3 = (p2bodydist X = [40,80]) && p2bodydist Y = [-100,-20]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*30
trigger4 = p2bodydist X = [0,63]
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime >= -1
trigger4 = random <= var(59)*8

[State -3, スラッシュテレポート(空中X)]
type = ChangeState
Value = 1312
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A
triggerall = ctrl
triggerall = !numexplod(9800)
trigger1 = enemy(var(4)),Ctrl
trigger1 = p2bodydist Y = [0,95]
trigger1 = vel Y >= 0 && (p2bodydist X = [15,60]) || (Pos Y = [-60,-20]) && (p2bodydist X = [0,45]) 
trigger1 = random <= var(59)*10
trigger2 = enemy(var(4)),Ctrl
trigger2 = enemy(var(4)),statetype = A
trigger2 = p2bodydist X = [35,70]
trigger2 = !inguarddist
trigger2 = p2bodydist Y = [-40,50]
trigger2 = random <= var(59)*6
trigger3 = (p2bodydist X = [40,80]) && p2bodydist Y = [-100,-30]
trigger3 = enemy(var(4)),movetype = A
trigger3 = enemy(var(4)),StateNo > 199
trigger3 = !enemy(var(4)),Ctrl
trigger3 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger3 = random < var(59)*20
trigger4 = p2bodydist X = [0,55]
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime >= -1
trigger4 = random <= var(59)*10

[State -3, スラッシュテレポート(地上X)]
type = ChangeState
Value = 1302
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = statetype != A
triggerall = BackEdgebodydist >= 55
triggerall = enemy(var(4)),movetype != H
triggerall = Ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = vel X <= 1
trigger1 = enemy(var(4)),Ctrl
trigger1 = (P2bodydist X = [40,70]) && p2bodydist Y >= -40
trigger1 = random <= var(59)*4
trigger2 = p2bodydist X = [0,40]
trigger2 = enemy(var(4)),statetype = L
trigger2 = enemy(var(4)),stateno = 5120
trigger2 = enemy(var(4)),animtime >= -1
trigger2 = random <= var(59)*10

[State -3, スラッシュショット(弱)]
type = ChangeState
Value = 1100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),Pos Y >= -35
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
trigger1 = enemy(var(4)),statetype != L
trigger1 = (p2bodydist X = [80,94]) || (p2bodydist X = [129,139]) || (p2bodydist X = [-80,-94]) || (p2bodydist X = [-129,-139])
trigger1 = !inguarddist
trigger1 = random <= var(59)*4
trigger2 = enemy(var(4)),statetype != L
trigger2 = var(59) >= 4
trigger2 = (p2bodydist X = [94,139]) || p2bodydist X = [-94,-139]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*10
trigger3 = (p2bodydist X = [71,94]) || p2bodydist X = [-71,-94]
trigger3 = var(59) >= 3
trigger3 = prevstateno = 710 && stateno = 52
trigger3 = enemy(var(4)),stateno = [5000,5100]
trigger3 = random <= var(59)*200 || var(59) >= 4
trigger4 = enemy(var(4)),statetype != L
trigger4 = var(59) >= 4
trigger4 = p2bodydist X = [70,94]
trigger4 = prevstateno = 13
trigger4 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*25
trigger5 = (p2bodydist X = [85,94]) || (p2bodydist X = [129,139])
trigger5 = enemy(var(4)),statetype = L
trigger5 = enemy(var(4)),stateno = 5120
trigger5 = enemy(var(4)),animtime >= -9
trigger5 = random <= var(59)*50

[State -3, スラッシュショット(強)]
type = ChangeState
Value = 1103
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),Pos Y >= -35
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
trigger1 = enemy(var(4)),statetype != L
trigger1 = (p2bodydist X = [80,94]) ||(p2bodydist X = [171,181]) || (p2bodydist X = [-80,-94]) ||(p2bodydist X = [-171,-181])
trigger1 = !inguarddist
trigger1 = random <= var(59)*4
trigger2 = enemy(var(4)),statetype != L
trigger2 = var(59) >= 4
trigger2 = (p2bodydist X = [94,181]) || p2bodydist X = [-94,-181]
trigger2 = prevstateno = 13
trigger2 = (enemy(var(4)),stateno = [5000,5100]) && random <= var(59)*200 || (enemy(var(4)),stateno = [120,155]) && random <= var(59)*10
trigger3 = enemy(var(4)),statetype != L
trigger3 = (p2bodydist X = [94,181]) || p2bodydist X = [-94,-181]
trigger3 = var(59) >= 3
trigger3 = prevstateno = 710 && stateno = 52
trigger3 = enemy(var(4)),stateno = [5000,5100]
trigger3 = random <= var(59)*200 || var(59) >= 4
trigger4 = enemy(var(4)),statetype != L
trigger4 = enemy(var(4)),numproj
trigger4 = !enemy(var(4)),Ctrl
trigger4 = (var(59) = [3,4]) && (enemy(var(4)),time >= 8-var(59)) || (var(59) = 5) && (enemy(var(4)),time >= 1)
trigger4 = P2Bodydist X = [175,180]
trigger4 = random <= var(59)*80
trigger5 = (p2bodydist X = [85,94]) ||(p2bodydist X = [171,181])
trigger5 = enemy(var(4)),statetype = L
trigger5 = enemy(var(4)),stateno = 5120
trigger5 = enemy(var(4)),animtime >= -9
trigger5 = random <= var(59)*40

[State -3, スラッシュコレダー]
type = ChangeState
Value = 2100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),statetype != A
triggerall = enemy(var(4)),movetype != H
triggerall = Ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = p2bodydist X = [-10,10]
trigger1 = random <= var(59)*180

[State -3, スラッシュダイナミック(WP)]
type = ChangeState
value = 3200
triggerall = (var(59) = [1,2]) && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = power >= 1000
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl || stateno = 52 || stateno = 21 || stateno = 22 || stateno = 100 || stateno = 101
trigger1 = p2bodydist X = [0,76]
trigger1 = enemy(var(4)),movetype = A
trigger1 = enemy(var(4)),statetype = A
trigger1 = enemy(var(4)),Pos Y >= -40
trigger1 = random <= var(59)*200

[State -3, スラッシュダイナミック(弱)]
type = ChangeState
value = 1200
triggerall = var(59) = 3 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl || stateno = 52 || stateno = 21 || stateno = 22 || stateno = 100 || stateno = 101
trigger1 = p2bodydist X = [0,67]
trigger1 = enemy(var(4)),movetype = A
trigger1 = enemy(var(4)),statetype = A
trigger1 = enemy(var(4)),Pos Y >= -40
trigger1 = random <= 200

[State -3, スラッシュダイナミック(強)]
type = ChangeState
value = 1210
triggerall = (var(59) = [1,2]) && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl || stateno = 52 || stateno = 21 || stateno = 22 || stateno = 100 || stateno = 101
trigger1 = p2bodydist X = [0,76]
trigger1 = enemy(var(4)),movetype = A
trigger1 = enemy(var(4)),statetype = A
trigger1 = enemy(var(4)),Pos Y >= -40
trigger1 = random <= var(59)*180

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 通常技・特殊技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, 投げ]
type = ChangeState
Value = 1700
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),statetype != A
triggerall = enemy(var(4)),movetype != H
triggerall = Ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = p2bodydist X = [-5,5]
trigger1 = random <= var(59)*180

[State -3, 空中投げ]
type = ChangeState
Value = 1701
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A
triggerall = p2bodydist X = [0,10]
triggerall = p2bodydist Y <= 18
triggerall = p2bodydist Y >= -18
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),movetype != H
triggerall = Ctrl
trigger1 = random <= var(59)*200

[State -3, しゃがみキャンセル]
type = ChangeState
Value = 13
triggerall = var(59) >= 3 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
trigger1 = stateno = 200 && Time >= 9
trigger1 = movecontact
trigger1 = random <= var(59)*250
ctrl = 1
ignorehitpause = 1

[State -3,追い討ち]
type = ChangeState
value = 950
triggerall = var(59) >= 3 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = numexplod(9800)
triggerall = var(38) > 410 || p2bodydist X <= 80 && var(38) > 350 && random <= 500
triggerall = p2bodydist X <= 140
trigger1 = ctrl
trigger2 = stateno = 40

[State -3, 前移動起き]
type = ChangeState
value = 800
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = stateno = 5120
triggerall = Time = 1
trigger1 = p2bodydist X = [0,75]
trigger1 = random <= var(59)*100

[State -3, 後ろ移動起き]
type = ChangeState
value = 805
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 50
triggerall = stateno = 5120
triggerall = Time = 1
triggerall = !enemy,numproj
trigger1 = p2bodydist X = [20,100]
trigger1 = random <= var(59)*100

[State -3, しゃがみ強P]
type = ChangeState
value = 410
triggerall = var(59) >= 3 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),movetype != H
triggerall = prevstateno != 410
triggerall = enemy(var(4)),Vel X >= 0
trigger1 = ctrl || stateno = 52 || stateno = 21 || stateno = 22 || stateno = 100 || stateno = 101
trigger1 = p2bodydist X = [0,78]
trigger1 = enemy(var(4)),movetype = A || enemy(var(4)),ctrl && enemy(var(4)),vel Y >= 0
trigger1 = enemy(var(4)),statetype = A
trigger1 = enemy(var(4)),Pos Y = [-90,-35]
trigger1 = random <= var(59)*200

[State -3, 前X]
type = ChangeState
Value = 300
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),Pos Y >= -25
triggerall = p2bodydist X = [85,101]
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = random <= var(59)*30
trigger2 = enemy(var(4)),statetype != L
trigger2 = var(59) >= 2
trigger2 = enemy(var(4)),movetype != H
trigger2 = enemy(var(4)),statetype != A
trigger2 = !enemy(var(4)),ctrl
trigger2 = enemy(var(4)),animtime < -5
trigger2 = enemy(var(4)),StateNo != [0,22]
trigger2 = enemy(var(4)),StateNo != [51,52]
trigger2 = enemy(var(4)),StateNo != [100,101]
trigger2 = enemy(var(4)),StateNo != [120,155]
trigger2 = enemy(var(4)),StateNo != [5200,5299]
trigger2 = var(59) <= 3 && random <= var(59)*250 || var(59) >= 4
trigger3 = enemy(var(4)),statetype != L
trigger3 = prevstateno = 13
trigger3 = random <= var(59)*15
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime >= -2
trigger4 = random <= var(59)*40

[State -3, 立ち弱P]
type = ChangeState
Value = 200
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),Pos Y >= -25
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = p2bodydist X = [-76,76]
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = random <= var(59)*25 || (enemy(var(4)),stateno = [5000,5100]) && stateno = 52
trigger2 = p2bodydist X = [-76,76]
trigger2 = enemy(var(4)),statetype != L
trigger2 = var(59) >= 2
trigger2 = enemy(var(4)),movetype != H
trigger2 = enemy(var(4)),statetype != A
trigger2 = !enemy(var(4)),ctrl
trigger2 = enemy(var(4)),animtime < -5
trigger2 = enemy(var(4)),StateNo != [0,22]
trigger2 = enemy(var(4)),StateNo != [51,52]
trigger2 = enemy(var(4)),StateNo != [100,101]
trigger2 = enemy(var(4)),StateNo != [120,155]
trigger2 = enemy(var(4)),StateNo != [5200,5299]
trigger2 = var(59) <= 3 && random <= var(59)*250 || var(59) >= 4
trigger3 = p2bodydist X = [40,76]
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120
trigger3 = enemy(var(4)),animtime >= -2
trigger3 = random <= var(59)*30

[State -3, 前A]
type = ChangeState
Value = 320
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype = S
triggerall = enemy(var(4)),Pos Y >= -20
triggerall = (p2bodydist X = [45,100]) || p2bodydist X = [-45,-100]
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = random <= var(59)*14
trigger2 = enemy(var(4)),statetype = L
trigger2 = enemy(var(4)),stateno = 5120
trigger2 = enemy(var(4)),animtime >= -2
trigger2 = p2bodydist X = [45,100]
trigger2 = random <= var(59)*50

[State -3, 立ち弱K]
type = ChangeState
Value = 220
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y >= -25
triggerall = p2bodydist X = [-44,44]
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = !inguarddist
trigger1 = random <= var(59)*15
trigger2 = var(59) >= 2
trigger2 = enemy(var(4)),movetype != H
trigger2 = enemy(var(4)),statetype != A
trigger2 = !enemy(var(4)),ctrl
trigger2 = enemy(var(4)),animtime < -6
trigger2 = enemy(var(4)),StateNo != [0,22]
trigger2 = enemy(var(4)),StateNo != [51,52]
trigger2 = enemy(var(4)),StateNo != [100,101]
trigger2 = enemy(var(4)),StateNo != [120,155]
trigger2 = enemy(var(4)),StateNo != [5200,5299]
trigger2 = var(59) <= 3 && random <= var(59)*250 || var(59) >= 4

[State -3, しゃがみ弱K]
type = ChangeState
Value = 420
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != A
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = !inguarddist
trigger1 = p2bodydist X = [0,55]
trigger1 = enemy(var(4)),statetype != L
trigger1 = random <= var(59)*20
trigger2 = p2bodydist X = [0,55]
trigger2 = var(59) = [2,3]
trigger2 = enemy(var(4)),statetype != L
trigger2 = enemy(var(4)),movetype != H
trigger2 = enemy(var(4)),statetype != A
trigger2 = !enemy(var(4)),ctrl
trigger2 = enemy(var(4)),animtime < -4
trigger2 = enemy(var(4)),StateNo != [0,22]
trigger2 = enemy(var(4)),StateNo != [51,52]
trigger2 = enemy(var(4)),StateNo != [100,101]
trigger2 = enemy(var(4)),StateNo != [120,155]
trigger2 = enemy(var(4)),StateNo != [5200,5299]
trigger2 = var(59) <= 3 && random <= var(59)*250 || var(59) >= 4

[State -3, 前B]
type = ChangeState
Value = 330
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype = S
triggerall = enemy(var(4)),Pos Y >= -20
triggerall = p2bodydist X = [10,64]
triggerall = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = random <= var(59)*8

[State -3, 立ち強K]
type = ChangeState
Value = 230
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),Pos Y >= -25
triggerall = !enemy,numproj
trigger1 = ctrl || stateno = 21 || stateno = 22 || stateno = 52 || StateNo = 100 || StateNo = 101
trigger1 = p2bodydist X = [40,60]
trigger1 = !inguarddist
trigger1 = random <= var(59)*10
trigger2 = stateno = 220 && Time >= 9
trigger2 = (P2BodyDist X - (enemy(var(4)),Vel X * 8)) = [0,60]
trigger2 = (P2BodyDist Y + (enemy(var(4)),Vel Y * 8 + enemy(var(4)),Const(Movement.YAccel) * 36) * (P2Statetype = A && enemy(var(4)),Vel Y != 0)) = [-30, 0]
trigger2 = (random <= var(59)*20) && (moveGuarded) || (random <= var(59)*200) && (movehit)

[State -3,縦割り(中段)]
type = ChangeState
value = 2000
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),Pos Y >= -50
triggerall = ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
trigger1 = p2bodydist X = [30,100]
trigger1 = !inguarddist
trigger1 = enemy(var(4)),statetype != L
trigger1 = enemy(var(4)),statetype = C
trigger1 = random <= var(59)*20
trigger2 = p2bodydist X = [50,90]
trigger2 = enemy(var(4)),statetype = L
trigger2 = enemy(var(4)),stateno = 5120
trigger2 = enemy(var(4)),animtime >= -18
trigger2 = random <= var(59)*10
trigger3 = p2bodydist X = [0,100]
trigger3 = enemy(var(4)),statetype != L
trigger3 = enemy(var(4)),statetype = C
trigger3 = prevstateno = 13
trigger3 = random <= var(59)*14

[State -3, しゃがみ強K]
type = ChangeState
Value = 430
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != L
triggerall = enemy(var(4)),statetype != A
triggerall = !enemy,numproj
trigger1 = !inguarddist
trigger1 = p2bodydist X = [75,94]
trigger1 = ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
trigger1 = random <= var(59)*8
trigger2 = ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
trigger2 = enemy(var(4)),statetype = L
trigger2 = enemy(var(4)),stateno = 5120
trigger2 = enemy(var(4)),animtime >= -3
trigger2 = p2bodydist X = [80,94]
trigger2 = random <= var(59)*30
trigger3 = var(59) >= 2
trigger3 = stateno = 420 && Time >= 5
trigger3 = (P2BodyDist X - (enemy(var(4)),Vel X * 6)) = [0,92]
trigger3 = (P2BodyDist Y + (enemy(var(4)),Vel Y * 6 + enemy(var(4)),Const(Movement.YAccel) * 21) * (P2Statetype = A && enemy(var(4)),Vel Y != 0)) = [-10, 0]
trigger3 = (random <= var(59)*20) && (moveGuarded) && (p2bodydist X = [80,92]) || (random <= var(59)*200) && (movehit)

[State -3, ハイキック]
type = ChangeState
value = 730
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A 
triggerall = enemy(var(4)),statetype = A
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl
trigger1 = p2bodydist X = [0,54]
trigger1 = p2bodydist Y = [-45,50]
trigger1 = random <= var(59)*150

[State -3, ジャンプ強P]
type = ChangeState
value = 510
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A 
triggerall = enemy(var(4)),statetype = A
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl
trigger1 = p2bodydist X = [0,61]
trigger1 = p2bodydist Y = [-35,90]
trigger1 = random <= var(59)*150

[State -3, ジャンプ強K]
type = ChangeState
value = 530
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A 
triggerall = enemy(var(4)),statetype != A
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl
trigger1 = p2bodydist X = [0,58]
trigger1 = p2bodydist Y = [-20,110]
trigger1 = vel Y >= 0
trigger1 = random <= var(59)*170

[State -3, 斬り下ろし]
type = ChangeState
value = 710
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype = A 
triggerall = enemy(var(4)),statetype != L
trigger1 = ctrl
trigger1 = p2bodydist X = [0,60]
trigger1 = p2bodydist Y = [-30,115]
trigger1 = vel Y >= 0
trigger1 = random <= var(59)*180

[State -3, 起き攻撃]
type = ChangeState
value = 810
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = stateno = 5120
triggerall = Time = 1
triggerall = enemy(var(4)),movetype = A
triggerall = !enemy,numproj
trigger1 = p2bodydist Y <= -50
trigger1 = p2bodydist X = [20,70]
trigger1 = random <= var(59)*15

[State -3,挑発]
type = ChangeState
value = 199
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = statetype != A
triggerall = enemy(var(4)),statetype != A
triggerall = ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = !inguarddist
trigger1 = p2bodydist X >= 170
trigger1 = var(59) = 3 && random <= 25 || (var(59) = [1,2]) && random <= 120

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 歩き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, 前進]
type = ChangeState
value = 21
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = statetype != A
triggerall = alive
triggerall = ctrl || stateno = 22
triggerall = !inguarddist
trigger1 = enemy(var(4)),statetype != L
trigger1 = p2bodydist x >= 200
trigger1 = random <= var(59)*30
trigger2 = enemy(var(4)),statetype != L
trigger2 = p2bodydist x = [110,160]
trigger2 = random <= var(59)*15
trigger3 = enemy(var(4)),movetype != A
trigger3 = enemy(var(4)),statetype != L
trigger3 = p2bodydist x = [35,109]
trigger3 = random <= var(59)*20
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime <= -8
trigger4 = p2bodydist x = [60,120]
trigger4 = random <= var(59)*10

[State -3,後退]
type = ChangeState
value = 22
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = statetype != A
triggerall = ctrl || stateno = 21
triggerall = alive
triggerall = BackEdgeBodyDist > 40
trigger1 = enemy(var(4)),movetype != H
trigger1 = enemy(var(4)),statetype != L
trigger1 = !inguarddist
trigger1 = p2bodydist x = [101,140]
trigger1 = random <= var(59)*3
trigger2 = enemy(var(4)),movetype != H
trigger2 = enemy(var(4)),statetype != L
trigger2 = !inguarddist
trigger2 = p2bodydist x = [10,100]
trigger2 = random <= var(59)*2
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120
trigger3 = enemy(var(4)),animtime <= -4
trigger3 = p2bodydist x <= 25
trigger3 = random <= var(59)*100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, 前ダッシュ]
type = ChangeState
Value = 100
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = statetype != A
triggerall = stateno != [100,101]
triggerall = enemy(var(4)),movetype != A
triggerall = !enemy,numproj
triggerall = Ctrl || stateno = 21 || stateno = 22
triggerall = p2bodydist X > 20
trigger1 = !InGuardDist
trigger1 = P2bodydist X = [80,140]
trigger1 = random <= var(59)*15
trigger2 = !InGuardDist
trigger2 = P2bodydist X = [141,220]
trigger2 = random <= var(59)*50
trigger3 = enemy(var(4)),statetype = L
trigger3 = enemy(var(4)),stateno = 5120
trigger3 = enemy(var(4)),animtime <= -9
trigger3 = P2Bodydist X >= 130
trigger3 = random <= var(59)*70
trigger4 = p2bodydist X = [95,180]
trigger4 = enemy(var(4)),movetype = H
trigger4 = random <= var(59)*60

[State -3, 後ダッシュ]
type = ChangeState
Value = 105
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = statetype != A
triggerall = BackEdgebodydist >= 65
triggerall = Ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
triggerall = !enemy,numproj
trigger1 = enemy(var(4)),movetype != H
trigger1 = !inguarddist
trigger1 = vel X <= 1
trigger1 = P2bodydist X = [15,75]
trigger1 = random <= var(59)*5
trigger2 = enemy(var(4)),statetype = L
trigger2 = enemy(var(4)),stateno = 5120
trigger2 = enemy(var(4)),animtime <= -9
trigger2 = P2Bodydist X = [5,40]
trigger2 = random <= var(59)*10

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ジャンプ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3, ジャンプ]
type = ChangeState
Value = 40
triggerall = var(59) >= 1 && roundstate = 2
triggerall = stateno != 45120
triggerall = alive
triggerall = Statetype!=A
triggerall = Ctrl || stateno = 21 || stateno = 22 || StateNo = 100 || StateNo = 101
trigger1 = !enemy(var(4)),numproj
trigger1 = enemy(var(4)),movetype != A
trigger1 = enemy(var(4)),statetype != L
trigger1 = P2Bodydist X = [40,120]
trigger1 = random <= var(59)*2
trigger2 = !inguarddist
trigger2 = enemy(var(4)),numproj
trigger2 = P2Bodydist X = [105,180]
trigger2 =  random <= var(59)*110
trigger3 = P2Bodydist X = [-10,60]
trigger3 = enemy(var(4)),HitDefAttr = SCA,AT,NT,ST,HT
trigger3 = random <= var(59)*200
trigger4 = enemy(var(4)),statetype = L
trigger4 = enemy(var(4)),stateno = 5120
trigger4 = enemy(var(4)),animtime = [-12,-8]
trigger4 = P2Bodydist X = [10,100]
trigger4 = random <= var(59)*5

;---------------------------------------------------------------------------

[Statedef 999]
type    = S
movetype= H
physics = N
anim = 1
ctrl = 0

[State 999,1]
type = parentvarset
trigger1=time = 0
var(58)=0

[State 999,1]
type = parentvarset
triggerall=Var(58)=0
triggerall=root,RoundState=2
trigger1=root,command = "up"
trigger2=root,command = "down"
trigger3=root,command = "back"
trigger4=root,command = "fwd"
trigger5=root,command = "a"
trigger6=root,command = "b"
trigger7=root,command = "c"
trigger8=root,command = "x"
trigger9=root,command = "y"
trigger10=root,command = "z"
trigger11=root,command = "start"
var(58) = 1

[State 999,2]
type = ParentVarSet
triggerall=(parent, var(58) =1) && (parent, RoundState =2)
triggerall=parent, RoundState =2
trigger1=command = "up" && root,command = "up"
trigger2=command = "down" && root,command = "down"
trigger3=command = "back" && root,command = "back"
trigger4=command = "fwd" && root,command = "fwd"
trigger5=command = "a" && root,command = "a"
trigger6=command = "b" && root,command = "b"
trigger7=command = "c" && root,command = "c"
trigger8=command = "x" && root,command = "x"
trigger9=command = "y" && root,command = "y"
trigger10=command = "z" && root,command = "z"
trigger11=command = "start" && root,command = "start"
var(58) = 2

[State 999,0]
type = destroyself
triggerall = RoundState = 2
trigger1=Root,Var(58)!=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 10000]
Anim = 0
Ctrl = 0

[State 10000]
Type = AssertSpecial
Trigger1 = 1
flag = invisible

[State 10000]
Type = NotHitBy
Trigger1 = 1
value = SAC,NT,ST,HT,NA,SA,HA,NP,SP,HP,NA,SA,HA
Time = 1

[State 10000];間違いで本体が来たら立ちへ移行
Type = SelfState
Trigger1 = !ishelper
value = 0

[State 10000];プレイヤー判定
Type = ParentvarSet
Trigger1 = command = "up"&&Root,command="up"
Trigger2 = command = "down"&&Root,command="down"
Trigger3 = command="back"&&Root,command="back"
Trigger4 = command="fwd"&&Root,command="fwd"
Trigger5 = command="a"&&Root,command="a"
Trigger6 = command="b"&&Root,command="b"
Trigger7 = command="c"&&Root,command="c"
Trigger8 = command="x"&&Root,command="x"
Trigger9 = command="y"&&Root,command="y"
Trigger10 = command="z"&&Root,command="z"
Trigger11 = command="start"&&Root,command="start"
var(59) = -1

[State 10000];プレイヤー判定
Type = VarSet
Trigger1 = command="up"&&Root,command="up"
Trigger2 = command="down"&&Root,command="down"
Trigger3 = command="back"&&Root,command="back"
Trigger4 = command="fwd"&&Root,command="fwd"
Trigger5 = command="a"&&Root,command="a"
Trigger6 = command="b"&&Root,command="b"
Trigger7 = command="c"&&Root,command="c"
Trigger8 = command="x"&&Root,command="x"
Trigger9 = command="y"&&Root,command="y"
Trigger10 = command="z"&&Root,command="z"
Trigger11 = command="start"&&Root,command="start"
var(59) = -1

[State 10000];立ったら消失
Type = DestroySelf
TriggerAll=isHelper
Trigger1 = Root,var(59)!=0||var(59)=-1
Trigger2 = command="up"&&Root,command="up"
Trigger3 = command="down"&&Root,command="down"
Trigger4 = command="back"&&Root,command="back"
Trigger5 = command="fwd"&&Root,command="fwd"
Trigger6 = command="a"&&Root,command="a"
Trigger7 = command="b"&&Root,command="b"
Trigger8 = command="c"&&Root,command="c"
Trigger9 = command="x"&&Root,command="x"
Trigger10 = command="y"&&Root,command="y"
Trigger11 = command="z"&&Root,command="z"
Trigger12 = command="start"&&Root,command="start"

[State 20000];フラグON
Type = varSet
Triggerall = var(59) != -1
Trigger1 = Root,command="up"&&(RoundState=2&&Root,Ctrl)
Trigger2 = Root,command="down"&&(RoundState=2&&Root,Ctrl)
Trigger3 = Root,command="back"&&(RoundState=2&&Root,Ctrl)
Trigger4 = Root,command="fwd"&&(RoundState=2&&Root,Ctrl)
Trigger5 = Root,command="a"
Trigger6 = Root,command="b"
Trigger7 = Root,command="c"
Trigger8 = Root,command="x"
Trigger9 = Root,command="y"
Trigger10 = Root,command="z"
Trigger11 = Root,command="start"
var(59) = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードヘルパー + Config
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 30000]
Anim = 9999
Ctrl = 0

[State 30000,St=0]
type = SelfState
trigger1 = !IsHelper
Value = 0
Ctrl = 1
IgnoreHitPause = 1

[State 30000];プレイヤー座標に固定ぃぃ
type = PosSet
trigger1 = IsHelper
x = Root,Pos x+50*ifelse(root,facing = 1,1,-1)
y = Const(size.head.pos.y)+Root,Pos y
IgnoreHitPause = 1

[State 30000]
type = Turn
trigger1 = IsHelper
trigger1 = Root,facing != facing
IgnoreHitPause = 1

[State 30000]
type = AssertSpecial
trigger1 = IsHelper
flag = invisible
IgnoreHitPause = 1

[State 30000];無敵
type = NotHitBy
trigger1 = IsHelper
value = SAC,NT,ST,HT,NA,SA,HA,NP,SP,HP,NA,SA,HA
Time = 1
IgnoreHitPause = 1


[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
trigger1 = !NumHelper(20000+ID)
HelperType = Normal
Name = "HelperTAISAKU1"
StateNo = 20000
ID = 20000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
trigger1 = !NumHelper(30000+ID)
HelperType = Normal
Name = "HelperTAISAKU2"
StateNo = 30000
ID = 30000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
trigger1 = !NumHelper(40000+ID)
trigger1 = var(59) > 0
Helpertype = Normal
Name = "HelperTAISAKU3"
StateNo = 40000
ID = 40000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
trigger1 = !NumHelper(50000+ID)
trigger1 = var(59) > 0
HelperType = Normal
Name = "HelperTAISAKU4"
StateNo = 50001
ID = 50000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
triggerAll = !NumHelper(60000+ID)
trigger1 = var(59) > 0
HelperType = Normal
Name = "HelperTAISAKU5"
StateNo = 60000
ID = 60000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
type = Helper
triggerall = !IsHelper
triggerall = !NumHelper(70000+ID)
trigger1 = var(59) > 0
HelperType = Normal
Name = "HelperTAISAKU6"
StateNo = 70000
ID = 70000+ID
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State 30000];ガード用
type = VarSet
triggerall = IsHelper
triggerall = NumEnemy > 0
trigger1 = 1
fvar(0) = 0
IgNoreHitPause = 1

[State 30000];ガード用
type = VarSet
triggerall = IsHelper
triggerall = NumEnemy > 0
trigger1 = Root,InGuardDist
trigger2 = NumHelper(10000+Root,ID)
trigger2 = Helper(10000+Root,ID),InGuardDist
trigger3 = NumHelper(20000+Root,ID)
trigger3 = Helper(20000+Root,ID),InGuardDist
trigger4 = NumHelper(30000+Root,ID)
trigger4 = Helper(30000+Root,ID),InGuardDist
trigger5 = NumHelper(40000+Root,ID)
trigger5 = Helper(40000+Root,ID),InGuardDist
trigger6 = NumHelper(50000+Root,ID)
trigger6 = Helper(50000+Root,ID),InGuardDist
trigger7 = NumHelper(60000+Root,ID)
trigger7 = Helper(60000+Root,ID),InGuardDist
Trigger8 = NumHelper(70000+Root,ID)
Trigger8 = Helper(70000+Root,ID),InGuardDist
fvar(0) = 1
IgNoreHitPause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIヘルパー終了
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 0
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 41

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 1
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 42

[State -3, 3]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 2
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 43

[State -3, 4]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 3
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 43

[State -3, 5]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 4
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 43

[State -3, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = gethitvar(animtype) = 5
triggerall = random < 350
triggerall = Life > 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 0, 43

[State -3, 7]
type = PlaySnd
trigger1 = stateno = 5070
trigger1 = Time = 1
trigger1 = Life > 0
value = 0, 44

[State -3, 10]
type = EnvColor
trigger1 = Var(15) = 7
trigger2 = Var(15) = 6
trigger3 = Var(15) = 3
trigger4 = Var(15) = 1
value = 255, 255, 255
time = 1
ignorehitpause = 1

[State -3, 11]
type = VarAdd
trigger1 = Var(15) > 0
trigger1 = !WinKO
v = 15
value = -1
ignorehitpause = 1

[State -3, 20]
type = Explod
trigger1 = StateNo = 50
trigger1 = Time = 1
ID = 100
ownpal = 1
pos = 0, 26
postype = p1
bindtime = 1
anim = 930 + Anim
sprpriority = 7

[State -3, 30]
type = VarAdd
trigger1 = WinKO
v = 9
value = 1
ignorehitpause = 1

[State -3, 31]
type = VarSet
trigger1 = !WinKO
v = 9
value = 0
ignorehitpause = 1

[State -3, 32]
type = VarSet
trigger1 = WinKO
trigger1 = Var(13) = 0
v = 13
value = StateNo
ignorehitpause = 1



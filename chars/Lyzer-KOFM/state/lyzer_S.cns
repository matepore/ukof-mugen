;---------------------------------------------------------------------------
; 弱ノーブルエクレール
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 1000]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000]
type = PosAdd
trigger1 = AnimElemTime(5) = 0 || AnimElemTime(6) = 0
x = 10
[State 1000]
type = PosAdd
trigger1 = AnimElemTime(9) = 0 || AnimElemTime(10) = 0
x = -10

[State 1000]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 0
channel = 1

[State 1000]
Type = Explod
Trigger1 = Time = 0
Anim = 1090
ID = 1000
Postype = P1
Pos = 0,0
SprPriority = 3

[State 1000]
type = palfx
trigger1 = AnimElemTime(6) = 0
time = 2
add = 200, 200, 200

[State 1000]
type = Helper
trigger1 = AnimElemTime(6) = 1
id = 1050
name = "LIGHTNING"
pos = 55,-75
postype = P1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = Helper
trigger1 = AnimElemTime(7) = 4
id = 1050
name = "LIGHTNING"
pos = 55,-75
postype = P1
stateno = 1060
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 強ノーブルエクレール
[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 2

[State 1010]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1010]
type = PlaySnd
trigger1 = AnimElemTime(4) = 3
value = 1, 1
channel = 1

[State 1010]
type = PosAdd
trigger1 = AnimElemTime(5) = 0 || AnimElemTime(6) = 0
x = 10
[State 1010]
type = PosAdd
trigger1 = AnimElemTime(10) = 0 || AnimElemTime(11) = 0
x = -10

[State 1010]
Type = Explod
Trigger1 = Time = 0
Anim = 1090
ID = 1000
Postype = P1
Pos = 0,0
SprPriority = 3

[State 1010]
type = palfx
trigger1 = AnimElemTime(6) = 0
time = 2
add = 200, 200, 200

[State 1010]
type = Helper
trigger1 = AnimElemTime(6) = 1
id = 1050
name = "LIGHTNING"
pos = 40,-103
postype = P1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1010]
type = Helper
trigger1 = AnimElemTime(7) = 4
id = 1050
name = "LIGHTNING"
pos = 40,-103
postype = P1
stateno = 1070
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1010]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷
[Statedef 1050]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 3

[State 1050]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1050]
type = PlaySnd
trigger1 = Time = 0
value = 8, 2

[State 1050]
type = Projectile
trigger1 = time = 0
projanim = 1055
projID = 1050
projhitanim = -1
projremovetime = 14
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = 0, 0
attr = A, SP
damage= 23,8
animtype = Hard
hitflag = MAF
guardflag = MA
pausetime = 1,1
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, 0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
guard.velocity = -3
air.velocity = 0, -3.5
fall = 0
air.fall = 1
air.recover = 0
palfx.time = 30
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
getpower = 70, 35
givepower = 35, 35
forcestand = 1

[State 1050]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; 雷２
[Statedef 1060]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 3

[State 1060]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1060]
type = Projectile
trigger1 = time = 0
projanim = 1055
projID = 1050
projhitanim = -1
projremovetime = 14
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = 0, 0
attr = A, SP
damage= 44,8
animtype = Heavy
hitflag = MAF
guardflag = MA
pausetime = 1,4
sparkno = s4800
guard.sparkno = s4620
sparkxy = 10, 0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -12
guard.velocity = -3
air.velocity = -4, -3.5
fall = 0
air.fall = 1
air.recover = 0
palfx.time = 30
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
getpower = 70, 35
givepower = 35, 35
forcestand = 1

[State 1060]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; 雷３
[Statedef 1070]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 3

[State 1070]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1070]
type = Projectile
trigger1 = time = 0
projanim = 1055
projID = 1050
projhitanim = -1
projremovetime = 14
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = 0, 0
attr = A, SP
damage= 44,8
animtype = Heavy
hitflag = AF
guardflag = MA
pausetime = 1,4
sparkno = s4800
guard.sparkno = s4620
sparkxy = 10, 0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 25
ground.hittime = 25
ground.velocity = -12
guard.velocity = -3
air.velocity = -4, -3.5
fall = 1
fall.recover = 0
palfx.time = 30
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
getpower = 70, 35
givepower = 35, 35
forcestand = 1

[State 1070]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; エアレイドエクレール
[Statedef 1100]
type    = A
movetype= A
physics = N
poweradd= 65
juggle  = 6
ctrl = 0
velset = 0,0
anim = 1100
sprpriority = 2

[State 1100]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 5
channel = 1

[State 1100]
type = palfx
trigger1 = AnimElemTime(5) = 0
time = 2
add = 200, 200, 200

[State 1100]
type = Helper
trigger1 = AnimElemTime(5) = 1
id = 1150
name = "LIGHTNING"
pos = 40,-54
postype = P1
stateno = 1150
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1100]
type = Helper
trigger1 = AnimElemTime(6) = 8
id = 1150
name = "LIGHTNING"
pos = 40,-54
postype = P1
stateno = 1160
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1100]
type = VelSet
trigger1 = AnimElemTime(8) = 0
x = 1

[State 1100]
type = Veladd
trigger1 = AnimElemTime(8) >= 0
y = .5

[State 1100]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(8) >= 0
value = 52

;---------------------------------------------------------------------------
; 雷
[Statedef 1150]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 3

[State 1150]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1150]
type = PlaySnd
trigger1 = Time = 0
value = 8, 2

[State 1150]
type = Projectile
trigger1 = time = 0
projanim = 1055
projID = 1150
projhitanim = -1
projremovetime = 14
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = 0, 0
attr = A, SP
damage= 23,8
animtype = Hard
hitflag = MAF
guardflag = MA
pausetime = 1,1
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, 0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -5
air.velocity = -4, -4
fall = 1
fall.recover = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
getpower = 70, 35
givepower = 35, 35
forcestand = 1

[State 1150]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; 雷２
[Statedef 1160]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 3

[State 1160]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1160]
type = Projectile
trigger1 = time = 0
projanim = 1055
projID = 1050
projhitanim = -1
projremovetime = 14
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = 0, 0
attr = A, SP
damage= 52,12
animtype = Hard
hitflag = MAF
guardflag = MA
pausetime = 1,1
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, 0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -5
air.velocity = -3, -4
fall = 1
fall.recover = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
getpower = 70, 35
givepower = 35, 35
forcestand = 1

[State 1160]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; カウンターシェル
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 30
ctrl = 0
anim = 1200
velset = 0,0
sprpriority = 1

[State 1200]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 1200]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 1,6
channel = 1

[State 1200]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 8,0

[State 1200]
type = Explod
trigger1 = AnimElemTime(4) = 0
anim = 1290
ID = 1000
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1

[State 1200]
type = Helper
trigger1 = AnimElemTime(4) = 0
helpertype = normal
id = 1205
postype = P1
pos = 0,0
stateno = 1205
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1

[State 1200]
type = HitDef
trigger1 = AnimElemTime(4) = 0
hitflag = MAF
attr = S, SA
animtype  = Hard
damage    = 60,10
getpower = 120,20
guardflag = M
pausetime = 0,10
sparkno = S4800
guard.sparkno = S4620
sparkxy = -10,-55
hitsound = s8,9
guardsound = s5,8
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.4,-5
ground.cornerpush.veloff = -8
ground.cornerpush = 1
yaccel = 0.64
air.velocity = -5.4,-5
air.cornerpush.veloff = 0
air.animtype = Back
air.fall = 0
air.hittime = 17
P2stateno = 226
fall = 1
fall.recovery = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4

[State 1200]
Type = Helper
Trigger1 = movehit
Trigger1 = !numhelper(4595)
Stateno = 4595
ID = 4595
Name = "spark"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1200]
type = NotHitBy
trigger1 = Var(1) = 1
value = SCA

[State 1200]
type = ChangeState
trigger1 = (Time >= 2) && Var(1) = 1
value = 1210

[State 1200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; カウンターシェル返しキック
[Statedef 1210]
type    = S
movetype= A
physics = S
poweradd = 30
ctrl = 0
anim = 1210
velset = 0,0

[State 1210]
type = NotHitBy
trigger1 = AnimElemtime(9) <= 1
value = SCA

[State 1210]
type = PlaySnd
trigger1 = AnimElemtime(5) = 0
value = 1,7
channel = 1

[State 1210]
type = PlaySnd
trigger1 = AnimElemtime(5) = 0
value = 8,1

[State 1210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------
[Statedef 1205]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1205
sprpriority = -2
ctrl = 0

[State 1205]
type = NotHitBy
trigger1 = 1
value = ,AA, AT
time = 2

[State 1205] 
type = BindToParent
trigger1 = 1
facing = 1
pos = 0,0

[State 1205]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NP, SP, HP
slot = 0
stateno = 1206
ignorehitpause = 1

[State 1205]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,stateno != 1200
trigger3 = Parent,movetype = H

;-------------------------------
; 飛び道具返し
[Statedef 1206]
type    = S
movetype= H
physics = S
velset = 0,0
anim = 9999
ctrl = 0

[State 1206]
type = ParentVarSet
trigger1 = Time = 0
var(1) = 1

[state 1206]
type = Varset
trigger1 = Time = 0
var(1) = GetHitVar(damage)

[State 1206]
type = Projectile
trigger1 = time = 6
projanim = 1250
projID = 1050
projhitanim = 1260
offset = 20, 0
velocity = 9, 0
projremovetime = -1
attr = A, SP
animtype  = Hard
getpower = 0,0
givepower = 20,10
damage    = 40+var(1),6
guardflag = MA
hitflag = MAF
pausetime = 0,12
sparkno = S4800
guard.sparkno = S4620
sparkxy = 15,0
hitsound = S8,9
guardsound = S5,8
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -4,-8
ground.cornerpush.veloff = 0
guard.velocity = -8
airguard.velocity = -4,-5
yaccel = 0.64
air.velocity = -4,-8
air.animtype = Back
fall = 1
fall.recover = 0 
palfx.time = 40
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4

[State 1206]
type = NotHitBy
trigger1 = 1
value = SCA,AA, AT, AP
time = 2

[State 1206]
type = SprPriority
trigger1 = Time >= 0
value =  -1

[State 1206]
type = StateTypeSet
trigger1 = Time > 0
movetype = I

[State 1206]
type = DestroySelf
trigger1 = Time = 10

;---------------------------------------------------------------------------
; マッハキック
[Statedef 1300]
type    = S
movetype= A
physics = S
poweradd= 65
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1300]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1300]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1300]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1, 2
channel = 1

[State 1300]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 8, 3

[State 1300]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Hard
air.animtype = Back
damage = 66,15
priority  = 8, Hit
hitflag = MAF
guardflag = MA
pausetime = 1,5
sparkno = s4520
guard.sparkno = s4620
sparkxy = -20, -73
hitsound   = s5,2
guardsound = s5,8
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -10
guard.velocity = -10
air.velocity = -5,-4
air.fall = 1
fall.recover = 0
yaccel = .45
forcestand = 1

[State 1300]
type = varset
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(8) < 0
var(2) = ifelse(Command = "Mach_Kick_a",1,ifelse(Command = "Mach_Kick_b",2,0))

[State 1300]
type = ChangeState
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(8) < 0
trigger1 = var(2) != 0
value = 1400

[State 1300]
type = varset
trigger1 = AnimTime = 0
var(2) = 0

[State 1300]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; トライステップ
[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 2

[State 1400]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1400]
type = PosAdd
trigger1 = AnimElemTime(3) = 0 || AnimElemTime(4) = 0
trigger2 = AnimElemTime(5) = 0 || AnimElemTime(6) = 0
x = 12

[State 1400]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1, 3
channel = 1

[State 1400]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 4, 3

[State 1400]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
air.animtype = Back
damage = 44,11
priority  = 8, Hit
hitflag = MAF
guardflag = MA
pausetime = 5,10
sparkno = s4520
guard.sparkno = s4620
sparkxy = -20, -60
hitsound   = s5,2
guardsound = s5,8
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = 0
ground.cornerpush.veloff = 0
guard.velocity = -10
air.velocity = -5,-4
air.fall = 1
fall.recover = 0
yaccel = .45
forcestand = 1

[State 1400]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(var(2) = 2,1460,1450)

;---------------------------------------------------------------------------
; トライステップ(スーパー稲妻キック　弱)
[Statedef 1450]
type    = S
movetype= A
physics = S
poweradd= 0
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1450
sprpriority = 2

[State 1450]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1450]
type = PosAdd
trigger1 = AnimElemTime(4) < 0
x = 2

[State 1450]
type = NotHitBy
trigger1 = Time = 0
value = SCA, NA,SA,HA,NP,SP,HP
time = 6

[State 1450]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 4
channel = 1

[State 1450]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 8, 2

[State 1450]
Type = Explod
Trigger1 = AnimElemTime(3) = 0
Anim = 1490
ID = 1000
Postype = P1
Pos = 44,0
ownpal = 1
SprPriority = 3

[State 1450]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A
physics = N

[State 1450]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = -2
y = -3.3

[State 1450]
type = Veladd
trigger1 = AnimElemTime(4) >= 0
y = .5

[State 1450]
type = statetypeset
trigger1 = AnimElemTime(7) = 0
movetype = I

[State 1450]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Heavy
air.animtype = Back
damage = 15,4
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 11,13
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, -54
hitsound   = s8,9
guardsound = S5,8
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.5,-6
guard.velocity = -9
air.velocity = -2.5,-6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
fall = 1
fall.recover = 0
yaccel = .45
persistent = 0
getpower = 83,35
givepower = 35,35
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1450]
type = HitDef
trigger1 = AnimElem = 4 && !movecontact
attr = A, SA
animtype = Heavy
air.animtype = Back
damage = 23,8
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 13,15
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, -70
hitsound   = s8,9
guardsound = S5,8
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4,-6
guard.velocity = -9
air.velocity = -4,-6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
fall = 1
fall.recover = 0
yaccel = .45
persistent = 0
getpower = 83,35
givepower = 35,35
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1450]
Type = Helper
Trigger1 = movehit
Trigger1 = !numhelper(4595)
Stateno = 4595
ID = 4595
Name = "Spark"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1450]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(7) >= 0
value = 1499

;---------------------------------------------------------------------------
; トライステップ(スーパー稲妻キック　強)
[Statedef 1460]
type    = S
movetype= A
physics = S
poweradd= 0
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1450
sprpriority = 2

[State 1460]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1460]
type = PosAdd
trigger1 = AnimElemTime(4) < 0
x = 2

[State 1460]
type = NotHitBy
trigger1 = Time = 0
value = SCA, NA,SA,HA,NP,SP,HP
time = 6

[State 1460]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 4
channel = 1

[State 1460]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 8, 2

[State 1460]
Type = Explod
Trigger1 = AnimElemTime(3) = 0
Anim = 1490
ID = 1000
Postype = P1
Pos = 44,0
ownpal = 1
SprPriority = 3

[State 1460]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A
physics = N

[State 1460]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = -2
y = -6.5

[State 1460]
type = Veladd
trigger1 = AnimElemTime(4) >= 0
y = .5

[State 1460]
type = statetypeset
trigger1 = AnimElemTime(7) = 0
movetype = I

[State 1460]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Heavy
air.animtype = Back
damage = 15,4
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 13,15
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, -54
hitsound   = s8,9
guardsound = S5,8
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -.5,-8
guard.velocity = -9
air.velocity = -.5,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
fall = 1
fall.recover = 0
yaccel = .45
persistent = 0
getpower = 83,35
givepower = 35,35
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1460]
type = HitDef
trigger1 = AnimElem = 4 && !movecontact
attr = A, SA
animtype = Heavy
air.animtype = Back
damage = 23,8
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 11,13
sparkno = s4800
guard.sparkno = s4620
sparkxy = -10, -70
hitsound   = s8,9
guardsound = S5,8
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -.5,-8
guard.velocity = -9
air.velocity = -.5,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 50
palfx.color = 60
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 176,176,170
palfx.sinadd = 126,126,120,4
fall = 1
fall.recover = 0
yaccel = .45
persistent = 0
getpower = 83,35
givepower = 35,35
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1460]
Type = Helper
Trigger1 = movehit
Trigger1 = !numhelper(4595)
Stateno = 4595
ID = 4595
Name = "Spark"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1460]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(7) >= 0
value = 1499

;---------------------------------------------------------------------------
; Jump Land
[Statedef 1499]
type    = S
physics = S
ctrl = 0
anim = 1499

[State 1499]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1499]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1499]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; リバースボルトブレイク
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle = 0
poweradd= 20
ctrl = 0
velset = 0,0
anim = 1500
sprpriority = 2

[State 1500]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1500]
type = PosAdd
trigger1 = AnimElemTime(2) = 0 || AnimElemTime(3) = 0
x = 15
[State 1500]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
x = -5

[State 1500]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 4
channel = 1
[State 1500]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 4, 1

[State 1500]
type = HitDef
trigger1 = AnimElemTime(4) = 0
attr = S, ST
hitflag = MAFD
guardflag = MA
animtype = back
damage = 6,12
pausetime = 3,3
sparkno = s4710
guard.sparkno = s4620
sparkxy = -10,-21
hitsound = s6,8
guardsound = s5,8
ground.type = High
ground.slidetime = 14
ground.hittime = 18
yaccel = .45
ground.velocity = -4,-5
air.velocity = -4,-7
airguard.velocity = -3,-4
p1stateno = 1510
p2facing = 1
fall = 1
fall.recover = 0
kill = 0

[State 1500]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;　リバースボルトブレイク(投げ)
[Statedef 1510]
type    = S
movetype= A
physics = N
anim = 1510
poweradd = 60
sprpriority = 2

[State 1510]
type = TargetState
trigger1 = Time = 0
value = 1550

[State 1510]
type = Width
trigger1 = AnimElemTime(3) < 0
edge = 40, 50

[State 1510]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 4, 4

[State 1510]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 1510]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 33, -58
[State 1510]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 30, -94
[State 1510]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 3, -100
[State 1510]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = -21, -105
[State 1510]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
pos = -60, 0

[State 1510]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1, 8
channel = 1

[State 1510]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 6, 6

[State 1510]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 8, 9

[State 1510]
Type = Helper
Trigger1 = AnimElemTime(6) = 0
Stateno = 4599
ID = 4599
Name = "Spark"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State 1510]
type = Explod
trigger1 = AnimElemTime(5) = 4
anim = 1490
pos = -60, 0
postype = P1
sprpriority = 4
bindtime = 1
ownpal = 1

[State 1510]
type = Explod
trigger1 = AnimElemTime(6) = 0
anim = 4790
pos = -60, 0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

[State 1510]
type = TargetLifeAdd
trigger1 = AnimElemTime(6) = 0
value = -88

[State 1510]
Type = envshake
Trigger1 = AnimElemTime(6) = 0
time = 20
freq = 120
ampl = 4
phase = 80

[State 1510]
type = Turn
trigger1 = AnimElemTime(10) = 0

[State 1510]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;　リバースボルトブレイク相手
[Statedef 1550]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1550]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1550

[State 1550]
type = PosAdd
trigger1 = AnimTime = 0
x = 20

[State 1550]
type = palfx
trigger1 = AnimElemTime(6) = 0
time = 50
color = 60
invertall = 1
add = 1,1,1
mul = 176,176,170
sinadd = 126,126,120,4

[State 1550]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1590

;---------------------------------------------------------------------------
;　頭蓋陥没後
[Statedef 1590]
type    = A
movetype= H
physics = N
velset = 2,-5

[State 1590]
type = VelAdd
Trigger1 = 1
y = .45

[State 1590]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1590

[State 1590]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; ニアレンジディスチャージ
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle = 0
poweradd= 20
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2

[State 1600]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1600]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 9, 5
channel = 1
[State 1600]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 4, 0

[State 1600]
type = HitDef
trigger1 = Time = 0
attr = S, ST
hitflag = M-
animtype = back
damage = 1
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-95
hitsound = -1
guardsound = -1
ground.type = High
ground.hittime = 18
yaccel = .45
ground.velocity = 0,0
p1stateno = 1610
p2stateno = 1650
p2facing = 1
fall = 1
fall.recover = 0
kill = 0

[State 1600]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ニアレンジディスチャージ(キャンセル)
[Statedef 1605]
type    = S
movetype= A
physics = S
juggle = 0
poweradd= 20
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2

[State 1605]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1605]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 9, 5
channel = 1
[State 1605]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 4, 0

[State 1605]
type = HitDef
trigger1 = Time = 0
attr = S, ST
hitflag = M
guardflag = M
animtype = back
damage = 1
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-95
hitsound = -1
guardsound = -1
ground.type = High
ground.hittime = 18
yaccel = .45
ground.velocity = 0,0
p1stateno = 1610
p2stateno = 1650
p2facing = 1
fall = 1
fall.recover = 0
kill = 0

[State 1605]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ニアレンジディスチャージ(掴み)
[Statedef 1610]
type    = S
movetype= A
physics = S
juggle = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1610
sprpriority = 2

[State 1610]
type = TargetState
trigger1 = Time = 0
value = 1650

[State 1610]
type = Width
trigger1 = AnimElemTime(3) < 0
edge = 40, 40

[State 1610]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1610]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1, 9
channel = 1

[State 1610]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 6, 8

[State 1610]
type = Explod
trigger1 = AnimElemTime(4) = 0
anim = 4710
pos = 32,-92
postype = P1
sprpriority = 1
bindtime = 1
ownpal = 1

[State 1610]
type = TargetBind
trigger1 = AnimElemTime(4) < 0
pos = 40, 0
[State 1610]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(6) < 0
pos = 27, -98
[State 1610]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
pos = 36, -101

[State 1610]
type = PosAdd
trigger1 = AnimElemTime(5) = 0 || AnimElemTime(6) = 0
x = -17

[State 1610]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 8, 5

[State 1610]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 8, 6

[State 1610]
type = TargetState
trigger1 = AnimElemTime(7) = 0
value = 1660

[State Spark]
type = Explod
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = Random = [0,250]
ignorehitpause = 1
anim = 4890
id = 4890
postype = p2
pos = -10,30
random = 60,70
velocity = 0, 0
bindtime = 1
sprpriority = 3
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1610]
type = Explod
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = (Time % 10) = 0
anim = 1690
pos = 38,-90
postype = P1
sprpriority = 4
bindtime = 1
ownpal = 1

[State 1610]
type = TargetLifeAdd
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = (Time % 10) = 0
value = -13
kill = 0

[State 1610]
type = TargetLifeAdd
trigger1 = AnimElemTime(8) = 0
value = -19

[State 1610]
Type = envshake
Trigger1 = AnimElemTime(7) = 0
time = 65
freq = 120
ampl = 2
phase = 80

[State 1610]
type = Explod
trigger1 = AnimTime = 0
anim = 4790
pos = 40, 0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

[State 1610]
type = Explod
trigger1 = AnimTime = 0
anim = 4810
pos = 30, 0
postype = P1
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1

[State 1610]
Type = Helper
Trigger1 = AnimElemTime(8) = 0
Stateno = 4599
ID = 4599
Name = "Spark"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State 1610]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;　ニアレンジディスチャージ相手
[Statedef 1650]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1650]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1650

[State 1650]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1650]
type = SelfState
Trigger1 = Time >= 60
value = 5100

;---------------------------------------------------------------------------
;　相手しびびんびん
[Statedef 1660]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1660]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1660

[State 1660]
type = palfx
trigger1 = Time = 0
time = 67
color = 60
invertall = 1
add = 1,1,1
mul = 176,176,170
sinadd = 126,126,120,4

[State 1660]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1660]
type = ChangeState
Trigger1 = Time >= 67
value = 1670

;--------------------------------------
; 相手しびびんびん後
[Statedef 1670]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 1670]
type = palfx
trigger1 = Time = 0
time = 35
color = 60
invertall = 1
add = 1,1,1
mul = 176,176,170
sinadd = 126,126,120,4

[state 1670]
type = PosAdd
trigger1 = time = 0
y = 90

[State 1670]
type = ScreenBound
trigger1 = time < 8
value = 0
movecamera = 0,0

[state 1670]
type = changeanim2
trigger1 = time = 0
value = 1670
persistent = 0

[state 1670]
type = velset
trigger1 = time = 8
y = -1
[state 1670]
type = veladd
trigger1 = time >= 8
y = .5

[State 1670]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100


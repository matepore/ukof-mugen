
;---------------------------------------------------------------------------
; ここから下は-3のステートを書いてください、ここに書いたものはゲーム中
; に条件が成立すればいつでも開始するステートです。
;---------------------------------------------------------------------------

[Statedef -3]
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;
;//////////////////////////////////////////////////////////////////////////
;
;ゲーム中に常にいつでも開始したいステート、ここでは「着地音」に使用しています
;下の条件は「52か106のステートに移動して１フレーム目に」と言う事です。
;52と106はバックステップとジャンプの着地のステートです。
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 
trigger2 = stateno = 107 
trigger3 = stateno = 103 
value = 40, 0


[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = var(59)<=0
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(15) <= 0
value = 40, 1
channel = 3

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = var(59)<=0
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(15) > 1
value = 40, 2
channel = 3

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
;trigger1 = stateno = 100 
trigger1 = stateno = 105 
value = 105, 0

;ダメージ時のエフェクトの消去
[State 1]
type = removeexplod
trigger1 = MoveType = H
ID = 2405

;ダメージ時のエフェクトの消去
[State 1]
type = removeexplod
trigger1 = MoveType = H
ID = 1000

[state a];残像消去
type = afterimagetime
trigger1 = movetype = H
time = 0


[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 5,0



[State 1010,1];テレポート・ダメージ
type = posset
trigger1 = prevstateno = 1300 || prevstateno = 1350
trigger1 = time = 0
trigger1 = movetype = H
trigger1 = numhelper(1300) = 1
x = helper(1300),pos x
y = helper(1300),pos y


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ハイジャンプ処理
[State -3, 5];ハイジャンプ判定
type = varset
Trigger1 = var(59) <= 0
trigger1 = stateno = 10
trigger1 = time = 0
Trigger2 = var(59) <= 0
trigger2 = stateno = 100
Trigger3 = var(59) > 0
trigger3 = (fvar(39)=[7,10)) || (fvar(39)=(-4,-1])
v = 15
value = 20

[State -3, 5];ハイジャンプ消去
type = varset
trigger1 = stateno = 52
trigger1 = time = 0
v = 15
value = 0

; 小ジャンプ処理
[State -3, 5];小ジャンプ判定
type = varset
Trigger1 = var(59) <= 0
trigger1 = stateno = 40
trigger1 = command != "holdup"
Trigger2 = var(59) > 0
trigger2 = stateno = 40
trigger2 = fvar(39)=(-4,4)
v = 16
value = 1

[State -3, 5];小ジャンプ消去
type = varset
Trigger1 = var(59) <= 0
trigger1 = stateno = 40
trigger1 = command = "holdup"
Trigger2 = var(59) > 0
trigger2 = stateno = 40
trigger2 = fvar(39)!=(-4,4)
v = 16
value = 0

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 42
trigger1 = time = 1
trigger1 = var(15) >= 1
x = 5
;y = -9


[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 43
trigger1 = time = 1
trigger1 = var(15) >= 1
x = -5
;y = -9

[State -3, 5];小ジャンプ
type = veladd
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(16) = 1
y = 3

[State -3, 5]
type = AfterImage
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(15) >= 1
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = var(59)>0
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(15) <= 0
value = 40, 1
channel = 3

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = var(59)>0
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(15) > 1
value = 40, 2
channel = 3
;============================================================================================
;-------------------------------------- AI --------------------------------------------------
;var(51)  = 不可攻撃判定用
;var(52)  = simul用
;var(53)  = 相手停止F
;var(54)  = いろいろ
;var(55)  = 反応速度
;var(56)  = EnemyNear,id
;var(59)  = AILv
;fvar(34) = 敵y軸速度
;fvar(35) = 敵x軸速度
;fvar(36) = 摩擦係数
;fvar(37) = のけぞり時間
;fvar(38) = 重力加速度
;fvar(39) = AI制御

;----------------------------------- AI起動用 -----------------------------------------------
[State -3, AI起動用ヘルパー]
type=helper
TriggerAll = RoundState<2||(RoundState=2&&ctrl)
trigger1 = !NumHelper(10000+id)
trigger1 = alive
trigger1 = var(59)=0
helpertype=normal
name="Vanessa_AI"
stateno=10015
ID=10000+id
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1 = ishelper(10000+id)
trigger1 = stateno!=10015
value=10015

[State 50000]
type = changeState
triggerall = IsHelper(50000+id)
trigger1 = StateNo != 50000
value = 50000
ignorehitpause = 1

[State -3, AI]
type = VarSet
TriggerAll = var(59) <= 0
triggerall = !IsHelper
triggerall = roundstate = 2
trigger1 = Command = "AI0" || Command = "AI1" || Command = "AI2" || Command = "AI3" || Command = "AI4" || Command = "AI5" || Command = "AI6" || Command = "AI7" || Command = "AI8" || Command = "AI9" || Command = "AI10"
trigger2 = Command = "AI11" || Command = "AI12" || Command = "AI13" || Command = "AI14" || Command = "AI15" || Command = "AI16" || Command = "AI17" || Command = "AI18" || Command = "AI19" || Command = "AI20"
trigger3 = Command = "AI21" || Command = "AI22" || Command = "AI23" || Command = "AI24" || Command = "AI25" || Command = "AI26" || Command = "AI27" || Command = "AI28" || Command = "AI29" || Command = "AI30"
trigger4 = Command = "AI31" || Command = "AI32" || Command = "AI33" || Command = "AI34" || Command = "AI35" || Command = "AI36" || Command = "AI37" || Command = "AI38" || Command = "AI39" || Command = "AI40"
trigger5 = Command = "AI41" || Command = "AI42" || Command = "AI43" || Command = "AI44" || Command = "AI45" || Command = "AI46" || Command = "AI47" || Command = "AI48" || Command = "AI49" || Command = "AI50"
Trigger6 = var(59) = 0
Trigger6 = numhelper(10000+id)
Trigger6 = helper(10000+id),var(59)>0
var(59) = 1
IgNoreHitPause = 1

;[State -1,]
;type = VarSet
;trigger1 = command = "start"
;v = 59
;value = 1
;ignorehitpause = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999

;-------------------------------- AI補助ヘルパー --------------------------------------------
[State -3,AI補助ヘルパー]
Type = HelPer
triggerall = !IsHelper
TriggerAll = var(59) >= 0
Trigger1 = numhelper(50000+id) = 0
;Trigger1 = Alive
HelperType = Normal
Name = "AI_helper"
StateNo = 50000
pos=0,999
ID = 50000+id
OwnPal = 0
PauseMoveTime= 99999999
SuperMoveTime= 99999999
IgnoreHitPause = 1

[State -3]
type = changeState
;triggerall = numhelper(50000+id)
triggerall = IsHelper(50000+id)
trigger1 = StateNo != 50000
value = 50000
ignorehitpause = 1

[state -3,画面端検出+AI補助]
Type = helper
Trigger1 = var(59)>=0
Trigger1 = !NumHelper(60000+id)
Helpertype = normal
Name = "AI_stage"
Postype = p1
Stateno = 60000
pos=0,-9999
ID = 60000+id
pausemovetime = 2147483647
supermovetime = 2147483647
Persistent = 0
Ignorehitpause  = 1
Keyctrl = 0
Ownpal = 0

;-------------------------- 中下段reversaldef記録持越用 -------------------------------------
;var(51)  = 下段1
;var(52)  = 下段2
;var(53)  = 下段3
;fvar(34) = 中段1
;fvar(35) = 中段2
;fvar(36) = 中段3
;var(55)  = reversaldef1
;fvar(38) = reversaldef2
;fvar(37) = reversaldef3

[State -3,持越]
Type = null
triggerall = !IsHelper
triggerall = Roundstate>2
Triggerall = numhelper(50000+id)
triggerall = Enemy,teammode = single ;|| Enemy,teammode = turns 
Trigger1 = var(51):=helper(50000+id),var(4) || 1
Trigger1 = var(52):=helper(50000+id),var(7) || 1
Trigger1 = var(53):=helper(50000+id),var(10) || 1
Trigger1 = fvar(34):=helper(50000+id),var(16) || 1
Trigger1 = fvar(35):=helper(50000+id),var(19) || 1
Trigger1 = fvar(36):=helper(50000+id),var(22) || 1
Trigger1 = var(55):=floor(helper(50000+id),fvar(6)) || 1
Trigger1 = fvar(38):=helper(50000+id),fvar(7) || 1
Trigger1 = fvar(37):=helper(50000+id),fvar(8)
IgnoreHitPause = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999

;----------------------------------- AI用変数 -----------------------------------------------
[state -1,反応速度]
type = VarRandom
triggerall = !IsHelper
triggerall = Roundstate=2
trigger1 = GameTime %60= 0
trigger1 = var(59)=[1,5]
v = 55
range = (6*(6-var(59))),(12+(6*(6-var(59))))
;range = (a),(b)
;6,18
;12,24
;18,30
;24,36
;30,42

[state -1,反応速度]
type = VarRandom
triggerall = !IsHelper
triggerall = Roundstate=2
trigger1 = GameTime %60= 0
trigger1 = var(59)=6
v = 55
range = 1,12

[State -3, 反応速度]
type = VarSet
triggerall = !IsHelper
triggerall = Roundstate=2
trigger1 = GameTime %60= 0
trigger1 = var(59)=7
trigger1 = 1
var(55) = 0
ignorehitpause = 1

[State -3, EnemyNear,id]
type = VarSet
triggerall = !IsHelper
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = enemynear(0),life > 0
var(56) = enemynear(0),id
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -3, EnemyNear,id]
type = VarSet
triggerall = !IsHelper
trigger1 = numenemy = 2
trigger1 = enemynear(0),life <= 0
var(56) = enemynear(1),id
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;AI用重力加速度計測
[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = fvar(38) != playerid(var(56)),const(movement.yaccel)
trigger1 = playerid(var(56)),stateno !=[5000,5210]
trigger1 = playerid(var(56)),Vel Y != 0
FV = 38
value = playerid(var(56)),const(movement.yaccel)
ignorehitpause = 1

[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = fvar(38) != playerid(var(56)),GetHitVar(yaccel)
trigger1 = playerid(var(56)),stateno = [5000,5210]
FV = 38
value = playerid(var(56)),GetHitVar(yaccel)
ignorehitpause = 1

;[State -1, yaccel]
;type = varset
;triggerall = !IsHelper && playeridexist(var(56))
;triggerall = Roundstate=2
;trigger1 = numtarget
;trigger1 = playerid(var(56)),stateno = 1111233
;FV = 38
;value = .5
;ignorehitpause = 1

[State -1, yaccel]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = fvar(38) != 0
trigger1 = playerid(var(56)),Vel Y = 0
FV = 38
value = 0
ignorehitpause = 1

[State -1,のけぞり時間]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
triggerall = fvar(37)>0
trigger1 = 1
;trigger2 = stateno = 760 && (time<=1 || time>31)
FV = 37
value = -1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = playerid(var(56)),movetype != H
FV = 37
value = 0
ignorehitpause = 1

;[State -1,のけぞり時間]
;type = varset
;triggerall = !IsHelper && playeridexist(var(56))
;triggerall = Roundstate=2
;triggerall = numtarget
;triggerall = target,stateno = 797
;trigger1 = P2movetype = H
;FV = 37
;value = 110-playerid(var(56)),time
;ignorehitpause = 1

;[State -1,のけぞり時間]
;type = varset
;triggerall = !IsHelper && playeridexist(var(56))
;triggerall = Roundstate=2
;triggerall = numtarget
;triggerall = target,stateno = 1505
;trigger1 = P2movetype = H
;FV = 37
;value = 999
;ignorehitpause = 1

[State -1,のけぞり時間]
Type = VarSet
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = !playerid(var(56)),hitshakeover
Trigger1 = playerid(var(56)),movetype=H
trigger1 = playerid(var(56)),time<=1
Trigger1 = playerid(var(56)),gethitvar(fall)=1
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1+(-playerid(var(56)),gethitvar(fall.RecoverTime)-playerid(var(56)),time+(playerid(var(56)),gethitvar(fall.Recover)=0)*999)
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno != [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno = [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
trigger1 = playerid(var(56)),gethitvar(hittime)<=playerid(var(56)),gethitvar(ctrltime)
FV = 37
value = playerid(var(56)),gethitvar(hittime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,のけぞり時間]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = playerid(var(56)),movetype = H
trigger1 = playerid(var(56)),stateno = [150,155]
trigger1 = playerid(var(56)),gethitvar(fall) = 0
trigger1 = playerid(var(56)),gethitvar(ctrltime)<=playerid(var(56)),gethitvar(hittime) || playerid(var(56)),statetype = A
FV = 37
value = playerid(var(56)),gethitvar(ctrltime)+playerid(var(56)),gethitvar(hitshaketime)+1
ignorehitpause = 1

[State -1,摩擦係数]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = 1
FV = 36
value = ifelse(playerid(var(56)),BackEdgeBodyDist<=3,0.85,ifelse(playerid(var(56)),statetype=C,(playerid(var(56)),Const(movement.crouch.friction)),(playerid(var(56)),Const(movement.stand.friction))))
IgnoreHitPause = 1


[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel y=0
trigger1 = !playerid(var(56)),hitshakeover
FV = 34
value = (playerid(var(56)),hitvel y)
IgnoreHitPause = 1

[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel y=0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = fvar(34)!=(playerid(var(56)),hitvel y)
FV = 34
value = 0
IgnoreHitPause = 0

[State -1,y速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel y!=0
trigger1 = playerid(var(56)),hitshakeover
FV = 34
value = (playerid(var(56)),vel y)
IgnoreHitPause = 1

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel X=0
trigger1 = !playerid(var(56)),hitshakeover
FV = 35
value = (playerid(var(56)),hitvel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)*ifelse(p2dist x>0,1,-1)
IgnoreHitPause = 1

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel X=0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = fvar(35)!=(playerid(var(56)),hitvel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)*ifelse(p2dist x>0,1,-1)
FV = 35
value = 0
IgnoreHitPause = 0

[State -1,x速度]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Triggerall = playerid(var(56)),vel X!=0
trigger1 = playerid(var(56)),hitshakeover
FV = 35
value = (playerid(var(56)),vel x)*ifelse((playerid(var(56)),facing!=facing),-1,1)
IgnoreHitPause = 1

[State -1,相手停止F0]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) = 0
v = 53
value = 0
IgnoreHitPause = 1

[State -1,相手停止F1~5]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**5))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**1)<1,1,ifelse(abs(fvar(35)*fvar(36)**2)<1,2,ifelse(abs(fvar(35)*fvar(36)**3)<1,3,ifelse(abs(fvar(35)*fvar(36)**4)<1,4,5))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F6~10]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**5))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**10))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**6)<1,6,ifelse(abs(fvar(35)*fvar(36)**7)<1,7,ifelse(abs(fvar(35)*fvar(36)**8)<1,8,ifelse(abs(fvar(35)*fvar(36)**9)<1,9,10))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F11~15]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**10))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**15))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**11)<1,11,ifelse(abs(fvar(35)*fvar(36)**12)<1,12,ifelse(abs(fvar(35)*fvar(36)**13)<1,13,ifelse(abs(fvar(35)*fvar(36)**14)<1,14,15))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F15~20]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**15))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**20))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**16)<1,16,ifelse(abs(fvar(35)*fvar(36)**17)<1,17,ifelse(abs(fvar(35)*fvar(36)**18)<1,18,ifelse(abs(fvar(35)*fvar(36)**19)<1,19,20))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F21~25]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**20))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**25))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**21)<1,21,ifelse(abs(fvar(35)*fvar(36)**22)<1,22,ifelse(abs(fvar(35)*fvar(36)**23)<1,23,ifelse(abs(fvar(35)*fvar(36)**24)<1,24,25))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F26~30]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = !(abs((playerid(var(56)),hitvel x)*(fvar(36)**26))<1)
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**30))<1
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))<1
v = 53
value = ifelse(abs(fvar(35)*fvar(36)**26)<1,26,ifelse(abs(fvar(35)*fvar(36)**27)<1,27,ifelse(abs(fvar(35)*fvar(36)**28)<1,28,ifelse(abs(fvar(35)*fvar(36)**29)<1,29,30))))+playerid(var(56)),gethitvar(hitshaketime)
IgnoreHitPause = 1

[State -1,相手停止F(slidetime)]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**playerid(var(56)),gethitvar(slidetime)))>=1
trigger1 = playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(hittime)
trigger1 = playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(ctrltime)||playerid(var(56)),stateno!=[120,155]
v = 53
value = playerid(var(56)),gethitvar(slidetime)+playerid(var(56)),gethitvar(hitshaketime)+1
IgnoreHitPause = 1

[State -1,相手停止F(fvar(37))]
Type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = !playerid(var(56)),hitshakeover
trigger1 = abs((playerid(var(56)),hitvel x)*(fvar(36)**fvar(37)))>=1
trigger1 = !(playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(hittime))
trigger1 = !(playerid(var(56)),gethitvar(slidetime)<=playerid(var(56)),gethitvar(ctrltime))||playerid(var(56)),stateno!=[120,155]
v = 53
value = floor(fvar(37))-2
IgnoreHitPause = 1

[State -1,相手停止F]
Type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
Trigger1 = fvar(35) != 0
trigger1 = playerid(var(56)),hitshakeover
trigger1 = var(53)>0
v = 53
value = -1
IgnoreHitPause = 1

;1対1
[State -1,1:1]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = Enemy,teammode = single || Enemy,teammode = turns
trigger2 = teammode = single || teammode = turns
trigger2 = Enemy,teammode = single || Enemy,teammode = turns
trigger3 = numpartner
trigger3 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger3 = Enemy,teammode=simul
trigger3 = !Enemynear(0),Alive || !Enemynear(1),Alive
var(52) = ifelse(var(52)>0,2,-2)

;2対1(向き合った状態)
[State -1,2:1]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
trigger1 = Enemy,teammode = single || Enemy,teammode = turns 
trigger1 = facing=-1
trigger1 = playerid(var(56)),Pos X<Pos X 
trigger1 = playerid(var(56)),Pos X<partner,Pos X
trigger2 = Enemy,teammode = single || Enemy,teammode = turns 
trigger2 = facing=1
trigger2 = playerid(var(56)),Pos X>Pos X 
trigger2 = playerid(var(56)),Pos X>partner,Pos X
trigger3 = Enemy,teammode=simul
trigger3 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger3 = facing=-1
trigger3 = playerid(var(56)),Pos X<Pos X 
trigger3 = playerid(var(56)),Pos X<partner,Pos X
trigger4 = Enemy,teammode=simul
trigger4 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger4 = facing=1
trigger4 = playerid(var(56)),Pos X>Pos X 
trigger4 = playerid(var(56)),Pos X>partner,Pos X
var(52) = ifelse(var(52)>0,3,-3)

;2対1(挟んだ状態)
[State -1,2:1]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
trigger1 = Enemy,teammode = single || Enemy,teammode = turns 
trigger1 = facing=-1
trigger1 = playerid(var(56)),Pos X<Pos X 
trigger1 = playerid(var(56)),Pos X>partner,Pos X
trigger2 = Enemy,teammode = single || Enemy,teammode = turns 
trigger2 = facing=1
trigger2 = playerid(var(56)),Pos X>Pos X 
trigger2 = playerid(var(56)),Pos X<partner,Pos X
trigger3 = Enemy,teammode = single || Enemy,teammode = turns 
trigger3 = partner,facing+facing=0
trigger4 = Enemy,teammode=simul
trigger4 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger4 = facing=-1
trigger4 = playerid(var(56)),Pos X<Pos X 
trigger4 = playerid(var(56)),Pos X>partner,Pos X
trigger5 = Enemy,teammode=simul
trigger5 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger5 = facing=1
trigger5 = playerid(var(56)),Pos X>Pos X 
trigger5 = playerid(var(56)),Pos X<partner,Pos X
trigger6 = Enemy,teammode=simul
trigger6 = !Enemynear(0),Alive || !Enemynear(1),Alive
trigger6 = partner,facing+facing=0
var(52) = ifelse(var(52)>0,4,-4)

;1対2(向き合った状態)
[State -1,1:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = facing=-1
trigger1 = Enemynear(0),Pos X<Pos X
trigger1 = Enemynear(1),Pos X<Pos X
trigger2 = numpartner
trigger2 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger2 = facing=1
trigger2 = Enemynear(0),Pos X>Pos X
trigger2 = Enemynear(1),Pos X>Pos X
trigger3 = teammode = single || teammode = turns
trigger3 = facing=-1
trigger3 = Enemynear(0),Pos X<Pos X
trigger3 = Enemynear(1),Pos X<Pos X
trigger4 = teammode = single || teammode = turns
trigger4 = facing=1
trigger4 = Enemynear(0),Pos X>Pos X
trigger4 = Enemynear(1),Pos X>Pos X
var(52) = ifelse(var(52)>0,5,-5)

;1対2(挟まれた状態)
[State -1,1:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Enemy,teammode = simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = numpartner
trigger1 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger1 = Enemynear(0),Pos X<Pos X
trigger1 = Enemynear(1),Pos X>Pos X
trigger2 = numpartner
trigger2 = teammode = single || teammode = turns || (teammode = simul && !partner,Alive)
trigger2 = Enemynear(0),Pos X>Pos X
trigger2 = Enemynear(1),Pos X<Pos X
trigger3 = teammode = single || teammode = turns
trigger3 = Enemynear(0),Pos X<Pos X
trigger3 = Enemynear(1),Pos X>Pos X
trigger4 = teammode = single || teammode = turns
trigger4 = Enemynear(0),Pos X>Pos X
trigger4 = Enemynear(1),Pos X<Pos X
var(52) = ifelse(var(52)>0,6,-6)

;2対2(向き合った状態)
[State -1,2:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = facing=-1
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X
trigger2 = facing=1
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X
var(52) = ifelse(var(52)>0,7,-7)

;2対2(2人挟んだ状態)
[State -1,2:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X
trigger1 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X
trigger2 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X
var(52) = ifelse(var(52)>0,8,-8)

;2対2(2人挟まれた状態)
[State -1,2:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X>Pos X
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X<Pos X
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X<partner,Pos X
var(52) = ifelse(var(52)>0,9,-9)

;2対2(自分のみ挟まれた状態):var(56) = 10
[State -1,2:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X>Pos X
trigger1 = (Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X)||(Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X)
trigger2 = Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X<Pos X
trigger2 = (Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X>partner,Pos X)||(Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X<partner,Pos X)
var(52) = ifelse(var(52)>0,10,-10)

;2対2(相方のみ挟まれた状態):var(56) = 11
[State -1,2:2]
type = VarSet
triggerall = abs(var(52))>0
triggerall = Roundstate=2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numpartner
triggerall = teammode = simul && partner,Alive
triggerall = Enemy,teammode=simul
triggerall = Enemynear(0),Alive && Enemynear(1),Alive
trigger1 = Enemynear(0),Pos X<partner,Pos X && Enemynear(1),Pos X>partner,Pos X
trigger1 = (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)||(Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X)
trigger2 = Enemynear(0),Pos X>partner,Pos X && Enemynear(1),Pos X<partner,Pos X
trigger2 = (Enemynear(0),Pos X>Pos X && Enemynear(1),Pos X>Pos X)||(Enemynear(0),Pos X<Pos X && Enemynear(1),Pos X<Pos X)
var(52) = ifelse(var(52)>0,11,-11)

;var(54)
;    1(&127)        = ランダム
;  128(&8064)       = 空中反応
; 8192(&122880)     = juggle
;131072(&131072)    = numtarget
;262144(&262144)    = 無敵チェック
;524288(&524288)    = 起き攻め
;1048576(&1048576)  = 挑発スイッチ
;2097152(&2097152)  = 判定チェック(立ち)
;4194304(&4194304)  = 判定チェック(屈み)
;8388608(&8388608)  = reversaldef

[State -1,ランダム]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&127)>0
trigger1 = movetype = A || movetype = H
trigger1 = time=1 && stateno != [120,140)
trigger2 = playerid(var(56)),movetype != H && playerid(var(56)),statetype != L && playerid(var(56)),stateno != [5120,5129]
trigger2 = (movetype = I || stateno = [120,140)) && gametime%60 = 0 && stateno != [100,102]
v = 54
value = -(var(54)&127)

[State -1,ランダム]
type = varadd
triggerall = !IsHelper
trigger1 = (var(54)&127)=0
v = 54
value = (Random%100+1)

[State -1,空中反応]
type = varadd
triggerall = !IsHelper
triggerall = (var(54)&8064)>0
trigger1 = P2statetype != A
v = 54
value = -(var(54)&8064)

[State -1,空中反応]
type = varadd
triggerall = !IsHelper
triggerall = (var(54)&8064)<7680
trigger1 = P2statetype = A
v = 54
value = 128

[state 50000,numtarget]
type = varadd
triggerall = !IsHelper
triggerall = (var(54)&131072)=0
triggerall = numtarget && time = 1
trigger1 = stateno = 2000 || stateno = 2100
v = 54
value = 131072
IgnoreHitPause = 1

[state 50000,numtarget]
type = varadd
triggerall = !IsHelper
trigger1 = (var(54)&131072)=131072
trigger1 = !numtarget
v = 54
value = -131072
IgnoreHitPause = 1

[state -1,juggleリセット]
type = varadd
triggerall = !IsHelper
;triggerall = var(59)>0
triggerall = alive
triggerall = (var(54)&122880) > 0
trigger1 = !numtarget
;trigger2 = numtarget
;trigger2 = !target,hitfall
v = 54
value = -(var(54)&122880)
ignorehitpause = 1

[state -1,airjuggle計算 8 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive
triggerall = (var(54)&122880) <= (8192*7)
triggerall = numtarget
triggerall = target,hitfall || target,prevstateno=5050
triggerall = (target,time = 1 && movehit = 1) || target,prevstateno=5050
trigger1 = stateno = 200 || stateno = 205 || stateno = 210 || stateno = 215 || stateno = 230 || stateno = 235 || stateno = 240 || stateno = 250 || stateno = 290 || stateno = 291
trigger2 = stateno = 400 || stateno = 410 || stateno = 430 || stateno = 440 || stateno = 450 || stateno = 600 || stateno = 610 || stateno = 630 || stateno = 640 || stateno = 690
trigger3 = stateno = 801 || stateno = 850 || stateno = 1000 || stateno = 1005 || stateno = 1100 || stateno = 1101 || stateno = 1160 || stateno = 1161
trigger4 = stateno = 2000 || stateno = 2001 || stateno = 2100 || stateno = 2101 || stateno = 2200 || stateno = 2201 || stateno = 2300
v = 54
value = (8192*8)
ignorehitpause = 1

[state -1,airjuggle計算 7 ]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = var(59)>0
triggerall = alive
triggerall = (var(54)&122880) <= (8192*8)
triggerall = numtarget
triggerall = target,hitfall && target,time = 1 && movehit = 1
trigger1 = stateno = 245 || stateno = 1150 || stateno = 1200 || stateno = 1361 ;|| stateno = 1400
v = 54
value = (8192*7)
ignorehitpause = 1

[state 50000,挑発スイッチ]
type = varset
triggerall = !IsHelper
trigger1 = stateno=195
v = 54
value = (var(54)|1048576)
IgnoreHitPause = 1

[state 50000,挑発スイッチ]
type = varset
triggerall = !IsHelper
trigger1 = (var(54)&1048576)=1048576
trigger1 = roundstate!=2
v = 54
value = (var(54)|1048576)-1048576
IgnoreHitPause = 1

[state 50000,判定チェック(立ち)]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&2097152)=0
trigger1 = numtarget && numenemy = 1
trigger1 = target,stateno = [5000,5001]
trigger1 = stateno = [1400,1420]
trigger1 = p2bodydist x <= 60
trigger1 = floor(fvar(37))=1 ;&& !movecontact ;|| (playerid(var(56)),animtime = 0 && playerid(var(56)),stateno = 5001)
v = 54
value = (var(54)|2097152)
IgnoreHitPause = 1

[state 50000,判定チェック(立ち)_リセット]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&2097152)=2097152
triggerall = roundstate<2
trigger1 = playerid(var(56)),roundsexisted = 0 || teammode = simul || enemy,teammode = simul
v = 54
value = (var(54)|2097152)-2097152
IgnoreHitPause = 1

[state 50000,判定チェック(屈み)]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&4194304)=0
trigger1 = numtarget && numenemy = 1
trigger1 = target,stateno = [5010,5011]
trigger1 = (stateno = [1400,1420])
trigger1 = p2bodydist x <= 60
trigger1 = floor(fvar(37))=1 ;&& !movecontact
trigger2 = (var(54)&2097152)=2097152
v = 54
value = (var(54)|4194304)
IgnoreHitPause = 1

[state 50000,判定チェック(屈み)_リセット]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&4194304)=4194304
triggerall = roundstate<2
trigger1 = playerid(var(56)),roundsexisted = 0 || teammode = simul || enemy,teammode = simul
v = 54
value = (var(54)|4194304)-4194304
IgnoreHitPause = 1

[state -3,ガード]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = var(57)<60 && playerid(var(56)),stateno!=[5000,5210]
trigger1 = helper(60000+id),var(6)!=0
trigger1 = helper(60000+id),var(47)!=0
trigger1 = helper(60000+id),var(47)=[-100,40]
v = 57
value = 30
IgnoreHitPause = 1

[state -3,ガード]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(57)<60 && playerid(var(56)),stateno!=[5000,5210]
trigger1 = playerid(var(56)),hitdefattr = SCA,AA,AP,AT
trigger2 = numhelper(50000+id)
trigger2 = (helper(50000+id),var(51)=[1,10])
v = 57
value = 1
IgnoreHitPause = 1

[state -3,ガード]
type = varadd
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(57)>0
trigger1 = !(playerid(var(56)),hitdefattr = SCA,AA,AP,AT)
trigger1 = numhelper(50000+id)
trigger1 = !(helper(50000+id),var(51)=[1,10])
v = 57
value = ifelse(var(57)<=2,-1,-3)
IgnoreHitPause = 1

[state -3,ガード]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
triggerall = var(57)>0
trigger1 = (playerid(var(56)),stateno=[5000,5210]) || roundstate!=2
v = 57
value = 0
IgnoreHitPause = 1

[State -1,reset]
type = VarSet
;triggerall = var(59)>0
triggerall = !IsHelper
trigger1 = roundstate=1
fvar(39) = 0

;----------------------------------- 滑り防止 -----------------------------------------------
[State -3]
type = velset
triggerall = var(59)>0
triggerall = statetype != A
triggerall = time = 1 ;&& stateno != 400 && stateno != 430
trigger1 = (stateno = [200,450]) || stateno = 120 || stateno = 800 || stateno = 10 || (stateno = 0 && prevstateno=100) || stateno = 40
x = 0
IgnoreHitPause = 0

[state -3]
type = AssertSpecial
trigger1 = var(59)>3
flag = nowalk
;--------------------------------- フィニッシュ ---------------------------------------------
;ガイア・ギア
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2200
TriggerAll = var(59) > 3
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = power >= 2000
triggerall = statetype != A
triggerall = playerid(var(56)),stateno != [120,155]
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)!=0,60.0,80.0))
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)!=0,205.0,305.0))
trigger1 = stateno = 2005 && animelem = 4,>=0 && animelem = 56,<=0
trigger1 = animelem = 56,>=0
trigger1 = playerid(var(56)),stateno = 2022
trigger2 = stateno = 2105 && animelem = 10,>=0 && animelem = 20,<=0
trigger2 = animelem = 20,>=0
trigger2 = playerid(var(56)),stateno = 2023

;パンチャーフィニッシュ(クレイジーパンチャー)
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
TriggerAll = var(59) > 3
triggerall = power >= 1000
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = stateno = 2005
triggerall = animelem = 4,>=0 && animelem = 56,<=0
triggerall = animelem = 56,>=0
triggerall = playerid(var(56)),stateno != [120,155]
triggerall = playerid(var(56)),stateno = 2022 ;|| playerid(var(56)),stateno = [5000,5050]
triggerall = p2bodydist x <= 80 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && p2dist y>-80
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*10.0)
trigger1 = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)=0,40.0,30.0))
trigger1 = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)=0,200.0,140.0))
trigger2 = enemy,life >= 500 || power>=3000 || (power>=2000 && (var(54)&131072)=0)

;パンチャーフィニッシュ(チャンピオンパンチャー)
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2310
TriggerAll = var(59) > 3
triggerall = power >= 1000
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = stateno = 2105
triggerall = animelem = 10,>=0 && animelem = 20,<=0
triggerall = playerid(var(56)),stateno != [120,155]
triggerall = playerid(var(56)),stateno = 2023 ;|| playerid(var(56)),stateno = [5000,5050]
triggerall = p2bodydist x <= 80 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && p2dist y>-80
triggerall = animelem = 20,>=0
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*10.0)
trigger1 = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)=0,40.0,30.0))
trigger1 = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse((var(54)&131072)=0,180.0,80.0))
trigger2 = enemy,life >= 500 || power>=3000
;------------------------------------ 隙付き ------------------------------------------------
;クレイジーパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = power>=1000
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),facing = facing
triggerall = helper(60000+id),var(1)>=-500 || abs(var(52))<=4
triggerall = helper(50000+id),var(59)=0
triggerall = helper(50000+id),var(31)!=playerid(var(56)),stateno
triggerall = playerid(var(56)),gethitvar(chainid)!=[1150,9999]
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*9 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType != L && playerid(var(56)),StateType != A
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))>=-30
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*180 && ((var(54)&127)=[1,30+(var(59)*10)]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = -11-ceil((P2BodyDist X>35)*(P2BodyDist X-35)/9.0)
trigger1 = P2bodydist X <= 256 && fvar(35)=0
trigger1 = var(5):=1


;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >ifelse(backedgebodydist<=2,-30,-15)
triggerall = playerid(var(56)),StateType = S
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y>=-30
Triggerall = !playerid(var(56)),Ctrl
;triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55)
triggerall = (playerid(var(56)),StateNo != [5100,5270]) || (playerid(var(56)),StateNo != [5100,5270])
triggerall = playerid(var(56)),movetype = I && !inguarddist
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-5,-1]
trigger1 = P2bodydist X <= 15

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*5 >ifelse(backedgebodydist<=2,-30,-10)
triggerall = playerid(var(56)),StateType = S
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))>=-30
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55)
triggerall = (playerid(var(56)),StateNo != [5100,5270]) || (playerid(var(56)),StateNo != [5100,5270])
triggerall = playerid(var(56)),movetype = I && !inguarddist
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-10+(fvar(35)=0),-7]
trigger1 = P2bodydist X+fvar(35)*6 <= 40
trigger1 = fvar(39):=-500
Trigger2 = playerid(var(56)),AnimTime >= -7
trigger2 = P2bodydist X+fvar(35)*6 <= 40
trigger2 = P2bodydist X+fvar(35)*6 > 0
trigger2 = fvar(39):=-500

;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*6 >-10
triggerall = playerid(var(56)),StateType = S
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))>=-30
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55)
triggerall = (playerid(var(56)),StateNo != [5100,5270]) || (playerid(var(56)),StateNo != [5100,5270])
triggerall = playerid(var(56)),movetype = I && !inguarddist
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-9+(fvar(35)=0),-7]
trigger1 = P2bodydist X+fvar(35)*6 <= 40
trigger1 = fvar(39):=-500

;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*7 >-10
triggerall = playerid(var(56)),StateType = S
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(8*(fvar(34))+(8*(8+1)/2)*fvar(38))>=-30
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55)
triggerall = (playerid(var(56)),StateNo != [5100,5270]) || (playerid(var(56)),StateNo != [5100,5270])
triggerall = playerid(var(56)),movetype = I && !inguarddist
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-11+(fvar(35)=0),-8]
trigger1 = P2bodydist X+fvar(35)*6 > 40
trigger1 = P2bodydist X+fvar(35)*8 <= 60
trigger1 = fvar(39):=-500

;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = P2dist X <=50
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(10)>25 || playerid(var(56)),facing = facing
triggerall = helper(50000+id),var(59)=0
triggerall = P2dist X <=50
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*5 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType = S 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))>=-60
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = random <= var(59)*160 && ((var(54)&127)=[1,20+(var(59)*10)]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [ifelse((var(54)&127)%4<(1+life>500),-8,-14),-6]
trigger1 = P2bodydist X+fvar(35)*6 <= 50
trigger1 = fvar(39):=-500

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(10)>22 || playerid(var(56)),facing = facing
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*6 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType != L && playerid(var(56)),StateType != A
triggerall = playerid(var(56)),stateno >=200
triggerall = helper(50000+id),var(55)>=32 || playerid(var(56)),StateType = C || playerid(var(56)),AnimTime = [-5,-3]
triggerall = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))>=-30
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = random <= var(59)*140 && ((var(54)&127)=[1,(var(59)*10)]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-10,-6]
trigger1 = P2bodydist X+fvar(35)*6 <= 40+random%50
trigger1 = fvar(39):=-500
Trigger2 = playerid(var(56)),AnimTime = [-5,-3]
trigger2 = P2bodydist X+fvar(35)*6 = [15,35]
trigger2 = fvar(39):=-500

;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(10)>25 || playerid(var(56)),facing = facing
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*6 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType != L && playerid(var(56)),StateType != A
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))>=-10
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 6+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = random <= var(59)*180 && ((var(54)&127)=[1,30+(var(59)*10)]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-10,-6]
trigger1 = P2bodydist X+fvar(35)*6 <= 50
trigger1 = fvar(39):=-500

;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(10)>25 || playerid(var(56)),facing = facing
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*9 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType != L && playerid(var(56)),StateType != A
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))>=-20
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 8+random%(1+var(59)) || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = random <= var(59)*160 && ((var(54)&127)=[51,100]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-9,-8]
trigger1 = P2bodydist X+fvar(35)*8 <= 70+(((var(54)&127)%2)*30)
trigger1 = fvar(39):=-500

;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*11 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType = S 
triggerall = playerid(var(56)),stateno >=200
triggerall = P2dist X >50
triggerall = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38))>=-70
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),Const(size.head.pos.y)<=-70
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 10+random%(1+var(59)) || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = random <= var(59)*100 && ((var(54)&127)=[1,(var(59)*10)]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-13,-11]
trigger1 = P2bodydist X+fvar(35)*11 = [60-random%40,70+random%50]
trigger1 = fvar(39):=-500


;スライディングパンチャー
[State -1, a]
type = ChangeState
value = 450
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*10 >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = p2dist y = 0 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
Triggerall = !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(60000+id),var(1)>=0 && (helper(60000+id),var(6)=0)
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time>=12+random%(1+var(59))-(((playerid(var(56)),StateNo=[200,649])&&(playerid(var(56)),Statetype=S))*6)||helper(50000+id),fvar(11)=playerid(var(56)),stateno||(helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || helper(50000+id),fvar(11)=playerid(var(56)),stateno || (helper(50000+id),fvar(11)/100)=(playerid(var(56)),stateno/100)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
triggerall = random <= var(59)*160 && ((var(54)&127)=[1,50]) || stateno = 700
Trigger1 = playerid(var(56)),AnimTime = [-19,-17]
trigger1 = P2bodydist X+fvar(35)*19 = [70,110]
trigger2 = (playerid(var(56)),StateNo = [200,649]) && (playerid(var(56)),Statetype = S)
Trigger2 = playerid(var(56)),AnimTime = [-13,-11]
trigger2 = P2bodydist X+fvar(35)*10 = [50,60]
trigger3 = (playerid(var(56)),StateNo = [200,649]) && (playerid(var(56)),Statetype = S)
Trigger3 = playerid(var(56)),AnimTime = [-14,-12]
trigger3 = P2bodydist X+fvar(35)*10 = [60,70]
trigger4 = (playerid(var(56)),StateNo = [200,649]) && (playerid(var(56)),Statetype = S)
Trigger4 = playerid(var(56)),AnimTime = [-15,-13]
trigger4 = P2bodydist X+fvar(35)*10 = [70,80]

;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*10 >0
triggerall = playerid(var(56)),StateType != L 
triggerall = playerid(var(56)),stateno >=200
triggerall = helper(50000+id),var(55)>=32
triggerall = p2dist y = 0 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0 && (helper(60000+id),var(6)=0)
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 30+random%(1+var(59)) ;|| (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*160 && ((var(54)&127)=[1,50]) || stateno = 700 ;|| p2statetype = A
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-19,-18]
trigger1 = P2bodydist X+fvar(35)*19 = [110,130]
trigger1 = var(5):=0 || 1

;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = p2movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = roundstate=2 && statetype!=A
triggerall = (playerid(var(56)),statetype = S) || (playerid(var(56)),statetype = C)
triggerall = playerid(var(56)),movetype != H
triggerall = (var(54)&262144)=0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),statetype != L
triggerall = helper(50000+id),var(59)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0 && p2stateno != [5000,5210)
triggerall = p2dist y = 0 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2bodydist x<=ifelse(helper(50000+id),var(37)>=180,20,10)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = (fvar(39)=1.7) || (fvar(39)=2.7) || (fvar(39)=3.7) || (fvar(39)=4.7) || (fvar(39)=5.7) || (fvar(39)=6.7) || (fvar(39)=7.7) || (fvar(39)=8.7) || (fvar(39)=9.7) || (fvar(39)=-1.7) || (fvar(39)=-2.7) || (fvar(39)=-3.7)
trigger1 = fvar(39):=0 || 1
trigger2 = fvar(39)=800.5
trigger2 = fvar(39):=0 || 1

;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
TriggerAll = p2StateType != A
triggerall = numhelper(50000+id)
triggerall = stateno != 106
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (fvar(39)=1.7) || (fvar(39)=2.7) || (fvar(39)=3.7) || (fvar(39)=4.7) || (fvar(39)=5.7) || (fvar(39)=6.7) || (fvar(39)=7.7) || (fvar(39)=8.7) || (fvar(39)=9.7) || (fvar(39)=-1.7) || (fvar(39)=-2.7) || (fvar(39)=-3.7)
triggerall = (ctrl || (stateno = [120,140]))
triggerall = vel y >=0
trigger1 = playerid(var(56)),AnimTime<=-6 || ((var(54)&127)=[1,75])
trigger1 = P2BodyDist X-floor(6*(vel x-fvar(35))) <= 25
trigger1 = (P2BodyDist Y-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,35])
trigger2 = playerid(var(56)),AnimTime<=-7 || ((var(54)&127)=[1,75])
trigger2 = P2BodyDist X-floor(7*(vel x-fvar(35))) <= 25
trigger2 = (P2BodyDist Y-floor(7*(vel Y)+(7*(7+1)/2)*const(movement.yaccel))=[0,30])
trigger3 = playerid(var(56)),AnimTime<=-8 || ((var(54)&127)=[1,75])
trigger3 = P2BodyDist X-floor(8*(vel x-fvar(35))) <= 25
trigger3 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,25])
trigger4 = playerid(var(56)),AnimTime<=-9 || ((var(54)&127)=[1,75])
trigger4 = P2BodyDist X-floor(9*(vel x-fvar(35))) <= 25
trigger4 = (P2BodyDist Y-floor(9*(vel Y)+(9*(9+1)/2)*const(movement.yaccel))=[0,25])

;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = stateno != 106
TriggerAll = p2StateType != A
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
triggerall = statetype = A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (fvar(39)=1.7) || (fvar(39)=2.7) || (fvar(39)=3.7) || (fvar(39)=4.7) || (fvar(39)=5.7) || (fvar(39)=6.7) || (fvar(39)=7.7) || (fvar(39)=8.7) || (fvar(39)=9.7) || (fvar(39)=-1.7) || (fvar(39)=-2.7) || (fvar(39)=-3.7)
triggerall = (ctrl || (stateno = [120,140]))
triggerall = vel y >=0
trigger1 = playerid(var(56)),AnimTime<=-10 || ((var(54)&127)=[1,75])
trigger1 = P2BodyDist X-floor(10*(vel x-fvar(35))) = [-10,50]
trigger1 = (P2BodyDist Y-floor(10*(vel Y)+(10*(10+1)/2)*const(movement.yaccel))=[0,35])
trigger2 = playerid(var(56)),AnimTime<=-11 || ((var(54)&127)=[1,75])
trigger2 = P2BodyDist X-floor(11*(vel x-fvar(35))) = [-10,50]
trigger2 = (P2BodyDist Y-floor(11*(vel Y)+(11*(11+1)/2)*const(movement.yaccel))=[0,30])
trigger3 = playerid(var(56)),AnimTime<=-12 || ((var(54)&127)=[1,75])
trigger3 = P2BodyDist X-floor(12*(vel x-fvar(35))) = [-10,50]
trigger3 = (P2BodyDist Y-floor(12*(vel Y)+(12*(12+1)/2)*const(movement.yaccel))=[0,25])

[State -1,]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper(50000+id)
trigger1 = abs(helper(50000+id),var(49))!=playerid(var(56)),prevstateno || helper(50000+id),var(49)=0
trigger1 = abs(helper(50000+id),var(50))!=playerid(var(56)),prevstateno || helper(50000+id),var(50)=0
trigger1 = playerid(var(56)),prevstateno = 52 || movetype = A || stateno = 21 || stateno = 150 || stateno = 151
trigger1 = fvar(39)=700 || fvar(39)=700.5
trigger2 = abs(helper(50000+id),var(49))!=playerid(var(56)),prevstateno || abs(helper(50000+id),var(50))!=playerid(var(56)),prevstateno
trigger2 = playerid(var(56)),prevstateno = 52 || movetype = A || playerid(var(56)),ctrl
trigger2 = fvar(39)=700 || fvar(39)=700.5
trigger3 = fvar(39)=-500
trigger3 = movetype = H || movecontact || stateno = [0,155]
fvar(39) = 0

[State -3,]
type = varset
triggerall = !IsHelper && time>1
triggerall = movetype=H || movetype = A || (stateno=[0,21]) || stateno = 800
trigger1 = (fvar(39)=1.7) || (fvar(39)=2.7) || (fvar(39)=3.7) || (fvar(39)=4.7) || (fvar(39)=5.7) || (fvar(39)=6.7)
trigger2 = (fvar(39)=7.7) || (fvar(39)=8.7) || (fvar(39)=9.7) || (fvar(39)=-1.7) || (fvar(39)=-2.7) || (fvar(39)=-3.7)
fvar(39) = 0

[State -3,]
type = varset
triggerall = !IsHelper && time>1
triggerall = movetype=H || (stateno=[0,21]) || stateno = 800 || ceil(facing*(playerid(var(56)),Pos X-Pos X))<-20 || p2statetype=A || p2movetype=A
trigger1 = (fvar(39)=800.5)
fvar(39) = 0

;チャンピオンパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = power >= 1000
triggerall = statetype != A
triggerall = P2bodydist X <=50
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(31)!=playerid(var(56)),stateno
triggerall = helper(50000+id),var(59)=0
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X))+fvar(35)*1 >0 || p2movetype = A)
triggerall = playerid(var(56)),StateType != L
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(1*(fvar(34))+(1*(1+1)/2)*fvar(38))>=-30
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && playerid(var(56)),stateno!=[120,155]
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 4+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A ;|| (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=2000,300.0,200.0))
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = -2
trigger1 = P2bodydist X+fvar(35)*1 <= 50

;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && playerid(var(56)),prevstateno!=[5110,5120]
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0 && p2stateno != [5000,5210)
triggerall = StateType != A && (ceil(facing*(playerid(var(56)),Pos X-Pos X)) >-10 || p2movetype = A)
triggerall = playerid(var(56)),StateType = S || playerid(var(56)),StateType = C
triggerall = playerid(var(56)),stateno >=200
triggerall = P2BodyDist Y+floor(1*(fvar(34))+(1*(1+1)/2)*fvar(38))>=0
Triggerall = (PrevStateNo=[130,159]) || (Prevstateno = [5000,5029]) || !inguarddist || playerid(var(56)),facing=facing || playerid(var(56)),moveguarded || (fvar(39)=[700,701]) ||((!playerid(var(56)),movecontact)&&p2statetype=S)
Triggerall = !playerid(var(56)),Ctrl
triggerall = (var(54)&262144)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = helper(50000+id),var(58)=0  || playerid(var(56)),facing=facing || (fvar(39)=[700,701])
triggerall = playerid(var(56)),time >= var(55) || playerid(var(56)),prevstateno = playerid(var(56)),stateno || (fvar(39)=[700,701])
triggerall = playerid(var(56)),StateNo != [5100,5270]
triggerall = playerid(var(56)),time >= 4+random%(1+var(59)) || (fvar(39)=[700,701])
triggerall = (playerid(var(56)),StateNo = [200,649]) || playerid(var(56)),MoveType = A || (playerid(var(56)),movetype = I && playerid(var(56)),stateno>=1000)
triggerall = random <= var(59)*70 && ((var(54)&127)=[1,var(59)*10]) || stateno = 700 || var(59)>=6
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
Trigger1 = playerid(var(56)),AnimTime = [-2,-1]
trigger1 = P2bodydist X <= 10

;---------------------------------- 切り替えし ----------------------------------------------
;クレイジーパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(59)>=3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=1000
triggerall = fvar(39)!=700
triggerall = (playerid(var(56)),stateno != [200,249]) || playerid(var(56)),power<1000
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = playerid(var(56)),hitdefattr=SCA,AA,AT,AP || (playerid(var(56)),stateno = [200,699])
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && playerid(var(56)),stateno!=[120,155]
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(31)!=playerid(var(56)),stateno
triggerall = helper(50000+id),var(59)=0
triggerall = (playerid(var(56)),prevstateno!=[150,155]) || helper(60000+id),var(1)=0
triggerall = playerid(var(56)),hitdefattr=SCA,NA,SA,NT,ST || playerid(var(56)),time>=12 ;|| (playerid(var(56)),stateno = [200,699])
triggerall = p2dist y = 0 && fvar(34)=0
triggerall = p2bodydist x+fvar(35)*9 <=30 && (p2bodydist x <=10 || playerid(var(56)),hitdefattr=SC,ST,HT,HA || helper(60000+id),var(1)<=-1000)
triggerall = movetype != A || time>playerid(var(56)),time
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*(200.0*power>=2000)+160.0) || (random<=var(59)*15 && ((var(54)&127)=[1,15])) || movetype = A
triggerall = playerid(var(56)),AnimTime<=-9-(Random%var(59))+(Random%(8-var(59))) && playerid(var(56)),statetype != A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Trigger1 = ctrl || (stateno = [120,140])||stateno=21||stateno=100||stateno = [10,12] 
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 210
trigger5 = stateno = 215 && movecontact
trigger6 = stateno = 230 && movecontact
trigger7 = stateno = 235 && movecontact
trigger8 = stateno = 245 && movecontact
trigger9 = stateno = 400 && movecontact
trigger10= stateno = 410
trigger11= stateno = 430 && movecontact
trigger12= stateno = 440
trigger13= stateno = 290
trigger14= stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1
trigger15= stateno = 1150 && movecontact && animelem = 5,<=0
trigger16= stateno = 1350 && movecontact
trigger17= stateno = 1351 && movecontact

;チャンピオンパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(59)>=3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=1000
triggerall = fvar(39)!=700 && (playerid(var(56)),prevstateno!=[150,155])
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = playerid(var(56)),hitdefattr=SCA,AA,NT,AP || (playerid(var(56)),stateno = [200,699]) || playerid(var(56)),statetype = A
triggerall = !playerid(var(56)),Ctrl && (playerid(var(56)),MoveType = A || playerid(var(56)),statetype = A)
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && playerid(var(56)),stateno!=[120,155]
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(31)!=playerid(var(56)),stateno
triggerall = helper(50000+id),var(38)<=8
triggerall = (playerid(var(56)),prevstateno!=[150,155]) || helper(60000+id),var(1)=0
triggerall = helper(50000+id),var(59)=0 && p2stateno!=[5000,5300]
triggerall = playerid(var(56)),hitdefattr=SCA,NA,SA,NT,ST || playerid(var(56)),time>=20 || playerid(var(56)),statetype = A || movetype=A|| (playerid(var(56)),stateno = [200,699])
triggerall = (p2dist y = [-30,5]) || p2dist y+(playerid(var(56)),const(size.mid.pos.y)*.5) >= -60
triggerall = p2bodydist x <=50
triggerall = movetype != A || time>playerid(var(56)),time || P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0))
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0))||abs(playerid(var(56)),AnimTime)<playerid(var(56)),time || helper(50000+id),var(37)>=ifelse(backedgebodydist<=3,60,200) || power>=3000
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0))||((random<=var(59)*40||time<=1)&&((var(54)&127)=[71,100])) || movetype = A || helper(50000+id),var(37)>60||power>=3000
triggerall = playerid(var(56)),AnimTime<=-2-(Random%var(59))+(Random%(8-var(59))) || playerid(var(56)),statetype = A
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Trigger1 = ctrl || (stateno = [120,140])||stateno=21||stateno=100||stateno = [10,12] 
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 210
trigger5 = stateno = 215 && movecontact
trigger6 = stateno = 230 && movecontact
trigger7 = stateno = 235 && movecontact
trigger8 = stateno = 245 && movecontact
trigger9 = stateno = 400 && movecontact
trigger10= stateno = 410
trigger11= stateno = 430 && movecontact
trigger12= stateno = 440
trigger13= stateno = 290
trigger14= stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1
trigger15= stateno = 1150 && movecontact && animelem = 5,<=0
trigger16= stateno = 1350 && movecontact
trigger17= stateno = 1351 && movecontact


;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = !playerid(var(56)),Ctrl ;&& playerid(var(56)),MoveType = A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && p2stateno>=52
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(55)>=32
triggerall = helper(50000+id),var(59)=0
triggerall = ((var(54)&127)=[1,(var(59)*var(59)*1.5)])||(var(59)>6)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
;弱(helper)
trigger1 = playerid(var(56)),AnimTime<=-18 || playerid(var(56)),statetype = A
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2bodydist x+fvar(35)*18 <=120+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(34))>=-70
trigger1 = (helper(50000+id),fvar(20)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(20)=0
trigger1 = (helper(50000+id),fvar(21)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(21)=0
trigger1 = (helper(50000+id),fvar(22)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(22)=0
trigger1 = helper(60000+id),var(1)>=0 || life>333 || (helper(50000+id),fvar(20) = playerid(var(56)),stateno)
trigger1 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger1 = helper(60000+id),var(48) >= 40
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*18) <= p2bodydist x-50
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*4) >= 10
trigger1 = helper(60000+id),var(50) <= 0
trigger1 = (fvar(39):=1200.1 && var(5):=0) || 1
trigger2 = playerid(var(56)),AnimTime<=-18 || playerid(var(56)),statetype = A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2bodydist x+fvar(35)*18 <=120+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger2 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(34))>=-70
trigger2 = (helper(50000+id),fvar(20)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(20)=0
trigger2 = (helper(50000+id),fvar(21)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(21)=0
trigger2 = (helper(50000+id),fvar(22)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(22)=0
trigger2 = helper(60000+id),var(1)>=0 || life>333 || (helper(50000+id),fvar(20) = playerid(var(56)),stateno)
trigger2 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger2 = helper(60000+id),var(48) >= 40
trigger2 = helper(60000+id),var(47)-((helper(60000+id),var(49))*18) <= p2bodydist x-50
trigger2 = helper(60000+id),var(47)-((helper(60000+id),var(49))*4) >= 10
trigger2 = helper(60000+id),var(50) <= 0
trigger2 = (fvar(39):=1200.1 && var(5):=0) || 1
;強(helper)
trigger3 = playerid(var(56)),AnimTime<=-30 || playerid(var(56)),statetype = A
trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger3 = p2bodydist x+fvar(35)*30 <=200
trigger3 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger3 = (helper(50000+id),fvar(23)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(23)=0
trigger3 = (helper(50000+id),fvar(24)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(24)=0
trigger3 = (helper(50000+id),fvar(25)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(25)=0
trigger3 = helper(60000+id),var(1)>=0 || life>333 || (helper(50000+id),fvar(23) = playerid(var(56)),stateno)
trigger3 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger3 = helper(60000+id),var(48) >= 40
trigger3 = helper(60000+id),var(47)-((helper(60000+id),var(49))*30) <= p2bodydist x-50
trigger3 = helper(60000+id),var(47)-((helper(60000+id),var(49))*7) >= 10
trigger3 = helper(60000+id),var(50) <= 0
trigger3 = (fvar(39):=1200.2 && var(5):=1) || 1
trigger4 = playerid(var(56)),AnimTime<=-30 || playerid(var(56)),statetype = A
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = p2bodydist x+fvar(35)*30 <=200
trigger4 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger4 = (helper(50000+id),fvar(23)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(23)=0
trigger4 = (helper(50000+id),fvar(24)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(24)=0
trigger4 = (helper(50000+id),fvar(25)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(25)=0
trigger4 = helper(60000+id),var(1)>=0 || life>333 || (helper(50000+id),fvar(23) = playerid(var(56)),stateno)
trigger4 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger4 = helper(60000+id),var(48) >= 40
trigger4 = helper(60000+id),var(47)-((helper(60000+id),var(49))*30) <= p2bodydist x-50
trigger4 = helper(60000+id),var(47)-((helper(60000+id),var(49))*7) >= 10
trigger4 = helper(60000+id),var(50) <= 0
trigger4 = (fvar(39):=1200.2 && var(5):=1) || 1
trigger5 = playerid(var(56)),AnimTime=[-40,-30]
trigger5 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = p2bodydist x+fvar(35)*30 <=200+((life>500)*10)
trigger5 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger5 = (helper(50000+id),fvar(29) = playerid(var(56)),stateno)
trigger5 = (helper(60000+id),var(6)=0) || playerid(var(56)),Time=ifelse(var(59)>6,1,var(55))
trigger5 = (helper(50000+id),fvar(20)*-1 != helper(50000+id),fvar(29))
trigger5 = (helper(50000+id),fvar(21)*-1 != helper(50000+id),fvar(29))
trigger5 = (helper(50000+id),fvar(22)*-1 != helper(50000+id),fvar(29))
trigger5 = (helper(50000+id),fvar(23)*-1 != helper(50000+id),fvar(29))
trigger5 = (helper(50000+id),fvar(24)*-1 != helper(50000+id),fvar(29))
trigger5 = (helper(50000+id),fvar(25)*-1 != helper(50000+id),fvar(29))
trigger5 = (fvar(39):=1200.2 && var(5):=1) || 1
trigger6 = playerid(var(56)),AnimTime=[-40,-30]
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = p2bodydist x+fvar(35)*30 <=200+((life>500)*10)
trigger6 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger6 = (helper(50000+id),fvar(29) = playerid(var(56)),stateno)
trigger6 = (helper(60000+id),var(6)=0) || playerid(var(56)),Time=ifelse(var(59)>6,1,var(55))
trigger6 = (helper(50000+id),fvar(20)*-1 != helper(50000+id),fvar(29))
trigger6 = (helper(50000+id),fvar(21)*-1 != helper(50000+id),fvar(29))
trigger6 = (helper(50000+id),fvar(22)*-1 != helper(50000+id),fvar(29))
trigger6 = (helper(50000+id),fvar(23)*-1 != helper(50000+id),fvar(29))
trigger6 = (helper(50000+id),fvar(24)*-1 != helper(50000+id),fvar(29))
trigger6 = (helper(50000+id),fvar(25)*-1 != helper(50000+id),fvar(29))
trigger6 = (fvar(39):=1200.2 && var(5):=1) || 1
;強(proj)
trigger7 = playerid(var(56)),AnimTime<=-30 && playerid(var(56)),statetype != A
trigger7 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger7 = p2bodydist x+fvar(35)*30 = [80,200]
trigger7 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger7 = (helper(50000+id),var(52) = playerid(var(56)),stateno) || (helper(50000+id),var(53) = playerid(var(56)),stateno) || (helper(50000+id),var(54) = playerid(var(56)),stateno)
trigger7 = (helper(50000+id),var(52)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(53)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(54)*-1 != playerid(var(56)),stateno)
trigger7 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger7 = helper(60000+id),var(1)>=0 && helper(50000+id),fvar(14)!=0
trigger7 = helper(50000+id),fvar(34) <= time
trigger7 = (fvar(39):=1200.3 && var(5):=1) || 1
trigger8 = playerid(var(56)),AnimTime<=-30 && playerid(var(56)),statetype != A
trigger8 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger8 = p2bodydist x+fvar(35)*30 = [80,200]
trigger8 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(34))>=-70
trigger8 = (helper(50000+id),var(52) = playerid(var(56)),stateno) || (helper(50000+id),var(53) = playerid(var(56)),stateno) || (helper(50000+id),var(54) = playerid(var(56)),stateno)
trigger8 = (helper(50000+id),var(52)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(53)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(54)*-1 != playerid(var(56)),stateno)
trigger8 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger8 = helper(60000+id),var(1)>=0 && helper(50000+id),fvar(14)!=0
trigger8 = helper(50000+id),fvar(34) <= time
trigger8 = (fvar(39):=1200.3 && var(5):=1) || 1

;パンチャービジョン(前方)
[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = !playerid(var(56)),Ctrl ;&& playerid(var(56)),MoveType = A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && p2stateno>=52
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = ((var(54)&127)=[1,(var(59)*var(59)*1.5)])||(var(59)>6)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
;弱(helper)
trigger1 = playerid(var(56)),AnimTime<=-25 || playerid(var(56)),statetype = A
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2bodydist x+fvar(35)*25 <=180;+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger1 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(34))>=-70
trigger1 = helper(60000+id),var(1)>=0
trigger1 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger1 = helper(60000+id),var(48) >= 40
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*12) <= p2bodydist x-90
trigger1 = helper(60000+id),var(50) <= 0
trigger1 = (helper(50000+id),fvar(26)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(26)=0
trigger1 = (helper(50000+id),fvar(27)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(27)=0
trigger1 = (helper(50000+id),fvar(28)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(28)=0
trigger1 = (fvar(39):=1350.1 && var(5):=0) || 1
trigger2 = playerid(var(56)),AnimTime<=-25 || playerid(var(56)),statetype = A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2bodydist x+fvar(35)*25 <=180;+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger2 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(34))>=-70
trigger2 = helper(60000+id),var(1)>=0
trigger2 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger2 = helper(60000+id),var(48) >= 40
trigger2 = helper(60000+id),var(47)-((helper(60000+id),var(49))*12) <= p2bodydist x-90
trigger2 = helper(60000+id),var(50) <= 0
trigger2 = (helper(50000+id),fvar(26)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(26)=0
trigger2 = (helper(50000+id),fvar(27)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(27)=0
trigger2 = (helper(50000+id),fvar(28)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(28)=0
trigger2 = (fvar(39):=1350.1 && var(5):=0) || 1
trigger3 = playerid(var(56)),AnimTime<=-20 && playerid(var(56)),statetype != A
trigger3 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger3 = p2bodydist x+fvar(35)*20 <=100;+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger3 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-70
trigger3 = helper(60000+id),var(1)>=0
trigger3 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger3 = helper(60000+id),var(48) >= 40
trigger3 = helper(60000+id),var(47)-((helper(60000+id),var(49))*15) <= p2bodydist x-90
trigger3 = helper(60000+id),var(50) <= 0
trigger3 = (helper(50000+id),fvar(26)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(26)=0
trigger3 = (helper(50000+id),fvar(27)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(27)=0
trigger3 = (helper(50000+id),fvar(28)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(28)=0
trigger3 = (fvar(39):=800.1 && var(5):=0) || 1
trigger4 = playerid(var(56)),AnimTime<=-20 && playerid(var(56)),statetype != A
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = p2bodydist x+fvar(35)*20 <=100;+ifelse(((life/250.0)*10)>40,40,((life/250.0)*10))
trigger4 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-70
trigger4 = helper(60000+id),var(1)>=0
trigger4 = (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger4 = helper(60000+id),var(48) >= 40
trigger4 = helper(60000+id),var(47)-((helper(60000+id),var(49))*15) <= p2bodydist x-90
trigger4 = helper(60000+id),var(50) <= 0
trigger4 = (helper(50000+id),fvar(26)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(26)=0
trigger4 = (helper(50000+id),fvar(27)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(27)=0
trigger4 = (helper(50000+id),fvar(28)*-1 != playerid(var(56)),stateno) || helper(50000+id),fvar(28)=0
trigger4 = (fvar(39):=800.1 && var(5):=0) || 1
trigger5 = playerid(var(56)),AnimTime<=-25
trigger5 = (playerid(var(56)),AnimTime=[-35,-25]) || playerid(var(56)),numproj>0
trigger5 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = p2bodydist x+fvar(35)*25 <= 180
trigger5 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(34))>=-70
trigger5 = (helper(50000+id),var(52) = playerid(var(56)),stateno) || (helper(50000+id),var(53) = playerid(var(56)),stateno) || (helper(50000+id),var(54) = playerid(var(56)),stateno)
trigger5 = (helper(50000+id),var(52)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(53)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(54)*-1 != playerid(var(56)),stateno)
trigger5 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger5 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
trigger5 = helper(50000+id),fvar(34) <= time
trigger5 = (fvar(39):=1350.2 && var(5):=0) || 1
trigger6 = playerid(var(56)),AnimTime<=-25
trigger6 = (playerid(var(56)),AnimTime=[-35,-25]) || playerid(var(56)),numproj>0
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = p2bodydist x+fvar(35)*25 <= 180
trigger6 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(34))>=-70
trigger6 = (helper(50000+id),var(52) = playerid(var(56)),stateno) || (helper(50000+id),var(53) = playerid(var(56)),stateno) || (helper(50000+id),var(54) = playerid(var(56)),stateno)
trigger6 = (helper(50000+id),var(52)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(53)*-1 != playerid(var(56)),stateno) && (helper(50000+id),var(54)*-1 != playerid(var(56)),stateno)
trigger6 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger6 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
trigger6 = helper(50000+id),fvar(34) <= time
trigger6 = (fvar(39):=1350.2 && var(5):=0) || 1

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper
trigger1 = stateno = 700 && prevstateno = [150,151]
fvar(39) = 800.2

;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),statetype != A && playerid(var(56)),movetype != H
triggerall = playerid(var(56)),stateno != [150,155]
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && p2stateno != [5000,5210)
triggerall = (var(54)&262144)=0
triggerall = numhelper(50000+id)
;triggerall = helper(50000+id),var(59)=0
triggerall = statetype != A
triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = fvar(39)=800.1 || fvar(39)=800.2

[State -1,reset]
type = VarSet
triggerall = var(59)>0
triggerall = !IsHelper
trigger1 = p2movetype = H || stateno = 800 || ((ctrl || stateno = 21 || (stateno = [10,12]))&&time>2)
trigger1 = fvar(39)=800.1 || fvar(39)=800.2
trigger2 = p2movetype = H || ctrl || stateno = 21 || stateno = [10,12]
trigger2 = fvar(39)=1350.1 || fvar(39)=1350.2
trigger3 = movetype = H || p2movetype = H || stateno = 1160 || prevstateno = 1160
trigger3 = fvar(39)=1160.1
trigger4 = p2movetype = H || ctrl || stateno = 21 || stateno = [10,12]
trigger4 = fvar(39)=1200.1 || fvar(39)=1200.2 || fvar(39)=1200.3
fvar(39) = 0

;パンチャーウィービング
[State -1, 対飛び道具ドンピシャ]
type = ChangeState
value = 1100
triggerall = var(59)>=3
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = !playerid(var(56)),Ctrl ;&& playerid(var(56)),MoveType = A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = helper(50000+id),fvar(33)=0
triggerall = p2bodydist x+fvar(35)*4 >=80
triggerall = ((var(54)&127)=[1,(life*.1)*.5])
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
triggerall = helper(60000+id),var(1)>=0
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
trigger1 = (helper(60000+id),var(6)!=[25,27])
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*28) = [-2,95] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*28) = [40,70] ;X
trigger1 = helper(60000+id),var(22) = 0
trigger1 = fvar(39):=1160.1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
trigger2 = (helper(60000+id),var(6)!=[25,27])
trigger2 = helper(60000+id),var(48)-((helper(60000+id),var(50))*28) = [-2,95] ;Y
trigger2 = helper(60000+id),var(47)-((helper(60000+id),var(49))*28) = [40,70] ;X
trigger2 = helper(60000+id),var(22) = 0
trigger2 = fvar(39):=1160.1

;フォビドゥン　イーグル
[State -1, 対飛び道具ヘリオン]
type = ChangeState
value = 1400
triggerall = var(59)>=3
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = !playerid(var(56)),Ctrl ;&& playerid(var(56)),MoveType = A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = helper(50000+id),fvar(33)=0
triggerall = p2bodydist x+fvar(35)*4 >=80
triggerall = ((var(54)&127)=[1,(life*.1)*.5])
triggerall = p2stateno>=699
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
triggerall = helper(60000+id),var(1)>=0
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
trigger1 = (helper(60000+id),var(6)!=[25,27])
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*9) = [15,95] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*9) = [20,45] ;X
trigger1 = helper(60000+id),var(22) = 0
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = (helper(60000+id),var(5)=[1000,2000)) || (helper(60000+id),var(6)=[19,24])
trigger2 = (helper(60000+id),var(6)!=[25,27])
trigger2 = helper(60000+id),var(48)-((helper(60000+id),var(50))*9) = [15,95] ;Y
trigger2 = helper(60000+id),var(47)-((helper(60000+id),var(49))*9) = [20,45] ;X
trigger2 = helper(60000+id),var(22) = 0
trigger2 = var(5):=0 || 1

;緊急回避前
[State -1, 対飛び道具緊急回避前]
type = ChangeState
value = 700
triggerall = var(59)>=3
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(36)=0 || helper(60000+id),var(6)=[25,27]
triggerall = helper(50000+id),var(59)=0 && (life>500 || life<10)
triggerall = p2bodydist x+fvar(35)*4 >=80 || playerid(var(56)),AnimTime<=-33
triggerall = ((var(54)&127)>=100-((life*.1)*.5)) || life<10 || playerid(var(56)),AnimTime<=-33 || (playerid(var(56)),statetype = A && fvar(35)>=0) || (helper(60000+id),var(6)=[7,9]) || (helper(60000+id),var(6)=0) || (helper(60000+id),var(6)=[25,27]) 
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)||p2movetype!=A
triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*21) = [-120,120] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*1) >= -50 ;X
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*21) <= -50 ;X
trigger2 = helper(60000+id),var(1)<=-1000 || p2bodydist x>180
trigger2 = helper(50000+id),var(58)>0
trigger2 = floor(p2dist x-helper(50000+id),fvar(13)-15)>=-30
trigger2 = floor(p2dist x-helper(50000+id),fvar(13)-15)-helper(50000+id),fvar(14)*20<=10

;緊急回避前
[State -1, 対飛び道具緊急回避前]
type = ChangeState
value = 700
triggerall = var(59)>=3
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(36)=0 || helper(60000+id),var(6)=[25,27]
triggerall = helper(50000+id),var(59)=0
triggerall = playerid(var(56)),stateno>=200
triggerall = (var(54)&127)<=var(59)*var(59)
triggerall = p2bodydist x>(120-life*.02)-(playerid(var(56)),const(velocity.run.fwd.x)*(33-((playerid(var(56)),AnimTime>-33)*playerid(var(56)),AnimTime)))
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)||p2movetype!=A
triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*21) = [-120,120] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*1) >= -50 ;X
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*21) <= -50 ;X
trigger2 = helper(60000+id),var(1)<=-1000 || p2bodydist x>180
trigger2 = helper(50000+id),var(58)>0
trigger2 = floor(p2dist x-helper(50000+id),fvar(13)-15)>=-30
trigger2 = floor(p2dist x-helper(50000+id),fvar(13)-15)-helper(50000+id),fvar(14)*20<=10

;垂直ジャンプ
[State -1, 対飛び道具ジャンプ]
type = ChangeState
value = 40
triggerall = var(59)>=3
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = p2bodydist x+fvar(35)*4 >=40
triggerall = ((var(54)&127)>=100-((life*.1)*.5)) || life<10 || life>666
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)||p2movetype!=A
triggerall = helper(60000+id),var(1)>=0
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = (helper(60000+id),var(6)!=[7,9]) && (helper(60000+id),var(6)!=0) && (helper(60000+id),var(6)!=[25,27])
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*9) = [-45,45] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*9) >= 0 ;X
trigger1 = helper(60000+id),var(48)-((helper(60000+id),var(50))*21) = [-45,45] ;Y
trigger1 = helper(60000+id),var(47)-((helper(60000+id),var(49))*21) <= -40 ;X
trigger1 = helper(60000+id),var(22) = 0
trigger1 = fvar(39):=5 || 1

;ジャンプ
[State -1, ジャンプ]
type = ChangeState
value = 40
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),statetype != A
TriggerAll = playerid(var(56)),Alive && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(60000+id),var(1)>=-500 && (helper(60000+id),var(6)!=[25,27])
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
triggerall = random<=var(59)*200 && p2stateno>155 && !(playerid(var(56)),hitdefattr=S,AA)
triggerall = playerid(var(56)),movetype = A || InGuardDist ||(abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno)
trigger1 = !((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
Trigger1 = playerid(var(56)),AnimTime<=-ifelse(helper(50000+id),var(37)>400,30,ifelse(helper(50000+id),var(37)>300,40,50))
trigger1 = helper(50000+id),var(37)>0 && playerid(var(56)),statetype != S
trigger1 = p2bodydist x = (40,80)
trigger1 = helper(50000+id),fvar(33)=0
trigger1 = (var(54)&127)<=10+(helper(50000+id),var(37)*.3)
trigger1 = fvar(39):=ifelse(random%2=0,2.7,3.7)
trigger2 = !((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
Trigger2 = playerid(var(56)),AnimTime<=-ifelse(helper(50000+id),var(37)>500,30,ifelse(helper(50000+id),var(37)>300,40,50))
trigger2 = helper(50000+id),var(37)>0 && playerid(var(56)),statetype != S
trigger2 = p2bodydist x = [80,160]
trigger2 = helper(50000+id),fvar(33)=0
trigger2 = (var(54)&127)<=10+(helper(50000+id),var(37)*.3)
trigger2 = fvar(39):=ifelse(playerid(var(56)),AnimTime<=-55,6.7,-3.7)
trigger3 = !((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
Trigger3 = playerid(var(56)),AnimTime<=-ifelse(helper(50000+id),var(37)>400,40,ifelse(helper(50000+id),var(37)>180,45,55))
trigger3 = helper(50000+id),var(37)>0 && playerid(var(56)),statetype != S
trigger3 = p2bodydist x > 160
trigger3 = helper(50000+id),fvar(33)=0
trigger3 = (var(54)&127)<=10+(helper(50000+id),var(37)*.3)
trigger3 = fvar(39):=9.7
Trigger4 = playerid(var(56)),AnimTime<=-30
trigger4 = playerid(var(56)),Time>=var(55)
trigger4 = p2bodydist x = (35,80)
trigger4 = P2BodyDist Y>=-60
trigger4 = ((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
trigger4 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger4 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
trigger4 = helper(50000+id),fvar(34) <= time+5
trigger4 = (var(54)&127)<=30+(life*.01) || life<20
trigger4 = fvar(39):=3.7
Trigger5 = playerid(var(56)),AnimTime<=-34
trigger5 = playerid(var(56)),Time>=var(55)
trigger5 = p2bodydist x = [80,160]
trigger5 = P2BodyDist Y>=-60
trigger5 = ((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
trigger5 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger5 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
trigger5 = helper(50000+id),fvar(34) <= time+5
trigger5 = (var(54)&127)<=50+(life*.01) || life<20
trigger5 = fvar(39):=-3.7
Trigger6 = playerid(var(56)),AnimTime=[-63,-38]
trigger6 = playerid(var(56)),Time>=var(55)
trigger6 = p2bodydist x >= 160
trigger6 = P2BodyDist Y>=-60
trigger6 = ((abs(helper(50000+id),var(52)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(53)) = playerid(var(56)),stateno) || (abs(helper(50000+id),var(54)) = playerid(var(56)),stateno))
trigger6 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger6 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
trigger6 = helper(50000+id),fvar(34) <= time+5
trigger6 = (var(54)&127)<=25+(life*.01) || life<20
trigger6 = fvar(39):=9.7

Trigger7 = playerid(var(56)),AnimTime<=-30
trigger7 = playerid(var(56)),Time>=var(55)
trigger7 = p2bodydist x = (35,80)
trigger7 = P2BodyDist Y>=-60
trigger7 = (abs(helper(50000+id),fvar(30)) = playerid(var(56)),stateno) || (abs(helper(50000+id),fvar(31)) = playerid(var(56)),stateno)
trigger7 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger7 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
;trigger7 = helper(50000+id),fvar(34) <= time+5
trigger7 = (var(54)&127)<=30+(life*.01) || life<20
trigger7 = fvar(39):=3.7
Trigger8 = playerid(var(56)),AnimTime<=-34
trigger8 = playerid(var(56)),Time>=var(55)
trigger8 = p2bodydist x = [80,160]
trigger8 = P2BodyDist Y>=-60
trigger8 = (abs(helper(50000+id),fvar(30)) = playerid(var(56)),stateno) || (abs(helper(50000+id),fvar(31)) = playerid(var(56)),stateno)
trigger8 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger8 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
;trigger8 = helper(50000+id),fvar(34) <= time+5
trigger8 = (var(54)&127)<=50+(life*.01) || life<20
trigger8 = fvar(39):=-3.7
Trigger9 = playerid(var(56)),AnimTime=[-63,-38]
trigger9 = playerid(var(56)),Time>=var(55)
trigger9 = p2bodydist x >= 160
trigger9 = P2BodyDist Y>=-60
trigger9 = (abs(helper(50000+id),fvar(30)) = playerid(var(56)),stateno) || (abs(helper(50000+id),fvar(31)) = playerid(var(56)),stateno)
trigger9 = playerid(var(56)),stateno != 0 && playerid(var(56)),movetype = A
trigger9 = helper(60000+id),var(1)>=0 && playerid(var(56)),statetype != A
;trigger9 = helper(50000+id),fvar(34) <= time+5
trigger9 = (var(54)&127)<=25+(life*.01) || life<20
trigger9 = fvar(39):=9.7

[State -3,]
type = varset
triggerall = !IsHelper && time>1
triggerall = statetype = A || movetype=H
trigger1 = (fvar(39)=1) || (fvar(39)=2) || (fvar(39)=3) || (fvar(39)=4) || (fvar(39)=5) || (fvar(39)=6)
trigger2 = (fvar(39)=7) || (fvar(39)=8) || (fvar(39)=9) || (fvar(39)=-1) || (fvar(39)=-2) || (fvar(39)=-3)
fvar(39) = 0

;パンチャービジョン(対当て身等)
[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>4
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
triggerall = p2stateno>=52
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = ((var(54)&127)=[1,(var(59)*var(59)*1.5)])||(var(59)>6) ;|| movecontact || MoveReversed
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
;前弱(対地上当て身)
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && helper(50000+id),var(59)=3
trigger1 = (var(54)&127)%3=0 && fvar(35)=[-1,1]
trigger1 = playerid(var(56)),AnimTime<=-20 && playerid(var(56)),statetype != A
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2bodydist x+fvar(35)*20 <=100
trigger1 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger1 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=0
trigger1 = (fvar(39):=800.2 && var(5):=0) || 1
trigger2 = helper(50000+id),var(59)=3
trigger2 = (var(54)&127)%3=0 && fvar(35)=[-1,1]
trigger2 = playerid(var(56)),AnimTime<=-20 && playerid(var(56)),statetype != A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2bodydist x+fvar(35)*20 <=100
trigger2 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger2 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=0
trigger2 = (fvar(39):=800.2 && var(5):=0) || 1
;前弱(対空中当て身)
trigger3 = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && helper(50000+id),var(59)=3
trigger3 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))<=80)
trigger3 = playerid(var(56)),statetype = A
trigger3 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger3 = p2bodydist x+fvar(35)*20 <=100
trigger3 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger3 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))<=-30
trigger3 = (fvar(39):=0.0 && var(5):=0) || 1
trigger4 = helper(50000+id),var(59)=3
trigger4 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))<=80)
trigger4 = playerid(var(56)),statetype = A
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = p2bodydist x+fvar(35)*20 <=100
trigger4 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger4 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))<=-30
trigger4 = (fvar(39):=0.0 && var(5):=0) || 1
;後弱(対切り替えし)
trigger5 = movetype != A || time>playerid(var(56)),time
trigger5 = ceil(facing*(playerid(var(56)),Pos X-Pos X))<=0 && ((p2stateno!=[200,699]) || movecontact || MoveReversed)
trigger5 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>80)
trigger5 = (playerid(var(56)),stateno != [0,60]) && (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger5 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = p2bodydist x+fvar(35)*20 <=100
trigger5 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger5 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger5 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1
trigger6 = movetype != A || time>playerid(var(56)),time
trigger6 = ceil(facing*(playerid(var(56)),Pos X-Pos X))<=0 && ((p2stateno!=[200,699]) || movecontact || MoveReversed)
trigger6 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>80)
trigger6 = (playerid(var(56)),stateno != [0,60]) && (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger6 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = p2bodydist x+fvar(35)*20 <=100
trigger6 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger6 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger6 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1

;パンチャービジョン(対当て身等)
[State -1, a]
type = ChangeState
value = ifelse(!(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60),1100,1302)
triggerall = var(59)>3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
;triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive && p2stateno!=[98,102]
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && (p2stateno>=52 || movecontact || MoveReversed)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = ((var(54)&127)=[1,(var(59)*var(59)*1.5)]) || (var(59)>6) ;|| movecontact || MoveReversed
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
;後弱(対当て身)
trigger1 = helper(50000+id),var(59)=3 && p2stateno>52
;trigger1 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>80)
trigger1 = playerid(var(56)),AnimTime>-20 || playerid(var(56)),statetype = A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2bodydist x+fvar(35)*20 <=100
trigger1 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger1 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger1 = (fvar(39):=0 && var(5):=0) || 1
trigger2 = helper(50000+id),var(59)=3 && p2stateno>52
;trigger2 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>80)
trigger2 = playerid(var(56)),AnimTime>-20 || playerid(var(56)),statetype = A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2bodydist x+fvar(35)*20 <=100
trigger2 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger2 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger2 = (fvar(39):=0 && var(5):=0) || 1
;後弱(対切り替えし)
trigger3 = movetype != A || time>playerid(var(56)),time || helper(60000+id),var(1)<0 || (movecontact&&p2movetype!=H) || MoveReversed
trigger3 = (p2stateno!=[200,699]) || movecontact || MoveReversed || helper(60000+id),var(1)<0 || helper(50000+id),fvar(34) > 20+time
;trigger3 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger3 = (playerid(var(56)),stateno != [0,60]) && (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger3 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger3 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger3 = p2bodydist x+fvar(35)*20 <=100
trigger3 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger3 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger3 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1
trigger4 = movetype != A || time>playerid(var(56)),time || helper(60000+id),var(1)<0 || (movecontact&&p2movetype!=H) || MoveReversed
trigger4 = (p2stateno!=[200,699]) || movecontact || MoveReversed || helper(60000+id),var(1)<0 || helper(50000+id),fvar(34) > 20+time
trigger4 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger4 = (playerid(var(56)),stateno != [0,60]) && (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger4 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = p2bodydist x+fvar(35)*20 <=100
trigger4 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger4 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger4 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1
;後弱(対ブロ)
trigger5 = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
;trigger5 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger5 = playerid(var(56)),movetype != H
trigger5 = movecontact || MoveReversed
trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = p2bodydist x<=10 || p2bodydist x>50 || power<1000 || (var(54)&127)%4!=0
trigger5 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1
trigger6 = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
;trigger6 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger6 = playerid(var(56)),movetype != H
trigger6 = movecontact || MoveReversed
trigger6 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = p2bodydist x<=10 || p2bodydist x>50 || power<1000 || (var(54)&127)%4!=0
trigger6 = (fvar(39):=0 && var(5):=(playerid(var(56)),AnimTime<=-21)) || 1


;パンチャーウィービング
[State -1, a]
type = ChangeState
value = 1100
triggerall = var(59)>3
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive && p2stateno!=[98,102]
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && (p2stateno>=52 || movecontact || MoveReversed)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = ((var(54)&127)=[1,(var(59)*var(59)*1.5)]) ||(var(59)>6)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
;弱(対当て身)
trigger1 = helper(50000+id),var(59)=3 && p2stateno>52
trigger1 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>=80)
trigger1 = playerid(var(56)),AnimTime>-20 || playerid(var(56)),statetype = A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
;trigger1 = p2bodydist x+fvar(35)*14 <=100
trigger1 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger1 = P2BodyDist Y+floor(14*(fvar(34))+(14*(14+1)/2)*fvar(34))>=-120
trigger1 = (fvar(39):=0 && var(5):=0) || 1
trigger2 = helper(50000+id),var(59)=3 && p2stateno>52
trigger2 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>=80)
trigger2 = playerid(var(56)),AnimTime>-20 || playerid(var(56)),statetype = A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
;trigger2 = p2bodydist x+fvar(35)*14 <=100
trigger2 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger2 = P2BodyDist Y+floor(20*(fvar(34))+(14*(14+1)/2)*fvar(34))>=-120
trigger2 = (fvar(39):=0 && var(5):=0) || 1
;弱(対切り替えし)
trigger3 = movetype != A || time>playerid(var(56)),time || helper(60000+id),var(1)<0 || (movecontact&&p2movetype!=H) || MoveReversed
trigger3 = (p2stateno!=[200,699]) || movecontact || MoveReversed || helper(60000+id),var(1)<0 || helper(50000+id),fvar(34) > 20+time
trigger3 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger3 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger3 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger3 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger3 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
;trigger3 = p2bodydist x+fvar(35)*20 >100 && animtime<=-14
;trigger3 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger3 = (fvar(39):=0 && var(5):=0) || 1
trigger4 = movetype != A || time>playerid(var(56)),time || helper(60000+id),var(1)<0 || (movecontact&&p2movetype!=H) || MoveReversed
trigger4 = (p2stateno!=[200,699]) || movecontact || MoveReversed || helper(60000+id),var(1)<0 || helper(50000+id),fvar(34) > 20+time
trigger4 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger4 = fvar(39)!=-500 || time>playerid(var(56)),time
trigger4 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger4 = helper(60000+id),var(1)<0 || playerid(var(56)),movetype = A || movecontact || MoveReversed
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
;trigger4 = p2bodydist x+fvar(35)*20 >100 && animtime<=-14
;trigger4 = P2BodyDist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))>=-80
trigger4 = (fvar(39):=0 && var(5):=0) || 1
;弱(対ブロ)
trigger5 = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
trigger5 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger5 = playerid(var(56)),movetype != H && (animtime<-14 || random%3=0)
trigger5 = movecontact || MoveReversed
trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = p2bodydist x<=10 || p2bodydist x>50 || power<1000 || (var(54)&127)%4!=0
trigger5 = (fvar(39):=0 && var(5):=0) || 1
trigger6 = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
trigger6 = !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
trigger6 = playerid(var(56)),movetype != H && (animtime<-14 || random%3=0)
trigger6 = movecontact || MoveReversed
trigger6 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210])
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = p2bodydist x<=10 || p2bodydist x>50 || power<1000 || (var(54)&127)%4!=0
trigger6 = (fvar(39):=0 && var(5):=0) || 1
;弱(対前転)
trigger7 = time>=playerid(var(56)),time
trigger7 = playerid(var(56)),statetype != A && playerid(var(56)),movetype = I && (animtime<-14 || random%3=0)
trigger7 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger7 = p2bodydist x<=60 || fvar(35)<0
trigger7 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210]) && (playerid(var(56)),stateno != [0,52])
trigger7 = (fvar(39):=0 && var(5):=0) || 1
trigger8 = time>=playerid(var(56)),time
trigger8 = playerid(var(56)),statetype != A && playerid(var(56)),movetype = I && (animtime<-14 || random%3=0)
trigger8 = (playerid(var(56)),stateno != [120,155]) && (playerid(var(56)),stateno != [5000,5210]) && (playerid(var(56)),stateno != [0,52])
trigger8 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger8 = p2bodydist x<=60 || fvar(35)<0
trigger8 = (fvar(39):=0 && var(5):=0) || 1

;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>4
triggerall = roundstate=2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && life>250
triggerall = (var(54)&127)>=ifelse(playerid(var(56)),BackEdgeBodyDist<=10,50,ifelse(life>500,75,90))
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(55)>=32
triggerall = helper(50000+id),var(59)=0
triggerall = p2stateno=[104,108]
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)
triggerall = fvar(35)>=0 && !playerid(var(56)),ctrl && playerid(var(56)),Time>2 && !inguarddist
triggerall = (playerid(var(56)),AnimTime<=-19 && playerid(var(56)),statetype != A) || (P2Dist Y+floor(20*(fvar(34))+(20*(20+1)/2)*fvar(34))<0 && playerid(var(56)),statetype = A) || playerid(var(56)),AnimTime<=-26
triggerall = (p2bodydist x<100 && (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<125)) || p2bodydist x<30 || (playerid(var(56)),BackEdgeBodyDist<=10 && p2bodydist x<80)
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = var(5):=0 || 1

;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = p2movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = roundstate=2 && statetype!=A
triggerall = (playerid(var(56)),statetype = S) || (playerid(var(56)),statetype = C)
triggerall = playerid(var(56)),movetype != H
triggerall = (var(54)&262144)=0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = playerid(var(56)),statetype != L
triggerall = !playerid(var(56)),Ctrl && playerid(var(56)),MoveType = A && ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = p2dist y = 0 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && helper(60000+id),var(1)>=0
triggerall = abs(playerid(var(56)),AnimTime)>playerid(var(56)),time || helper(50000+id),var(37)>=240 ;|| backedgebodydist<10
triggerall = p2bodydist x<=ifelse(helper(50000+id),var(37)>=180,20,10)
Triggerall = playerid(var(56)),AnimTime<=-2-(Random%var(59))+(Random%(8-var(59)))
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = random<=var(59)*30 && (((var(54)&127)=[21,70]) || helper(50000+id),var(37)>=120) || backedgebodydist<10
trigger2 = !(ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
Trigger2 = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT

;パンチャービジョン(前方)
[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = (var(54)&127)=[1,var(59)*10]
;対投げ
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
Trigger1 = playerid(var(56)),HitDefAttr=SC,ST,HT
Trigger1 = P2BodyDist X=[-40,100]
trigger1 = helper(50000+id),var(58)=0
Trigger1 = playerid(var(56)),MoveType=A
;trigger1 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
trigger1 = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger1 = (var(5):=0 && fvar(39):=ifelse(random%2=0,0,1350.4)) || 1
trigger2 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
Trigger2 = playerid(var(56)),HitDefAttr=SC,ST,HT
Trigger2 = P2BodyDist X=[-40,100]
trigger2 = helper(50000+id),var(58)=0
Trigger2 = playerid(var(56)),MoveType=A
;trigger2 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
trigger2 = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger2 = (var(5):=0 && fvar(39):=ifelse(random%2=0,0,1350.4)) || 1

;フォビドゥン　イーグル
[State -1, a]
type = ChangeState
value = 1400
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = (var(54)&127)=[1,var(59)*10]
triggerall = playerid(var(56)),AnimTime<=-9 || backedgebodydist<10
;対投げ
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
trigger1 = p2dist y = [-50,20]
Trigger1 = (playerid(var(56)),HitDefAttr=SC,NT) || (playerid(var(56)),HitDefAttr=A,NT,ST,HT)
Trigger1 = P2BodyDist X=[-40,100]
trigger1 = helper(50000+id),var(58)=0
Trigger1 = playerid(var(56)),MoveType=A
;trigger1 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
trigger1 = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger1 = (var(5):=0) || 1
trigger2 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
trigger2 = p2dist y = [-50,20]
Trigger2 = (playerid(var(56)),HitDefAttr=SC,NT) || (playerid(var(56)),HitDefAttr=A,NT,ST,HT)
Trigger2 = P2BodyDist X=[-40,100]
trigger2 = helper(50000+id),var(58)=0
Trigger2 = playerid(var(56)),MoveType=A
;trigger2 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
trigger2 = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger2 = (var(5):=0) || 1

;パンチャービジョン(後方)
[State -1, a]
type = ChangeState
value = ifelse(ceil(facing*(playerid(var(56)),Pos X-Pos X))<0,1300,1302)
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
TriggerAll = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT && fvar(39)!=700
TriggerAll = P2BodyDist X=[-160,160]
triggerall = helper(50000+id),var(58)=0
TriggerAll = playerid(var(56)),MoveType=A
triggerall = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
triggerall = helper(60000+id),var(1)>=0 || movetype = A || playerid(var(56)),HitDefAttr=SAC,NT
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger1 = var(5):=1 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = Random<=var(59)*ifelse(life<=200,180,80)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger2 = var(5):=1 || 1

;緊急回避前
[State -1, Taunt]
type = ChangeState
value = 700
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L ;&& playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),statetype != A
TriggerAll = playerid(var(56)),Alive && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(36)=0
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)||helper(50000+id),var(58)>=1
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = random<=var(59)*40 && p2stateno>155 && (var(54)&127)=[70,ifelse(time<=2,90,80)]
trigger1 = (playerid(var(56)),movetype = A || InGuardDist) && p2bodydist x<180
Trigger1 = (playerid(var(56)),AnimTime=[-44,-34]) || (ceil(facing*(playerid(var(56)),Pos X-Pos X))<80&&(playerid(var(56)),AnimTime<=-34))
Trigger1 = playerid(var(56)),facing + facing = 0
Trigger1 = helper(50000+id),var(58)=0 || ceil(facing*(playerid(var(56)),Pos X-Pos X))<80 || playerid(var(56)),HitDefAttr = SCA,AA,AP || (playerid(var(56)),stateno = [200,699])
trigger1 = fvar(39):=700
trigger2 = Random<=var(59)*100*ifelse(movetype=H&&var(59)>=7,2,1)
Trigger2 = helper(50000+id),inguarddist || var(59)<5
trigger2 = p2bodydist x <=80
trigger2 = playerid(var(56)),Time>=var(55)||(var(59)>5)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Trigger2 = playerid(var(56)),HitDefAttr = SCA,HA
trigger2 = playerid(var(56)),vel x >3 || movetype = A
trigger3 = random<=var(59)*20 && ((var(54)&127)=[40,ifelse(time<=2,90,80)]) || helper(60000+id),var(1)<=-1000
Trigger3 = helper(50000+id),inguarddist || var(59)<5
trigger3 = helper(50000+id),var(58)>=1 ;|| (playerid(var(56)),numhelper>helper(50000+id),var(54))
trigger3 = helper(50000+id),Pos y=Pos y+999 && p2bodydist x>=160
trigger3 = helper(60000+id),var(21)=0 || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
trigger4 = random<=var(59)*40 && p2stateno>155 && (var(54)&127)=[50,ifelse(time<=2,90,80)]
trigger4 = p2bodydist x>=160
Trigger4 = (playerid(var(56)),AnimTime=[-26,-24])
Trigger4 = playerid(var(56)),facing + facing = 0
Trigger4 = playerid(var(56)),HitDefAttr = SCA,AA,AP || (playerid(var(56)),stateno = [200,699])


;緊急回避前
[State -1, Taunt]
type = ChangeState
value = ifelse((ceil(facing*(playerid(var(56)),Pos X-Pos X))>0&&(ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-60,60])&&playerid(var(56)),AnimTime<=-33)||random%3=0,700,701)
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) = [-160,160]
Trigger1 = playerid(var(56)),HitDefAttr=SAC,NT,ST,HT
Trigger1 = P2BodyDist X<=160
trigger1 = helper(50000+id),var(58)=0
Trigger1 = playerid(var(56)),MoveType=A
trigger1 = Random<=var(59)*ifelse(life<=200,120,60)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)

;緊急回避前
[State -1, Taunt]
type = ChangeState
value = 700
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) <= 60 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
Trigger1 = helper(50000+id),var(2)=1 && playerid(var(56)),facing!=facing
Trigger1 = P2BodyDist X<=160
trigger1 = helper(50000+id),var(58)=0
Trigger1 = playerid(var(56)),MoveType=A
trigger1 = Random<=var(59)*ifelse(life<=200,120,60)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger1 = fvar(39):=700.0

;緊急回避後
[State -1, Taunt]
type = ChangeState
value = 701
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) > 60 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
Trigger1 = helper(50000+id),var(2)=1 && playerid(var(56)),facing!=facing
Trigger1 = P2BodyDist X<=160
trigger1 = helper(50000+id),var(58)=0
trigger1 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
Trigger1 = playerid(var(56)),MoveType=A
trigger1 = Random<=var(59)*ifelse(life<=200,120,60)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
;上からHELPER
trigger2 = prevstateno != [700,701]
trigger2 = (helper(60000+id),var(47))=[-80,80]
trigger2 = (helper(60000+id),var(48))-((helper(60000+id),var(50))) > 0 && helper(60000+id),var(22)=0
trigger2 = (helper(60000+id),var(48))-((helper(60000+id),var(50))*10) <= 0 || (helper(60000+id),var(48))-((helper(60000+id),var(50))*20) <= 0
trigger2 = (var(54)&127)<=ifelse(life<500,75,30) || helper(60000+id),var(1)<0 || helper(60000+id),var(5)>=3000 || (helper(60000+id),var(6)=[25,27])
;前から遅いHELPER
trigger3 = helper(60000+id),var(5)<-1000 || life>666 || (helper(60000+id),var(48))-((helper(60000+id),var(50))*20) <= 0
trigger3 = (playerid(var(56)),backedgebodydist + backedgebodydist)>40
trigger3 = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=100)
trigger3 = helper(60000+id),var(49)>0
trigger3 = helper(60000+id),var(48) = [0,100]
trigger3 = helper(60000+id),var(47)-((helper(60000+id),var(49))) = [-10,80]
trigger3 = (helper(60000+id),var(49)) = [-1,2]
;後ろからHELPER
trigger4 = helper(60000+id),var(5)<-1000 || life>666
trigger4 = helper(60000+id),var(49)<0
trigger4 = helper(60000+id),var(48) = [0,100]
trigger4 = helper(60000+id),var(47)-((helper(60000+id),var(49))) <= 10
trigger4 = helper(60000+id),var(47)-((helper(60000+id),var(49))*15) > 10

[State -1, J]
type = ChangeState
value = 40
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = RoundState=2
triggerall = Statetype != A
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = !(ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=80)
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1)
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) > 60 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
Trigger1 = helper(50000+id),var(2)=1 && playerid(var(56)),facing!=facing
Trigger1 = P2BodyDist X<=160
trigger1 = helper(50000+id),var(58)=0
Trigger1 = playerid(var(56)),MoveType=A
trigger1 = Random<=var(59)*ifelse(life<=200,120,60)||(var(59)>6)||helper(50000+id),fvar(34)-time>=var(55)
trigger1 = fvar(39):=ifelse(random%3=0,-3,ifelse(random%2=0,3,9))

;パンチャービジョン(後方)
[State -1, a]
type = ChangeState
value = 1302
triggerall = var(59)>=4
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = fvar(39)!=700
triggerall = Statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),movetype != H
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = p2bodydist x+fvar(35)*4 >=20
triggerall = ((var(54)&127)=[ifelse(life>750,1,ifelse(life>500,51,76)),100]) || life<10
triggerall = playerid(var(56)),Time>=var(55)||(var(59)>6)|| (((PrevStateNo=[130,159])||(PrevStateNo=[5000,5270]))&& var(59)>5 && time <= 1) || p2movetype != A
triggerall = helper(60000+id),var(1)<=-1000 || life>666
triggerall = (playerid(var(56)),backedgebodydist + backedgebodydist)>40
triggerall = (ifelse(facing=1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))>=100)
triggerall = helper(60000+id),var(49)>0
triggerall = helper(60000+id),var(48) = [0,100]
triggerall = helper(60000+id),var(47)-((helper(60000+id),var(49))) = [-10,80]
triggerall = (helper(60000+id),var(49)) = [-1,2]
trigger1 = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12])) || ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = var(5):=1 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = var(5):=1 || 1

;----------------------------------- 起き攻め -----------------------------------------------
;(var(54)&127)=[1,40]   : 下段(しゃがみ強K)
;(var(54)&127)=[41,60]  : 中段(ワンツー)
;(var(54)&127)=[51,70]  : 中段(J強P)
;(var(54)&127)=[71,80]  : 投げ(すかし)
;(var(54)&127)=[81,90]  : 様子見(後方ビジョン)
;(var(54)&127)=[91,100] : 様子見(ウィービング)

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
TriggerAll = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21 || stateno = 1 || (stateno = [10,12])
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && playerid(var(56)),stateno != 5201
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2 || (numtarget && p2stateno = 1013)
Trigger1 = P2BodyDist X < 35
trigger1 = ((var(54)&127)=[1,40]) || ((var(54)&127)=[60-ifelse(playerid(var(56)),power>=2000,15,ifelse(playerid(var(56)),power>=1000,5,0)),60])
Trigger1 = playerid(var(56)),AnimTime = [-3,-2]
trigger1 = fvar(39):=5120.1

;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
TriggerAll = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21 || stateno = 1 || (stateno = [10,12])
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && playerid(var(56)),stateno != 5201
triggerall = p2movetype != A && playerid(var(56)),movetype != A && playerid(var(56)),StateType != A
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2 || (numtarget && p2stateno = 1013)
Trigger1 = P2BodyDist X < 60 && (P2BodyDist X >= 35 || (var(54)&127)%2=0)
trigger1 = ((var(54)&127)=[1,40]) || ((var(54)&127)=[60-ifelse(playerid(var(56)),power>=2000,15,ifelse(playerid(var(56)),power>=1000,5,0)),60])
Trigger1 = playerid(var(56)),AnimTime = [-7,-5]
trigger1 = fvar(39):=5120.1

;ワンツーパンチャー
[State -1, a]
type = ChangeState
value = 250
TriggerAll = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21 || stateno = 1 || (stateno = [10,12])
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && playerid(var(56)),stateno != 5201
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2 || (numtarget && p2stateno = 1013)
Trigger1 = P2BodyDist X = [35,50]
trigger1 = (var(54)&127)=[41,60-ifelse(playerid(var(56)),power>=2000,15,ifelse(playerid(var(56)),power>=1000,5,0))]
Trigger1 = playerid(var(56)),AnimTime = [-15,-13]
trigger1 = fvar(39):=5120.2

;ジャンプ
[state -3,jump]
Type = ChangeState
value = 40
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = ctrl || (stateno = [120,140])||stateno=21||stateno=100 || stateno = 1 || (stateno = [10,12])
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2 || (numtarget && p2stateno = 1013)
Trigger1 = P2BodyDist X = [30,50]
trigger1 = (var(54)&127)=[51,70]
Trigger1 = playerid(var(56)),Anim=5120
Trigger1 = playerid(var(56)),AnimTime = [-29,-26]
trigger1 = fvar(39):=3.11;ifelse(random%3!=0,2.11,2.12)
Trigger2 = ((playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),StateNo = [5120,5129])) || helper(50000+id),var(59)=2 || (numtarget && p2stateno = 1013)
Trigger2 = P2BodyDist X = [30,50]
trigger2 = (var(54)&127)=[71,80]
Trigger2 = playerid(var(56)),Anim=5120
Trigger2 = playerid(var(56)),AnimTime = [-25,-22]
trigger2 = fvar(39):=3.12;ifelse(random%3!=0,2.11,2.12)

[state -1]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = fvar(39)=5120.1
trigger1 = (movecontact || movereversed) && (stateno = 440 || prevstateno = 440)
trigger2 = fvar(39)=3.11 || fvar(39)=3.12
trigger2 = movecontact || movereversed || movetype = H || stateno=[0,21]
trigger3 = fvar(39)=5120.2
trigger3 = (movecontact || movereversed) && (stateno = 250 || prevstateno = 250)
trigger4 = fvar(39)=[5120.1,5120.3]
trigger4 = (stateno = [150,155]) || (playerid(var(56)),stateno = [5000,5100)) || stateno = 21 || (playerid(var(56)),stateno = [150,155])
trigger5 = fvar(39)=1101.1 && stateno!=[1100,1101]
trigger5 = (stateno = [150,155]) || (playerid(var(56)),stateno = [0,155]) || stateno = 21 || prevstateno = 0 || stateno!=1101
FV = 39
value = 0
IgnoreHitPause = 1

;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = stateno != 106
triggerall = statetype = A
triggerall = ctrl || (stateno = [120,140])
Trigger1 = vel y >=0
Trigger1 = P2BodyDist X <= 40 ;&& p2dist y <= 60
trigger1 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10])
trigger1 = fvar(39)=3.11
;trigger1 = fvar(39):=5120.2
Trigger2 = vel y >=0
Trigger2 = P2BodyDist X <= 40 ;&& p2dist y <= 60
trigger2 = (P2BodyDist Y-floor(2*(vel Y)+(2*(2+1)/2)*const(movement.yaccel))<=0)
trigger2 = fvar(39)=3.12

;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>2
triggerall = roundstate=2 && statetype!=A
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Statetype != A
triggerall = (var(54)&262144)=0 && p2stateno!=[5000,5210]
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype != L && playerid(var(56)),statetype != A && playerid(var(56)),movetype != H
triggerall = playerid(var(56)),stateno != [150,155]
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = statetype != A
triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = fvar(39)=3.12
trigger1 = fvar(39):=0 || 1

;パンチャーウィービング
[State -1, a]
type = ChangeState
value = 1100
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate=2 && statetype!=A
Triggerall = (ceil(facing*(playerid(var(56)),Pos X-Pos X))>0)
Triggerall = P2BodyDist X = [35,50]
triggerall = p2movetype != A && playerid(var(56)),movetype != A
trigger1 = (var(54)&127)=[91,100]
trigger1 = playerid(var(56)),StateType != A
Trigger1 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100)
trigger1 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -18) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger1 = fvar(39):=1101.1
trigger2 = (var(54)&127)%3=0
trigger2 = playerid(var(56)),StateType != A
Trigger2 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100)
trigger2 = ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50) ;&& fvar(35)=[-1,1]
trigger2 = fvar(39):=0 || 1

;パンチャービジョン(後方)
[State -1, a]
type = ChangeState
value = 1302
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A && (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
TriggerAll = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100)
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = (playerid(var(56)),StateType = L || playerid(var(56)),stateno = 5120) && (playerid(var(56)),Stateno = 5120 || playerid(var(56)),anim = 5120) || helper(50000+id),var(59)=2
Trigger1 = P2BodyDist X < 60
Trigger1 = playerid(var(56)),AnimTime <= -1 && !((var(54)&127)=[60-ifelse(playerid(var(56)),power>=2000,15,ifelse(playerid(var(56)),power>=1000,5,0)),60])
trigger1 = ((var(54)&127)=[81,90]) || (((var(54)&127)=[41,80]) && playerid(var(56)),AnimTime >= -12) || (var(54)&524288)!=0
trigger1 = var(5):=0 || 1

[State -3, ]
type = ChangeState
value = 40
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !var(20)
triggerall = numexplod(700)=0
triggerall = roundstate=2 && statetype!=A
Triggerall = (ceil(facing*(playerid(var(56)),Pos X-Pos X))>0)
Triggerall = P2BodyDist X <= 30 && BackEdgeBodyDist<20
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Trigger1 = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100) || stateno=[10,12]
trigger1 = playerid(var(56)),stateno = 5110 || ((playerid(var(56)),StateNo = [5120,5129]) && playerid(var(56)),AnimTime <= -24) || ((playerid(var(56)),StateNo = [5100,5101]) && p2bodydist x <50)
trigger1 = fvar(39):=-3

;ジャンプ(対移動起き)
[State -1, a]
type = ChangeState
value = 40
TriggerAll = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
TriggerAll = StateType != A
TriggerAll = (ctrl || (stateno = [120,149])||(stateno=[10,12])||stateno=21||stateno=100)
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && fvar(35)!=0
triggerall = p2movetype != A && playerid(var(56)),movetype != A
Triggerall = (playerid(var(56)),prevstateno = 5120)
Trigger1 = P2BodyDist X > 60 && (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>100) && fvar(35)<0 && fvar(35)>-5
trigger1 = fvar(39):=-1 || 1
Trigger2 = P2BodyDist X > 60 && !(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>100) && fvar(35)<0
trigger2 = fvar(39):=-3 || 1
Trigger3 = P2BodyDist X <= 60 && fvar(35)<0
trigger3 = fvar(39):=-3 || 1

;--------------------------------- 目押し・拾い ---------------------------------------------
;クレイジーパンチャー
[State -1, クレイジーパンチャー]
type = ChangeState
value = 2000
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (power >=1000)
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = (abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (((var(54)&122880)/8192)<=7) && ((((var(54)&122880)/8192)>7) || ((var(54)&127)=[1,40]))
triggerall = playerid(var(56)),gethitvar(chainid)!=[1150,9999]
triggerall = stateno != 1150 || playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10
triggerall fvar(35)>=0 || p2dist y>-60 || playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = playerid(var(56)),statetype = A
trigger1 = (helper(50000+id),var(40))>0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-50,-10]
trigger1 = floor(fvar(37))>=11+helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*(9.0-fvar(35)))
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) > 0 || p2dist y>-60
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 225
trigger1 = var(5):=1 || 1
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger2 = playerid(var(56)),statetype = A
trigger2 = (helper(50000+id),var(40))<=0
trigger2 = floor(fvar(37))>=11+helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)
trigger2 = p2bodydist x < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*(9.0-fvar(35))) && p2dist y >-60
trigger2 = p2bodydist x < 225 && p2dist y >-50
trigger2 = var(5):=1 || 1
trigger3 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger3 = playerid(var(56)),statetype = A
trigger3 = (helper(50000+id),var(40))>0
trigger3 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger3 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-50,-10]
trigger3 = floor(fvar(37))>=11+helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)
trigger3 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*(9.0-fvar(35)))
trigger3 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) > 0 || p2dist y>-60
trigger3 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 225
trigger3 = var(5):=1 || 1
trigger4 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger4 = playerid(var(56)),statetype = A
trigger4 = (helper(50000+id),var(40))<=0
trigger4 = floor(fvar(37))>=11+helper(50000+id),var(40)-playerid(var(56)),gethitvar(hitshaketime)
trigger4 = p2bodydist x < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*(9.0-fvar(35))) && p2dist y >-60
trigger4 = p2bodydist x < 225 && p2dist y >-50
trigger4 = var(5):=1 || 1


[State -1,ジャンプ]
type = ChangeState
value = 40
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
TriggerAll = ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (((var(54)&122880)/8192)>0) && (((var(54)&122880)/8192)<=7) && !(power>=powermax && power>=3000)
triggerall = power<1000 || (!(power>=2000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0)) && !(power>=1000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*120.0)))
triggerall = ((var(54)&127)=[1,60]) || helper(50000+id),var(32) != 0
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
trigger1 = P2BodyDist Y+floor(((26-TeamSide)-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+(((26-TeamSide)-playerid(var(56)),gethitvar(hitshaketime))*(((26-TeamSide)-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -130
trigger1 = P2BodyDist Y+floor((25-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((25-playerid(var(56)),gethitvar(hitshaketime))*((25-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -80
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((25-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((25-playerid(var(56)),gethitvar(hitshaketime))*((25-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=25
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=25
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,(26-TeamSide))-playerid(var(56)),gethitvar(hitshaketime)) =[40,110]
trigger1 = fvar(39):=6.2

;空中ふっ飛ばし攻撃
[State -1, Jump Strong Kick]
type = ChangeState
value = 690
TriggerAll = var(59) > 0
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = fvar(39)=6.2
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl
trigger1 = fvar(39):=0 || 1

[state -1]
type = varset
triggerall = !IsHelper && playeridexist(var(56))
trigger1 = fvar(39)=6.2
trigger1 = ((movecontact || movereversed) && (prevstateno = 690)) || movetype = H
FV = 39
value = 0
IgnoreHitPause = 1

;ダッシュ
[state -3]
type = ChangeState
value = 100
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = RoundSTate = 2 && P2movetype = H
triggerall = !inguarddist
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = !playerid(var(56)),ctrl
Triggerall = P2statetype != L && p2bodydist x>30
triggerall = !(p2stateno = 5201 || (helper(50000+id),var(59)=2 && P2bodydist X <100))
triggerall = statetype != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && stateno!=100 && prevstateno!=100
triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=[10,12]
trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) +(fvar(35))*(1-fvar(36)**var(53))/(1-fvar(36)) = [50,256]
trigger1 = floor(fvar(37))>=7+ceil((ceil(facing*(playerid(var(56)),Pos X-Pos X))>50)*(ceil(facing*(playerid(var(56)),Pos X-Pos X))-50)/const(velocity.run.fwd.x)) && p2statetype!=A
trigger2 = p2statetype = A && p2bodydist x>50 ;- ((fvar(35)<=-1)*10)
;trigger2 = var(5):=0 || 1

;フォビドゥン　イーグル
[State -1, a]
type = ChangeState
value = 1400
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = (playerid(var(56)),stateno = [5000,5100)) || playerid(var(56)),stateno = [150,155]
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),gethitvar(chainid)!=[1400,9999]
triggerall = (((var(54)&122880)/8192)<=8) && !(power>=powermax && power>=3000)
triggerall = power<1000 || !(power>=2000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0)) && !(power>=1000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*120.0))
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger1 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=9
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=9
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,9)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger1 = var(5):=0 || 1
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>9
trigger2 = floor(fvar(37))>=9
trigger2 = (p2bodydist x <= 45) && p2bodydist y =[-60,-1]
trigger2 = var(5):=0 || 1
trigger3 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger3 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger3 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=9
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=9
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,9)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger3 = var(5):=0 || 1
trigger4 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>9
trigger4 = floor(fvar(37))>=9
trigger4 = (p2bodydist x <= 45) && p2bodydist y =[-60,-1]
trigger4 = var(5):=0 || 1

trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger5 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -30
trigger5 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger5 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger5 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger5 = floor(fvar(37))>=9
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=9
trigger5 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,9)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger5 = var(5):=0 || 1
trigger6 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger6 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -30
trigger6 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger6 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger6 = P2BodyDist Y+floor((9-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((9-playerid(var(56)),gethitvar(hitshaketime))*((9-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger6 = floor(fvar(37))>=9
trigger6 = playerid(var(56)),gethitvar(hitshaketime)<=9
trigger6 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,9)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger6 = var(5):=0 || 1

trigger7 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger7 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger7 = P2BodyDist Y+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger7 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger7 = P2BodyDist Y+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger7 = floor(fvar(37))>=23 && (((var(54)&122880)/8192)<=1)
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=23
trigger7 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,23)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger7 = var(5):=1 || 1
trigger8 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>23
trigger8 = floor(fvar(37))>=23 && (((var(54)&122880)/8192)<=1)
trigger8 = (p2bodydist x <= 45) && p2bodydist y =[-60,-1]
trigger8 = var(5):=1 || 1
trigger9 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger9 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger9 = P2BodyDist Y+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < (playerid(var(56)),anim = 5050)*20
trigger9 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger9 = P2BodyDist Y+floor((23-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((23-playerid(var(56)),gethitvar(hitshaketime))*((23-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger9 = floor(fvar(37))>=23 && (((var(54)&122880)/8192)<=1)
trigger9 = playerid(var(56)),gethitvar(hitshaketime)<=23
trigger9 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,23)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger9 = var(5):=1 || 1
trigger10 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger10 = playerid(var(56)),gethitvar(hitshaketime)>23
trigger10 = floor(fvar(37))>=23 && (((var(54)&122880)/8192)<=1)
trigger10 = (p2bodydist x <= 45) && p2bodydist y =[-60,-1]
trigger10 = var(5):=1 || 1


;ふっ飛ばし攻撃
[State -1, 290]
type = ChangeState
value = 290
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
TriggerAll = ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = (((var(54)&122880)/8192)<=7)
triggerall = !(power>=1000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*100.0)) ;|| power>=2000
triggerall = playerid(var(56)),BackEdgeBodyDist<20 || playerid(var(56)),FrontEdgeBodyDist<20
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -100
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) <= -70
trigger1 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -60
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=18
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=18
trigger1 = p2bodydist x =[-15,30]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>18
trigger2 = floor(fvar(37))>=18
trigger2 = (p2bodydist x <= 30) && p2bodydist y =[-100,-70]
trigger3 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -90
trigger3 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) <= -60
trigger3 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -60
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger3 = P2BodyDist Y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger3 = floor(fvar(37))>=18
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=18
trigger3 = p2bodydist x =[-15,30]

;ガイア・ギア
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2200
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = power >= 2000
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = power>=3000 || (power>=2000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0)) || stateno = 290
trigger1 = playerid(var(56)),BackEdgeBodyDist<20 || playerid(var(56)),FrontEdgeBodyDist<20
trigger1 = P2BodyDist Y+floor((29-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((29-playerid(var(56)),gethitvar(hitshaketime))*((29-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -180
;trigger1 = P2BodyDist Y+floor((29-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((29-playerid(var(56)),gethitvar(hitshaketime))*((29-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) <= 0
;trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((29-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((29-playerid(var(56)),gethitvar(hitshaketime))*((29-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=29 && stateno = 290 && movecontact
trigger1 = p2bodydist x =[-10,60]
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = (((var(54)&122880)/8192)<=7) && movecontact
trigger2 = playerid(var(56)),gethitvar(chainid)!=9999
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger2 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -20;(playerid(var(56)),anim = 5050)*20
trigger2 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger2 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger2 = floor(fvar(37))>=5
trigger2 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger2 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,5)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,40]
trigger3 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger3 = (((var(54)&122880)/8192)<=7) && movecontact
trigger3 = playerid(var(56)),gethitvar(chainid)!=9999
trigger3 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger3 = floor(fvar(37))>=5
trigger3 = (p2bodydist x <= 40) && p2bodydist y =[-50,-1]
trigger4 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger4 = (((var(54)&122880)/8192)<=7)
trigger4 = playerid(var(56)),gethitvar(chainid)!=9999
trigger4 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -70
trigger4 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -20;(playerid(var(56)),anim = 5050)*20
trigger4 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger4 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger4 = floor(fvar(37))>=5
trigger4 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger4 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,5)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,40]
trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger5 = (((var(54)&122880)/8192)<=7)
trigger5 = playerid(var(56)),gethitvar(chainid)!=9999
trigger5 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger5 = floor(fvar(37))>=5
trigger5 = (p2bodydist x <= 40) && p2bodydist y =[-60,-1]


;パンチャービジョン（前方）・弱
[State -1, パンチャービジョン（前方）・弱]
type = ChangeState
value = 1300
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && fvar(39)!=[21,22)
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = fvar(35)>0
triggerall = !(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10)
triggerall = ((var(54)&122880)/8192)<=8
triggerall = playerid(var(56)),gethitvar(chainid)!=9999 && (power>=1000 || fvar(39)=1150.1)
;triggerall = !(power>=2000&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0))
Trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist Y+fvar(33)+floor((28-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((28-playerid(var(56)),gethitvar(hitshaketime))*((28-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -160
trigger1 = P2BodyDist Y+floor((28-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((28-playerid(var(56)),gethitvar(hitshaketime))*((28-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 0
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0
trigger1 = P2BodyDist Y+floor((28-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((28-playerid(var(56)),gethitvar(hitshaketime))*((28-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || helper(50000+id),var(32) = 0
trigger1 = floor(fvar(37))>=28
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=28
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10,0,28)-playerid(var(56)),gethitvar(hitshaketime)) =[60,120]
trigger1 = var(5):=0 || 1
Trigger2 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>28
trigger2 = floor(fvar(37))>=28
trigger2 = (p2bodydist x = [60,120]) && p2bodydist y =[-160,-1]
trigger2 = var(5):=0 || 1
trigger3 = fvar(39)=1150.1
Trigger3 = stateno = 1150 && movecontact && animelem = 5,<=0
trigger3 = var(5):=1 || 1


;チャンピオンパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = P2bodydist X <=50
triggerall = power >= 1000
triggerall = statetype != A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = p2stateno = playerid(var(56)),stateno
TriggerAll = ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = (((var(54)&122880)/8192)<=7)
trigger1 = floor(fvar(37))>=3
trigger1 = (p2bodydist x <= 50) && p2bodydist y =[-60,-1]
trigger1 = var(5):=0 || 1

;パンチャーウィービング
[State -1, a]
type = ChangeState
value = 1100
triggerall = var(59)>3
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = RoundSTate = 2 && P2movetype = H
triggerall = !inguarddist
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno = [5000,5100)
triggerall = !playerid(var(56)),ctrl
Triggerall = P2statetype != L
triggerall = statetype != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && fvar(37)>22
trigger1 = stateno = 1150 && movecontact && animelem = 5,<=0
trigger2 = stateno = 1350 && movecontact && time>ifelse(anim = 1350,27,36)
trigger3 = p2bodydist x <= 10 && playerid(var(56)),BackEdgeBodyDist<=3
trigger3 = stateno = 1350 && movecontact && (var(59)>6 && fvar(37)>22 && ((var(54)&127)=[1,25]))

;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = P2dist X <=50
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
;triggerall = ((var(54)&127)%7<=2)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = p2bodydist x<20 || fvar(39)<=8 || helper(50000+id),var(55)>=32
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12]
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<50
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 50 && p2bodydist y =0

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
;triggerall = ((var(54)&127)%7<=2)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = p2bodydist x<20 || fvar(39)<=8 || helper(50000+id),var(55)>=32
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12]
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 35 && p2bodydist y =0

;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
;triggerall = ((var(54)&127)%7<=2)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = p2bodydist x<20 || fvar(39)<=8
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12]
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<44
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 44 && p2bodydist y =0

;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = P2dist X >50
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = (playerid(var(56)),stateno = [5000,5100)) || playerid(var(56)),stateno = [120,155]
triggerall = p2stateno = playerid(var(56)),stateno && playerid(var(56)),statetype = A
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (playerid(var(56)),gethitvar(chainid)=[200,600]) || ((playerid(var(56)),gethitvar(chainid)!=9999)&&(playerid(var(56)),stateno = [120,155]))
triggerall = (((var(54)&122880)/8192)<=8)
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12]
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -80
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 10
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0 || playerid(var(56)),stateno = [120,155]
;trigger1 = floor(fvar(37))>=6
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,45]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6
trigger2 = (p2bodydist x <= 45) && p2bodydist y =[-80,10]
trigger3 = P2BodyDist Y+floor((11-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((11-playerid(var(56)),gethitvar(hitshaketime))*((11-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -90
trigger3 = P2BodyDist Y+floor((11-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((11-playerid(var(56)),gethitvar(hitshaketime))*((11-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 10
trigger3 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0 || playerid(var(56)),stateno = [120,155]
;trigger3 = floor(fvar(37))>=11
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=11
trigger3 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,11)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,70]
trigger3 = fvar(39):=210.3 || 1
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>11
trigger4 = floor(fvar(37))>=11
trigger4 = (p2bodydist x <= 70) && p2bodydist y =[-90,10]
trigger4 = fvar(39):=210.3 || 1

;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = P2dist X <=50
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),statetype = A || (power<1000 && var(59)>=5 && (var(54)&127)%5<(var(59)-4)) || (var(54)&127)%8=0 || (power<3000 && var(59)>=5 && (var(54)&127)%5=0)
triggerall = (playerid(var(56)),stateno = [5000,5100)) || playerid(var(56)),stateno = [120,155]
triggerall = p2stateno = playerid(var(56)),stateno
triggerall = statetype != A && p2statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = (playerid(var(56)),gethitvar(chainid)=[200,600]) || ((playerid(var(56)),gethitvar(chainid)!=9999)&&(playerid(var(56)),stateno = [120,155]))
triggerall = (((var(54)&122880)/8192)<=8)
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12]
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) >= -60
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < 10 || playerid(var(56)),stateno = [120,155]
trigger1 = P2BodyDist Y < -40 || helper(50000+id),var(32) = 0 || playerid(var(56)),stateno = [120,155]
;trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) < -40 || playerid(var(56)),stateno = [120,155]
trigger1 = floor(fvar(37))>=6
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = p2bodydist x+fvar(35)*(ifelse(playerid(var(56)),BackEdgeBodyDist<10 || playerid(var(56)),FrontEdgeBodyDist<10 || (fvar(35)<0&&p2dist y>-60),0,6)-playerid(var(56)),gethitvar(hitshaketime)) =[-10,35]
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6
trigger2 = (p2bodydist x <= 35) && p2bodydist y =[-60,10]

[State -1,]
type = ChangeState
value = ifelse(power>=1000,2000,1000)
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = P2dist X <=50
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12])
trigger1 = numtarget && (p2dist y=[-60,20]) && p2bodydist x<=50
trigger1 = p2stateno = 2021 && p2movetype = H
trigger1 = var(5):=1

;------------------------------------ コンボ ------------------------------------------------
;チャンピオンパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = power >= 1000
triggerall = statetype != A
triggerall = P2bodydist X <=50
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = stateno != 1350 ;|| helper(50000+id),var(32) = 0
triggerall = inguarddist || (ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12])
triggerall = (var(54)&127)<=30*((power>=1000)+(power>=2000)+(power>=3000))
triggerall = playerid(var(56)),statetype != A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2dist y+floor((1-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((1-playerid(var(56)),gethitvar(hitshaketime))*((1-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger1 = floor(fvar(37))>=3
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2dist y+floor((1-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((1-playerid(var(56)),gethitvar(hitshaketime))*((1-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger2 = floor(fvar(37))>=3
trigger2 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger2 = var(5):=0 || 1
trigger3 = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||stateno=[10,12])
trigger3 = p2dist y+floor((1-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((1-playerid(var(56)),gethitvar(hitshaketime))*((1-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger3 = floor(fvar(37))=[3,5]
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger3 = var(5):=0 || 1

[State -1, ワンツーパンチャー]
type = ChangeState
value = 250
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
triggerall = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 410 || stateno = 430 || stateno = 440) && movecontact
trigger1 = helper(50000+id),var(55)<32 || (power>=2000&&P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*80.0)&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0))||((var(54)&127)=[51,(life*.1)])
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 35
trigger2 = helper(50000+id),var(55)<32 || (power>=2000&&P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*80.0)&&P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0))||((var(54)&127)=[51,(life*.1)])
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger2 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 35 && p2dist y >=0
trigger3 = floor(fvar(37))<18
trigger3 = p2dist y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger3 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 35
trigger4 = floor(fvar(37))<18
trigger4 = playerid(var(56)),statetype != A
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger4 = floor(fvar(37))>=7-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 35 && p2dist y >=0

;クレイジーパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = power >=1000
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=2000,140.0,80.0)) || (power>=3000 && (var(54)&127)%4=1) || (power>=2000 && (var(54)&127)%7=1)||((var(52)=4||var(52)=8||var(52)=11)&&(var(54)&127)%2=0)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = playerid(var(56)),gethitvar(chainid)!=[1150,9999]
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
triggerall = playerid(var(56)),statetype != A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2dist y = 0
trigger1 = floor(fvar(37))>=10-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>35)*(P2BodyDist X-35)/9.0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=10
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*9.0)
trigger1 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 200
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>10
trigger2 = floor(fvar(37))>=10-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>35)*(P2BodyDist X-35)/9.0)
trigger2 = p2bodydist x < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*9.0) && p2dist y >=0 && p2bodydist x<200
trigger3 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger3 = p2dist y = 0
trigger3 = floor(fvar(37))>=10-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>35)*(P2BodyDist X-35)/9.0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=10
trigger3 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*9.0)
trigger3 = p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=10-playerid(var(56)),gethitvar(hitshaketime),var(53),10-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36)) < 200
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>10
trigger4 = floor(fvar(37))>=10-ifelse((var(59)=[1,4]),(5-var(59)),0)+ceil((P2BodyDist X>35)*(P2BodyDist X-35)/9.0)
trigger4 = p2bodydist x < 35+ceil((fvar(37)>=10)*(fvar(37)-10)*9.0) && p2dist y >=0 && p2bodydist x<200

;ガイア・ギア
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (power >=2000)
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = P2life>=((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*80.0)
triggerall = P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*305.0) || (power>=3000 && (var(54)&127)%4=0)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=5-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 40
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger2 = floor(fvar(37))>=5-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 40 && p2dist y >=0
trigger3 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger3 = playerid(var(56)),statetype != A
trigger3 = p2dist y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger3 = floor(fvar(37))>=5-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=5
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 40
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = playerid(var(56)),statetype != A
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>5
trigger4 = floor(fvar(37))>=5-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 40 && p2dist y >=0

;マシンガンパンチャー
[State -1, a]
type = ChangeState
value = 1000
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8
triggerall = helper(50000+id),var(55)<32 || stateno = 250 || fvar(37)<18
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = stateno != 1350 ;|| helper(50000+id),var(32) = 0
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger1 = floor(fvar(37))>=6-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger1 = var(5):=0 || 1
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = floor(fvar(37))>=6-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 50 && p2dist y >=-30
trigger2 = var(5):=0 || 1
trigger3 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger3 = playerid(var(56)),statetype != A
trigger3 = p2dist y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger3 = floor(fvar(37))>=6-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger3 = var(5):=0 || 1
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = playerid(var(56)),statetype != A
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger4 = floor(fvar(37))>=6-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 50 && p2dist y >=-30
trigger4 = var(5):=0 || 1

;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8
triggerall = helper(50000+id),var(55)>=32
triggerall = (playerid(var(56)),gethitvar(chainid)!=[1150,9999])
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -60
trigger1 = floor(fvar(37))>=18-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=18
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=18-playerid(var(56)),gethitvar(hitshaketime),var(53),18-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 130
trigger1 = var(5):=0 || 1
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger2 = playerid(var(56)),statetype != A
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>18
trigger2 = floor(fvar(37))>=18-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 130 && p2dist y >=-60
trigger2 = var(5):=0 || 1
trigger3 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger3 = playerid(var(56)),statetype != A
trigger3 = p2dist y+floor((18-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((18-playerid(var(56)),gethitvar(hitshaketime))*((18-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -60
trigger3 = floor(fvar(37))>=18-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=18
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=18-playerid(var(56)),gethitvar(hitshaketime),var(53),18-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 130
trigger3 = var(5):=0 || 1
trigger4 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger4 = playerid(var(56)),statetype != A
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>18
trigger4 = floor(fvar(37))>=18-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 130 && p2dist y >=-60
trigger4 = var(5):=0 || 1

;チャンピオンパンチャー
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = power >= 1000
triggerall = statetype != A
triggerall = P2bodydist X <=50
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48))-6 >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48))-6 < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=8 && power>=3000
triggerall = helper(50000+id),var(55)<32 || stateno = 250 || fvar(37)<18
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = stateno != 1350 ;|| helper(50000+id),var(32) = 0
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
triggerall = playerid(var(56)),statetype != A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = p2dist y+floor((1-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((1-playerid(var(56)),gethitvar(hitshaketime))*((1-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger1 = floor(fvar(37))>=3
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = p2dist y+floor((1-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((1-playerid(var(56)),gethitvar(hitshaketime))*((1-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) >= -30
trigger2 = floor(fvar(37))>=3
trigger2 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=1-playerid(var(56)),gethitvar(hitshaketime),var(53),1-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 50
trigger2 = var(5):=0 || 1

;スライディングパンチャー
[State -1, a]
type = ChangeState
value = 450
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = playerid(var(56)),Alive
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id)
triggerall = playerid(var(56)),movetype = H
triggerall = statetype != A && playerid(var(56)),statetype != L && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = ((playerid(var(56)),stateno = [5000,5100))&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [5000,5100))&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&122880)/8192)<=7
triggerall = playerid(var(56)),gethitvar(chainid)!=9999
triggerall = (stateno = 215 && (p2bodydist x>25 || time>14)) || stateno != 215
triggerall = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 410 || stateno = 430 || stateno = 440) && movecontact
triggerall = playerid(var(56)),statetype != A
trigger1 = p2dist y+floor((11-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((11-playerid(var(56)),gethitvar(hitshaketime))*((11-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger1 = floor(fvar(37))>=11-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=11
trigger1 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=11-playerid(var(56)),gethitvar(hitshaketime),var(53),11-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 60
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>11
trigger2 = floor(fvar(37))>=11-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger2 = p2bodydist x < 60 && p2dist y >=0
trigger3 = p2dist y+floor((12-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((12-playerid(var(56)),gethitvar(hitshaketime))*((12-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger3 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=12
trigger3 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=12-playerid(var(56)),gethitvar(hitshaketime),var(53),12-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 72
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>12
trigger4 = floor(fvar(37))>=12-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger4 = p2bodydist x < 72 && p2dist y >=0
trigger5 = p2dist y+floor((13-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((13-playerid(var(56)),gethitvar(hitshaketime))*((13-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger5 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger5 = playerid(var(56)),gethitvar(hitshaketime)<=13
trigger5 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=13-playerid(var(56)),gethitvar(hitshaketime),var(53),13-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 80
trigger6 = playerid(var(56)),gethitvar(hitshaketime)>13
trigger6 = floor(fvar(37))>=13-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger6 = p2bodydist x < 80 && p2dist y >=0
trigger7 = p2dist y+floor((14-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((14-playerid(var(56)),gethitvar(hitshaketime))*((14-playerid(var(56)),gethitvar(hitshaketime))+1.0)/2)*fvar(38)) = 0
trigger7 = floor(fvar(37))>=14-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger7 = playerid(var(56)),gethitvar(hitshaketime)<=14
trigger7 = (p2bodydist x +(fvar(35))*(1-fvar(36)**ifelse(var(53)<=14-playerid(var(56)),gethitvar(hitshaketime),var(53),14-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))) < 88
trigger8 = playerid(var(56)),gethitvar(hitshaketime)>14
trigger8 = floor(fvar(37))>=14-ifelse((var(59)=[1,4]),(5-var(59)),0)
trigger8 = p2bodydist x < 88 && p2dist y >=0

;------------------------------------- 固め -------------------------------------------------
;投げ
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = p2movetype != H
TriggerAll = playerid(var(56)),Alive
triggerall = roundstate=2 && statetype!=A
triggerall = (playerid(var(56)),statetype = S) || (playerid(var(56)),statetype = C)
triggerall = playerid(var(56)),movetype != H
triggerall = (var(54)&262144)=0 && p2stateno!=[5000,5210]
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>=0
triggerall = p2dist y = 0 && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = p2bodydist x<=ifelse(helper(50000+id),var(37)>=180,20,10)
Triggerall = (ctrl || (stateno = [120,140])||stateno=21||stateno=100||(stateno=[10,12]))
trigger1 = fvar(39)=800.5
trigger1 = fvar(39):=0 || 1

[State -3, jump]
type = ChangeState
value = 40
triggerall = var(59)>4
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = ctrl || stateno = 21 || (stateno = [120,140]) || stateno = [10,12]
trigger1 = ((var(54)&127)=[1,ifelse((life>500||playerid(var(56)),power<1000),15,10)])
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)||floor(fvar(37))<4
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger1 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = fvar(39):=ifelse(random%5=0,3.12,3.41)
trigger2 = ((var(54)&127)=[11,ifelse((life>500||playerid(var(56)),power<1000),25,20)])
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)||floor(fvar(37))<4
trigger2 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<75
trigger2 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger2 = fvar(39):=3.41
trigger3 = ((var(54)&127)=[21,ifelse((life>500||playerid(var(56)),power<1000),35,30)])
trigger3 = playerid(var(56)),BackEdgeBodyDist<=3 || p2bodydist x>45
trigger3 = playerid(var(56)),statetype != A
trigger3 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)||floor(fvar(37))<4
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=5-playerid(var(56)),gethitvar(hitshaketime),var(53),5-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<75
trigger3 = P2BodyDist Y+floor((5-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((5-playerid(var(56)),gethitvar(hitshaketime))*((5-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger3 = fvar(39):=3.12

;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
TriggerAll = var(59)>=4
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
TriggerAll = RoundState=2
triggerall = statetype = A
triggerall = stateno != 106
triggerall = ctrl || (stateno = [120,140])
Trigger1 = vel y >=0
Trigger1 = P2BodyDist X <= 25 ;&& p2dist y <= 60
trigger1 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10])
trigger1 = fvar(39)=2.41
trigger1 = fvar(39):=0 || 1
Trigger2 = vel y >=-1
Trigger2 = P2BodyDist X-(vel x*10) <= 0
;trigger2 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10])
trigger2 = fvar(39)=3.41
trigger2 = fvar(39):=0 || 1
Trigger3 = vel y >=0 && p2statetype = C
Trigger3 = P2BodyDist X-(vel x*10) <= 0
trigger3 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,10])
trigger3 = fvar(39)=3.12
trigger3 = fvar(39):=0 || 1

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (fvar(39)=2.41) || (fvar(39)=3.41)
trigger1 = movetype = H
fvar(39) = 0

;ワンツーパンチャー
[State -1, a]
type = ChangeState
value = 250
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)!=800.5
triggerall = ((var(54)&127)=[31,40]) || ((stateno = 430 || stateno = 410) && movecontact) || (p2life<50 && (var(54)&127)=[31,70])
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = p2life<60 || playerid(var(56)),power<1000 || life>333 || (var(54)&127)%3=0 ;|| (stateno = 430 && movecontact)
Triggerall = ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || (stateno = [10,12]) || ((stateno = 430 || stateno = 410) && movecontact)
triggerall = playerid(var(56)),statetype != A
trigger1 = p2bodydist x>=35
Trigger1 = ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || (stateno = [10,12])
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=4-playerid(var(56)),gethitvar(hitshaketime),var(53),4-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<50
trigger1 = P2BodyDist Y+floor((4-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((4-playerid(var(56)),gethitvar(hitshaketime))*((4-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=4
trigger2 = p2bodydist x>=35
Trigger2 = ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || (stateno = [10,12])
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>4
trigger2 = (floor(fvar(37))>=4 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<4 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 50 && p2bodydist y =0
trigger3 = (stateno = 430 || stateno = 410) && movecontact
trigger3 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=7-playerid(var(56)),gethitvar(hitshaketime),var(53),7-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<32
trigger3 = P2BodyDist Y+floor((7-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((7-playerid(var(56)),gethitvar(hitshaketime))*((7-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger3 = playerid(var(56)),gethitvar(hitshaketime)<=7
trigger4 = (stateno = 430 || stateno = 410) && movecontact
trigger4 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger4 = playerid(var(56)),gethitvar(hitshaketime)>7
trigger4 = (floor(fvar(37))>=7 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<7 && (var(54)&127)>var(59)*20)
trigger4 = p2bodydist x < 32 && p2bodydist y =0

;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)!=800.5
;triggerall = (var(54)&127)=[41,60]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || stateno = [10,12]
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<10
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 10 && p2bodydist y =0

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)!=800.5
triggerall = ((var(54)&127)=[41,80]) || floor(fvar(37))>=6
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = p2bodydist x<25
Triggerall = ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || stateno = [10,12]
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x < 35 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<35
trigger3 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = floor(fvar(37))>=1

;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && fvar(39)!=800.5
triggerall = ((var(54)&127)=[61,100]) || movetype!=A
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = (ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || (stateno = [10,12])) || (stateno = 200 && animelem = 5,>=0) ||  (stateno = 205 && animelem = 5,>=0) || (stateno = 400 && animelem = 4,>=0)
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<=40
trigger1 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=6
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>6
trigger2 = (floor(fvar(37))>=6 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<6 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x <= 40 && p2bodydist y =0
trigger3 = playerid(var(56)),statetype != A
trigger3 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger3 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=6-playerid(var(56)),gethitvar(hitshaketime),var(53),6-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<40
trigger3 = P2BodyDist Y+floor((6-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((6-playerid(var(56)),gethitvar(hitshaketime))*((6-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger3 = floor(fvar(37))>=1
trigger3 = (life>350 && playerid(var(56)),power<1000) || (life>550 && playerid(var(56)),power<2000)

;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L && playerid(var(56)),StateType != A
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)!=800.5
;triggerall = ((var(54)&127)=[61,100]) || movetype!=A
triggerall = p2movetype = H && playerid(var(56)),movetype = H
Triggerall = (ctrl || (stateno = [120,140])||stateno=21 || stateno = 100 || (stateno = [10,12]))
trigger1 = playerid(var(56)),statetype != A
trigger1 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger1 = p2bodydist x+(fvar(35))*(1-fvar(36)**ifelse(var(53)<=8-playerid(var(56)),gethitvar(hitshaketime),var(53),8-playerid(var(56)),gethitvar(hitshaketime)))/(1-fvar(36))<=60
trigger1 = P2BodyDist Y+floor((8-playerid(var(56)),gethitvar(hitshaketime))*(fvar(34))+((8-playerid(var(56)),gethitvar(hitshaketime))*((8-playerid(var(56)),gethitvar(hitshaketime))+1)/2)*fvar(38)) = 0
trigger1 = (floor(fvar(37))>=8 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<8 && (var(54)&127)>var(59)*20) || (playerid(var(56)),stateno = 5300&&playerid(var(56)),movetype=H)
trigger1 = playerid(var(56)),gethitvar(hitshaketime)<=8
trigger2 = playerid(var(56)),statetype != A
trigger2 = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
trigger2 = playerid(var(56)),gethitvar(hitshaketime)>8
trigger2 = (floor(fvar(37))>=8 && (var(54)&127)<=var(59)*20) || (floor(fvar(37))<8 && (var(54)&127)>var(59)*20)
trigger2 = p2bodydist x <= 60 && p2bodydist y =0
trigger3 = fvar(37)=[1,7]
trigger3 = p2bodydist x=[0,60]

;パンチャービジョン(前方)
[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype!=A
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper
triggerall = numhelper(50000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && floor(fvar(37))=[19,20]
triggerall = fvar(39)!=800.5
triggerall = life>250
triggerall = stateno != 200 && stateno!=400 && stateno!=430
triggerall = (stateno = 215 && time>14) || (stateno = 245 && time>17) || (stateno != 215 && stateno != 245)
triggerall = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = ((var(54)&127)=[1,10])
triggerall = p2movetype = H && playerid(var(56)),movetype = H
triggerall = statetype != A
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = (fvar(39):=800.5 && var(5):=0) || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = (fvar(39):=800.5 && var(5):=0) || 1

[State -1, a]
type = ChangeState
value = 1100
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (p2stateno=[5070,5071]) || p2statetype!=A
triggerall = animtime<-14 && movecontact && playerid(var(56)),stateno != [5000,5050]
triggerall = stateno = 410 || stateno = 215 || stateno = 245 || stateno = 250
triggerall = fvar(37)>=14 && animtime<-14
triggerall = (var(54)&127)%11<=life*.014
;triggerall = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = (var(54)&127)=[1,ifelse(var(59)=3,50,ifelse(var(59)=4,70,ifelse(var(59)=5,90,100)))]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = var(5):=0 || 1

[State -1, a]
type = ChangeState
value = ifelse((var(54)&524288)=0&&(var(54)&127)%3=0&&(p2stateno=[5070,5071]),1300,ifelse(((var(54)&127)%5=0&&ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>80),1302,1100))
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (p2stateno=[5070,5071]) || p2statetype!=A
triggerall = animtime<-14 && movecontact && playerid(var(56)),stateno != [5000,5050]
triggerall = (stateno = 215 && time>14) || (stateno = 245 && time>17) || (stateno != 215 && stateno != 245)
;triggerall = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = (var(54)&127)=[1,ifelse(var(59)=3,50,ifelse(var(59)=4,70,ifelse(var(59)=5,90,100)))]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = var(5):=0 || 1

[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = playerid(var(56)),Alive
triggerall = statetype != A && playerid(var(56)),statetype != L
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (p2stateno=[150,155]) && p2statetype=A
triggerall = animtime<-14 && movecontact && playerid(var(56)),stateno != [5000,5050]
triggerall = stateno = 410
;triggerall = ((playerid(var(56)),stateno = [120,155])&&abs(helper(50000+id),var(48)) >= var(55)&&(var(54)&127)<=var(59)*20)||((playerid(var(56)),stateno != [120,155])&&abs(helper(50000+id),var(48)) < var(55)&&(var(54)&127)>var(59)*20)
triggerall = (var(54)&127)=[1,30+((life>500)*20)]
triggerall = p2movetype = H && playerid(var(56)),movetype = H
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = var(5):=0 || 1

;----------------------------------- 地上移動 -----------------------------------------------
;挑発
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (var(54)&1048576)=0
Triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100)
triggerall = (var(52)!=[5,6]) && var(52)!=[9,10]
triggerall = alive
triggerall = RoundState = 2
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = statetype != A
triggerall = life>0 && playerid(var(56)),life>0
triggerall = p2stateno != 5201 && !(p2stateno = 5210 && playerid(var(56)),time<=12)
triggerall = statetype != A && ceil(facing*(playerid(var(56)),Pos X-Pos X))>0
triggerall = playerid(var(56)),gethitvar(chainid)=9999 || (((var(54)&122880)/8192)>8)
triggerall = (p2stateno = [5000,5110]) && life>666 && p2bodydist x>60
triggerall = p2bodydist x >= 120 || p2dist y<-100
triggerall = !inguarddist && fvar(35)>=-1
trigger1 = ((lifemax+.0)/(life+.0))*3<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
trigger2 = ((lifemax+.0)/(life+.0))*1.5<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
trigger2 = playerid(var(56)),gethitvar(chainid)=9999 && (((var(54)&122880)/8192)>8)

;パンチャービジョン(後方)
[State -1, a]
type = ChangeState
value = 1302
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = numhelper
triggerall = numhelper(50000+id) && numhelper(60000+id) && prevstateno != 100
triggerall = (ctrl) || (stateno = [120,149])||stateno=21||stateno=[10,12]
triggerall = playerid(var(56)),movetype = H && playerid(var(56)),stateno = [5000,5210]
triggerall = playerid(var(56)),statetype = L || playerid(var(56)),statetype = A
triggerall = playerid(var(56)),Frontedgebodydist<20 || playerid(var(56)),backedgebodydist<20
trigger1 = p2bodydist x<33 && (anim = 5 || anim = 12 || playerid(var(56)),gethitvar(chainid)=9999 || (((var(54)&122880)/8192)>12))
trigger2 = prevstateno = 801 || prevstateno = 850
trigger2 = p2bodydist x<33

[State -3, Run/Dash Fwd]
type = ChangeState
value = ifelse(stateno=120&&p2bodydist x>100,1300,100)
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = stateno !=[100,106]
triggerall = alive
triggerall = RoundState = 2 && prevstateno!=5120
triggerall = numhelper(50000+id) && numhelper(60000+id)
TriggerAll = playerid(var(56)),Alive && helper(50000+id),fvar(33)=0
triggerall = helper(50000+id),var(58)=0
triggerall = helper(50000+id),var(59)=0||P2bodydist X >=100
triggerall = helper(60000+id),var(52)!=1
triggerall = (helper(60000+id),var(47)) >= p2bodydist x || (helper(60000+id),var(47)=0 && helper(60000+id),var(48)=0 && helper(60000+id),var(49)=0 && helper(60000+id),var(50)=0)
triggerall = statetype != A
triggerall = !(p2stateno = 5201 || (helper(50000+id),var(59)=2 && P2bodydist X <100))
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && p2bodydist x>20
Triggerall = !helper(50000+id),inguarddist
triggerall = !playerid(var(56)),hitdefattr = SCA,HA,HT,HP
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=[10,12]
trigger1 = P2bodydist X >=120 || (p2statetype != L && p2statetype != A && p2movetype = H && (fvar(37))>=13)
trigger1 = p2statetype != L || (P2bodydist X >=100 && fvar(39)=0)
Trigger1 = !inguarddist
trigger1 = Random%10>=ifelse(life>333,7,9) || (p2statetype != L && p2statetype != A && p2movetype = H && (fvar(37))>=13)
trigger1 = var(5):=0 || 1
trigger2 = p2statetype=L || (numtarget && (p2stateno=[997,998]))
Trigger2 = !inguarddist
trigger2 = p2bodydist x>=ifelse((var(54)&524288)=0,45,100)
trigger2 = var(5):=0 || 1
trigger3 = P2bodydist X >=80 && (p2statetype != L) && (p2movetype = I)
Trigger3 = !inguarddist
trigger3 = 0;Random%10>=ifelse(life>450,8,9)


[state -1]
type = ChangeState
value = 21
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
triggerall = playerid(var(56)),movetype != A
triggerall = statetype != A && Anim != 5
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && stateno != [100,102]
triggerall = fvar(39)!=800.5
triggerall = ctrl || (stateno = [120,140]) || (stateno = 1) || stateno = [10,12]
triggerall = !inguarddist || random<10
trigger1 = p2statetype != L && !(numtarget && (p2stateno = [997,998])) ;|| (playerid(var(56)),statetype=A)
trigger1 = (var(54)&127)<=ifelse(life>=300,70,40) || playerid(var(56)),movetype = H
trigger1 = Random%4<=(playerid(var(56)),statetype != A) || (p2bodydist x != [40,100]) || playerid(var(56)),movetype = H || p2bodydist x<5
trigger1 = time>12 || p2movetype = H
trigger1 = p2bodydist x<25 || (p2bodydist x=[60,70]) || p2bodydist x>130 || (var(54)&127)%3=0 || (time>30&&(var(54)&127)%2=0) || p2stateno = [5000,5100)
trigger2 = (time>6 && (fvar(35)=[-.5,.5])) || p2bodydist x>ifelse((var(54)&524288)=0,40,100)+10
trigger2 = numhelper(50000+id)
trigger2 = playerid(var(56)),statetype = L || (numtarget && (p2stateno = [997,998])) || helper(50000+id),var(59)=2
trigger2 = !(p2bodydist x=[ifelse((var(54)&524288)=0,30,90),ifelse((var(54)&524288)=0,40,105)])

[state -1]
type = ChangeState
value = 10
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
triggerall = statetype != A && anim!=5
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))>0 && stateno != [10,12]
triggerall = ctrl && time>1
trigger1 = stateno = 0
trigger1 = playerid(var(56)),statetype != L || p2bodydist x>33
trigger1 = !(p2statetype = A && p2movetype = H && fvar(35)<=0)
ctrl = 0

[State -3,しゃがみ解除]
type = ChangeState
value = 12
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = stateno = 11
triggerall = !ctrl
triggerall = alive && time>12
trigger1 = RoundState != 2 || ceil(facing*(playerid(var(56)),Pos X-Pos X)) < 0
;trigger2 = inguarddist || playerid(var(56)),movetype = A
;trigger3 = playerid(var(56)),ctrl || playerid(var(56)),statetype != L
ctrl = 1

[state -3]
type = ChangeState
value = 40
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
Triggerall = StateType != A
triggerall = alive
triggerall = fvar(39) = 0
triggerall = life>0 && playerid(var(56)),life>0
triggerall = numhelper(60000+id)
triggerall = numhelper(50000+id) && (helper(60000+id),var(6)!=[25,27])
triggerall = helper(50000+id),fvar(33)=0 && (helper(50000+id),fvar(1)=0 || life>750)
triggerall = helper(50000+id),var(59)=0 || helper(50000+id),var(59)=3
Triggerall = P2statetype != L && prevstateno!=[150,155]
triggerall = abs(playerid(var(56)),animtime)>playerid(var(56)),time || playerid(var(56)),movetype!=A
Triggerall = (playerid(var(56)),MoveType != H && p2movetype != H) || (!numtarget && floor(fvar(37))>=36 && playerid(var(56)),MoveType = H && p2movetype = H)
Triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && life>150
triggerall = life>333 || ((lifemax+.0)/(life+.0))<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0))
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100 || stateno = [10,12]
;trigger1 = P2bodydist X <= 35
;trigger1 = playerid(var(56)),vel X >=-2 && P2statetype!=A
;trigger1 = Random <= ifelse(life>600,50,ifelse(life<200,5,25))
;Trigger1 = !inguarddist || life>100
trigger1 = 0;fvar(39):=1
trigger2 = P2bodydist X = [35,95]
trigger2 = playerid(var(56)),vel X >=-2 && P2statetype!=A && stateno != 100
trigger2 = Random <= ifelse(life>500,40,ifelse(life<200,10,25))
Trigger2 = !inguarddist || life>250
trigger2 = fvar(39):=ifelse((ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<100+p2dist x)&&(playerid(var(56)),const(size.mid.pos.y)>=-55||playerid(var(56)),const(size.head.pos.y)>=-85),3,ifelse(random%3=0,-3,ifelse(random%2=0,3,6)))
trigger3 = P2bodydist X =[95,130]
trigger3 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger3 = Random <= ifelse(life>550,40,ifelse(life<200,5,20))
Trigger3 = !inguarddist || life>333
trigger3 = fvar(39):=ifelse(random%2=0,-3,9)
trigger4 = P2bodydist X >= 130
trigger4 = life>250
trigger4 = playerid(var(56)),vel X >=-2 && P2statetype!=A
trigger4 = Random <= ifelse(life>500,50,ifelse(life<200,10,26))
Trigger4 = (!inguarddist || life>400) ;&& stateno != 100
trigger4 = fvar(39):=ifelse(random%3=0,-3,9) || 1

[state -3]
type = ChangeState
value = 40
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = roundstate = 2 && Alive && P2life!=0
Triggerall = StateType != A
triggerall = alive
triggerall = fvar(39) = 0
triggerall = numhelper(60000+id)
triggerall = numhelper(50000+id) && (helper(60000+id),var(6)!=[25,27])
triggerall = helper(50000+id),fvar(33)=0 && (helper(50000+id),fvar(1)=0 || life>750)
triggerall = helper(50000+id),var(59)=0 || helper(50000+id),var(59)=3
Triggerall = P2statetype != L
Triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && life>100 && p2movetype != H
Triggerall = ctrl || (stateno = [120,149])||stateno=21||stateno=100 || stateno = [10,12]
triggerall = playerid(var(56)),statetype = A
trigger1 = P2BodyDist X+floor(26*(fvar(35))) = [-25,45]
trigger1 = P2BodyDist Y+floor(26*(fvar(34))+(26*(26+1)/2)*fvar(38)) = [-30,40]
trigger1 = life>333 && fvar(35)!=[-2,2]
trigger1 = (var(54)&127)>=ifelse(life>=600,50,75)
trigger1 = fvar(39):=ifelse(inguarddist||random%2=0,5.7,2.7) || 1
trigger2 = fvar(34)>-1 || p2bodydist x>80 || fvar(35)=[-2.5,2.5]
trigger2 = fvar(34)>8 || p2bodydist x>100 || fvar(35)=[-2.5,2.5]
trigger2 = !playerid(var(56)),ctrl && playerid(var(56)),stateno>=200
trigger2 = fvar(35)>=0 || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50))
trigger2 = (var(54)&127)<=ifelse(life>=666,50,25)
trigger2 = P2BodyDist X+floor(23*(fvar(35))) = [80,140]
trigger2 = P2BodyDist Y+floor(23*(fvar(34))+(23*(23+1)/2)*fvar(38)) = [-20,40]
trigger2 = fvar(39):=ifelse(random%2=0,3.7,-3.7) || 1

;ダウン回避
[State -1, Taunt]
type = ChangeState
value = 702
TriggerAll = var(59) > 3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Alive && P2life!=0
triggerall = alive
triggerall = fvar(39) = 0
triggerall = stateno = 5050
triggerall = pos y >=-40
trigger1 = roundstate != 2
trigger2 = roundstate = 2
trigger2 = CanRecover && hitover
trigger2 = pos y >=0
trigger2 = (var(54)&127)<=var(59)*11

;------------------------------ 地上立ち回り技振り ------------------------------------------
;クレイジーパンチャー
[State -1, s]
type = ChangeState
value = 2000
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = (power >=1000)
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = numhelper(60000+id)
triggerall = (helper(60000+id),var(6)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210)
triggerall = helper(50000+id),var(58)=0
triggerall = P2movetype!=H && p2stateno!=[200,699]
triggerall = fvar(34)>-1 || p2bodydist x>80 || fvar(35)=[-2.5,2.5]
triggerall = fvar(34)>8 || p2bodydist x>100 || fvar(35)=[-2.5,2.5]
triggerall = !playerid(var(56)),ctrl && playerid(var(56)),stateno>=200
triggerall = (playerid(var(56)),gethitvar(chainid)!=[1150,9999])
triggerall = fvar(35)>=0 || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50))
triggerall = playerid(var(56)),statetype = A
triggerall = (var(54)&127)>=ifelse(life>=666,50,75) || power>=3000 || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50))
trigger1 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = (helper(50000+id),var(40))>0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger1 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-25,-2]
trigger1 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 225
trigger1 = var(5):=1 || 1
trigger2 = ((stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0))&&movecontact
trigger2 = (helper(50000+id),var(40))>0
trigger2 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) < -40 || helper(50000+id),var(32)=0
trigger2 = p2dist y+floor((helper(50000+id),var(40))*(fvar(34))+((helper(50000+id),var(40))*((helper(50000+id),var(40))+1.0)/2)*fvar(38)) = [-25,-2]
trigger2 = p2bodydist x +(fvar(35)*(helper(50000+id),var(40))) < 225
trigger2 = var(5):=1 || 1

;パンチャーウィービング
[State -1, a]
type = ChangeState
value = 1100
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = fvar(39)!=210.3
triggerall = numhelper(60000+id)
triggerall = helper(60000+id),var(6)=0
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = helper(50000+id),var(59)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H || p2stateno=[120,155] ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,HA && p2statetype=A
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0 && p2stateno!=[101,108]
triggerall = !((playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50)))
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>333 || fvar(39)=700
triggerall = ((var(54)&127)=[ifelse(life>=400,25,50),75]) || movetype=A
triggerall = random<var(59)*var(59)*18
trigger1 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger1 = P2BodyDist X+floor(22*(fvar(35))) = [0-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger1 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-95,-1]
trigger1 = var(5):=0 || 1
trigger1 = fvar(39):=1150.1
trigger2 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger2 = P2BodyDist X+floor(22*(fvar(35))) = [0-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger2 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-95,-1]
trigger2 = var(5):=0 || 1
trigger2 = fvar(39):=1150.1


;フォビドゥン　イーグル
[State -1, 対空]
type = ChangeState
value = 1400
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = fvar(39)!=210.3
triggerall = life>0 && playerid(var(56)),life>0
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = numhelper(60000+id)
triggerall = helper(60000+id),var(6)=0
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = helper(50000+id),var(59)=0 && (life>200 || p2life<25 || ((lifemax+.0)/(life+.0))*1.1<=((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)))
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H || p2stateno=[120,155] ;&& abs (fvar(34))<5
triggerall = !playerid(var(56)),hitdefattr = SCA,HA && p2statetype=A
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0 && p2stateno!=[101,108]
triggerall = !((playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50)))
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (var(54)&127)>=ifelse(life>=400,50,75) || movetype=A
triggerall = random<var(59)*var(59)*16
trigger1 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger1 = P2BodyDist X+floor(22*(fvar(35))) = [5-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger1 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-160,-40]
trigger1 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) <= -95 || life>500
trigger1 = var(5):=0 || 1
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = P2BodyDist X+floor(22*(fvar(35))) = [5-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger2 = p2dist y>-30 ;&& abs(fvar(34))<=1 && fvar(35)>=2
trigger2 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-160,-40]
trigger2 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) <= -95 || life>500
trigger2 = var(5):=0 || 1
trigger3 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger3 = P2BodyDist X+floor(22*(fvar(35))) = [5-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger3 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger3 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-160,-40]
trigger3 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) <= -95 || life>500
trigger3 = var(5):=0 || 1
trigger4 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger4 = P2BodyDist X+floor(22*(fvar(35))) = [5-(256*(BackEdgeBodyDist<1)),ifelse(fvar(35)>=0,35,45)]
trigger4 = p2dist y>-30 ;&& abs(fvar(34))<=1 && fvar(35)>=2
trigger4 = P2BodyDist Y+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38))<0
trigger4 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) = [-160,-40]
trigger4 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(22*(fvar(34))+(22*(22+1)/2)*fvar(38)) <= -95 || life>500
trigger4 = var(5):=0 || 1
trigger5 = random<var(59)*var(59)*16
trigger5 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger5 = P2BodyDist X+floor(9*(fvar(35))) = [25,ifelse(fvar(35)>=0,45,55)]
trigger5 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger5 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-60,-20]
trigger5 = var(5):=0 || 1
trigger6 = random<var(59)*var(59)*16
trigger6 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger6 = P2BodyDist X+floor(9*(fvar(35))) = [25,ifelse(fvar(35)>=0,45,55)]
trigger6 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger6 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger6 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-60,-20]
trigger6 = var(5):=0 || 1
trigger7 = random<var(59)*var(59)*16
trigger7 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger7 = P2BodyDist X+floor(9*(fvar(35))) = [25,ifelse(fvar(35)>=0,45,55)]
trigger7 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger7 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-60,-20]
trigger7 = var(5):=0 || 1
trigger8 = random<var(59)*var(59)*16
trigger8 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger8 = P2BodyDist X+floor(9*(fvar(35))) = [25,ifelse(fvar(35)>=0,45,55)]
trigger8 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger8 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger8 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-60,-20]
trigger8 = var(5):=0 || 1
trigger9 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger9 = P2BodyDist X <= 55 && p2statetype = A
trigger9 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<=70)
trigger9 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger9 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-80,-20]
trigger9 = var(5):=0 || 1
trigger10 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger10 = P2BodyDist X <= 55 && p2statetype = A
trigger10 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<=70)
trigger10 = p2dist y>-30 && abs(fvar(34))<=1 && fvar(35)>=2
trigger10 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38))<0
trigger10 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = [-80,-20]
trigger10 = var(5):=0 || 1
trigger11 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger11 = P2BodyDist X+floor(24*(fvar(35))) = [5,ifelse(fvar(35)>=0,35,45)]
trigger11 = P2BodyDist Y+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38))<0
trigger11 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38)) = [-160,-30]
trigger11 = var(5):=0 || 1
trigger12 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger12 = P2BodyDist X+floor(24*(fvar(35))) = [5,ifelse(fvar(35)>=0,35,45)]
trigger12 = p2dist y>-30 ;&& abs(fvar(34))<=1 && fvar(35)>=2
trigger12 = P2BodyDist Y+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38))<0
trigger12 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38)) = [-160,-30]
trigger12 = var(5):=0 || 1
trigger13 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger13 = P2BodyDist X+floor(24*(fvar(35))) = [5,ifelse(fvar(35)>=0,35,45)]
trigger13 = P2BodyDist Y+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38))<0
trigger13 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38)) = [-160,-30]
trigger13 = var(5):=0 || 1
trigger14 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger14 = P2BodyDist X+floor(24*(fvar(35))) = [5,ifelse(fvar(35)>=0,35,45)]
trigger14 = p2dist y>-30 ;&& abs(fvar(34))<=1 && fvar(35)>=2
trigger14 = P2BodyDist Y+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38))<0
trigger14 = P2BodyDist Y+(playerid(var(56)),const(size.mid.pos.y)*.5)+floor(24*(fvar(34))+(24*(24+1)/2)*fvar(38)) = [-160,-30]
trigger14 = var(5):=0 || 1

;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5100,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = helper(50000+id),var(59)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H || (p2stateno = [120,155]) || p2stateno=[5000,5050]
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-6,6]) || life>666 || (p2stateno = [120,155]) || p2stateno=[5000,5050]
Triggerall = !inguarddist || life>333
triggerall = playerid(var(56)),gethitvar(chainid)!=[1150,9999]
triggerall = helper(50000+id),var(55)>=32
triggerall = ((var(54)&122880)/8192)<=8 || P2movetype!=H || (p2stateno = [120,155])
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
;triggerall = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) < 0 || (p2stateno = [120,155])
trigger1 = (var(54)&127)<=ifelse(life>=500,50,20) || movetype=A
trigger1 = random<var(59)*var(59)*16
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist X+floor(18*(fvar(35))) = [80,110]
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-80,-5]
trigger1 = var(5):=0 || 1
;trigger2 = statetype != C || !movecontact
Trigger2 = P2statetype = A
trigger2 = (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290) || (stateno = 250 && movecontact && animelem = 8,<=0 && var(5) = 1) || (stateno = 1150 && movecontact && animelem = 5,<=0)
trigger2 = P2BodyDist X+floor(18*(fvar(35))) = [ifelse((p2stateno=[5000,5050]),80,60),ifelse((p2stateno=[120,155]),140,120)]
trigger2 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38))<0 && fvar(37)>=18-(8*(life>500))
trigger2 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-90,10]
trigger2 = (var(5):=0 && fvar(39):=0) || 1
;trigger3 = statetype != C || !movecontact
Trigger3 = P2statetype = A
trigger3 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact) || (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger3 = P2BodyDist X+floor(18*(fvar(35))) = [ifelse((p2stateno=[5000,5050]),80,60),ifelse((p2stateno=[120,155]),140,120)]
trigger3 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38))<10 && fvar(37)>=18-(8*(life>500))
trigger3 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-90,10]
trigger3 = (var(5):=0 && fvar(39):=0) || 1

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (var(54)&127)=[35,65]
triggerall = random<var(59)*var(59)*14
triggerall = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist X+floor(12*(fvar(35))) = [-20,35]
trigger1 = P2BodyDist Y+floor(12*(fvar(34))+(12*(12+1)/2)*fvar(38))<0 && fvar(34)>=0
trigger1 = P2BodyDist Y+floor(12*(fvar(34))+(12*(12+1)/2)*fvar(38)) = [-70,-30]
trigger1 = var(5):=0 || 1
trigger1 = fvar(39):=410.3 || 1
trigger2 = P2BodyDist X+floor(13*(fvar(35))) = [-20,35]
trigger2 = P2BodyDist Y+floor(13*(fvar(34))+(13*(13+1)/2)*fvar(38))<0 && fvar(34)>=0
trigger2 = P2BodyDist Y+floor(13*(fvar(34))+(13*(13+1)/2)*fvar(38)) = [-70,-30]
trigger2 = var(5):=0 || 1
trigger2 = fvar(39):=410.3 || 1
trigger3 = P2BodyDist X+floor(14*(fvar(35))) = [-20,35]
trigger3 = P2BodyDist Y+floor(14*(fvar(34))+(14*(14+1)/2)*fvar(38))<0 && fvar(34)>=0
trigger3 = P2BodyDist Y+floor(14*(fvar(34))+(14*(14+1)/2)*fvar(38)) = [-70,-30]
trigger3 = var(5):=0 || 1
trigger3 = fvar(39):=410.3 || 1

;パンチャービジョン(後方)
[State -1, a]
type = ChangeState
value = 1302
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H || p2stateno=[120,155]
triggerall = !playerid(var(56)),hitdefattr = SCA,HA && p2statetype=A
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = (var(54)&127)<=ifelse(life<333,5,ifelse(life>=666,40,20))
triggerall = random<var(59)*var(59)*12
;強ビジョン〜パンチャーストレート
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger1 = (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>100)
trigger1 = P2BodyDist X+floor(30*(fvar(35))) = [30,120]
trigger1 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-25,-5]
trigger1 = fvar(39):=1361.3
trigger1 = var(5):=0 || 1

;ふっ飛ばし攻撃
[State -1, 290]
type = ChangeState
value = 290
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H
triggerall = !((playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50)))
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (var(54)&127)<=ifelse(life>=333,50,20)
triggerall = random<var(59)*var(59)*16
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist X+floor(18*(fvar(35))) = [25,50]
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-75,-35]
trigger1 = var(5):=0 || 1

;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = P2dist X >50
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = numhelper(60000+id)
triggerall = (helper(60000+id),var(6)=0)
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H
triggerall = !playerid(var(56)),hitdefattr = SCA,SA,HA && playerid(var(56)),stateno<=1000
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = random<var(59)*var(59)*20
triggerall = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = helper(50000+id),var(55)>=26
trigger1 = P2BodyDist X+floor(6*(fvar(35))) = [-5,45]
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38))<0
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) = [-60,-25]
trigger1 = fvar(39):=210.3 || 1
trigger2 = helper(50000+id),var(55)>=21
trigger2 = P2BodyDist X+floor(11*(fvar(35))) = [15,70]
trigger2 = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38))<0
trigger2 = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38)) = [-65,-30]
trigger2 = fvar(39):=210.3 || 1

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (fvar(39)=210.3)
trigger1 = movetype = H || prevstateno = 210 ;|| ctrl || stateno = [10,21]
trigger2 = (fvar(39)=800.5)
trigger2 = movetype = H || stateno = 1302 || p2statetype = A
trigger3 = (fvar(39)=410.3)
trigger3 = movetype = H || prevstateno = 410 ;|| ctrl || stateno = [10,21]
trigger4 = (fvar(39)=1361.3)
trigger4 = movetype = H || prevstateno = 1361
trigger5 = (fvar(39)=1150.1)
trigger5 = movetype = H || prevstateno = 1150 || ctrl
fvar(39) = 0

;スライディングパンチャー
[State -1, a]
type = ChangeState
value = 450
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210 && playerid(var(56)),time<=9)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H
triggerall = !playerid(var(56)),ctrl && playerid(var(56)),stateno>=200
triggerall = !playerid(var(56)),hitdefattr = SCA,HA
triggerall = (fvar(35)=[-6,6]) || life>666
Triggerall = !inguarddist || life>333
triggerall = helper(60000+id),var(47)=0 && fvar(34)>0
triggerall = !playerid(var(56)),hitdefattr = SCA,SA || life>400 || fvar(39)=700
triggerall = (var(54)&127)<=ifelse(life>=333,50,20) || movetype=A
triggerall = random<var(59)*var(59)*16
triggerall = (var(54)&127)=[ifelse(life>=500,25,50),80]
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100)
trigger1 = P2BodyDist X+floor(14*(fvar(35))) = [45,100]
trigger1 = P2BodyDist Y+floor(14*(fvar(34))+(14*(14+1)/2)*fvar(38)) = [-5,15]
trigger1 = var(5):=0 || 1

;パンチャービジョン(前方)
[State -1, a]
type = ChangeState
value = 1300
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210)
triggerall = helper(50000+id),var(58)=0
triggerall = ((var(54)&8064)/128)>=var(55)|| var(59)>6
triggerall = P2movetype!=H
triggerall = numhelper(60000+id)
triggerall = (helper(60000+id),var(6)=0)
triggerall = fvar(35)>=0 || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50))
;triggerall = !playerid(var(56)),ctrl && playerid(var(56)),stateno>=200
triggerall = playerid(var(56)),facing = facing || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50)) || life>400
triggerall = (var(54)&127)<=ifelse(life>=666,50,30)
triggerall = random<var(59)*var(59)*12
;強ビジョン〜パンチャーアッパー
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger1 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger1 = P2BodyDist X = [220,256]
trigger1 = P2BodyDist Y+floor(32*(fvar(34))+(32*(32+1)/2)*fvar(38)) = [-15,-5]
trigger1 = fvar(39):=1350.3
trigger1 = var(5):=1 || 1
trigger2 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger2 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger2 = floor(32*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)
trigger2 = P2BodyDist X+floor(32*(fvar(35))) = [220,256]
trigger2 = P2BodyDist Y+floor(32*(fvar(34))+(32*(32+1)/2)*fvar(38)) = [-15,-5]
trigger2 = fvar(39):=1350.3
trigger2 = var(5):=1 || 1
trigger3 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger3 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger3 = !(floor(32*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30))
trigger3 = P2BodyDist X+(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)-floor(32*(fvar(35))) = [220,256]
trigger3 = P2BodyDist Y+floor(32*(fvar(34))+(32*(32+1)/2)*fvar(38)) = [-15,-5]
trigger3 = fvar(39):=1350.3
trigger3 = var(5):=1 || 1
;弱ビジョン〜パンチャーアッパー
trigger4 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger4 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger4 = P2BodyDist X = [130,160]
trigger4 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(38)) = [-15,-5]
trigger4 = fvar(39):=1350.3
trigger4 = var(5):=0 || 1
trigger5 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger5 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger5 = floor(25*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)
trigger5 = P2BodyDist X+floor(25*(fvar(35))) = [130,160]
trigger5 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(38)) = [-15,-5]
trigger5 = fvar(39):=1350.3
trigger5 = var(5):=0 || 1
trigger6 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger6 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger6 = !(floor(25*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30))
trigger6 = P2BodyDist X+(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)-floor(25*(fvar(35))) = [130,160]
trigger6 = P2BodyDist Y+floor(25*(fvar(34))+(25*(25+1)/2)*fvar(38)) = [-15,-5]
trigger6 = fvar(39):=1350.3
trigger6 = var(5):=0 || 1

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (fvar(39)=1350.3) || fvar(39)=1350.4
trigger1 = movetype!=A || stateno = 1350
fvar(39) = 0


[State -1,]
type = ChangeState
value = 1200
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
TriggerAll = P2statetype != L && prevstateno!=5120
triggerall = statetype != A && p2stateno != [5000,5210)
triggerall = numhelper
triggerall = numhelper(50000+id) && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && numhelper(60000+id)
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = p2stateno!=[90,119]
triggerall = numhelper(60000+id)
triggerall = (helper(60000+id),var(6)=0)
triggerall = p2stateno != 5201 && p2stateno != 5120 && !(p2stateno = 5210)
triggerall = helper(50000+id),var(58)=0
triggerall = P2movetype!=H ;&& fvar(34)>6
triggerall = (playerid(var(56)),gethitvar(chainid)!=[1150,9999]) || playerid(var(56)),stateno<=155
triggerall = helper(50000+id),var(55)>=32
triggerall = (var(54)&127)<=ifelse(life>=333,60,30)
triggerall = fvar(35)>=0 || (playerid(var(56)),stateno=helper(50000+id),var(49)) || (playerid(var(56)),stateno=helper(50000+id),var(50))
;弱ダッシュパンチャー
trigger1 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger1 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger1 = P2BodyDist X = [95,125]
trigger1 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger1 = var(5):=0 || 1
trigger2 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger2 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger2 = floor(18*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)
trigger2 = P2BodyDist X+floor(18*(fvar(35))) = [75,115]
trigger2 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger2 = var(5):=0 || 1
trigger3 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger3 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger3 = !(floor(18*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30))
trigger3 = P2BodyDist X+(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)-floor(18*(fvar(35))) = [95,125]
trigger3 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger3 = var(5):=0 || 1
trigger4 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger4 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger4 = P2BodyDist X = [95,125]
trigger4 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger4 = var(5):=0 || 1
trigger5 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger5 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger5 = P2BodyDist X = [95,125]
trigger5 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger5 = var(5):=0 || 1
trigger6 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger6 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger6 = P2BodyDist X = [95,125]
trigger6 = P2BodyDist Y+floor(18*(fvar(34))+(18*(18+1)/2)*fvar(38)) = [-30,-5]
trigger6 = var(5):=0 || 1
;強ダッシュパンチャー
trigger7 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger7 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger7 = P2BodyDist X = [170,200]
trigger7 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger7 = var(5):=1 || 1
trigger8 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger8 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger8 = floor(30*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)
trigger8 = P2BodyDist X+floor(30*(fvar(35))) = [150,190]
trigger8 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger8 = var(5):=1 || 1
trigger9 = (ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12]) || stateno = 100) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
trigger9 = !(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger9 = !(floor(30*(fvar(35)))<=(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30))
trigger9 = P2BodyDist X+(ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))-30)-floor(30*(fvar(35))) = [170,200]
trigger9 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger9 = var(5):=1 || 1
trigger10 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger10 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger10 = P2BodyDist X = [170,200]
trigger10 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger10 = var(5):=1 || 1
trigger11 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger11 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger11 = P2BodyDist X = [170,200]
trigger11 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger11 = var(5):=1 || 1
trigger12 = ((stateno = 215 || stateno = 230 || stateno = 235 || stateno = 245 || stateno = 400 || stateno = 430 || (stateno = [1350,1351])) && movecontact)
trigger12 = (ifelse(facing=-1,helper(60000+id),fvar(37),helper(60000+id),fvar(38))<300)
trigger12 = P2BodyDist X = [170,200]
trigger12 = P2BodyDist Y+floor(30*(fvar(34))+(30*(30+1)/2)*fvar(38)) = [-30,-5]
trigger12 = var(5):=1 || 1


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = ifelse(P2bodydist X <=50&&var(59)=4,2100,2000)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = power >= 1000
triggerall = RoundState = 2
triggerall = statetype!=A
TriggerAll = P2statetype != L && p2stateno != [5000,5210)
triggerall = p2movetype != H
triggerall = fvar(39)=0
triggerall = P2dist x >0
triggerall = ctrl || (stateno = [120,149])||stateno=21 || (stateno = [10,12])
trigger1 = var(58)<=4
trigger1 = random<(5-var(59))*5
trigger1 = P2BodyDist X+floor(8*(fvar(35))) <= 180
trigger1 = P2BodyDist X <= 180
trigger1 = P2BodyDist Y >= 0
trigger1 = var(5):=1

[State -3, Throw punches]
type = ChangeState
value = 800
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=9)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))||fvar(39)=700
triggerall = helper(50000+id),var(58)=0
triggerall = helper(50000+id),var(59)!=2 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = (var(54)&262144)=0
triggerall = p2movetype != H
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100||(stateno=[10,12]))
triggerall = P2BodyDist Y=0 && P2BodyDist X<=11
trigger1 = var(59)>=5
trigger1 = stateno = 100 || anim = 20 || (playerid(var(56)),stateno=52&&playerid(var(56)),facing=facing) || stateno = 52
trigger2 = (var(54)&127)<=var(59)*var(59)

;遠距離弱パンチ
[State -1, Stand Light Kick]
type = ChangeState
value = ifelse(random%2=0,400,200)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 && helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && p2statetype != A
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = random<var(59)*40
triggerall = P2dist X >50
triggerall = stateno!=100
triggerall = var(59)<5
trigger1 = (P2BodyDist X+floor(6*(fvar(35))) = [23,48]) ;|| (stateno=100 && P2BodyDist X+floor(9*(fvar(35))) <=50)
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) >= -20
trigger1 = (var(54)&127)<=var(59)*5

;遠距離弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = ifelse(random%2=0,430,230)
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 && helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && p2statetype != A
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = random<var(59)*40
triggerall = P2dist X >50
triggerall = stateno!=100
triggerall = var(59)<6
trigger1 = (P2BodyDist X+floor(6*(fvar(35))) = [34,52]) ;|| (stateno=100 && P2BodyDist X+floor(9*(fvar(35))) <=50)
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) >= -20
trigger1 = (var(54)&127)<=var(59)*3

;スライディングパンチャー
[State -1, a]
type = ChangeState
value = 450
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 ;&& helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (stateno = [10,12])
triggerall = random<var(59)*35
triggerall = stateno!=100
triggerall = life>var(59)*90
trigger1 = p2bodydist x = [100,120]
trigger1 = (P2BodyDist X+floor(8*(fvar(35))) = [100,120])
trigger1 = P2BodyDist Y+floor(8*(fvar(34))+(8*(8+1)/2)*fvar(38)) >= 0
trigger1 = (var(54)&127)=[71,80-var(59)]

;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 ;&& helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = random<var(59)*70 || stateno = 100
triggerall = stateno!=100 || (var(54)&127)%6<=1
trigger1 = (P2BodyDist X+floor(6*(fvar(35))) = [-5,33]) || (stateno=100 && P2BodyDist X+floor(6*(fvar(35))) <=33)
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) >= 0
trigger1 = (var(54)&127)<=75 || stateno = 100
trigger2 = (P2BodyDist X+floor(6*(fvar(35))) = [33,50]) || (stateno=100 && P2BodyDist X+floor(6*(fvar(35))) <=50)
trigger2 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) >= 0
trigger2 = (var(54)&127)=[15,30]

;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 && helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && p2statetype != A
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = random<var(59)*40
triggerall = stateno!=100 || (var(54)&127)%6=3
trigger1 = (P2BodyDist X+floor(9*(fvar(35))) = [20,60]) ;|| (stateno=100 && P2BodyDist X+floor(9*(fvar(35))) <=60)
trigger1 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) >= -20
trigger1 = (var(54)&127)<=50 || stateno = 100
trigger2 = (P2BodyDist X+floor(9*(fvar(35))) = [60,180])
trigger2 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = 0
trigger2 = (var(54)&127)<=25 && stateno!=100
trigger3 = (P2BodyDist X+floor(9*(fvar(35))) >= 180)
trigger3 = P2BodyDist Y+floor(9*(fvar(34))+(9*(9+1)/2)*fvar(38)) = 0
trigger3 = (var(54)&127)<=10 && stateno!=100

;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = P2dist X >50
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 && helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0 && p2statetype != A
Triggerall = !inguarddist || life>250
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || stateno = [10,12]
triggerall = random<var(59)*30
triggerall = stateno!=100 || (var(54)&127)%6=4
trigger1 = (P2BodyDist X+floor(6*(fvar(35))) = [0,45]) || (stateno=100 && P2BodyDist X+floor(6*(fvar(35))) <=45)
trigger1 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) >= -20
trigger1 = (var(54)&127)>60 || stateno = 100
trigger2 = (P2BodyDist X+floor(6*(fvar(35))) = [45,140])
trigger2 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) = 0
trigger2 = (var(54)&127)>70 && stateno!=100
trigger3 = (P2BodyDist X+floor(6*(fvar(35))) >= 140)
trigger3 = P2BodyDist Y+floor(6*(fvar(34))+(6*(6+1)/2)*fvar(38)) = 0
trigger3 = (var(54)&127)>85 && stateno!=100
trigger4 = (P2BodyDist X+floor(11*(fvar(35))) = [0,70]) || (stateno=100 && P2BodyDist X+floor(6*(fvar(35))) <=70)
trigger4 = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38)) >= -20
trigger4 = (var(54)&127)<30 && stateno!=100
trigger4 = fvar(39):=210.3 || 1
trigger5 = (P2BodyDist X+floor(11*(fvar(35))) = [70,180])
trigger5 = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38)) = 0
trigger5 = (var(54)&127)<20 && stateno!=100
trigger5 = fvar(39):=210.3 || 1
trigger6 = (P2BodyDist X+floor(11*(fvar(35))) >= 180)
trigger6 = P2BodyDist Y+floor(11*(fvar(34))+(11*(11+1)/2)*fvar(38)) = 0
trigger6 = (var(54)&127)<10 && stateno!=100
trigger6 = fvar(39):=210.3 || 1

;ダッシュパンチャー
[State -1, a]
type = ChangeState
value = 1200
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && p2statetype != L && p2stateno != [5000,5210)
TriggerAll = playerid(var(56)),statetype != L && prevstateno!=5120
triggerall = statetype != A && playerid(var(56)),stateno != [5000,5210)
triggerall = playerid(var(56)),stateno != 5201 && playerid(var(56)),stateno != 5120 && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12) && !(playerid(var(56)),stateno = 5210 && playerid(var(56)),time<=12)
triggerall = numhelper(50000+id) && numhelper(60000+id)
triggerall = playerid(var(56)),movetype != H || (stateno = 21 && time>=600 && playerid(var(56)),movetype = H)
triggerall = fvar(39)=0||fvar(39)=700||fvar(39)=10
triggerall = playerid(var(56)),movetype!=A||(playerid(var(56)),movetype=A&&playerid(var(56)),time<var(55))
triggerall = helper(50000+id),var(58)=0 ;&& helper(60000+id),var(6)=0
triggerall = helper(50000+id),var(59)=0 && helper(50000+id),fvar(33)=0
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
Triggerall = !inguarddist || life>250
triggerall = playerid(var(56)),gethitvar(chainid)!=[1150,9999]
triggerall = helper(50000+id),var(55)>=32
triggerall = helper(60000+id),var(47)=0 && helper(60000+id),var(1)>=-1000
triggerall = (ctrl || (stateno = [120,149])||stateno=21||stateno=100) || (stateno = [10,12]) || (stateno = 200 || stateno = 205 || stateno = 210 || stateno = 410 || stateno = 440 || stateno = 290)
triggerall = random<var(59)*70
triggerall = stateno!=100
triggerall = life>var(59)*80
trigger1 = p2bodydist x = [80,125]
trigger1 = (P2BodyDist X+floor(8*(fvar(35))) = [90,120])
trigger1 = P2BodyDist Y+floor(8*(fvar(34))+(8*(8+1)/2)*fvar(38)) >= 0
trigger1 = (var(54)&127)=[91,100-var(59)]
trigger1 = var(5):=0 || 1
trigger2 = p2bodydist x = [180,200]
trigger2 = (P2BodyDist X+floor(8*(fvar(35))) = [180,200])
trigger2 = P2BodyDist Y+floor(8*(fvar(34))+(8*(8+1)/2)*fvar(38)) >= 0
trigger2 = (var(54)&127)=[91,100-var(59)]
trigger2 = var(5):=1 || 1

;パンチャーウィービング
[State -1, 空キャン]
type = ChangeState
value = 1300
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive ;&& (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
triggerall = RoundState = 2 && animtime<-8
triggerall = !movecontact || fvar(37)<18
triggerall = ceil(facing*(playerid(var(56)),Pos X-Pos X))<-10 && p2movetype!=H
TriggerAll = playerid(var(56)),facing=facing
trigger1 = stateno = 440 && time>10
trigger1 = fvar(39)!=5120.1 || time>12
trigger1 = (fvar(39):=800.5 && var(5):=0) || 1
trigger2 = stateno = 210 && time>6 && (time>12 || ((var(54)&127)=[1,25]) || ((var(54)&127)=[76,100]))
trigger2 = fvar(39)!=210.3 || time>13
trigger2 = !movecontact || time>13 || p2statetype != A
trigger2 = var(5):=0 || 1
trigger3 = stateno = 410 && time>7 && (time>15 || ((var(54)&127)%10<7) || p2statetype=C)
trigger3 = fvar(39)!=410.3 || time>16
trigger3 = var(5):=0 || 1
trigger4 = stateno = 290
trigger4 = time>23
trigger4 = var(5):=0 || 1

;パンチャーウィービング
[State -1, 空キャン]
type = ChangeState
value = ifelse(p2movetype!=A&&random%4<=ifelse(p2bodydist x>140,1,0)&&life>333&&(p2bodydist x>80||p2dist y<-60),1300,1302)
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive && (ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>60)
triggerall = RoundState = 2 && animtime<-16
triggerall = !movecontact || fvar(37)<18 || p2bodydist x<35
triggerall = (var(54)&127)%3<=ifelse(fvar(35)<=-3,1,0) || (!movecontact && p2bodydist x<60 && life<333 && (var(54)&127)%4<=2) || p2movetype=A
triggerall = (var(54)&127)=[1,ifelse(var(59)=3,50,ifelse(var(59)=4,70,ifelse(var(59)=5,90,100)))]
triggerall = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
trigger1 = stateno = 440 && time>10
trigger1 = fvar(39)!=5120.1 || time>12
trigger1 = (fvar(39):=800.5 && var(5):=0) || 1
trigger2 = stateno = 210 && time>6 && (time>12 || ((var(54)&127)=[1,25]) || ((var(54)&127)=[76,100]))
trigger2 = fvar(39)!=210.3 || time>13
trigger2 = !movecontact || time>13 || p2statetype != A
trigger2 = var(5):=0 || 1
trigger3 = stateno = 410 && time>7 && (time>15 || ((var(54)&127)%10<7) || p2statetype=C)
trigger3 = fvar(39)!=410.3 || time>16
trigger3 = var(5):=0 || 1
trigger4 = stateno = 290
trigger4 = time>23
trigger4 = var(5):=0 || 1

;パンチャーウィービング
[State -1, 空キャン]
type = ChangeState
value = 1100
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2 && animtime<-14
triggerall = !movecontact || fvar(37)<18
triggerall = (var(54)&127)=[1,ifelse(var(59)=3,50,ifelse(var(59)=4,70,ifelse(var(59)=5,90,100)))]
triggerall = !(P2life<((Const(data.attack)+.0)/(playerid(var(56)),Const(data.defence)+.0)*ifelse(power>=3000,350.0,200.0)) && (p2dist y = [-30,5]) && p2bodydist x <=50 && var(59)=7) || power<1000
trigger1 = stateno = 440 && time>10
trigger1 = fvar(39)!=5120.1 || time>12
trigger1 = var(5):=0 || 1
trigger2 = stateno = 210 && time>6 && (time>12 || ((var(54)&127)=[1,25]) || ((var(54)&127)=[76,100]))
trigger2 = fvar(39)!=210.3 || time>13
trigger2 = !movecontact || time>13 || p2statetype != A
trigger2 = var(5):=0 || 1
trigger3 = stateno = 410 && time>7 && (time>15 || ((var(54)&127)%10<7) || p2statetype=C)
trigger3 = fvar(39)!=410.3 || time>16
trigger3 = var(5):=0 || 1
trigger4 = stateno = 290
trigger4 = time>23
trigger4 = var(5):=0 || 1

;パンチャーウィービング
[State -1,]
type = ChangeState
value = 1302
triggerall = var(59)>3
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = RoundState = 2
trigger1 = stateno = 290 && movehit && power<2000

;------------------------------ 空中立ち回り技振り ------------------------------------------
;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = stateno != 106
triggerall = playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = statetype = A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
;triggerall = p2movetype != A || (p2movetype= A && playerid(var(56)),time < var(55)) || p2stateno>=1000 || !(playerid(var(56)),hitdefattr=SCA,AA,AT,AP) || fvar(39)=700 || (p2movetype= A && playerid(var(56)),animtime < -9)
;trigger1 = P2BodyDist X-floor(6*(vel x-fvar(35))) = [-35,35]
;trigger1 = (P2BodyDist Y-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,65+(((var(54)&127)%(8-var(59)))*10)])
;trigger2 = P2BodyDist X-floor(7*(vel x-fvar(35))) = [-30,30]
;trigger2 = (P2BodyDist Y-floor(7*(vel Y)+(7*(7+1)/2)*const(movement.yaccel))=[0,55+(((var(54)&127)%(8-var(59)))*10)])
;trigger3 = P2BodyDist X-floor(8*(vel x-fvar(35))) = [-25,25]
;trigger3 = (P2BodyDist Y-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,45+(((var(54)&127)%(8-var(59)))*10)])
;trigger4 = P2BodyDist X-floor(9*(vel x-fvar(35))) = [-25,25]
;trigger4 = (P2BodyDist Y-floor(9*(vel Y)+(9*(9+1)/2)*const(movement.yaccel))=[0,35+(((var(54)&127)%(8-var(59)))*10)])
;triggerall = p2dist y>=0
trigger1 = vel y >=0 && p2dist y>-10
trigger1 = P2BodyDist X-floor(6*(vel x-fvar(35))) = [-85,85]
trigger1 = ((Pos Y*-1)-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,65-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger2 = vel y >=0 && p2dist y>-10
trigger2 = P2BodyDist X-floor(7*(vel x-fvar(35))) = [-80,80]
trigger2 = ((Pos Y*-1)-floor(7*(vel Y)+(7*(7+1)/2)*const(movement.yaccel))=[0,55-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger3 = vel y >=0 && p2dist y>-10
trigger3 = P2BodyDist X-floor(8*(vel x-fvar(35))) = [-75,75]
trigger3 = ((Pos Y*-1)-floor(8*(vel Y)+(8*(8+1)/2)*const(movement.yaccel))=[0,45-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger4 = vel y >=0 && p2dist y>-10
trigger4 = P2BodyDist X-floor(9*(vel x-fvar(35))) = [-75,70]
trigger4 = ((Pos Y*-1)-floor(9*(vel Y)+(9*(9+1)/2)*const(movement.yaccel))=[0,35-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])

trigger5 = P2Dist X-floor(6*(vel x-fvar(35))) = [-20-playerid(var(56)),const(size.ground.back),0]
;trigger5 = ((Pos Y*-1)-floor(6*(vel Y)+(6*(6+1)/2)*const(movement.yaccel))=[0,65-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger5 = p2dist y <60 && playerid(var(56)),statetype = S
trigger5 = (playerid(var(56)),const(size.mid.pos.y)<=-45||playerid(var(56)),const(size.head.pos.y)<=-75)

;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = stateno != 106
triggerall = playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = statetype = A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
triggerall = vel y >=0 && p2dist y>-10
trigger1 = P2BodyDist X-floor(10*(vel x-fvar(35))) = [5,70-((vel x=0)*15)]
trigger1 = ((Pos Y*-1)-floor(10*(vel Y)+(10*(10+1)/2)*const(movement.yaccel))=[0,65-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger2 = P2BodyDist X-floor(11*(vel x-fvar(35))) = [5,65-((vel x=0)*15)]
trigger2 = ((Pos Y*-1)-floor(11*(vel Y)+(11*(11+1)/2)*const(movement.yaccel))=[0,60-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger3 = P2BodyDist X-floor(12*(vel x-fvar(35))) = [5,60-((vel x=0)*15)]
trigger3 = ((Pos Y*-1)-floor(12*(vel Y)+(12*(12+1)/2)*const(movement.yaccel))=[0,50-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger4 = P2BodyDist X-floor(13*(vel x-fvar(35))) = [5,55-((vel x=0)*15)]
trigger4 = ((Pos Y*-1)-floor(13*(vel Y)+(13*(13+1)/2)*const(movement.yaccel))=[0,40-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])

;空中ふっ飛ばし攻撃
[State -1, Jump Strong Kick]
type = ChangeState
value = 690
triggerall = var(59)>0
triggerall = !IsHelper && playeridexist(var(56))
triggerall = alive
triggerall = stateno != 106
triggerall = playerid(var(56)),stateno!=[5100,5120]
triggerall = RoundState = 2
TriggerAll = P2statetype != L
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)=0
triggerall = statetype = A && ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0
triggerall = fvar(39)=0 || fvar(39)=700
triggerall = (ctrl || (stateno = [120,140]))
triggerall = (var(54)&127)=[1,15]
triggerall = vel y >=0 && p2dist y>-10 && vel x>0
trigger1 = P2BodyDist X-floor(18*(vel x-fvar(35))) = [0,50]
;trigger1 = ((Pos Y*-1)-floor(18*(vel Y)+(18*(18+1)/2)*const(movement.yaccel))=[0,65-(25*p2statetype=C)+(20*p2stateno=[200,699])+(((var(54)&127)%(8-var(59)))*10)])
trigger1 = ((Pos Y*-1)-floor(18*(vel Y)+(18*(18+1)/2)*const(movement.yaccel))=[0,45+(((var(54)&127)%(8-var(59)))*10)])

;------------------------------- ガードキャンセル -------------------------------------------
;ガードキャンセルふっ飛ばし攻撃
[State -1, 290]
type = ChangeState
value = 291
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = statetype != A
triggerall = stateno != 100
triggerall = power >= 500
triggerall = stateno = 150 || stateno = 151
triggerall = alive
triggerall = !IsHelper
TriggerAll = RoundState=2
triggerall = !numtarget
TriggerAll = playerid(var(56)),Alive && !playerid(var(56)),ctrl
triggerall = p2statetype != L
triggerall = numhelper
triggerall = numhelper(50000+id)
trigger1 = playerid(var(56)),HitPauseTime>=4 || p2statetype = A
trigger1 = helper(50000+id),var(37)>=160-((backedgebodydist<15)*120)
trigger1 = random <= var(59)*helper(50000+id),var(37)*.1*((backedgebodydist<15)*20) || power>1500
trigger1 = (((lifemax+.0)/(life+.0))*2)>((playerid(var(56)),lifemax+.0)/(playerid(var(56)),life+.0)) || (backedgebodydist<15)
trigger1 = p2statetype != L && (p2movetype = A || (p2stateno=[200,699]))
trigger1 = (playerid(var(56)),hitdefattr=SCA,AA,AP,AT || (p2stateno=[200,699]))
trigger1 = (p2bodydist x = [-10,40-((p2statetype=C)*10)+(10*helper(50000+id),var(37)>=160)]) && p2bodydist y = [-75,0]
trigger2 = helper(50000+id),var(28)=5

;ガードキャンセル緊急回避前
[State -1, 700]
type = ChangeState
value = ifelse(p2bodydist x > 90&&(ifelse(facing=-1,helper(60000+id),fvar(38),helper(60000+id),fvar(37))>80),701,700)
triggerall = var(59)>2
triggerall = !IsHelper && playeridexist(var(56))
triggerall = statetype != A
triggerall = stateno != 100
triggerall = power >= 1000
triggerall = stateno = 150 || stateno = 151
triggerall = alive
triggerall = !IsHelper
TriggerAll = RoundState=2
triggerall = !numtarget
TriggerAll = playerid(var(56)),Alive && !playerid(var(56)),ctrl
triggerall = p2statetype != L
triggerall = numhelper
triggerall = numhelper(50000+id)
trigger1 = helper(50000+id),var(28)=6
;------------------------------------ ガード ------------------------------------------------
[state -3,ガード]
Type = ChangeState
Value = 120
TriggerAll = var(59)>2
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
TriggerAll = stateno = 140 || StateNo != [120,155]
TriggerAll = ctrl || (stateno = [120,140])||stateno=21||(stateno=1) || stateno = 100 || stateno = [10,12]
triggerall = numhelper
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(59)!=3
trigger1 = facing = playerid(var(56)),facing || ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
Trigger1 = helper(50000+id),inguarddist || inguarddist
Trigger1 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120||random<var(59)*var(59)
trigger1 = Random<=var(59)*50||var(59)>4
trigger2 = helper(50000+id),inguarddist
trigger2 = helper(50000+id),var(58)>0
trigger2 = helper(50000+id),Pos y=Pos y+999
trigger2 = Random<=var(59)*100||var(59)>4
Trigger3 = (inguarddist) || ((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&var(59)>3&&abs(P2bodydist X)<80) || (p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
Trigger3 = Random<=var(59)*100||var(59)>4
Trigger3 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120||random<var(59)*var(59)
Trigger4 = var(57)>var(55)
ctrl = 0

[State -3]
type = AssertSpecial
trigger1 = var(59) = 1
trigger2 = numhelper(50000+id)
trigger2 = !(helper(50000+id),fvar(36)<helper(50000+id),fvar(38) || helper(50000+id),fvar(37)>=helper(50000+id),fvar(39))
trigger3 = numhelper(50000+id)
trigger3 = helper(50000+id),var(59)=3
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State -3]
type = ChangeState
trigger1 = var(59) >= 1 && time>30
trigger1 = roundstate > 2 && stateno = [120,155]
value = 0

;--------------------------------------------------------------------------------------------
[state -3]
type = ChangeState
value = ifelse(Frontedgebodydist<70,1302,ifelse(p2bodydist x<=80,700,1300))
triggerall = var(59)>4
triggerall = !IsHelper && playeridexist(var(56))
triggerall = !playerid(var(56)),alive
triggerall = alive && statetype != A && Win && fvar(39)!=-100
triggerall = roundstate = [2,3]
trigger1 = (Frontedgebodydist<70 && backedgebodydist>50)
trigger1 = ctrl && time>1 && prevstateno!=2005
trigger1 = (fvar(39):=-100 && var(5):=0) || 1
trigger2 = (Frontedgebodydist>60 && backedgebodydist<40)
trigger2 = ctrl && time>1 && prevstateno!=2005
trigger2 = (fvar(39):=-100 && var(5):=1) || 1

[State -3,]
type = varset
triggerall = !IsHelper
trigger1 = (roundstate=[0,1])
trigger1 = (fvar(39)=-100)
fvar(39) = 0

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 10]
type = ChangeState
triggerall = var(59) >= 2
triggerall = fvar(39) != [1,10)
triggerall = fvar(39) != (-4,-1]
trigger1 = time = 0
value = 0
ctrl = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

;fvar(39)
;-1 = 後中J
;-2 = 垂直中J
;-3 = 前中J
;1  = 後小J
;2  = 垂直小J
;3  = 前小J
;4  = 後普J
;5  = 垂直普J
;6  = 前普J
;7  = 後大J
;8  = 垂直大J
;9  = 前大J

[State 40, 2]
type = VarSet
triggerall = var(59)<=0
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)<=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 2]
type = VarSet
triggerall = var(59)>0
trigger1 = abs(fvar(39))=[3,4)
trigger2 = fvar(39)=[6,7)
trigger3 = fvar(39)=[9,10)
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)>0
trigger1 = abs(fvar(39))=[1,2)
trigger2 = fvar(39)=[4,5)
trigger3 = fvar(39)=[7,8)
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, Hi to Lo]
type = StateTypeSet
Trigger1 = var(59) = [1,5]
trigger1 = statetype = S && time = 0 && ((var(54)&8064)/128)<var(55)
trigger1 = var(59)<=3 || Random%4!=0
statetype = C
physics = C

[State 120,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 120,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120,AI Stop Guarding]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
Triggerall = var(57)<=var(55)
trigger1 = numhelper
trigger1 = numhelper(50000+id)
Trigger1 = !(helper(50000+id),inguarddist)
trigger1 = !inguarddist
trigger1 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger1 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger2 = Roundstate>=3
trigger3 = !numhelper(50000+id)
trigger3 = !inguarddist
trigger3 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger3 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger4 = playerid(var(56)),Facing != facing && ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
trigger5 = var(59)<=4 && random<(5-var(59))*10
value=140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command = "holddown"
value = 131

[State 130,AI Hi to Lo]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
value=131

[State 130, Stop Guarding]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 130,AI Stop Guarding]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
Triggerall = var(57)<=var(55)
trigger1 = numhelper
trigger1 = numhelper(50000+id)
Trigger1 = !(helper(50000+id),inguarddist)
trigger1 = !inguarddist
trigger1 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger1 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger2 = Roundstate>=3
trigger3 = !numhelper(50000+id)
trigger3 = !inguarddist
trigger3 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger3 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger4 = playerid(var(56)),Facing != facing && ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
trigger5 = var(59)<=4 && random<(5-var(59))*10
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command != "holddown"
value = 130

[State 131,AI Lo to Hi]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
value = 130

[State 131, Stop Guarding]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 131,AI Stop Guarding]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
Triggerall = var(57)<=var(55)
trigger1 = numhelper
trigger1 = numhelper(50000+id)
Trigger1 = !(helper(50000+id),inguarddist)
trigger1 = !inguarddist
trigger1 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger1 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger2 = Roundstate>=3
trigger3 = !numhelper(50000+id)
trigger3 = !inguarddist
trigger3 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger3 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger4 = playerid(var(56)),Facing != facing && ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
trigger5 = var(59)<=4 && random<(5-var(59))*10
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
triggerall = var(59)<=0
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[state 132,ガード]
Type = ChangeState
TriggerAll = var(59)>2
triggerall = sysvar(0)
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
triggerall = numhelper
triggerall = numhelper(50000+id)
trigger1 = facing = playerid(var(56)),facing || ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
Trigger1 = helper(50000+id),inguarddist || inguarddist
Trigger1 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
trigger1 = Random<=var(59)*50||var(59)>4
trigger2 = helper(50000+id),inguarddist
trigger2 = helper(50000+id),var(58)>0
trigger2 = helper(50000+id),Pos y=Pos y+999
trigger2 = Random<=var(59)*100||var(59)>4
Trigger3 = (inguarddist) || ((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&var(59)>3&&abs(P2bodydist X)<80) || (p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
Trigger3 = Random<=var(59)*100||var(59)>4
Trigger3 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
triggerall = var(59)<=0
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 132,AI Stop Guarding]
type = ChangeState
Triggerall = var(59) > 0 && playeridexist(var(56))
Triggerall = var(57)<=var(55)
trigger1 = numhelper
trigger1 = numhelper(50000+id)
Trigger1 = !(helper(50000+id),inguarddist)
trigger1 = !inguarddist
trigger1 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger1 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger2 = Roundstate>=3
trigger3 = !numhelper(50000+id)
trigger3 = !inguarddist
trigger3 = !((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&abs(P2bodydist X)<80)
trigger3 = !(p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
trigger4 = playerid(var(56)),Facing != facing && ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
trigger5 = var(59)<=4 && random<(5-var(59))*10
value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 140,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 140,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
triggerall = var(59)<=0
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, 2]
type = ChangeState
Trigger1 = var(59) > 0 && playeridexist(var(56))
trigger1 = HitShakeOver
trigger1 = numhelper(50000+id)
value = 151 + 2*(playerid(var(56)),statetype=C||(!playerid(var(56)),HitDefAttr = AC,AA&&playerid(var(56)),statetype=S&&playerid(var(56)),Time <= 14||helper(50000+id),var(28) = 1))

[State 150, 2]
type = ChangeState
Trigger1 = var(59) > 0 && playeridexist(var(56))
trigger1 = HitShakeOver
trigger1 = !numhelper(50000+id)
value = 151 + 2*(playerid(var(56)),statetype=C||(!playerid(var(56)),HitDefAttr = AC,AA&&playerid(var(56)),statetype=S&&playerid(var(56)),Time <= 14))

[State 150, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
triggerall = helper(50000+id),var(28)!=[5,6]
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 150,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
trigger4 = helper(50000+id),var(28)=[5,6]
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
triggerall = helper(50000+id),var(28)!=[5,6]
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 151,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
trigger4 = helper(50000+id),var(28)=[5,6]
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
triggerall = var(59)<=0
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, 2]
type = ChangeState
Trigger1 = var(59) > 0 && playeridexist(var(56))
trigger1 = HitShakeOver
trigger1 = numhelper(50000+id)
value = 151 + 2*(playerid(var(56)),statetype=C||(!playerid(var(56)),HitDefAttr = AC,AA&&playerid(var(56)),statetype=S&&playerid(var(56)),Time <= 14)||helper(50000+id),var(28) = 1)

[State 152, 2]
type = ChangeState
Trigger1 = var(59) > 0 && playeridexist(var(56))
trigger1 = HitShakeOver
trigger1 = !numhelper(50000+id)
value = 151 + 2*(playerid(var(56)),statetype=C||(!playerid(var(56)),HitDefAttr = AC,AA&&playerid(var(56)),statetype=S&&playerid(var(56)),Time <= 14))

[State 152, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
triggerall = helper(50000+id),var(28)!=[5,6]
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 152,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
trigger4 = helper(50000+id),var(28)=[5,6]
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
triggerall = var(59)<=0
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153,AI Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 2
triggerall = helper(50000+id),var(28)!=[5,6]
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype =C) || (playerid(var(56)),statetype = A && playerid(var(56)),vel Y = 0 && (playerid(var(56)),stateno != [600,699]))
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),Time = [2,20]
trigger3 = helper(50000+id),var(28) = 1
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
statetype = C
physics = C

[State 153,AI Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Triggerall = var(59) > 0 && playeridexist(var(56))
triggerall = numhelper(50000+id)
triggerall = helper(50000+id),var(28) != 1
Triggerall = Random <= var(59)*80||var(59)>4
;Triggerall = Time > 0
Trigger1 = (playerid(var(56)),statetype=A) && ((var(54)&8064)/128)>=var(55)
Trigger1 = playerid(var(56)),vel Y != 0 || (playerid(var(56)),stateno = [600,699])
Trigger2 = playerid(var(56)),statetype=S
Trigger2 = playerid(var(56)),HitDefAttr = S,NA,SA
Trigger2 = playerid(var(56)),Time != [2,20]
trigger3 = helper(50000+id),var(28) = 2
trigger3 = playerid(var(56)),Time>=var(55)||(var(59)>6)
trigger4 = helper(50000+id),var(28)=[5,6]
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
triggerall = var(59)<=0
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[state 155,ガード]
Type = ChangeState
TriggerAll = var(59)>2
triggerall = sysvar(0)
triggerall = alive
triggerall = !IsHelper && playeridexist(var(56))
triggerall = Roundstate=2
triggerall = numhelper
triggerall = numhelper(50000+id)
trigger1 = facing = playerid(var(56)),facing || ceil(facing*(playerid(var(56)),Pos X-Pos X))<0
Trigger1 = helper(50000+id),inguarddist || inguarddist
Trigger1 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
trigger1 = Random<=var(59)*50||var(59)>4
trigger2 = helper(50000+id),inguarddist
trigger2 = helper(50000+id),var(58)>0
trigger2 = helper(50000+id),Pos y=Pos y+999
trigger2 = Random<=var(59)*100||var(59)>4
Trigger3 = (inguarddist) || ((Facing*(playerid(var(56)),Facing)*ceil(facing*(playerid(var(56)),Pos X-Pos X)) >0)&&playerid(var(56)),movetype=A&&var(59)>3&&abs(P2bodydist X)<80) || (p2bodydist x<120&&playerid(var(56)),numproj&&playerid(var(56)),movetype=A)
Trigger3 = Random<=var(59)*100||var(59)>4
Trigger3 = (playerid(var(56)),movetype!=A)||playerid(var(56)),Time>=var(55)||Anim=21||var(59)>6||statetype=A||(stateno=[10,12])||(stateno=[700,702])||(var(59)>=5&&p2statetype=A)||prevstateno=5120
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = var(59)<=0
trigger1 = Command = "recovery"
trigger2 = var(59)>=1
trigger2 = Pos Y < -60
trigger2 = (p2bodydist x>=120&&(var(54)&127)%5=0) || (p2bodydist y>=100&&(var(54)&127)%6=0)
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = var(59)<=0
trigger1 = Command = "recovery"
trigger2 = var(59)>=1
trigger2 = Pos Y < -20
trigger2 = (p2bodydist x>=120&&(var(54)&127)%5=0) || (p2bodydist y>=100&&(var(54)&127)%6=0)
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -4.5

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = var(59)<=0
trigger1 = Time = 4
trigger1 = Command = "holdup"
trigger2 = var(59)>0
trigger2 = Time = 4
trigger2 = random%4=0 && Pos Y >= -40
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = var(59)<=0
trigger1 = Time = 4
trigger1 = Command = "holddown"
trigger2 = var(59)>0
trigger2 = Time = 4
trigger2 = random%4!=0 || Pos Y < -40
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = var(59)<=0
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
trigger2 = var(59)>0
trigger2 = Time = 4
trigger2 = p2dist x<0
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = var(59)<=0
trigger1 = Time = 4
trigger1 = Command = "holdback"
trigger2 = var(59)>0
trigger2 = Time = 4
trigger2 = p2dist x>=0
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd;Gravity
trigger1 = Time >= 4
y = .35

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1

;---------------------------------------------------------------------------
; Walk
[Statedef 21]
type    = S
physics = S
sprpriority = 0
ctrl = 0

;[State 21,0]
;type = AssertSpecial
;trigger1 = 1
;flag = NoAutoTurn

;[State 21, 00]
;type = Turn
;trigger1 = ceil(facing*(playerid(var(56)),Pos X-Pos X)) < 0

[State 21, 1]
type = VelSet
trigger1 = numhelper(50000+id)
trigger1 = time = 0 && (P2statetype = L || helper(50000+id),var(59)=2)
trigger1 = P2bodydist x>=ifelse((var(54)&524288)=0,40,100)
trigger2 = anim = 20
trigger3 = time = 0 && P2statetype != L && p2movetype != H
trigger3 = (P2bodydist x=[30,70]) || p2bodydist x>130
trigger4 = time = 0 && p2movetype = H && p2statetype!=L
trigger4 = p2bodydist x >= 30-((p2statetype=A&&fvar(35)<0)*10)
x = const(velocity.walk.fwd.x)

[State 21, 2]
type = VelSet
trigger1 = numhelper(50000+id)
trigger1 = time = 0 && (P2statetype = L || helper(50000+id),var(59)=2)
trigger1 = P2bodydist x<=ifelse((var(54)&524288)=0,30,90)
trigger2 = anim = 21
trigger3 = time = 0 && P2statetype != L && p2movetype != H
trigger3 = P2bodydist x<30 || p2bodydist x=(70,130]
trigger4 = time = 0 && p2movetype = H && p2statetype!=L
trigger4 = p2bodydist x  <= 5
x = const(velocity.walk.back.x)

[State 21, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 21,stop1]
type = ChangeState
triggerall = numhelper(50000+id)
triggerall = (P2statetype = L || helper(50000+id),var(59)=2)
triggerall = abs(fvar(35))<=.5 || anim = 21 || helper(50000+id),var(59)=2
trigger1 = P2BodyDist X = [ifelse((var(54)&524288)=0,30,90),ifelse((var(54)&524288)=0,40,100)]
trigger2 = anim = 20
trigger2 = P2BodyDist X < ifelse((var(54)&524288)=0,30,90)
trigger3 = anim = 21
trigger3 = P2BodyDist X > ifelse((var(54)&524288)=0,40,100)
value = 10
ctrl = 0

[State 21,stop2]
type = ChangeState
trigger1 = roundstate != 2 || ceil(facing*(playerid(var(56)),Pos X-Pos X))<-20
trigger2 = p2statetype != L
trigger2 = p2movetype!=H
trigger2 = frontedgebodydist<=0 ;|| backedgebodydist<=10
trigger3 = p2statetype != L || p2bodydist x>130
trigger3 = time>12
trigger3 = Anim = 21 && random<120
trigger3 = (p2bodydist x =[60,70]) || p2bodydist x>130
trigger4 = p2statetype != L
trigger4 = time>12
trigger4 = Anim = 20 && random<120
trigger4 = P2bodydist x<30 || p2bodydist x=[60,70]
trigger5 = p2statetype = A && p2movetype!=H
trigger5 = (random<15)
trigger6 = p2movetype = H && p2statetype!=L
trigger6 = (p2bodydist x <10 && anim = 20) || (p2bodydist x >30 && anim = 21)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;============================================================================================
;-------------------------------
; リーダー超必殺技背景エフェクト
[Statedef 6050]
type = A
movetype = I
physics = N
anim = 6050+root,var(25)
velset = 0, 17
ctrl = 0
sprpriority = -99

[State 3020, 1]
type = AssertSpecial
trigger1 = 1
;flag = NoBG
;flag2 = NoFG
flag = noshadow
ignorehitpause = 1

[State 2000, 6];背景
type = helper
trigger1 = pos y >= 0;time = 15
id = 6050
persistent = 0
name = "MAX2"
pos = 0,-508-254
postype = p1
stateno = 6050
helpertype = normal
keyctrl = 0
persistent = 0

[state a]
type = posset
trigger1 = 1
x = -160

[state a];透過
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-40, 40

[State 3020, 1]
type = RemoveExplod
triggerall = Time > 0
trigger1 = root,StateNo != 2201 && root,stateno != [2300,2399]
trigger2 = time = 60
ID = 6022

[State 3020, 1]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,StateNo != 2201 && root,stateno != [2300,2399]
trigger2 = time = 60

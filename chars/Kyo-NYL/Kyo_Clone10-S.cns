;-------------------------------------------------------------------------------
;---------------------------------SUPERS----------------------------------------
;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Darkness Stalk X
[Statedef 1000]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1000
ctrl     = 0
sprpriority = 3

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,20
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s12,12

[State 3020, 3]
type = Projectile
trigger1 = AnimElem = 5
projanim = 1010
projhitanim = 1015
projID = 1000
velocity = 4.5
projshadow = 150,150,150
projpriority = 100
postype = p1
offset = 49,0
attr = C, SP
damage = 100,10
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = s6007
sparkxy = 10,-50
hitsound = S1,1
guardsound = s2,1
pausetime = 0,13
ground.hittime = 23
ground.type = low
ground.slidetime = 23
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
palfx.time = 28
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5

[State 1000, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1005
postype = P1
pos = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Darkness Stalk Y
[Statedef 1050]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1050
ctrl     = 0
sprpriority = 3


[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,20
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s12,12

[State 3020, 3]
type = Projectile
trigger1 = AnimElem = 5
projanim = 1010
projhitanim = 1015
projID = 1000
velocity = 7
projshadow = 150,150,150
projpriority = 100
postype = p1
offset = 49,0
attr = C, SP
damage = 100,10
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = s6007
sparkxy = 10,-50
hitsound = S1,1
guardsound = s2,1
pausetime = 0,13
ground.hittime = 23
ground.type = low
ground.slidetime = 23
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
palfx.time = 28
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5

[State 1000, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1005
postype = P1
pos = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Oniyaki X
[Statedef 1100]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1100
ctrl     = 0
sprpriority = 3

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1200, 1]
type = ReversalDef
trigger1 = time = [0,5]
attr = S, SP
reversal.attr = SCA, AA, AP
numhits = 0
pausetime = 13,17
sparkxy = 10, -0
sparkno = s6007
hitsound = s2,1
p2facing = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,21

[State 1000, pos]
type = Posadd
trigger1 = animelem = 1
trigger2 = animelem = 3
x = 8

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 90,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-60
hitsound = s1,1
guardsound = s2,1
pausetime = 12,12
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
fall = 1
fall.recover = 0
palfx.time = 54
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1105

;---------------------------------------------------------------------------
;Rising
[Statedef 1105]
type     = A
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1105
ctrl     = 0
sprpriority = 5

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = time = 0
value = s12,2

;---------------------- VELOCITIES

[State 1000, vels]
type = Posadd
trigger1 = time = 1
trigger2 = time = 3
x = 4

[State 1000, vels]
type = Posadd
trigger1 = time = 2
x = 3

[State 1000, vels]
type = Posadd
trigger1 = time = [4,8]
x = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [9,11]
trigger2 = time = [12,13]
x = 1


[State 1000, vels]
type = Posadd
trigger1 = time = 1
y = -6

[State 1000, vels]
type = Posadd
trigger1 = time = [2,4]
y = -5

[State 1000, vels]
type = Posadd
trigger1 = time = [5,7]
y = -4

[State 1000, vels]
type = Posadd
trigger1 = time = 8
y = -3

[State 1000, vels]
type = Posadd
trigger1 = time = [9,11]
y = -2

[State 1000, vels]
type = Posadd
trigger1 = time = [12,14]
y = -1

[State 1000, vels]
type = Posadd
trigger1 = time = 16
trigger2 = time = 19
trigger3 = time = 30
y = 1

[State 1000, vels]
type = Posadd
trigger1 = time = 18
trigger2 = time = 20
y = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [21,23]
y = 3

[State 1000, vels]
type = Posadd
trigger1 = time = [24,25]
y = 4

[State 1000, vels]
type = Posadd
trigger1 = time = [26,28]
y = 5

[State 1000, vels]
type = Posadd
trigger1 = time = 29
y = 6
;---------------------- VELOCITIES

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Time = 0
attr = S, SA
damage = 92,18
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11,13
sparkno = s6002
guard.sparkno = s6007
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 35
ground.hittime = 18
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
airguard.velocity = -5,-7
guard.velocity = -10
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 50
palfx.time = 50
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
getpower = 25,25
givepower = 16,16
yaccel = .5

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s5,10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1120

;---------------------------------------------------------------------------
;Land
[Statedef 1120]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1120
ctrl     = 0
sprpriority = 2

[State 1002, pos]
type = posset
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S4,0
 
[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Oniyaki Y
[Statedef 1150]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 110
velset   = 0,0
anim     = 1150
ctrl     = 0
sprpriority = 3

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, pos]
type = Posadd
trigger1 = animelem = 1
trigger2 = animelem = 3
x = 8

[State 1200, 1]
type = ReversalDef
trigger1 = time = [0,6]
attr = S, SP
reversal.attr = SCA, AA, AP, AT
numhits = 0
pausetime = 13,17
sparkxy = 10, -0
sparkno = s6007
hitsound = s2,1
p2facing = 1

[State 220, 2]
type = HitDef
TriggerAll = P2StateType != A
trigger1 = time > 6
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = AnimElem = 3
attr = S, SA
damage = 80,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4008
guard.sparkno = s6007
sparkxy = -10,-60
hitsound = s1,1
guardsound = s2,1
pausetime = 10,15
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -4
air.velocity = -4,-8
air.fall = 1
air.juggle = 10
palfx.time = 54
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5

[State 220, 2]
type = HitDef
TriggerAll = P2StateType = A
trigger1 = time > 6
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = AnimElem = 3
attr = S, SA
damage = 80,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4008
guard.sparkno = s6007
sparkxy = -10,-60
hitsound = s1,1
guardsound = s2,1
pausetime = 10,15
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -4
air.velocity = -4,-8
air.fall = 1
air.juggle = 10
palfx.time = 54
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5
P2stateno = 80000

[State 1100, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,21
channel = 10

[State 1000, PosAdd]
type = PosAdd
triggerall = Numtarget(1155)
trigger1 = Enemynear,Movereversed = 1
x = Ifelse(Gametime%2=0,1,-1)
y = 0
ignorehitpause = 1
persistent = 1

[State 1000, MoveHitReset]
type = MoveHitReset
triggerall = Numtarget(1155)
trigger1 = Enemynear,Movereversed = 1
ignorehitpause = 1
persistent = 1

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s5,10

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1155

;---------------------------------------------------------------------------
;Rising
[Statedef 1155]
type     = A
movetype = A
physics  = N
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1155
ctrl     = 0
sprpriority = 5

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = time = 0
value = s12,2

;---------------------- VELOCITIES
[State 1000, vels]
type = Posadd
trigger1 = time = [1,2]
x = 4

[State 1000, vels]
type = Posadd
trigger1 = time = 3
trigger2 = time = 5
x = 3

[State 1000, vels]
type = Posadd
trigger1 = time = 4
trigger2 = time = 6
trigger3 = time = 8
x = 2

[State 1000, vels]
type = Posadd
trigger1 = time = 7
trigger2 = time = [9,12]
trigger3 = time = 14
trigger4 = time = 16
trigger5 = time = 19
x = 1


[State 1000, vels]
type = Posadd
trigger1 = time = 1
y = -8

[State 1000, vels]
type = Posadd
trigger1 = time = [2,4]
y = -7

[State 1000, vels]
type = Posadd
trigger1 = time = [5,7]
y = -6

[State 1000, vels]
type = Posadd
trigger1 = time = 8
y = -5

[State 1000, vels]
type = Posadd
trigger1 = time = [9,11]
y = -4

[State 1000, vels]
type = Posadd
trigger1 = time = [12,14]
y = -3

[State 1000, vels]
type = Posadd
trigger1 = time = 15
trigger2 = time = 17
y = -2

[State 1000, vels]
type = Posadd
trigger1 = time = 16
trigger2 = time = 19
y = -1

[State 1000, vels]
type = Posadd
trigger1 = time = [21,23]
y = 1

[State 1000, vels]
type = Posadd
trigger1 = time = [24,25]
y = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [26,28]
y = 3

[State 1000, vels]
type = Posadd
trigger1 = time = 29
trigger2 = time = 31
y = 4

[State 1000, vels]
type = Posadd
trigger1 = time = 30
trigger2 = time = 33
y = 5

[State 1000, vels]
type = Posadd
trigger1 = time = 32
y = 6

[State 1000, vels]
type = Posadd
trigger1 = time = [34,37]
trigger2 = time = 39
y = 7

[State 1000, vels]
type = Posadd
trigger1 = time = 38
y = 8
;---------------------- VELOCITIES

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 220, 2]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S, SA
damage = 20,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4008
guard.sparkno = s6007
sparkxy = -10,-60
hitsound = S1,1
guardsound = s2,1
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
fall = 1
fall.recover = 0
air.juggle = 10
palfx.time = 54
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s5,10

[State 1000,]
type = ChangeState
triggerall = command != "Serpent X" || command != "Serpent Y"
trigger1 = command = "holddown"
trigger1 = command = "x" || command = "y"
trigger1 = AnimElemtime(2) > 1 && AnimElemtime(5) < 2
value = 1170

[State 1000,]
type = ChangeState
triggerall = var(59)
trigger1 = EnemyNear(var(58)),MoveType = H
trigger1 = AnimElemtime(2) > 1 && AnimElemtime(5) < 2
value = 1170

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1156

;---------------------------------------------------------------------------
;Land
[Statedef 1156]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1156
ctrl     = 0
sprpriority = 2

[State 1002, pos]
type = posset
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S4,0
 
[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Seguir Gancho
[Statedef 1170]
type = A
movetype = A
physics = N
anim = 1170
velset = 0
juggle = 0
ctrl = 0

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .8

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 3

[State 330, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = Time = 0
value = s10,11

[State 330, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,1

[State 1000, hitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30,5
guardflag = M
hitflag = MAF
priority = 4
pausetime = 8,9
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-80
hitsound   = s1,4
guardsound = s2,0
animtype = up
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -8,14
airguard.velocity = -3.7,-3.5
air.type = High
air.velocity = -8,14
air.hittime = 12
fall = 1
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 100
fall.envshake.time = 10
palfx.time = 56
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0

[State 0, TargetState]
type = TargetState
trigger1 = Movehit
trigger1 = hitpausetime = 0
value = 1415
persistent = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s5,10

[State 1000, ステート変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1171

;---------------------------------------------------------------------------
;Land
[Statedef 1171]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1156
ctrl     = 0
sprpriority = 2

[State 1002, PlaySpund]
type = PlaySnd
trigger1 = Time = 0
value = S4,0

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1415]
type    = A
movetype= H
physics = N
VelSet = 0,0

[State 5635, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1415

[State 5635, 2]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1416
;---------------------------------------------------------------------------
[Statedef 1416]
type = A
movetype = H
physics = N

[State 5636, 2]
type = VelSet
trigger1 = time = 0
x = ifelse(gethitvar(xvel)<0,-1,1)*facing*10
y = 10

[State 5636, 3]
type = VelAdd
trigger1 = 1
y = 0.45

[State 5636, 4]
type = VelSet
trigger1 = (Vel y > 0) && (Pos y >= 0)
x = ifelse(gethitvar(xvel)<0,-1,1)*facing*3

[State 5636, 5]
type = ChangeAnim
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = SelfAnimExist(5062)
value = 5062

[State 5636, 6]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;-------------------------------------------------------------------------------
;Poison Bite
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
poweradd = 20
juggle  = 0
velset = 0
ctrl = 0
facep2 = 1

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 1300, 1]
type = ReversalDef
trigger1 = Animelem = 4
trigger2 = Animelem = 5
trigger3 = Animelem = 6
reversal.attr = SCA,AA
numhits = 0
pausetime = 12,12
sparkno = s6005
hitsound = s2,1

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 8
value = s10,20
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 8
value = s0,2

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1300, 3]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 49,10
getpower = 100,100
givepower = 20,20
hitflag = MAF
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
guardflag = MA
pausetime = 10,10
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8.5
air.velocity = -4,-4
guard.hittime = 20
guard.velocity = -10
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .35
fall = ifelse(p2statetype = A,1,0)
p2stateno = 80000

[State 1300, 3]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 49,10
getpower = 100,100
givepower = 20,20
hitflag = MAF
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
guardflag = MA
pausetime = 10,10
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8.5
air.velocity = -4,-4
guard.hittime = 20
guard.velocity = -10
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
yaccel = .35
fall = ifelse(p2statetype = A,1,0)

[State 1700, エフェクト表示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 1701
postype = P1
pos = 96,-76
sprpriority = 10
ignorehitpause = 1
ID = 1300
ownpal = 1

[State 1700, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
trigger2 = AnimElem = 7 || AnimElem = 13 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16
trigger3 = AnimElem = 17
x = 8

[State 1700, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 8 || AnimElem = 9
x = 16

[State 1305, 1]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno != 1700
trigger1 = AnimElemtime(12) >= 2 && AnimElemtime(14) < 0
trigger1 = var(6) = 1
value = 1310

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno != 1700
trigger1 = AnimElemtime(12) >= 2 && AnimElemtime(14) < 0
trigger1 = var(6) = 2
value = 1700

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno = 1700
trigger1 = AnimElemtime(12) >= 2 && AnimElemtime(14) < 0
trigger1 = var(6) = 1
value = 1850

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno = 1700
trigger1 = AnimElemtime(12) >= 2 && AnimElemtime(14) < 0
trigger1 = var(6) = 2
value = 1870

[State 1000, ]
type = Varset
triggerall = AnimElemtime(14) < 0
trigger1 = var(59) = 0
trigger1 = command = "y"
var(6) = 1

[State 1000, ]
type = Varset
triggerall = AnimElemtime(14) < 0
trigger1 = var(59) = 0
trigger1 = command = "x" 
var(6) = 2

[State 1000, ]
type = Varset
triggerall = AnimElemtime(14) < 0
trigger1 = var(59) = 0
trigger1 = command = "a" 
var(6) = 3

[State 1000, ]
type = Varset
triggerall = AnimElemtime(14) < 0
trigger1 = var(59) = 0
trigger1 = command = "b" 
var(6) = 4

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1302, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Reading The Riot Act
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1310
juggle   = 0
poweradd = 0

[State 1000, 2]
type = Width
trigger1 = AnimElem = 5,<=0
value = 20,0

[State 1710, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1706
postype = P1
pos = 84,-64
sprpriority = 10
ignorehitpause = 1
ID = 1310
ownpal = 1

[State 1710, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0,2

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1305, 4]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 35,10
getpower = 0,0
givepower = 20,20
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
guardflag = MA
pausetime = 10,10
hitsound = s1,1
guardsound = s2,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -6
air.velocity = -3,-5
guard.hittime = 22
guard.velocity = -10
yaccel = .35
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
p2stateno = 80000

[State 1305, 4]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 35,10
getpower = 0,0
givepower = 20,20
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
guardflag = MA
pausetime = 10,10
hitsound = s1,1
guardsound = s2,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -6
air.velocity = -3,-5
guard.hittime = 22
guard.velocity = -10
yaccel = .35
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0

[State 1710, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 8
trigger2 = AnimElem = 9 || AnimElem = 10 || AnimElem = 11
x = 8

[State 1710, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 7
x = 24

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1307, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Wild Bite
[Statedef 1700]
type = S
movetype = A
physics = S
anim = 1700
poweradd = 20
juggle   = 0
velset = 0
ctrl = 0
facep2 = 1

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1000, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 7
value = s0,2

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
triggerall = prevstateno != 1300
trigger1 = AnimElem = 1
value = s10,31
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
triggerall = prevstateno = 1300
trigger1 = AnimElem = 5
value = s10,31
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
triggerall = prevstateno != 1300
trigger1 = AnimElem = 17
value = s10,32
channel = 10

[State 1300, 1]
type = ReversalDef
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 7
reversal.attr = SCA,AA
numhits = 0
pausetime = 12,12
sparkno = s6005
hitsound = s2,1

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 13
movetype = I

[State 114, 5]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 10 
attr = S, SA
animtype = Hard
damage = 56,10
getpower = 100,100
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 35
ground.hittime = 35
ground.velocity = -8.5
air.velocity = -3.2,-6
guard.hittime = 23
guard.velocity = -9;
yaccel = .5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
fall = ifelse(p2statetype = A,1,0)
fall.recover = 0
id = 1700
p2stateno = 80000

[State 114, 5]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 10 
attr = S, SA
animtype = Hard
damage = 56,10
getpower = 100,100
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 35
ground.hittime = 35
ground.velocity = -8.5
air.velocity = -3.2,-6
guard.hittime = 23
guard.velocity = -9;
yaccel = .5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
fall = ifelse(p2statetype = A,1,0)
fall.recover = 0
id = 1700

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4
x = 8

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 1701
postype = P1
pos = 95,-60
sprpriority = 10
ignorehitpause = 1
ID = 1700
ownpal = 1

[State 1305, 1]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno != 1300
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(6) = 1
value = 1300

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno != 1300
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(6) = 2
value = 1705

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno = 1300
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(6) = 1
value = 1600

[State 1000,]
type = ChangeState
triggerall = var(59) = 0
trigger1 = prevstateno = 1300
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(6) = 2
value = 1610

[State 1000, ]
type = Varset
triggerall = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(59) = 0
trigger1 = command = "y"
var(6) = 1

[State 1000, ]
type = Varset
triggerall = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(59) = 0
trigger1 = command = "x" 
var(6) = 2

[State 1000, ]
type = Varset
triggerall = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(59) = 0
trigger1 = command = "a"
var(6) = 3

[State 1000, ]
type = Varset
triggerall = AnimElemtime(4) > 0 && AnimElemtime(16) < 0
trigger1 = var(59) = 0
trigger1 = command = "b" 
var(6) = 4

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 114, 17]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
;9 Wounds
[Statedef 1705]
type = S
movetype = A
physics = S
anim = 1705
poweradd = 20
juggle   = 0

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,33
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,2

[State 1605, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
trigger2 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11
x = 8

[State 1005, 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = s3,1
channel = 0

[State 1605, エフェクト表示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1706
postype = P1
pos = 72,-60
sprpriority = 10
ignorehitpause = 1
ID = 1705
ownpal = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1005, 8]
type = HitDef
trigger1 = AnimElem = 5 
attr = S, SA
animtype = Hard
damage = 42,10
getpower = 0,0
givepower = 20,20
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
hitsound = s1,1
guardsound = s2,1
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -3,-7
air.velocity = -3,-7
guard.hittime = 25
guard.velocity = -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
fall = 1
fall.recover = 0
yaccel = .5
p2stateno = 80000

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1006, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
;9 Wounds
[Statedef 1706]
type = S
movetype = A
physics = S
anim = 1705
poweradd = 20
juggle   = 0

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,33
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,2

[State 1605, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
trigger2 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11
x = 8

[State 1005, 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = s3,1
channel = 0

[State 1605, エフェクト表示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1706
postype = P1
pos = 72,-60
sprpriority = 10
ignorehitpause = 1
ID = 1705
ownpal = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1005, 8]
type = HitDef
trigger1 = AnimElem = 5 
attr = S, SA
animtype = Hard
damage = 42,10
getpower = 0,0
givepower = 20,20
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = s6002
guard.sparkno = S6007
sparkxy = -15,-60
hitsound = s1,1
guardsound = s2,1
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -3.5,-7
air.velocity = -3.5,-7
guard.hittime = 25
guard.velocity = -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
palfx.time = 30
palfx.add = 80,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 100,100,100,15
palfx.invertall = 1
palfx.color = 0
fall = 1
fall.recover = 0
yaccel = .5
p2stateno = 80000

[State 1000, 擱?彫?????]
type = Helper
trigger1 = movehit
trigger1 = HitPauseTime = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1006, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kototsuki_Target
[Statedef 1775]
type     = A
movetype = H
physics  = N
velset   = 0
ctrl = 0

[State 1175, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1775

[State 1175, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 1855
ctrl = 0

;---------------------------------------------------------------------------
;Twillight Wheel A
[Statedef 1800]
type = S
movetype = A
physics = S
anim = 1800
velset = 0
poweradd = 100
ctrl = 0
facep2 = 1

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1810

;---------------------------------------------------------------------------
;Rising
[Statedef 1810]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1810

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s0,1

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,0

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,27
channel = 10

[State 1810, 3]
type = VelSet
trigger1 = Time = 0
x = 6
y = -7.06

[State 1810, 4]
type = VelAdd
trigger1 = 1
y = .46

[State 1810, 4]
type = VelMul
trigger1 = 1
x = .9554

[State ]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 110,10
getpower = 45,45
givepower = 10,10
animtype  = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 12,17
guard.pausetime = 10,15
sparkno = s6002
guard.sparkno = s6007
sparkxy = -25, -70
hitsound = s1,3
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime   = 17
ground.velocity = -4,-9
air.velocity = -4,-9
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 32
guard.velocity = -8.9
yaccel = .50
air.type = High
fall = 1
fall.recover = 0

[State 1810, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1120

;---------------------------------------------------------------------------
;Twillight Wheel B
[Statedef 1820]
type = S
movetype = A
physics = S
anim = 1820
velset = 0
poweradd = 100
ctrl = 0
facep2 = 1

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1820,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 3

[State 1820, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1830

;---------------------------------------------------------------------------
;Rising
[Statedef 1830]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1830

[State 1830, movetype]
type = StateTypeSet
trigger1 = AnimElem = 17
movetype = I

[State 1830,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 3

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 5 || AnimElem = 13
value = s0,1

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,0

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,28
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,29
channel = 10

[State 1000, ﾒ､Q､鬢ｹ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s10,30
channel = 10

[State 1810, 3]
type = VelSet
trigger1 = Time = 0
x = 9.6
y = -5.2

[State 1810, 4]
type = VelAdd
trigger1 = 1
y = .152

[State 1810, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1830 , 1]
type = HitDef
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage = 60,10
getpower = 45,45
pausetime = 6,6
guard.pausetime = 8,7
sparkxy = 0,-67
sparkno = s6002
guard.sparkno = s6007
hitsound = s1,3
guardsound = s2,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = -3,-9
air.velocity = -3,-7
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 32
guard.velocity = -8.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .50
fall = 1
p2stateno = 80000

[State 2]
type = HitDef
trigger1 = animelem = 6
attr = A, SA
animtype  = hard
damage = 20,5
getpower = 20,20
guardflag = MA
pausetime = 6,6
sparkno = s6002
guard.sparkno = s6007
sparkxy = -15,-67
hitsound = s1,3
guardsound = s2,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.5,-4
air.velocity = -3,-4
fall = 1
fall.recover = 0
p2stateno = 80000

[State 1830 , 1]
type = HitDef
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage = 40,10
getpower = 45,45
pausetime = 12,12
guard.pausetime = 8,7
sparkxy = 0,-67
sparkno = s6002
guard.sparkno = s6007
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = -4,-8
air.velocity = -4,8
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = 32
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .50
fall = 1
fall.envshake.time = 14
fall.envshake.ampl = -8
p2stateno = ifelse(p2statetype = A,5635,5630)

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1156

;---------------------------------------------------------------------------
;Kototsuki A
[Statedef 1850]
type = S
movetype = A
physics = S
anim = 1850
poweradd = 100
velset = 0
ctrl = 0

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1851

;---------------------------------------------------------------------------

[Statedef 1851]
type = S
movetype = A
physics = S
anim = 1851
velset = 0
ctrl = 0

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10,25

[State 1201, pos]
type = PosAdd
trigger1 = 1
x = 8.5

[State 1201, state]
type = ChangeState
Trigger1 = P2BodyDist X <= 70+floor(8*(EnemyNear(var(58)),vel X)+floor(8*vel X))
value = 1854

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1852

;---------------------------------------------------------------------------

[Statedef 1852]
type = S
movetype = A
physics = S
anim = 1852
velset = 0
ctrl = 0

[State 1201, pos]
type = PosAdd
trigger1 = time = [1,2]
x = 4

[State 1201, pos]
type = PosAdd
trigger1 = time = 3
x = 3

[State 1201, pos]
type = PosAdd
trigger1 = time = [4,7]
x = 2

[State 1201, pos]
type = PosAdd
trigger1 = time = 8
trigger2 = time = [10,11]
x = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1854]
type = S
movetype = A
physics = S
anim = 1854
velset = 0
juggle = 10
ctrl = 0

[state 1210, vels]
type = PosAdd
trigger1 = time = [1,3]
x = 7

[state 1210, vels]
type = PosAdd
trigger1 = time = [4,5]
x = 6

[state 1210, vels]
type = PosAdd
trigger1 = time = [6,7]
x = 5

[state 1210, vels]
type = PosAdd
trigger1 = time = 8
x = 3

[state 1210, vels]
type = PosAdd
trigger1 = time = 9
x = 1

[State 3005, width]
type = width
trigger1 = 1
edge = 50

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 40,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-50
hitsound = s1,1
guardsound = s2,1
pausetime = 2,9
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -8
air.velocity = -3,-3
air.fall = 1
fall.recover = 0
kill = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = Movecontact
trigger1 = Animelem = 4
value = 1855

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1855]
type = S
movetype = A
physics = S
anim = 1855
velset = 0
ctrl = 0

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 3
x = 8

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 4
x = 12

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 7
x = 18

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 8
x = 8

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, ST
damage = 0,0
animtype = hard
hitflag = MAF
guardflag = M
sparkno = s6035
guard.sparkno = s6007
sparkxy = -40,-80
hitsound = s1,6
guardsound = s2,1
pausetime = 0,0
ground.hittime = 20
ground.type = High
ground.slidetime = 19
ground.velocity = 0
guard.velocity = -9
air.type = High
air.velocity = 0,0
airguard.velocity = -4,-5
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1857
p2stateno = 1859
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)

[State 1000, targetstate]
type = targetstate
trigger1 = moveguarded
trigger1 = p2statetype != A
persistent = 0
value = 2044
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1857]
type = S
movetype = A
physics = S
anim = 1857
velset = 0
ctrl = 0

[State 1000, Width]
type = Width
trigger1 = 1
edge = 50,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,26

[State 1225, bind]
type = TargetBind
trigger1 = animelem = 1
pos = 77,-82

[State 1225, bind]
type = TargetBind
trigger1 = animelem = 2
pos = 74,-113

[State 197, quake]
type = EnvShake
trigger1 = time = 6
time = 20
ampl = -4
freq = 100

[State 197, quake]
type = EnvShake
trigger1 = time = 30
time = 40
ampl = -7
freq = 150
persistent = 9

[State 200, 1]
type = PlaySnd
trigger1 = time = [10,30]
trigger1 = gametime%20 = 0
value = s12,4

[State 200, 1]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 20
value = s13,1

[State 1000, Explod]
type = Explod
trigger1 = time = [10,35]
trigger1 = Random < 150
anim = 4500
pos = 75,-115
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 150,150
removetime = -2
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = [10,35]
trigger1 = Random < 150
anim = 4501
pos = 75,-115
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 150,150
removetime = -2
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = [10,35]
trigger1 = Random < 150
anim = 4502
pos = 75,-115
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 150,150
removetime = -2
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = [10,35]
trigger1 = Random < 150
anim = 4503
pos = 75,-115
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 150,150
removetime = -2
sprpriority = 8

[State 1100, 1]
type = Explod
trigger1 = Time = 10
anim = 6050
ID = 6050
postype = p1
pos = 80,-115
bindtime = 1
sprpriority = 3
supermovetime = 30
ownpal = 1

[State 1100, 1]
type = Explod
trigger1 = Time = 20
anim = 6050
ID = 6050
postype = p1
pos = 100,-100
bindtime = 1
sprpriority = 3
supermovetime = 30
ownpal = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = Time = 30
persistent = 0
anim = 6050
postype = P1
pos = 92,-105
sprpriority = 10
scale = 0.75,0.75

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 4
x = 4

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 200, 3]
type = ChangeState
triggerall = var(59) = 1
triggerall = power >= 3000 && var(40) = 0 
trigger1 = Time = 54
value = 3500

[State 200, 3]
type = ChangeState
triggerall = var(59) = 1
triggerall = power >= 2000 && var(40) = 0 
trigger1 = Time = 54
value = 3200

[State 200, 3]
type = ChangeState
triggerall = var(59) = 1
triggerall = power >= 1000 && var(40) = 0 
trigger1 = Time = 54
value = 2050

[State 1000, ･ﾘ･･ﾑｩ`､ｳ､ｹ]
type = Helper
trigger1 = AnimElem = 3,= 16
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1859]
type = A
movetype = H
physics = N
velset = 0
ctrl = 0
facep2 = 1

[State 1227, life]
type = LifeAdd
trigger1 = time = 5
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 20
value = -9+fvar(13)*40

[State 1226, screen]
Type = ScreenBound
trigger1 = 1
value = 0

[State 1226, anim]
Type = Changeanim2
Trigger1 = Time = 0
value = 1859

[State 1226, pos]
type = PosAdd
trigger1 = time = 32
y = 80

[State 200, 3]
type = ChangeState
trigger1 = time = 32
value = 1860

;---------------------------------------------------------------------------

[Statedef 1860]
type = A
movetype = H
physics = N
velset = -2,-11

[State 1227, life]
type = LifeAdd
trigger1 = time = 0
value = -40

[State 1227, pal]
type = PalFx
trigger1 = time = 0
time = 60
add = 80,-40,-140
mul = 256,256,256
sinadd = 100,100,100,15
invertall = 1
color = 0

[State 865, 2]
type = VelAdd
trigger1 = 1
y = .5

[State 865, 3]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 865, 4]
type = ChangeAnim
trigger1 = Time = 10
value = 5050

[State 865, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;--------------------------------------------------------------
;Kototsuki B
[Statedef 1870]
type = S
movetype = A
physics = S
anim = 1850
poweradd = 100
velset = 0
ctrl = 0

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1873

[Statedef 1873]
type = S
movetype = A
physics = S
anim = 1853
velset = 0
ctrl = 0

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10,25

[State 1201, pos]
type = PosAdd
trigger1 = 1
x = 8.5

[State 1201, state]
type = ChangeState
Trigger1 = P2BodyDist X <= 70+floor(8*(EnemyNear(fvar(36)),vel X)+floor(8*vel X))
value = 1875

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1852

[Statedef 1875]
type = S
movetype = A
physics = S
anim = 1854
velset = 0
juggle = 10
ctrl = 0

[State 3005, width]
type = width
trigger1 = 1
edge = 50

[state 1210, vels]
type = PosAdd
trigger1 = time = [1,3]
x = 7

[state 1210, vels]
type = PosAdd
trigger1 = time = [4,5]
x = 6

[state 1210, vels]
type = PosAdd
trigger1 = time = [6,7]
x = 5

[state 1210, vels]
type = PosAdd
trigger1 = time = 8
x = 3

[state 1210, vels]
type = PosAdd
trigger1 = time = 9
x = 1

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 40,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-50
hitsound = s1,1
guardsound = s2,1
pausetime = 2,9
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -8
air.velocity = -4,-4
air.fall = 1
air.juggle = 10
EnvShake.time = 20
EnvShake.freq = 100
EnvShake.ampl = -4

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = Movecontact
trigger1 = Animelem = 4
value = 1876

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1876]
type = S
movetype = A
physics = S
anim = 1855
velset = 0
ctrl = 0

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 3
x = 8

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 4
x = 12

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 7
x = 18

[state 1210, vels]
type = PosAdd
trigger1 = AnimElem = 8
x = 8

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, ST
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = s6035
guard.sparkno = s6007
sparkxy = -40,-80
hitsound = s1,6
guardsound = s2,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -9
air.type = High
air.velocity = 0,0
airguard.velocity = -4,-5
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1857
p2stateno = 1859
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = moveguarded
trigger1 = p2statetype != A
persistent = 0
value = 2044
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Estados
[Statedef 2044]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -9
y = 0

[State 52, 1]
type = VelAdd
trigger1 = time > 0 && vel x < 0
x = 0.5

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2044

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------

;---------------------DOUbLE KICK a
[Statedef 1600]
type = S
movetype = A
physics = S
anim = 1600
poweradd = 100
juggle = 0
velset = 0
ctrl = 0

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1301, var]
type = VarSet
trigger1 = time = 0
var(8) = 0

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 10,22

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1620

[Statedef 1620]
type = A
movetype = A
physics = N
anim = 1620
velset = 0
ctrl = 0

[State 1301, var]
type = VarSet
trigger1 = time = [0,6]
trigger1 = command = "a" || command = "b"
var(8) = 1

[State 1301, anim]
type = ChangeAnim
trigger1 = Time = 7
trigger1 = Var(8) = 1
value = 1630

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 9
trigger1 = Var(8) = 1
value = 10,23

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 10
trigger1 = Var(8) = 1
value = 0,1

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,0

;---------------------- VELOCITIES
[State 1000, vels]
type = Posadd
trigger1 = time = 11
x = 5

[State 1000, vels]
type = Posadd
trigger1 = time = [1,3]
trigger2 = time = [5,7]
trigger3 = time = [9,10]
trigger4 = time = [12,14]
trigger5 = time = [16,18]
trigger6 = time = [20,22]
x = 3

[State 1000, vels]
type = Posadd
trigger1 = time = 4
trigger2 = time = 8
trigger3 = time = 15
trigger4 = time = 19
x = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [1,4]
y = -3

[State 1000, vels]
type = Posadd
trigger1 = time = [5,6]
y = -2

[State 1000, vels]
type = Posadd
trigger1 = time = [7,10]
y = -1

[State 1000, vels]
type = Posadd
trigger1 = time = 12
trigger2 = time = 14
trigger3 = time = 22
y = 1

[State 1000, vels]
type = Posadd
trigger1 = time = [15,18]
y = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [19,21]
y = 3
;---------------------- VELOCITIES

[State 220, 2]
type = HitDef
triggerall = Anim = 1620
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Animelem = 1
triggerall = p2stateno != 1606
triggerall = p2stateno != 1616
attr = S, SA
damage = 20,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = S6007
sparkxy = -10,-60
hitsound = S1,3
guardsound = S2,1
pausetime = 11,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
air.juggle = 0
fall = 1
fall.recover = 0

[State 220, 2]
type = HitDef
triggerall = p2stateno = 1616
triggerall = Anim = 1620
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Animelem = 1
attr = S, SA
damage = 20,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = S6007
sparkxy = -10,-60
hitsound = S1,3
guardsound = S2,1
pausetime = 11,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
fall = 1
fall.recover = 0
air.juggle = 10

[State 220, 2]
type = HitDef
triggerall = Anim = 1630
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Animelem = 3
triggerall = p2stateno != 1606
attr = S, SA
damage = 20,10
animtype = up
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = S6007
sparkxy = -10,-60
hitsound = S1,3
guardsound = S2,1
pausetime = 11,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -2,-10
air.velocity = -2,-10
fall = 1
fall.recover = 0
air.juggle = 0

[State 1301, p2anim]
type = TargetState
trigger1 = Anim = 1630
trigger1 = movehit
trigger1 = p2stateno != 1606
trigger1 = animelem = 4, > 1
value = 1606

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1640

[Statedef 1640]
type = S
movetype = A
physics = S
anim = 1640
velset = 0,0
ctrl = 0

[State 1002, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 4,0

[State 1002, pos]
type = posset
trigger1 = 1
y = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1606]
type = A
movetype = H
physics = N
velset = -2,-10
facep2 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper

[State 865, 2]
type = VelAdd
trigger1 = 1
y = .5

[State 865, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 1606

[State 865, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------DOUbLE KICK b
[Statedef 1610]
type = S
movetype = A
physics = S
anim = 1610
poweradd = 100
juggle = 0
velset = 0
ctrl = 0

[state 1000, 点滅]
type = palfx
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[state 1000, MAXゲージ]
type = varadd
triggerall = var(40) > 0
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
v = 40
value = -150

[State 1301, var]
type = VarSet
trigger1 = time = 0
var(8) = 0

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 10,22

[State 1000, vels]
type = Posadd
trigger1 = time = 8
trigger2 = time = [10,12]
trigger3 = time = [14,16]
x = 2

[State 1000, vels]
type = Posadd
trigger1 = time = 9
trigger2 = time = 13
trigger3 = time = 17
x = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1611

[Statedef 1611]
type = A
movetype = A
physics = N
anim = 1620
velset = 0
juggle = 10
ctrl = 0

[State 1301, var]
type = VarSet
trigger1 = time = [0,6]
trigger1 = command = "a" || command = "b"
var(8) = 1

[State 1301, anim]
type = ChangeAnim
trigger1 = Time = 7
trigger1 = Var(8) = 1
value = 1630

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 9
trigger1 = Var(8) = 1
value = 10,23

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 10
trigger1 = Var(8) = 1
value = 0,1

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,0

;---------------------- VELOCITIES
[State 1000, vels]
type = Posadd
trigger1 = time = 1
trigger2 = time = 11
x = 5

[State 1000, vels]
type = Posadd
trigger1 = time = 2
trigger2 = time = [4,6]
trigger3 = time = [8,10]
trigger4 = time = [12,13]
trigger5 = time = [15,17]
trigger6 = time = [19,22]
x = 3

[State 1000, vels]
type = Posadd
trigger1 = time = 3
trigger2 = time = 7
trigger3 = time = 14
trigger4 = time = 18
x = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [1,4]
y = -3

[State 1000, vels]
type = Posadd
trigger1 = time = [5,6]
y = -2

[State 1000, vels]
type = Posadd
trigger1 = time = [7,10]
y = -1

[State 1000, vels]
type = Posadd
trigger1 = time = 12
trigger2 = time = 14
trigger3 = time = 22
y = 1

[State 1000, vels]
type = Posadd
trigger1 = time = [15,18]
y = 2

[State 1000, vels]
type = Posadd
trigger1 = time = [19,21]
y = 3
;---------------------- VELOCITIES

[State 220, 2]
type = HitDef
triggerall = Anim = 1620
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Animelem = 1
triggerall = p2stateno != 1606 && p2stateno != 1616
attr = S, SA
damage = 20,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = S6007
sparkxy = -10,-80
hitsound = S1,3
guardsound = S2,1
pausetime = 11,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
fall = 1
id = 1620
fall.recover = 0

[State 220, 2]
type = HitDef
triggerall = Anim = 1630
trigger1 = var(22) >= 1
trigger2 = var(22) = 0
trigger2 = Animelem = 3
triggerall = p2stateno != 1606 && p2stateno != 1616
attr = S, SA
damage = 20,10
animtype = up
hitflag = MAF
guardflag = MA
sparkno = s6002
guard.sparkno = S6007
sparkxy = -10,-80
hitsound = S1,3
guardsound = S2,1
pausetime = 11,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -2,-10
air.velocity = -2,-10
fall = 1
id = 1630
fall.recover = 0

[State 1301, p2anim]
type = TargetState
trigger1 = Anim = 1630
trigger1 = movehit
trigger1 = p2stateno != 1616
trigger1 = animelem = 4, > 1
value = 1616

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1612

[Statedef 1612]
type = S
movetype = A
physics = S
anim = 1640
velset = 0
ctrl = 0

[State 1002, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 4,0

[State 1002, pos]
type = posset
trigger1 = time = 0
y = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1616]
type = A
movetype = H
physics = N
velset = -2,-10
facep2 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper

[State 865, 2]
type = VelAdd
trigger1 = 1
y = .5

[State 865, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 1606

[State 865, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;-------------------------
;ｵｯﾇｽ
[Statedef 1617]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0]
type = DestroySelf
trigger1 = ishelper

[State 1021,0]
type = turn
Trigger1 = frontedgedist <= 0
value = 1

[State 1021,0]
type = velset
trigger1 = time = 1
x = -13
y = -.6

[State 840, 2]
type = afterimage
trigger1 = time = 5
trigger1 = IsHelper = 0
time = 13
length = 3
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 1]
type = VelAdd
Trigger1 = time > 19
y = .14

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 911

[state 190]
type = changestate
Trigger1 = backedgedist <= 0
Trigger2 = frontedgedist <= 0
value = 1618

[Statedef 1618]
type    = A
movetype= H
physics = N
velset = 4.5,-9.8

[State ]
type = PlayerPush
trigger1 = 1
value = 1

[State 1027, 1]
type = PlaySnd
trigger1 = Time = 0
value = F7,4

[State 1027, 2]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor(ScreenPos Y) - 50
postype = Back
sprpriority = -1

[State 1027, 3]
type = Explod
trigger1 = Time = 0
anim = F73
pos = 0, floor(ScreenPos Y) - 50
postype = Back
sprpriority = 5

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0 && AnimExist(5052)
value = 5052

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 20 && Anim = 5052
value = 5061 + AnimExist(5062)

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0 && !AnimExist(5052)
value = 912

[State 9000, 1]
type = turn
trigger1 = time = 0


[State 821, 1]
type = VelAdd
Trigger1 = time > 3
y = .5
x = .05

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

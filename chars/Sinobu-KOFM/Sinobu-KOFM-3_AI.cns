[Statedef -3]
;AI BY PP
[State -3, AI On_Off];AI开关
Type = VarSet
V = 59
Value = 2 ;<---------var(59) AI开关,难度分级,1-2级可调
IgnoreHitPause = 1
TriggerAll = !var(59)
TriggerAll = RoundState = [1,2]
Trigger1   = Command = "AI0"  || Command = "AI1"
Trigger2   = Command = "AI2"  || Command = "AI3"
Trigger3   = Command = "AI4"  || Command = "AI5"
Trigger4   = Command = "AI6"  || Command = "AI7"
Trigger5   = Command = "AI8"  || Command = "AI9"
Trigger6   = Command = "AI10" || Command = "AI11"
Trigger7   = Command = "AI12" || Command = "AI13"
Trigger8   = Command = "AI14" || Command = "AI15"
Trigger9   = Command = "AI16" || Command = "AI17"
Trigger10  = Command = "AI18" || Command = "AI19"
Trigger11  = Command = "AI20" || Command = "AI21"
Trigger12  = Command = "AI22" || Command = "AI23"
Trigger13  = Command = "AI24" || Command = "AI25"
Trigger14  = Command = "AI26" || Command = "AI27"
Trigger15  = Command = "AI28" || Command = "AI29"
Trigger16  = Command = "AI30" || Command = "AI31"
Trigger17  = Command = "AI32" || Command = "AI33"
Trigger18  = Command = "AI34" || Command = "AI35"
Trigger19  = Command = "AI36" || Command = "AI37"
Trigger20  = Command = "AI38" || Command = "AI39"
Trigger21  = Command = "AI40" || Command = "AI41"
Trigger22  = Command = "AI42" || Command = "AI43"
Trigger23  = Command = "AI44" || Command = "AI45"
Trigger24  = Command = "AI46" || Command = "AI47"
Trigger25  = Command = "AI48" || Command = "AI49"
Trigger26  = Command = "AI50" || NumExplod(100000 + Root,ID)
Trigger27  = Command = "holddown" ^^ Command = "holddown2"
Trigger28  = Command = "holdback" ^^ Command = "holdback2"
Trigger29  = Command = "holdfwd" ^^ Command = "holdfwd2"
Trigger30  = Command = "holdup" ^^ Command = "holdup2"
Trigger31  = Command = "start" ^^ Command = "start2"
Trigger32  = Command = "a" ^^ Command = "a2"
Trigger33  = Command = "b" ^^ Command = "b2"
Trigger34  = Command = "c" ^^ Command = "c2"
Trigger35  = Command = "x" ^^ Command = "x2"
Trigger36  = Command = "y" ^^ Command = "y2"
Trigger37  = Command = "z" ^^ Command = "z2"
Trigger38  = Var(59) < 0 || Var(59) > 2
Trigger39  = Helper(100000),Var(59)
Trigger39  = NumHelper(100000)

[State AI ON_OFF]
type = Explod
triggerall = !var(59) && !ishelper
triggerall = !numexplod(100000 + Root,ID)
trigger1 = command = "a" ^^ command = "a2"
trigger2 = command = "b" ^^ command = "b2"
trigger3 = command = "c" ^^ command = "c2"
trigger4 = command = "x" ^^ command = "x2"
trigger5 = command = "y" ^^ command = "y2"
trigger6 = command = "z" ^^ command = "z2"
trigger7 = command = "start" ^^ command = "start2"
trigger8 = command = "holdup" ^^ command = "holdup2"
trigger9 = command = "holdfwd" ^^ command = "holdfwd2"
trigger10 = command = "holdback" ^^ command = "holdback2"
trigger11 = command = "holddown" ^^ command = "holddown2"
id = 100000 + Root,ID
anim = 99998
scale = 0,0
removetime = 99998
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = numexplod(100000 + Root,ID)
trigger1 = var(59)
ID = 100000 + Root,ID

[State -3, Helper_AI]
type = Helper
TriggerAll = !NumHelper(100000)
TriggerAll = Alive && roundstate = 2
TriggerAll = Var(59) = 0
Trigger1 = PrevStateNo = [190,194]
Trigger2 = PrevStateNo = 5900
Name = "Igniz_Helper_AI"
ID = 100000
StateNo = 100000
Pos = 0,0
PosType = p1
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647
Persistent = 0

[State -3, AI ChangeState]
type = ChangeState
trigger1 = Ishelper(100000)
trigger1 = Stateno != 100000
value = 100000
ctrl = 0
ignorehitpause = 1

[State -3]
Type = varset
trigger1 = NumEnemy = 1
fvar(36) = 0

[State -3]
Type = varset
trigger1 = NumEnemy = 2
trigger1 = EnemyNear(0),Alive
trigger1 = EnemyNear(1),Alive
fvar(36) = IfElse(((Abs(Pos X - EnemyNear(0),Pos X)) < (Abs(Pos X - EnemyNear(1),Pos X))),0,1)
ignorehitpause = 1

[State -3]
Type = varset
trigger1 = NumEnemy = 2
trigger1 = !EnemyNear(0),Alive || !EnemyNear(1),Alive
fvar(36) = IfElse(EnemyNear(0),Alive,0,1)
ignorehitpause = 1

[State -3]
type = varset
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),const(movement.yaccel)
Trigger1 = EnemyNear(floor(fvar(36))),stateno != [5000,5210]
Trigger1 = EnemyNear(floor(fvar(36))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(36))),const(movement.yaccel)
ignorehitpause = 1

[State -3]
type = varset
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5000,5210]
Trigger2 = fvar(30) != EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
Trigger2 = EnemyNear(floor(fvar(36))),stateno = [5000,5210]
FV = 30
value = EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
ignorehitpause = 1

[State -3]
type = varset
Trigger1 = fvar(30) != 0
Trigger1 = EnemyNear(floor(fvar(36))),Vel Y = 0
FV = 30
value = 0
ignorehitpause = 1

[State -3]
type = VarSet
Triggerall = Facing != EnemyNear(floor(fvar(36))),Facing
Trigger1 = fvar(31) != EnemyNear(floor(fvar(36))),Vel X
fvar(31) = EnemyNear(floor(fvar(36))),Vel X
ignorehitpause = 1

[State -3]
type = VarSet
Triggerall = Facing  = EnemyNear(floor(fvar(36))),Facing
Trigger1 = fvar(31) !=-EnemyNear(floor(fvar(36))),Vel X
fvar(31) = -EnemyNear(floor(fvar(36))),Vel X
ignorehitpause = 1

[State -3]
type = VarSet
Trigger1 = fvar(31) != 0
Trigger1 = EnemyNear(floor(fvar(36))),Vel X = 0
fvar(31) = 0
ignorehitpause = 1

[State AI]
type = Varset
trigger1 = var(59) && stateno = 40 && time=1
sysvar(1) = ifelse(p2statetype=L, -1+((backedgedist <70)*2), 1-((random<50&!(p2dist X<50))*2)-((p2dist X<50)*1))

[State AI]
type = VarSet
trigger1 = var(59) && stateno = 40 && time = 1
v = 4
value = ifelse(p2statetype=L||(enemynear(fvar(36)),numproj!=0), 0, ifelse(p2dist X<150, 1, 0))
ignorehitpause = 1
persistent = 1
;-------------------------------------------------------------------------------
;------------------------------  AI LV 2 ---------------------------------------
;-------------------------------------------------------------------------------
[State -3]
type = ChangeState
value = 700
TriggerAll = var(59) = 2
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2bodydist X = [-5,120]
TriggerAll = P2bodydist y = [-30,0]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = !(EnemyNear(floor(fvar(36))),HitDefAttr = SCA,AT)
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -39
Trigger1 = EnemyNear(floor(fvar(36))),Time >= 0
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(36))),Time >= 0
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(36))),Time >= 0

[State -3]
Type = ChangeState
Value = 700
TriggerAll = var(59) = 2
TriggerAll = EnemyNear(fvar(36)),Vel X = 0
TriggerAll = StateType != A && power >= 1000
TriggerAll = stateno = [150,152] 
TriggerAll = P2BodyDist X < 100 || (EnemyNear(fvar(36)),AnimTime<=-39 && !EnemyNear(fvar(36)),Ctrl)
TriggerAll = EnemyNear(floor(fvar(36))),HitDefAttr = SCA,AA || EnemyNear(fvar(36)),NumProj < 3
Trigger1 = InGuardDist

[State -3]
type = ChangeState
value = 2100
TriggerAll = var(59) = 2
TriggerAll = var(30) = 0
TriggerAll = Power >= 3000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2MoveType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = EnemyNear(floor(fvar(36))),Ctrl = 0
Trigger1 = P2StateType = L && p2life > 500 && P2BodyDist X >= 100
Trigger2 = Palno = 6 && P2MoveType != H

[State -3]
type = ChangeState
value = 2100
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Statetype != A
TriggerAll = Power >= 3000
TriggerAll = P2movetype != A
TriggerAll = P2movetype = H && P2Stateno != [120,159]
TriggerAll = P2BodyDist Y >= -75-floor((13+ceil((P2BodyDist X)/7))*(EnemyNear(floor(fvar(36))),vel Y)+((13+ceil((P2BodyDist X)/7))*((13+ceil((P2BodyDist X)/7))+1)/2)*fvar(30))
TriggerAll = EnemyNear(floor(fvar(36))),Vel X <= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist x >= 170

[State -3]
type = ChangeState
value = 2090
TriggerAll = var(59) = 2
TriggerAll = power >= 3000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),numproj = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -20
Trigger1 = P2StateType = A
Trigger1 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),100+0*8+floor(15*(fvar(31)))]
Trigger1 = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger2 = P2StateType != A
Trigger2 = EnemyNear(floor(fvar(36))),Vel y = 0
Trigger2 = P2bodydist X = [-5,100]
Trigger2 = P2bodydist Y = [-90,0]

[State -3]
type = ChangeState
value = 2090
TriggerAll = var(59) = 2
TriggerAll = power >= 3000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),100+0*8+floor(15*(fvar(31)))]
Trigger1 = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = P2StateType = A
Trigger1 = EnemyNear(floor(fvar(36))),Vel X >= 0

[State -3]
type = ChangeState
value = 2090
TriggerAll = var(59) = 2
TriggerAll = power >= 3000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
TriggerAll = P2MoveType = H && P2Stateno != [120,159]
Trigger1 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),100+0*8+floor(15*(fvar(31)))]
Trigger1 = stateno = 1000 && projhittime(1000) = [1,30]
Trigger1 = Animelem = 11
Trigger2 = stateno = 1020 && helper(1021),MoveHit
Trigger2 = Animelem = 13
Trigger3 = helper(2001),MoveHit && P2StateType = A
Trigger3 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100

[State -3]
type = ChangeState
value = 2070
TriggerAll = var(59) = 2
TriggerAll = power >= 2000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),NumProj = 0
Trigger1 = P2bodydist X != [-5+0*8+floor(15*(fvar(31))),70+0*8+floor(15*(fvar(31)))]
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -25
Trigger1 = P2StateType != A
Trigger2 = P2StateType = A
Trigger2 = EnemyNear(floor(fvar(36))),Vel Y < 0

[State -3]
type = ChangeState
value = 2070
TriggerAll = var(59) = 2
TriggerAll = power >= 2000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),NumProj = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -25
TriggerAll = P2bodydist X != [-5+0*8+floor(15*(fvar(31))),70+0*8+floor(15*(fvar(31)))]
Trigger1 = Stateno = 200 && Animelem = 3,>= 0
Trigger2 = Stateno = 210 && Animelem = 5,>= 0
Trigger3 = Stateno = 230 && Animelem = 3,>= 0
Trigger4 = Stateno = 240 && Animelem = 5,>= 0
Trigger5 = Stateno = 300 && Animelem = 7,>= 0
Trigger6 = Stateno = 400 && Animelem = 3,>= 0
Trigger7 = Stateno = 430 && Animelem = 3,>= 0
Trigger8 = Stateno = 300 && Animelem = 5,<  0 && Anim = 300

[State -3]
type = ChangeState
value = 2000
TriggerAll = var(59) = 2
TriggerAll = power >= 2000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),70+0*8+floor(15*(fvar(31)))]
TriggerAll = P2bodydist y = [-70-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = P2MoveType = A
Trigger1 = EnemyNear(floor(fvar(36))),Ctrl = 0
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -20
Trigger2 = P2StateType = A && P2MoveType != H
Trigger2 = EnemyNear(floor(fvar(36))),Vel X >= 0
Trigger2 = EnemyNear(floor(fvar(36))),Vel y >= 0

[State -3]
type = ChangeState
value = 2000
TriggerAll = var(59) = 2
TriggerAll = power >= 2000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -20
TriggerAll = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),70+0*8+floor(15*(fvar(31)))]
TriggerAll = P2bodydist y = [-70-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = Stateno = 200 && Animelem = 3,>= 0
Trigger2 = Stateno = 210 && Animelem = 5,>= 0
Trigger3 = Stateno = 230 && Animelem = 3,>= 0
Trigger4 = Stateno = 240 && Animelem = 5,>= 0
Trigger5 = Stateno = 300 && Animelem = 7,>= 0
Trigger6 = Stateno = 400 && Animelem = 3,>= 0
Trigger7 = Stateno = 430 && Animelem = 3,>= 0
Trigger8 = Stateno = 300 && Animelem = 5,<  0 && Anim = 300

[State -3]
type = ChangeState
value = 2000
TriggerAll = var(59) = 2
TriggerAll = power >= 2000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),70+0*8+floor(15*(fvar(31)))]
TriggerAll = P2MoveType = H && P2Stateno != [120,159]
Trigger1 = stateno = 315 && MoveHit
Trigger2 = stateno = 2050 && helper(2055),MoveHit && FrontEdgeBodyDist < 120

[State -3]
type = ChangeState
value = 2050
TriggerAll = var(59) = 2
TriggerAll = power >= 1000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [-10+0*8+floor(15*(fvar(31))),50+0*8+floor(15*(fvar(31)))]
Trigger1 = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = P2StateType = A
Trigger1 = EnemyNear(floor(fvar(36))),Vel X >= 0
Trigger1 = Facing != EnemyNear(floor(fvar(36))),Facing
Trigger2 = P2bodydist X = [-10+0*8+floor(15*(fvar(31))),50+0*8+floor(15*(fvar(31)))]
Trigger2 = P2MoveType = A
Trigger2 = EnemyNear(floor(fvar(36))),Ctrl = 0
Trigger2 = P2StateType != A
Trigger2 = EnemyNear(floor(fvar(36))),AnimTime < -10
Trigger2 = Facing != EnemyNear(floor(fvar(36))),Facing

[State -3]
type = ChangeState
value = 2050
TriggerAll = var(59) = 2
TriggerAll = power >= 1000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(36))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime < -10 || P2StateType = A
TriggerAll = P2bodydist X = [-10+0*8+floor(15*(fvar(31))),50+0*8+floor(15*(fvar(31)))]
TriggerAll = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = Stateno = 200 && Animelem = 3,>= 0
Trigger2 = Stateno = 210 && Animelem = 5,>= 0
Trigger3 = Stateno = 230 && Animelem = 3,>= 0
Trigger4 = Stateno = 240 && Animelem = 5,>= 0
Trigger5 = Stateno = 300 && Animelem = 7,>= 0
Trigger6 = Stateno = 400 && Animelem = 3,>= 0
Trigger7 = Stateno = 430 && Animelem = 3,>= 0
Trigger8 = Stateno = 300 && Animelem = 5,<  0 && Anim = 300

[State -3]
type = ChangeState
value = 2040
TriggerAll = var(59) = 2
triggerall = numhelper(2041) = 0
TriggerAll = power >= 1000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),150+0*8+floor(15*(fvar(31)))]
Trigger1 = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
Trigger1 = P2StateType = A
Trigger1 = EnemyNear(floor(fvar(36))),Vel X >= 0
Trigger1 = Facing != EnemyNear(floor(fvar(36))),Facing

[State -3]
type = ChangeState
value = 2040
TriggerAll = var(59) = 2
TriggerAll = power >= 1000
triggerall = numhelper(2041) = 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2bodydist y = [-90-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(36))),vel Y)+(15*15/2)*fvar(30))]
TriggerAll = P2MoveType = H && P2Stateno != [120,159]
Trigger1 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),150+0*8+floor(15*(fvar(31)))]
Trigger1 = stateno = 1000 && projhittime(1000) = [1,30]
Trigger1 = Animelem = 11,>= 0
Trigger2 = P2bodydist X = [-5+0*8+floor(15*(fvar(31))),150+0*8+floor(15*(fvar(31)))]
Trigger2 = stateno = 1010 && projhittime(1000) = [1,30]
Trigger2 = Animelem = 13,>= 0
Trigger3 = stateno = 1020 || stateno = 1030
Trigger3 = Helper(1021),Movehit

[State -3]
type = ChangeState
value = ifelse(P2bodydist X >= 150,1081,1080)
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = EnemyNear(floor(fvar(36))),Stateno < 2000
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = [600,650]
Trigger1 = P2bodydist X = [0+0*8+floor(15*(fvar(31))),300+0*8+floor(15*(fvar(31)))]
Trigger1 = P2MoveType = A
Trigger1 = EnemyNear(floor(fvar(36))),Ctrl = 0
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -50
Trigger2 = P2MoveType != A
Trigger2 = P2bodydist X >= 100
Trigger2 = var(30) > 30

[State -3]
type = ChangeState
value = 1075
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = !InGuardDist
TriggerAll = EnemyNear(floor(fvar(36))),Stateno < 2000
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [100+0*8+floor(30*(fvar(31))),149+0*8+floor(30*(fvar(31)))]
Trigger1 = P2bodydist y = [-150-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30)),0-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30))]
Trigger1 = P2MoveType = A && P2StateType != A
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -20

[State -3]
type = ChangeState
value = 1070
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = !InGuardDist
TriggerAll = EnemyNear(floor(fvar(36))),Stateno < 2000
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [70+0*8+floor(30*(fvar(31))),99+0*8+floor(30*(fvar(31)))]
Trigger1 = P2bodydist y = [-150-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30)),0-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30))]
Trigger1 = P2MoveType = A && P2StateType != A
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -15

[State -3]
type = ChangeState
value = 1055
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = EnemyNear(floor(fvar(36))),Stateno < 2000
TriggerAll = P2StateType != L
TriggerAll = FrontEdgeBodyDist > 150
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [150+0*8+floor(30*(fvar(31))),250+0*8+floor(30*(fvar(31)))]
Trigger1 = P2bodydist y = [-200-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30)),0-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30))]
Trigger1 = P2MoveType = A
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -20

[State -3]
type = ChangeState
value = 1055
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = FrontEdgeBodyDist > 150
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [150+0*8+floor(30*(fvar(31))),250+0*8+floor(30*(fvar(31)))]
Trigger1 = P2bodydist y = [-200-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30)),-30-floor(30*(EnemyNear(floor(fvar(36))),vel Y)+(30*30/2)*fvar(30))]
Trigger2 = Helper(1021),numtarget && P2Movetype = H && P2Stateno != [120,159]
Trigger2 = P2bodydist X = [150,250]

[State -3]
type = ChangeState
value = 1050
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = FrontEdgeBodyDist > 50
TriggerAll = EnemyNear(floor(fvar(36))),Stateno < 2000
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [100+0*8+floor(20*(fvar(31))),149+0*8+floor(20*(fvar(31)))]
Trigger1 = P2bodydist y = [-200-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*20/2)*fvar(30)),0-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*20/2)*fvar(30))]
Trigger1 = P2MoveType = A
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -20

[State -3]
type = ChangeState
value = 1050
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = FrontEdgeBodyDist > 50
TriggerAll = P2StateType = A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist X = [10+0*8+floor(20*(fvar(31))),149+0*8+floor(20*(fvar(31)))]
Trigger1 = P2bodydist y = [-200-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*20/2)*fvar(30)),-30-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*20/2)*fvar(30))]
Trigger2 = Helper(1021),numtarget && P2Movetype = H && P2Stateno != [120,159]
Trigger2 = P2bodydist X = [10,149]

[State -3]
type = ChangeState
value = 1030
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = FrontEdgeBodyDist > 150
TriggerAll = P2StateType = L
TriggerAll = EnemyNear(floor(fvar(36))),Vel X >= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2bodydist X = [150+0*8+floor(30*(fvar(31))),250+0*8+floor(30*(fvar(31)))]
TriggerAll = P2StateType != A
Trigger1 = EnemyNear(floor(fvar(36))),time <= 2

[State -3]
type = ChangeState
value = 1020
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = FrontEdgeBodyDist > 40
TriggerAll = EnemyNear(floor(fvar(36))),Vel X >= 0
TriggerAll = P2StateType = L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2bodydist X = [50+0*8+floor(20*(fvar(31))),149+0*8+floor(20*(fvar(31)))]
TriggerAll = P2StateType != A
Trigger1 = EnemyNear(floor(fvar(36))),time <= 2

[State -3]
type = ChangeState
value = 1020
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = FrontEdgeBodyDist > 40
TriggerAll = P2MoveType = H && P2Stateno != [120,159]
Trigger1 = stateno = 410 && projcontacttime(100) = [1,30]
Trigger2 = stateno = 440 && projcontacttime(100) = [1,30]

[State -3]
type = ChangeState
value = 1020
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = FrontEdgeBodyDist < 100
TriggerAll = P2MoveType = H && P2Stateno != [120,159]
TriggerAll = P2bodydist X = [40,140]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2StateType = A
Trigger1 = Helper(2001),Movehit

[State -3]
type = ChangeState
value = 1010
TriggerAll = var(59) = 2
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
Trigger1 = P2StateType = A
Trigger1 = !InGuardDist
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = EnemyNear(floor(fvar(36))),vel y <= 0
Trigger1 = P2bodydist X = [0+0*8+floor(25*(fvar(31))),220+0*8+floor(25*(fvar(31)))]
Trigger1 = P2bodydist y = [-90-floor(25*(EnemyNear(floor(fvar(36))),vel Y)+(25*25/2)*fvar(30)),0-floor(25*(EnemyNear(floor(fvar(36))),vel Y)+(25*25/2)*fvar(30))]
Trigger2 = P2bodydist X > 50+0*8+floor(20*(fvar(31)))
Trigger2 = Stateno = 315 && Animelem = 4, = 2
Trigger2 = Numtarget && Movehit && P2Movetype = H && P2Stateno != [120,159]
Trigger3 = Stateno = 210 || Stateno = 240
Trigger3 = Numtarget && Movehit && P2Movetype = H && Animelem = 5,>= 0 && P2Stateno != [120,159]

[State -3]
type = ChangeState
value = 1010
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Statetype != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType != C
TriggerAll = P2movetype != A
TriggerAll = P2movetype = H && P2Stateno != [120,159]
TriggerAll = P2BodyDist Y >= -75-floor((13+ceil((P2BodyDist X)/7))*(EnemyNear(floor(fvar(36))),vel Y)+((13+ceil((P2BodyDist X)/7))*((13+ceil((P2BodyDist X)/7))+1)/2)*fvar(30))
TriggerAll = EnemyNear(floor(fvar(36))),Vel X <= 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist x = [140,200]
Trigger1 = Random <= var(59)*30
Trigger2 = P2bodydist x >= 201
Trigger2 = Random <= var(59)*100

[State -3]
type = ChangeState
value = 1010
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Statetype != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2movetype != A
TriggerAll = P2movetype != H && P2Stateno != [120,159]
TriggerAll = P2BodyDist Y >= -75-floor((13+ceil((P2BodyDist X)/7))*(EnemyNear(floor(fvar(36))),vel Y)+((13+ceil((P2BodyDist X)/7))*((13+ceil((P2BodyDist X)/7))+1)/2)*fvar(30))
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2bodydist x = [140,200]
Trigger1 = Random <= var(59)*70
Trigger2 = P2bodydist x >= 201
Trigger2 = Random <= var(59)*200

[State -3]
type = ChangeState
value = 1000
TriggerAll = var(59) = 2
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
Trigger1 = P2bodydist X <= 50+0*8+floor(20*(fvar(31)))
Trigger1 = Stateno = 315 && Animelem = 4, = 2
Trigger1 = Numtarget && Movehit && P2Movetype = H && P2Stateno != [120,159]

[State -3]
type = ChangeState
value = 800
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2BodyDist X = [-5,30]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = stateno != 100
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -1
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 900
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
Trigger1 = EnemyNear(floor(fvar(36))),Time >= 0

[State -3]
type = ChangeState
value = 800
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = stateno != 100
TriggerAll = StateType != A
TriggerAll = prevstateno != [800,810]
TriggerAll = P2statetype != A && P2statetype != L
TriggerAll = P2movetype != H
TriggerAll = P2bodyDist X = [-5,30]
Trigger1 = P2stateno != 5120
Trigger1 = Facing != EnemyNear(floor(fvar(36))),Facing

[State -3]
type = ChangeState
value = 800
TriggerAll = var(59) = 2
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = MoveContact = 0
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2bodydist X = [-30,30]
TriggerAll = EnemyNear(floor(fvar(36))),Time >= 0
Trigger1 = Stateno = 200 && Animelem = 4,>= 0
Trigger2 = Stateno = 210 && Animelem = 6,>= 0
Trigger3 = Stateno = 230 && Animelem = 4,>= 0
Trigger4 = Stateno = 240 && Animelem = 6,>= 0

[State -3]
type = ChangeState
value = ifelse(p2statetype = S,430,210)
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype != A
TriggerAll = P2bodyDist X = [-5,30]
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -5
Trigger2 = P2movetype = H && P2Stateno != [120,159]
Trigger3 = P2stateno = [120,159]

[State -3]
type = ChangeState
value = ifelse(p2statetype = S,430,210)
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = A
TriggerAll = P2bodyDist X = [-5,30]
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime < -5
Trigger1 = Facing = EnemyNear(floor(fvar(36))),Facing

[State -3]
type = ChangeState
value = 400
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = stateno = 430
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = H && P2Stateno != [120,159]
TriggerAll = P2bodyDist X = [-5,30]
Trigger1 = Movehit && Numtarget
Trigger1 = AnimElem = 2,>= 2

[State -3]
type = ChangeState
value = 440
TriggerAll = var(59) = 2
TriggerAll = var(30) = 0
TriggerAll = RoundState = 2
TriggerAll = stateno = 430
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = H && P2Stateno != [120,159]
TriggerAll = P2bodyDist X > 30
Trigger1 = Movehit && Numtarget

[State -3]
type = ChangeState
value = 310
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = H && P2Stateno != [120,159]
TriggerAll = P2bodyDist X = [0,30]
TriggerAll = Movehit && Numtarget
Trigger1 = stateno = 210
Trigger2 = stateno = 240
Trigger3 = stateno = 400 && Power >= 1000 && Random < 500
Trigger4 = stateno = 400 && var(30) > 0

[State -3]
type = ChangeState
value = 410
TriggerAll = var(59) = 2
TriggerAll = var(30) = 0
TriggerAll = RoundState = 2
TriggerAll = stateno = 400
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = H && P2Stateno != [120,159]
Trigger1 = Movehit && Numtarget
Trigger1 = AnimElem = 2,>= 2

[State -3]
type = ChangeState
value = 315
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = stateno = 310
TriggerAll = StateType != A
TriggerAll = P2statetype != A
TriggerAll = P2statetype != L
TriggerAll = P2movetype = H && P2Stateno != [120,159]
Trigger1 = Movehit && Numtarget

[State -3]
type = ChangeState
value = 100
Ctrl = 0
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = StateType != A
TriggerAll = P2movetype != A
Trigger1 = p2bodydist x > 25
Trigger1 = var(30) > 0
trigger2 = p2bodydist x = [80,300]
trigger2 = random <= 350

[State -3]
Type = ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = NumHelPer(35001) > 0
TriggerAll = var(59)
TriggerAll = StateType = A
TriggerAll = Ctrl
TriggerAll = P2StateNo != HelPer(35000),Var(6)
TriggerAll = P2StateNo != HelPer(35001),Var(6)
TriggerAll = HelPer(35000),Var(2) = 0
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0
Trigger2 = Enemy(0),NumProj > 0 || Enemy(1),NumProj > 0
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(36))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = HelPer(35002),Var(9) > 1
Trigger5 = InGuardDist
Trigger6 = InGuardDist
Trigger6 = HelPer(35000),Var(53)

[State -3]
Type = ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = NumHelPer(35001) > 0
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = Helper(35000),Var(2) = 0
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0
Trigger2 = Enemy(0),NumProj > 0 || Enemy(1),NumProj > 0
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(36))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = HelPer(35002),Var(9) > 1
Trigger5 = InGuardDist
Trigger6 = InGuardDist
Trigger6 = HelPer(35000),Var(53)

[State -3]
type = SelfState
value = 52000
triggerall = var(59)
triggerall = Vel Y > 0
triggerall = Pos Y = [-125,-95]
triggerall = Random <= var(59)*100
trigger1 = alive
trigger1 = canrecover
trigger1 = stateno = 5050

[State -3]
type = SelfState
value = 5201
triggerall = var(59)
triggerall = alive
trigger1 = stateno = 5050 || stateno = 5071
trigger1 = pos y > -30
trigger1 = vel y > 0 && vel y < 14

[State AI]
type = ChangeState
value = 640
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = statetype = A
TriggerAll = ctrl
Trigger1 = (p2bodydist X = [-10,80])
Trigger1 = (p2bodydist Y = [-60,95])
Trigger1 = P2MoveType != H

[State -3]
type = ChangeState
value = 300
TriggerAll = var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = Power >= 1000
TriggerAll = statetype != A
TriggerAll = P2bodydist X = [-5+floor(12*(fvar(31))),100+floor(12*(fvar(31)))]
TriggerAll = P2bodydist y = [-47-floor(12*(EnemyNear(floor(fvar(36))),vel Y)+(12*(12+1)/2)*fvar(30)),0-floor(12*(EnemyNear(floor(fvar(36))),vel Y)+(12*(12+1)/2)*fvar(30))]
Triggerall = (stateno = 150 || stateno = 152)
Trigger1 = EnemyNear(floor(fvar(36))),AnimTime <= -16
Trigger2 = BackEdgeBodyDist < 20

[State -3]
type = ChangeState
value = 195
TriggerAll = var(59) = 2
triggerall = statetype != A
triggerall = stateno != 195 && prevstateno != 195
trigger1 = P2Life < Life && roundstate = 3 && ctrl
Persistent = 0

[State -3]
type = ChangeState
value = 700
TriggerAll = var(59) = 2
triggerall = Backedgebodydist < 20
triggerall = p2bodydist x <= 20
triggerall = p2statetype = L
triggerall = statetype != A
trigger1 = ctrl

[State -1, Walk]
type = ChangeState
value = 19
TriggerAll = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || (stateno = 21 && time > 12)
trigger1 = enemynear(fvar(36)),movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 50*var(59)
trigger2 = enemynear(fvar(36)),movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 100*var(59)
trigger3 = enemynear(fvar(36)),movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 100*var(59)
trigger4 = enemynear(fvar(36)),statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 100*var(59)
trigger5 = enemynear(fvar(36)),movetype = H
trigger5 = enemynear(fvar(36)),statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear(fvar(36)),BackEdgeBodyDist <= 0 || enemynear(fvar(36)),FrontEdgeBodyDist <= 0
trigger5 = random <= 80*var(59)
trigger6 = P2BodyDist X <= 20
trigger6 = random <= 250*var(59)

[State -1, Walk]
type = ChangeState
value = 21
TriggerAll = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || (stateno = 19 && time > 12)
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 70*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 100*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 80*(var(59))
trigger3 = enemynear(fvar(36)),stateno != [5000,5210]
trigger4 = enemynear(fvar(36)),StateNo= [120,155]
trigger4 = random <= 100*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear(fvar(36)),statetype != A
trigger5 = enemynear(fvar(36)),statetype = L
trigger5 = P2BodyDist X = [90,120]
trigger5 = random <= 1000*(var(59))
trigger6 = enemynear(fvar(36)),statetype != L
trigger6 = enemynear(fvar(36)),movetype = H
trigger6 = enemynear(fvar(36)),stateno = [5000,5029]
trigger6 = random <= 1000*var(59)
trigger6 = P2bodydist X > 45

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = StateType != A && time > 12
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = Random <= var(59)*1000
TriggerAll = P2bodydist X <= 55
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = StateType != A && time > 12
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21
TriggerAll = Random<=var(59)*1000
Trigger1 = p2bodydist X = [-10,89]
Trigger1 = p2statetype = L

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = StateType != A && time > 12
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType = H
TriggerAll = Random <= var(59)*1000
TriggerAll = P2bodydist X <= 45
TriggerAll = EnemyNear(floor(fvar(36))),BackEdgeBodyDist >= 11 || (EnemyNear(floor(fvar(36))),BackEdgeBodyDist < 11 && FrontEdgeBodyDist >= 95)
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = StateType != A && time > 12
TriggerAll = P2StateType != L
TriggerAll = P2StateType = A
TriggerAll = P2MoveType = H
TriggerAll = Random <= var(59)*1000
TriggerAll = P2bodydist X <= 55
Trigger1 = Ctrl || stateno = 19 || stateno = 20 || stateno = 21
;-------------------------------------------------------------------------------
;------------------------------  AI LV 1 ---------------------------------------
;-------------------------------------------------------------------------------
[State AI]
type = ChangeState
value = 430
triggerall = var(59) = 1
triggerall = random <= 100
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,40]
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 400
triggerall = var(59) = 1
triggerall = p2stateno != [5030,5050]
triggerall = p2statetype != A
triggerall = movecontact
trigger1 = stateno = 430

[State AI]
type = ChangeState
value = 2090
triggerall = var(59) = 1
triggerall = power >= 3000
triggerall = p2stateno = [5000,5050]
triggerall = p2bodydist x = [0,100]
triggerall = random <= 999
trigger1 = stateno = 1000
trigger1 = time = 35

[State AI]
type = ChangeState
value = 2040
triggerall = var(59) = 1
triggerall = power >= 1000
triggerall = numhelper(2041) = 0
triggerall = p2stateno = [5000,5050]
triggerall = random <= 999
trigger1 = stateno = 1000
trigger1 = time = 35

[State AI]
type = ChangeState
value = 310
triggerall = var(59) = 1
triggerall = power >= 2899
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 400

[State AI]
type = ChangeState
value = 315
triggerall = var(59) = 1
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 310

[State AI]
type = ChangeState
value = 2090
triggerall = var(59) = 1
triggerall = power >= 3000
triggerall = p2statetype != A
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 315
trigger1 = time = 11

[State AI]
type = ChangeState
value = 2100
triggerall = var(59) = 1
triggerall = power >= 3000
triggerall = p2statetype != A
triggerall = moveguarded
triggerall = random <= 999
trigger1 = stateno = 315
trigger1 = time = 11

[State AI]
type = ChangeState
value = 410
triggerall = var(59) = 1
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 400

[State AI]
type = ChangeState
value = 1020
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = p2movetype = H
triggerall = p2stateno = [5030,5121]
trigger1 = stateno = 410
trigger1 = animtime = 0

[State AI]
type = ChangeState
value = 1010
triggerall = var(59) = 1
triggerall = random <= 80
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [90,200]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1070
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [100,180]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1020
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [50,150]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1050
triggerall = var(59) = 1
triggerall = random <= 40
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [50,150]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1030
triggerall = var(59) = 1
triggerall = random <= 40
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [151,300]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1055
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [151,300]
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 800
triggerall = var(59) = 1
triggerall = random <= 100
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2000
triggerall = var(59) = 1
triggerall = power >= 2000
triggerall = p2bodydist X < 80 && p2bodydist X > -10 && enemy,vel y >= 0
triggerall = p2bodydist Y > -120
triggerall = p2statetype = A
triggerall = ctrl && statetype != A
triggerall = random <= 300
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2100
triggerall = var(59) = 1
triggerall = random <= 300
triggerall = power >= 3000
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [100,350]
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2090
triggerall = var(59) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = power >= 3000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,50]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2070
triggerall = var(59) = 1
triggerall = random <= 200
triggerall = power >= 2000
triggerall = p2bodydist x = [50,300]
triggerall = statetype != A
trigger1 = stateno = 1020
trigger1 = animtime = 0
trigger2 = stateno = 1030
trigger2 = animtime = 0

[State AI]
type = ChangeState
value = 2050
triggerall = var(59) = 1
triggerall = random <= 100
triggerall = roundstate = 2
triggerall = p2stateno = [5000,5050]
triggerall = power >= 1000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2bodydist X < 80 && p2bodydist X > -50
triggerall = p2statetype = A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2050
triggerall = var(59) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,50]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2070
triggerall = var(59) = 1
triggerall = power >= 2000
triggerall = p2stateno = [5000,5050]
trigger1 = stateno = 2050
trigger1 = time = 270

[State AI]
type = ChangeState
value = 2040
triggerall = var(59) = 1
triggerall = power >= 1000
triggerall = numhelper(2041) = 0
triggerall = RoundState = 2
triggerall = random <= 790
triggerall = p2bodydist x = [70,300]
trigger1 = ctrl && enemynear(fvar(36)),NumProj && statetype != A && random = [20,300]
trigger2 = inguarddist = [0,120]
trigger2 = ctrl && enemynear(fvar(36)),NumProj && statetype != A

[State AI]
type = ChangeState
value = 2070
triggerall = var(59) = 1
triggerall = random <= 400
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,100]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2040
triggerall = var(59) = 1
triggerall = random <= 999
triggerall = numhelper(2041) = 0
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = p2stateno = [5000,5050]
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2bodydist X < 100 && p2bodydist X > -10 && enemy,vel y >= 0
triggerall = p2bodydist Y > -80
trigger1 = ctrl

[State AI]
type = ChangeState
value = 710
triggerall = var(59) = 1
triggerall = p2stateno = [5080,5121]
triggerall = random <= 100
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,150]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 1080
triggerall = var(59) = 1
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,300]
trigger1 = ctrl
trigger2 = stateno = 600
trigger3 = stateno = 610
trigger4 = stateno = 630
trigger5 = stateno = 640
trigger6 = stateno = 650
trigger7 = stateno = 330

[State AI]
type = ChangeState
value = 100
triggerall = var(59) = 1
triggerall = p2movetype != A
triggerall = p2bodydist x = [80,300]
triggerall = random <= 350
trigger1 = statetype != A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 640
triggerall = var(59) = 1
triggerall = p2bodydist X < 80 && p2bodydist X > -10 && enemy,vel x >= 0
triggerall = p2bodydist Y > -50
triggerall = p2stateno != [5050,5121]
triggerall = ctrl && statetype = A
triggerall = p2statetype = A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 330
triggerall = var(59) = 1
triggerall = p2bodydist X < 50 && p2bodydist X > -10 && enemy,vel y >= 0 && enemy,vel x >= 0
triggerall = p2bodydist Y > -50
triggerall = vel y >= 0
triggerall = p2stateno != [5050,5121]
triggerall = ctrl && statetype = A
triggerall = p2statetype != A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 5201
triggerall = var(59) = 1 && Alive && CanRecover && Vel Y > 0 && Pos Y >= -30 && random <= 999
trigger1 = StateNo = 5050
trigger2 = StateNo = 5071

[State AI]
type = ChangeState
value = 300
triggerall = var(59) = 1
triggerall = roundstate = 2
triggerall = p2bodydist x = [0,70]
trigger1 = (stateno = 150 || stateno = 151) && power >= 1000
trigger1 = random <= 30

[State AI]
type = ChangeState
value = 700
triggerall = var(59) = 1
triggerall = p2statetype != L
triggerall = statetype != A
triggerall = ctrl
triggerall = RoundState = 2
triggerall = random <= 790
triggerall = p2bodydist x = [70,300]
trigger1 = ctrl && enemynear(fvar(36)),NumProj && statetype != A && random = [20,300]
trigger2 = inguarddist = [0,120]
trigger2 = ctrl && enemynear(fvar(36)),NumProj && statetype != A
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;----------------------------  AI HELPER  --------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U
physics = U

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
triggerall = !var(59)
trigger1 = command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
triggerall = !var(59)
trigger1 = command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = ,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 120, Stop Guarding]
type = ChangeState
TriggerAll = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Enemy,NumProj = 0
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(fvar(36)),Facing)*P2Dist X >0 &&(Abs(P2Dist X) <= 45) && P2MoveType=A)
Trigger2 = HelPer(35000),Var(2) > 0
Value = 140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
triggerall = !var(59)
trigger1 = command = "holddown"
value = 131

[State 130, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
TriggerAll = Time > 0
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = ,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
Value = 131

[State 130, Stop Guarding]
type = ChangeState
triggerall = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Enemy,NumProj = 0
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(fvar(36)),Facing)*P2Dist X >0 &&(Abs(P2Dist X) <= 45) && P2MoveType=A)
Trigger2 = HelPer(35000),Var(2) > 0
Value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
triggerall = !var(59)
trigger1 = command != "holddown"
value = 130

[State 130, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
TriggerAll = Time > 0
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
Value = 130

[State 131, Stop Guarding]
type = ChangeState
triggerall = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Enemy,NumProj = 0
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(fvar(36)),Facing)*P2Dist X >0 &&(Abs(P2Dist X) <= 45) && P2MoveType=A)
Trigger2 = HelPer(35000),Var(2) > 0
Value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
TriggerAll = !var(59)
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
TriggerAll = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Enemy,NumProj = 0
Trigger1 = !InGuardDist
Trigger2 = HelPer(35000),Var(2) > 0
Trigger3 = HelPer(35000),Var(6) > 0
Trigger3 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(6)
Trigger4 = HelPer(35001),Var(6) > 0
Trigger4 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(6)
Value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U
physics = U
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = ,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 140, Hi to Lo]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S
;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = SCA,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 150, Hi to Lo]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3
;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = SCA,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 151, Hi to Lo]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1
;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = SCA,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 152, Hi to Lo]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4
;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1


[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(5)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(5)
Trigger1 = Enemy,NumProj > 0 || Enemy,NumHelper > 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger2 = EnemyNear(fvar(36)),Vel Y = 0
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = C,AA || EnemyNear(fvar(36)),HitDefAttr = SCA,AP
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time < 23
Trigger4 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger5 = EnemyNear(fvar(36)),StateType != S
Trigger5 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger5 = EnemyNear(fvar(36)),Time >= 23
Trigger5 = EnemyNear(fvar(36)),Vel Y <= 0
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(4)
Trigger7 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(4)
StateType = C
Physics = C

[State 120, AI]
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35000),Var(4)
TriggerAll = EnemyNear(fvar(36)),StateNo != Helper(35001),Var(4)
Trigger1 = EnemyNear(fvar(36)),HitDefAttr = A,AA
Trigger1 = EnemyNear(fvar(36)),Vel Y != 0
Trigger2 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger2 = EnemyNear(fvar(36)),Time >= 23
Trigger2 = EnemyNear(fvar(36)),StateType = S
Trigger3 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger3 = EnemyNear(fvar(36)),Time < 23
Trigger3 = EnemyNear(fvar(36)),Vel Y > 0
Trigger4 = EnemyNear(fvar(36)),StateType != S
Trigger4 = EnemyNear(fvar(36)),HitDefAttr = S,AA
Trigger4 = EnemyNear(fvar(36)),Time >= 23
Trigger4 = EnemyNear(fvar(36)),Vel Y > 0
Trigger5 = EnemyNear(fvar(36)),StateNo = Helper(35000),Var(5)
Trigger6 = EnemyNear(fvar(36)),StateNo = Helper(35001),Var(5)
StateType = S
Physics = S

[State 153, Hi to Lo]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
triggerall = !var(59)
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1
;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4
;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52
;---------------------------------------------------------------------------
[StateDef 35000]
Anim = 99998
Ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = time > 1
trigger1 = anim != helper(35002),var(5) - 1
value = helper(35002),var(5) - 1

[State 0]
type = HitBy
trigger1 = 1
value =
value2 =
time = 1
ignorehitpause = 1

[State 0]
type = BindToRoot
Trigger1 = numenemy = 1
pos = 33,0
facing = ifelse(helper(35002),pos x > Root,pos x,1,-1)
ignorehitpause = 1

[State 0]
type = BindToRoot
Trigger1 = numenemy = 2
pos = 0,15
facing = ifelse(helper(35002),pos x > Root,pos x,1,-1)
ignorehitpause = 1

type = null
trigger1 = RoundState != 2
trigger1 = var(50) := 0
trigger2 = Root,Ctrl && !var(50)
trigger2 = var(50) = GameTime

[State 0]
type = varset
triggerall = RoundState = 2
trigger1 = GameTime = var(50)
trigger2 = P2MoveType != A
trigger2 = Enemy(0),NumHelper - var(51) <= 0
var(51) = Enemy(0),NumHelper
ignorehitpause = 1

[State 0]
type = varset
triggerall = NumEnemy = 2
triggerall = RoundState = 2
trigger1 = GameTime = var(50)
trigger2 = P2MoveType != A
trigger2 = Enemy(1),NumHelper - var(52) <= 0
var(52) = Enemy(1),NumHelper
ignorehitpause = 1

[State 0]
type = varset
trigger1 = NumEnemy = 1
trigger1 = Enemy(0),NumHelper - var(51) > 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(1),NumHelper - var(52) > 0
var(53) = 1
ignorehitpause = 1

[State 0]
type = varset
trigger1 = NumEnemy = 1
trigger1 = Enemy(0),NumHelper - var(51) <= 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),NumHelper - var(51) <= 0
trigger2 = Enemy(1),NumHelper - var(52) <= 0
var(53) = 0
ignorehitpause = 1

[State 0]
Type = VarSet
Trigger1 = !Root,Time && Root,var(59)
Trigger2 = !Time
V = 59
Value = 18430
IgnoreHitPause = 1

[State 0]
Type = ParentVarSet
Trigger1 = !Root,var(59) && var(59) = 18430 && Root,MoveType = H
V = 59
Value = 2
IgnoreHitPause = 1

[State -2, 1]
Type = VarSet
Trigger1 = GameTime%2 = 0
V = 0
Value = IfElse(Root,StateType=S,1,IfElse(Root,StateType=C,2,IfElse(Root,StateType=A,3,4)))
IgnoreHitPause = 1

[State -2, 2]
Type = VarSet
TriggerAll = GameTime%2 = 0
Trigger1 = Root,StateNo = 120
Trigger2 = Root,StateNo = 140
Trigger3 = Root,StateNo = 130
Trigger4 = Root,StateNo = 131
Trigger5 = Root,StateNo = [150,151]
Trigger6 = Root,StateNo = [152,153]
V = 1
Value = 1
IgnoreHitPause = 1

[State -2, 3]
Type = VarSet
TriggerAll = Var(1) > 0
Trigger1 = Root,StateNo != 120
Trigger1 = Root,StateNo != 130
Trigger1 = Root,StateNo != 131
Trigger1 = Root,StateNo != 140
Trigger1 = Root,StateNo != [150,151]
Trigger1 = Root,StateNo != [152,153]
V = 1
Value = 0
IgnoreHitPause = 1

[State -2, 4]
Type = VarSet
TriggerAll = HelPer(35000),Var(2) = 0
Trigger1 = HelPer(35000),Var(4) = HelPer(35000),Var(5)
Trigger1 = HelPer(35000),Var(4) != 0
Trigger1 = EnemyNear((Root,fvar(36))),StateNo = HelPer(35000),Var(4)
V = 2
Value = 1
IgnoreHitPause = 1

[State -2, 5]
Type = VarSet
TriggerAll = HelPer(35000),Var(2) = 0
Trigger1 = HelPer(35000),Var(4) = HelPer(35001),Var(5)
Trigger1 = HelPer(35000),Var(4) != 0
Trigger1 = EnemyNear((Root,fvar(36))),StateNo = HelPer(35000),Var(4)
V = 2
Value = 2
IgnoreHitPause = 1

[State -2, 6]
Type = VarSet
TriggerAll = HelPer(35000),Var(2) = 0
Trigger1 = HelPer(35001),Var(4) = HelPer(35000),Var(5)
Trigger1 = HelPer(35001),Var(4) != 0
Trigger1 = EnemyNear((Root,fvar(36))),StateNo = HelPer(35001),Var(4)
V = 2
Value = 3
IgnoreHitPause = 1

[State -2, 7]
Type = VarSet
TriggerAll = HelPer(35000),Var(2) = 0
Trigger1 = HelPer(35001),Var(4) = HelPer(35001),Var(5)
Trigger1 = HelPer(35001),Var(4) != 0
Trigger1 = EnemyNear((Root,fvar(36))),StateNo = HelPer(35001),Var(4)
V = 2
Value = 4
IgnoreHitPause = 1

[State -2, 8]
Type = VarSet
Trigger1 = HelPer(35000),Var(2) = 1
Trigger1 = EnemyNear((Root,fvar(36))),StateNo != HelPer(35000),Var(4)
Trigger2 = HelPer(35000),Var(2) = 2
Trigger2 = EnemyNear((Root,fvar(36))),StateNo != HelPer(35000),Var(4)
Trigger3 = HelPer(35000),Var(2) = 3
Trigger3 = EnemyNear((Root,fvar(36))),StateNo != HelPer(35001),Var(4)
Trigger4 = HelPer(35000),Var(2) = 4
Trigger4 = EnemyNear((Root,fvar(36))),StateNo != HelPer(35001),Var(4)
V = 2
Value = 0
IgnoreHitPause = 1

[State -2, 9]
Type = VarSet
TriggerAll = HelPer(35000),Var(3) = 0
TriggerAll = Root,StateType = A
Trigger1 = Root,StateNo = [5200,5299]
V = 3
Value = 1
IgnoreHitPause = 1

[State -2,10]
Type = VarSet
Trigger1 = HelPer(35000),Var(3) = 1
Trigger1 = Root,StateType != A
V = 3
Value = 0
IgnoreHitPause = 1
;=====================================================
[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(4) = 0
Trigger1 = Root,Var(56) < 0
Trigger1 = Root,Var(56) > -100000
V = 4
Value = -Root,Var(56)
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(5) = 0
Trigger1 = Root,Var(56) > 0
Trigger1 = Root,Var(56) < 100000
V = 5
Value = Root,Var(56)
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(6) = 0
Trigger1 = Root,Var(56) > 99999
V = 6
Value = Root,Var(56)/10000
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(7) = 0
Trigger1 = Root,Var(56) < -99999
V = 7
Value = -Root,Var(56)/10000
IgnoreHitPause = 1
;=====================================================
[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(8) = 0
Trigger1 = Root,Var(56) < 0
Trigger1 = Root,Var(56) > -100000
V = 8
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(9) = 0
Trigger1 = Root,Var(56) > 0
Trigger1 = Root,Var(56) < 100000
V = 9
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(10) = 0
Trigger1 = Root,Var(56) > 99999
V = 10
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(11) = 0
Trigger1 = Root,Var(56) < -99999
V = 11
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1
;=====================================================
[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) < 0
TriggerAll = Root,Var(56) > -100000
Trigger1 = HelPer(35000),Var(12) = 0
Trigger2 = HelPer(35000),Var(12) > 0
Trigger2 = Root,Var(56) = HelPer(35000),Var(4)
V = 12
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) > 0
TriggerAll = Root,Var(56) < 100000
Trigger1 = HelPer(35000),Var(13) = 0
Trigger2 = HelPer(35000),Var(13) > 0
Trigger2 = Root,Var(56) = HelPer(35000),Var(5)
V = 13
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) > 99999
Trigger1 = HelPer(35000),Var(14) = 0
Trigger2 = HelPer(35000),Var(14) > 0
Trigger2 = Root,Var(56) = HelPer(35000),Var(6)
V = 14
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) < -99999
Trigger1 = HelPer(35000),Var(15) = 0
Trigger2 = HelPer(35000),Var(15) > 0
Trigger2 = Root,Var(56) = HelPer(35000),Var(7)
V = 15
Value = 1
IgnoreHitPause = 1
;=====================================================
[State -2,11]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = Root,Var(57) = 0
V = 16
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2, 12]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = Root,Var(57) = 0
V = 17
Value = IfElse(EnemyNear((Root,fvar(36))),StateType=S,1,IfElse(EnemyNear((Root,fvar(36))),StateType=C,2,IfElse(EnemyNear((Root,fvar(36))),StateType=A,3,4)))
IgnoreHitPause = 1
;=====================================================
[State -2, 13]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(18) = 0
Trigger1 = Root,Var(57) > 0
Trigger1 = Root,Var(57) < 100000
V = 18
Value = Root,Var(57)
IgnoreHitPause = 1

[State -2, 14]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(19) = 0
Trigger1 = Root,Var(57) > 0
Trigger1 = Root,Var(57) < 100000
V = 19
Value = Var(16)
IgnoreHitPause = 1

[State -2, 15]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(57) > 0
TriggerAll = Root,Var(57) < 100000
Trigger1 = HelPer(35000),Var(20) = 0
V = 20
Value = 1
IgnoreHitPause = 1

[State -2, 16]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
Trigger1 = HelPer(35000),Var(21) = 1
Trigger1 = HelPer(35000),Var(18) = Root,Var(57)
V = 20
Value = 1
IgnoreHitPause = 1

[State -2, 17]
Type = VarSet
Trigger1 = HelPer(35000),Var(18) != 0
Trigger1 = Root,MoveType != H
V = 21
Value = 1
IgnoreHitPause = 1

[State -2, 18]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(18) = 0
Value = 0
First = 19
Last = 20
IgnoreHitPause = 1

[State -2, 19]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(22) = 0
Trigger1 = Root,Var(57) < 0
Trigger1 = Root,Var(57) > -100000
V = 22
Value = -Root,Var(57)
IgnoreHitPause = 1

[State -2, 20]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(23) = 0
Trigger1 = Root,Var(57) < 0
Trigger1 = Root,Var(57) > -100000
V = 23
Value = Var(16)
IgnoreHitPause = 1

[State -2, 21]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = Root,Var(57) < 0
Trigger1 = Root,Var(57) > -100000
Trigger1 = HelPer(35000),Var(24) = 0
V = 24
Value = 1
IgnoreHitPause = 1

[State -2, 22]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
Trigger1 = HelPer(35000),Var(25) = 1
Trigger1 = HelPer(35000),Var(22) = -Root,Var(57)
V = 24
Value = 1
IgnoreHitPause = 1

[State -2, 23]
Type = VarSet
Trigger1 = HelPer(35000),Var(22) != 0
Trigger1 = Root,MoveType != H
V = 25
Value = 1
IgnoreHitPause = 1

[State -2, 24]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(22) = 0
Value = 0
First = 23
Last = 24
IgnoreHitPause = 1

[State -2, 25]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(26) = 0
Trigger1 = Root,Var(57) > 99999
V = 26
Value = Root,Var(57)/10000
IgnoreHitPause = 1

[State -2, 26]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(27) = 0
Trigger1 = Root,Var(57) > 99999
V = 27
Value = Var(16)
IgnoreHitPause = 1

[State -2, 27]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = Root,Var(57) > 99999
Trigger1 = HelPer(35000),Var(28) = 0
V = 28
Value = 1
IgnoreHitPause = 1

[State -2, 28]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
Trigger1 = HelPer(35000),Var(29) = 1
Trigger1 = HelPer(35000),Var(26) = Root,Var(57)/10000
V = 28
Value = 1
IgnoreHitPause = 1

[State -2, 29]
Type = VarSet
Trigger1 = HelPer(35000),Var(26) != 0
Trigger1 = Root,MoveType != H
V = 29
Value = 1
IgnoreHitPause = 1

[State -2, 30]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(26) = 0
Value = 0
First = 27
Last = 28
IgnoreHitPause = 1

[State -2, 31]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(30) = 0
Trigger1 = Root,Var(57) < -99999
V = 30
Value = -Root,Var(57)/10000
IgnoreHitPause = 1

[State -2, 32]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(31) = 0
Trigger1 = Root,Var(57) < -99999
V = 31
Value = Var(16)
IgnoreHitPause = 1

[State -2, 33]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = Root,Var(57) < -99999
Trigger1 = HelPer(35000),Var(32) = 0
V = 32
Value = 1
IgnoreHitPause = 1

[State -2, 34]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
Trigger1 = HelPer(35000),Var(33) = 1
Trigger1 = HelPer(35000),Var(30) = -Root,Var(57)/10000
V = 32
Value = 1
IgnoreHitPause = 1

[State -2, 35]
Type = VarSet
Trigger1 = HelPer(35000),Var(30) != 0
Trigger1 = Root,MoveType != H
V = 33
Value = 1
IgnoreHitPause = 1

[State -2, 36]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(30) = 0
Value = 0
First = 31
Last = 32
IgnoreHitPause = 1
;=====================================================
[State -2, 37]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(21) = 1
TriggerAll = HelPer(35000),Var(34) = 0
TriggerAll = HelPer(35000),Var(18) != Root,Var(57)
Trigger1 = Root,Var(57) > 0
Trigger1 = Root,Var(57) < 100000
V = 34
Value = Root,Var(57)
IgnoreHitPause = 1

[State -2, 38]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(21) = 1
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(35) = 0
Trigger1 = Root,Var(57) > 0
Trigger1 = Root,Var(57) < 100000
V = 35
Value = Var(16)
IgnoreHitPause = 1

[State -2, 39]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(34) != 0
TriggerAll = Root,Var(57) > 0
TriggerAll = Root,Var(57) < 100000
Trigger1 = HelPer(35000),Var(36) = 0
V = 36
Value = 1
IgnoreHitPause = 1

[State -2, 40]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
TriggerAll = HelPer(35000),Var(37) = 1
Trigger1 = HelPer(35000),Var(34) = Root,Var(57)
V = 36
Value = 1
IgnoreHitPause = 1

[State -2, 41]
Type = VarSet
Trigger1 = HelPer(35000),Var(34) != 0
Trigger1 = Root,MoveType != H
V = 37
Value = 1
IgnoreHitPause = 1

[State -2, 42]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(34) = 0
Value = 0
First = 35
Last = 36
IgnoreHitPause = 1

[State -2, 43]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(25) = 1
TriggerAll = HelPer(35000),Var(38) = 0
TriggerAll = HelPer(35000),Var(22) != -Root,Var(57)
Trigger1 = Root,Var(57) < 0
Trigger1 = Root,Var(57) > -100000
V = 38
Value = -Root,Var(57)
IgnoreHitPause = 1

[State -2, 44]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(25) = 1
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(39) = 0
Trigger1 = Root,Var(57) < 0
Trigger1 = Root,Var(57) > -100000
V = 39
Value = Var(16)
IgnoreHitPause = 1

[State -2, 45]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(38) != 0
TriggerAll = Root,Var(57) < 0
TriggerAll = Root,Var(57) > -100000
Trigger1 = HelPer(35000),Var(40) = 0
V = 40
Value = 1
IgnoreHitPause = 1

[State -2, 46]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
TriggerAll = HelPer(35000),Var(41) = 1
Trigger1 = HelPer(35000),Var(38) = -Root,Var(57)
V = 40
Value = 1
IgnoreHitPause = 1

[State -2, 47]
Type = VarSet
Trigger1 = HelPer(35000),Var(38) != 0
Trigger1 = Root,MoveType != H
V = 41
Value = 1
IgnoreHitPause = 1

[State -2, 48]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(38) = 0
Value = 0
First = 39
Last = 40
IgnoreHitPause = 1

[State -2, 49]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(29) = 1
TriggerAll = HelPer(35000),Var(42) = 0
TriggerAll = HelPer(35000),Var(26) != Root,Var(57)/10000
Trigger1 = Root,Var(57) > 99999
V = 42
Value = Root,Var(57)/10000
IgnoreHitPause = 1

[State -2, 50]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(29) = 1
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(43) = 0
Trigger1 = Root,Var(57) > 99999
V = 43
Value = Var(16)
IgnoreHitPause = 1

[State -2, 51]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(42) != 0
TriggerAll = Root,Var(57) > 99999
Trigger1 = HelPer(35000),Var(45) = 0
V = 44
Value = 1
IgnoreHitPause = 1

[State -2, 52]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
TriggerAll = HelPer(35000),Var(45) = 1
Trigger1 = HelPer(35000),Var(42) = Root,Var(57)/10000
V = 44
Value = 1
IgnoreHitPause = 1

[State -2, 53]
Type = VarSet
Trigger1 = HelPer(35000),Var(42) != 0
Trigger1 = Root,MoveType != H
V = 45
Value = 1
IgnoreHitPause = 1

[State -2, 54]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(42) = 0
Value = 0
First = 43
Last = 44
IgnoreHitPause = 1

[State -2, 55]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35000),Var(33) = 1
TriggerAll = HelPer(35000),Var(46) = 0
TriggerAll = HelPer(35000),Var(30) != -Root,Var(57)/10000
Trigger1 = Root,Var(57) < -99999
V = 46
Value = -Root,Var(57)/10000
IgnoreHitPause = 1

[State -2, 56]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(33) = 1
TriggerAll = Root,MoveType = H
TriggerAll = Root,StateNo != [120,155]
TriggerAll = HelPer(35000),Var(47) = 0
Trigger1 = Root,Var(57) < -99999
V = 47
Value = Var(16)
IgnoreHitPause = 1

[State -2, 57]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = HelPer(35000),Var(46) != 0
TriggerAll = Root,Var(57) < -99999
Trigger1 = HelPer(35000),Var(49) = 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -2, 58]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType != H
TriggerAll = HelPer(35000),Var(49) = 1
Trigger1 = HelPer(35000),Var(46) = -Root,Var(57)/10000
V = 48
Value = 1
IgnoreHitPause = 1

[State -2, 59]
Type = VarSet
Trigger1 = HelPer(35000),Var(46) != 0
Trigger1 = Root,MoveType != H
V = 49
Value = 1
IgnoreHitPause = 1

[State -2, 60]
Type = VarRangeSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
Trigger1 = HelPer(35000),Var(46) = 0
Value = 0
First = 47
Last = 48
IgnoreHitPause = 1

[State -2, 61]
Type = DestroySelf
trigger1 = Root,palno = 12
;=====================================================
[StateDef 35001]
Anim = 99998
Ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = time > 1
trigger1 = anim != helper(35002),var(5) - 1
value = helper(35002),var(5) - 1

[State 0]
type = HitBy
trigger1 = 1
value =
value2 =
time = 1
ignorehitpause = 1

[State 0]
type = BindToRoot
Trigger1 = numenemy = 1
pos = -33,0
facing = ifelse(helper(35002),pos x > Root,pos x,1,-1)
ignorehitpause = 1

[State 0]
type = BindToRoot
Trigger1 = numenemy = 2
pos = 0,15
facing = ifelse(helper(35002),pos x > Root,pos x,1,-1)
ignorehitpause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(4) = 0
TriggerAll = HelPer(35000),Var(4) != 0
TriggerAll = Root,Var(56) < 0
TriggerAll = Root,Var(56) > -100000
Trigger1 = Root,Var(56) != -HelPer(35000),Var(4)
V = 4
Value = -Root,Var(56)
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(5) = 0
TriggerAll = HelPer(35000),Var(5) != 0
TriggerAll = Root,Var(56) > 0
TriggerAll = Root,Var(56) < 100000
Trigger1 = Root,Var(56) != HelPer(35000),Var(5)
V = 5
Value = Root,Var(56)
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(6) = 0
TriggerAll = HelPer(35000),Var(6) != 0
TriggerAll = Root,Var(56) > 99999
Trigger1 = Root,Var(56) != HelPer(35000),Var(6)
V = 6
Value = Root,Var(56)/10000
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(7) = 0
TriggerAll = HelPer(35000),Var(7) != 0
TriggerAll = Root,Var(56) < -99999
Trigger1 = Root,Var(56) != HelPer(35000),Var(7)
V = 7
Value = -Root,Var(56)/10000
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(8) = 0
TriggerAll = HelPer(35000),Var(4) != 0
Trigger1 = Root,Var(56) < 0
Trigger1 = Root,Var(56) > -100000
V = 8
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(9) = 0
TriggerAll = HelPer(35000),Var(5) != 0
Trigger1 = Root,Var(56) > 0
Trigger1 = Root,Var(56) < 100000
V = 9
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(10) = 0
TriggerAll = HelPer(35000),Var(6) != 0
Trigger1 = Root,Var(56) > 99999
V = 10
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarSet
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,MoveType = H
TriggerAll = HelPer(35001),Var(11) = 0
TriggerAll = HelPer(35000),Var(7) != 0
Trigger1 = Root,Var(56) < -99999
V = 11
Value = EnemyNear((Root,fvar(36))),Time
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) < 0
TriggerAll = Root,Var(56) > -100000
TriggerAll = HelPer(35001),Var(4) != 0
Trigger1 = HelPer(35001),Var(12) = 0
Trigger2 = HelPer(35001),Var(12) > 0
Trigger2 = Root,Var(56) = HelPer(35001),Var(4)
V = 12
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) > 0
TriggerAll = Root,Var(56) < 100000
TriggerAll = HelPer(35001),Var(5) != 0
Trigger1 = HelPer(35001),Var(13) = 0
Trigger2 = HelPer(35001),Var(13) > 0
Trigger2 = Root,Var(56) = HelPer(35001),Var(5)
V = 13
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) > 99999
TriggerAll = HelPer(35001),Var(6) != 0
Trigger1 = HelPer(35001),Var(14) = 0
Trigger2 = HelPer(35001),Var(14) > 0
Trigger2 = Root,Var(56) = HelPer(35001),Var(6)
V = 14
Value = 1
IgnoreHitPause = 1

[State -2]
Type = VarAdd
TriggerAll = Root,Var(59) > 0
TriggerAll = RoundState = 2
TriggerAll = Root,Var(56) < -99999
TriggerAll = HelPer(35001),Var(7) != 0
Trigger1 = HelPer(35001),Var(15) = 0
Trigger2 = HelPer(35001),Var(15) > 0
Trigger2 = Root,Var(56) = HelPer(35001),Var(7)
V = 15
Value = 1
IgnoreHitPause = 1


[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(4) = HelPer(35000),Var(4)
V = 4
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(5) = HelPer(35000),Var(5)
V = 5
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(6) = HelPer(35000),Var(6)
V = 6
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(7) = HelPer(35000),Var(7)
V = 7
Value = 0
IgnoreHitPause = 1


[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(4) = 0
V = 8
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(5) = 0
V = 9
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(6) = 0
V = 10
Value = 0
IgnoreHitPause = 1
[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(7) = 0
V = 11
Value = 0
IgnoreHitPause = 1


[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(4) = 0
V = 12
Value = 0
IgnoreHitPause = 1

[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(5) = 0
V = 13
Value = 0
IgnoreHitPause = 1

[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(6) = 0
V = 14
Value = 0
IgnoreHitPause = 1

[State -2]
Type = VarSet
Trigger1 = HelPer(35001),Var(7) = 0
V = 15
Value = 0
IgnoreHitPause = 1

[State -2]
Type = DestroySelf
trigger1 = !numhelper(35000)
;-------------------------------------------------------------------------------
[StateDef 35002]
anim = 99999
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = time > 1
trigger1 = anim != helper(35002),var(5)
value = helper(35002),var(5)
IgnoreHitPause = 1

[State 0]
type = BindToRoot
trigger1 = 1
facing = 1
pos = 75,-65

[State 0]
Type = Null
Triggerall = !Time
Trigger1 = var(1) := -8
Trigger1 = var(2) := -8
Trigger1 = var(3) := -8
Trigger1 = var(4) := -8
Trigger1 = var(6) := -8
IgnoreHitPause = 1

[State 0, 0]
Type = VarSet
trigger1 = var(0) != Root,fvar(36)
var(0) = Root,fvar(36)

[State 0, 1]
Type = VarSet
Trigger1 = EnemyNear(var(0)),NumProj = [2,4]
Trigger1 = EnemyNear(var(0)),AnimTime >= -1
Trigger1 = Helper(35002),var(1) = -8
var(1) = EnemyNear(var(0)),StateNo
IgnoreHitPause = 1

[State 0, 2]
Type = VarSet
Trigger1 = EnemyNear(var(0)),NumProj = [2,4]
Trigger1 = EnemyNear(var(0)),AnimTime >= -1
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(1)
Trigger1 = Helper(35002),var(1) != -8
Trigger1 = Helper(35002),var(2)  = -8
var(2) = EnemyNear(var(0)),StateNo
IgnoreHitPause = 1

[State 0, 3]
Type = VarSet
Trigger1 = EnemyNear(var(0)),NumProj = [2,4]
Trigger1 = EnemyNear(var(0)),AnimTime >= -1
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(1)
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(2)
Trigger1 = Helper(35002),var(1) != -8
Trigger1 = Helper(35002),var(2) != -8
Trigger1 = Helper(35002),var(3)  = -8
var(3) = EnemyNear(var(0)),StateNo
IgnoreHitPause = 1

[State 0, 4]
Type = VarSet
Trigger1 = EnemyNear(var(0)),NumProj = [2,4]
Trigger1 = EnemyNear(var(0)),AnimTime >= -1
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(1)
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(2)
Trigger1 = EnemyNear(var(0)),StateNo != Helper(35002),var(3)
Trigger1 = Helper(35002),var(1) != -8
Trigger1 = Helper(35002),var(2) != -8
Trigger1 = Helper(35002),var(3) != -8
Trigger1 = Helper(35002),var(4)  = -8
var(4) = EnemyNear(var(0)),StateNo
IgnoreHitPause = 1

[State 0, 5]
Type = Null
Trigger1 = Root,life >  400 || !time || !var(5)
Trigger1 = var(5) := 99999
Trigger2 = Root,life <= 400
Trigger2 = animelem = 1, > 5
Trigger2 = var(5)  = 99999
Trigger2 = var(5) := 99997
Trigger3 = Root,life <= 400
Trigger3 = animelem = 1, > 5
Trigger3 = var(5)  = 99997
Trigger3 = var(5) := 99999
IgnoreHitPause = 1

[State 0, 6]
Type = VarSet
Trigger1 = Helper(35002),var(6) = -8 && Root,MoveReversed
var(6) = EnemyNear(var(0)),Stateno
IgnoreHitPause = 1

[State 0, 7]
Type = VarSet
Trigger1 = Helper(35002),var(7) != Root,life
var(7) = Root,life
IgnoreHitPause = 1

[State 0, 8]
Type = VarSet
Trigger1 = Helper(35002),var(8) != EnemyNear(var(0)),life
var(8) = EnemyNear(var(0)),life
IgnoreHitPause = 1

[State 0, 9]
type = Null
trigger1 = !InGuardDist || (Enemy(0),numproj = 0 && Enemy(1),numproj = 0)
trigger1 = var(9) := 0
trigger2 = InGuardDist
trigger2 = Enemy(0),numproj = 1 || Enemy(1),numproj = 1
trigger2 = var(9) := 1
trigger3 = (Enemy(0),numproj = [2,4]) || (Enemy(1),numproj = [2,4])
trigger3 = var(9) := 2
trigger4 = Enemy(0),numproj > 4 || Enemy(1),numproj > 4
trigger4 = var(9) := 3
IgnoreHitPause = 1

[State 0, 10]
type = HitBy
trigger1 = ishelper
value =

[State 0, 11]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, 12]
type = SelfState
trigger1 = !ishelper
value = 5201

[State 0, DisplayToClipBoard]
Type = DisplayToClipBoard
trigger1 = IsHelper
Text = "(0)=%d,(1)=%d,(2)=%d,(3)=%d,(4)=%d"
Params = var(0),var(1),var(2),var(3),var(4)
IgnoreHitPause = 1

[State 0, AppendToClipboard]
type = AppendToClipboard
trigger1 = IsHelper
text = "\n(5)=%d,(6)=%d,(7)=%d,(8)=%d,(9)=%d"
params = var(5),var(6),var(7),var(8),var(9)
ignorehitpause = 1

[State 0, 13]
Type = DestroySelf
trigger1 = !numhelper(35000)
;-------------------------------------------------------------------------------
[StateDef 100000]
anim = 99998
ctrl = 0

[State 0]
type = BindToParent
trigger1 = 1
pos = 0,-125

[state 1]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3]
type = Turn
trigger1 = time = 0
trigger1 = teamside = 2

[State 4]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 5]
type = SelfState
trigger1 = !ishelper
value = 5201

[State 6]
type = HitBy
trigger1 = 1
value =

[State 7]
type = VarSet
TriggerAll = isHelper
Trigger1 = command = "holdup" && root,command = "holdup"
Trigger2 = command = "holddown" && root,command = "holddown"
Trigger3 = command = "holdback" && root,command = "holdback"
Trigger4 = command = "holdfwd" && root,command = "holdfwd"
Trigger5 = command = "a" && root,command = "a"
Trigger6 = command = "b" && root,command = "b"
Trigger7 = command = "c" && root,command = "c"
Trigger8 = command = "x" && root,command = "x"
Trigger9 = command = "y" && root,command = "y"
Trigger10 = command = "z" && root,command = "z"
Trigger11 = command = "start" && root,command = "start"
Trigger12 = command = "holdup2" && root,command = "holdup2"
Trigger13 = command = "holddown2" && root,command = "holddown2"
Trigger14 = command = "holdback2" && root,command = "holdback2"
Trigger15 = command = "holdfwd2" && root,command = "holdfwd2"
Trigger16 = command = "a2" && root,command = "a2"
Trigger17 = command = "b2" && root,command = "b2"
Trigger18 = command = "c2" && root,command = "c2"
Trigger19 = command = "x2" && root,command = "x2"
Trigger20 = command = "y2" && root,command = "y2"
Trigger21 = command = "z2" && root,command = "z2"
Trigger22 = command = "start2" && root,command = "start2"
Trigger23 = command = "holdup" && root,command = "holdup2"
Trigger24 = command = "holddown" && root,command = "holddown2"
Trigger25 = command = "holdback" && root,command = "holdback2"
Trigger26 = command = "holdfwd" && root,command = "holdfwd2"
Trigger27 = command = "a" && root,command = "a2"
Trigger28 = command = "b" && root,command = "b2"
Trigger29 = command = "c" && root,command = "c2"
Trigger30 = command = "x" && root,command = "x2"
Trigger31 = command = "y" && root,command = "y2"
Trigger32 = command = "z" && root,command = "z2"
Trigger33 = command = "start" && root,command = "start2"
Trigger34 = command = "holdup2" && root,command = "holdup"
Trigger35 = command = "holddown2" && root,command = "holddown"
Trigger36 = command = "holdback2" && root,command = "holdback"
Trigger37 = command = "holdfwd2" && root,command = "holdfwd"
Trigger38 = command = "a2" && root,command = "a"
Trigger39 = command = "b2" && root,command = "b"
Trigger40 = command = "c2" && root,command = "c"
Trigger41 = command = "x2" && root,command = "x"
Trigger42 = command = "y2" && root,command = "y"
Trigger43 = command = "z2" && root,command = "z"
Trigger44 = command = "start2" && root,command = "start"
var(59) = -1

[State 8]
Type = DestroySelf
TriggerAll = isHelper
Trigger1 = command = "holdup" && root,command = "holdup"
Trigger2 = command = "holddown" && root,command = "holddown"
Trigger3 = command = "holdback" && root,command = "holdback"
Trigger4 = command = "holdfwd" && root,command = "holdfwd"
Trigger5 = command = "a" && root,command = "a"
Trigger6 = command = "b" && root,command = "b"
Trigger7 = command = "c" && root,command = "c"
Trigger8 = command = "x" && root,command = "x"
Trigger9 = command = "y" && root,command = "y"
Trigger10 = command = "z" && root,command = "z"
Trigger11 = command = "start" && root,command = "start"
Trigger12 = command = "holdup2" && root,command = "holdup2"
Trigger13 = command = "holddown2" && root,command = "holddown2"
Trigger14 = command = "holdback2" && root,command = "holdback2"
Trigger15 = command = "holdfwd2" && root,command = "holdfwd2"
Trigger16 = command = "a2" && root,command = "a2"
Trigger17 = command = "b2" && root,command = "b2"
Trigger18 = command = "c2" && root,command = "c2"
Trigger19 = command = "x2" && root,command = "x2"
Trigger20 = command = "y2" && root,command = "y2"
Trigger21 = command = "z2" && root,command = "z2"
Trigger22 = command = "start2" && root,command = "start2"
Trigger23 = command = "holdup" && root,command = "holdup2"
Trigger24 = command = "holddown" && root,command = "holddown2"
Trigger25 = command = "holdback" && root,command = "holdback2"
Trigger26 = command = "holdfwd" && root,command = "holdfwd2"
Trigger27 = command = "a" && root,command = "a2"
Trigger28 = command = "b" && root,command = "b2"
Trigger29 = command = "c" && root,command = "c2"
Trigger30 = command = "x" && root,command = "x2"
Trigger31 = command = "y" && root,command = "y2"
Trigger32 = command = "z" && root,command = "z2"
Trigger33 = command = "start" && root,command = "start2"
Trigger34 = command = "holdup2" && root,command = "holdup"
Trigger35 = command = "holddown2" && root,command = "holddown"
Trigger36 = command = "holdback2" && root,command = "holdback"
Trigger37 = command = "holdfwd2" && root,command = "holdfwd"
Trigger38 = command = "a2" && root,command = "a"
Trigger39 = command = "b2" && root,command = "b"
Trigger40 = command = "c2" && root,command = "c"
Trigger41 = command = "x2" && root,command = "x"
Trigger42 = command = "y2" && root,command = "y"
Trigger43 = command = "z2" && root,command = "z"
Trigger44 = command = "start2" && root,command = "start"
Trigger45 = root,var(59) || var(59) = -1

[State 9]
Type = VarSet
TriggerAll = isHelper
TriggerAll = var(59) != -1
Trigger1 = Root,Command = "holddown" ^^ Root,Command = "holddown2" ^^ Command = "holddown" ^^ Command = "holddown2"
Trigger2 = Root,Command = "holdback" ^^ Root,Command = "holdback2" ^^ Command = "holdback" ^^ Command = "holdback2"
Trigger3 = Root,Command = "holdfwd" ^^ Root,Command = "holdfwd2" ^^ Command = "holdfwd" ^^ Command = "holdfwd2"
Trigger4 = Root,Command = "holdup" ^^ Root,Command = "holdup2" ^^ Command = "holdup" ^^ Command = "holdup2"
Trigger5 = Root,Command = "start" ^^ Root,Command = "start2" ^^ Command = "start" ^^ Command = "start2"
Trigger6 = Root,Command = "a" ^^ Root,Command = "a2" ^^ Command = "a" ^^ Command = "a2"
Trigger7 = Root,Command = "b" ^^ Root,Command = "b2" ^^ Command = "b" ^^ Command = "b2"
Trigger8 = Root,Command = "c" ^^ Root,Command = "c2" ^^ Command = "c" ^^ Command = "c2"
Trigger9 = Root,Command = "x" ^^ Root,Command = "x2" ^^ Command = "x" ^^ Command = "x2"
Trigger10 = Root,Command = "y" ^^ Root,Command = "y2" ^^ Command = "y" ^^ Command = "y2"
Trigger11 = Root,Command = "z" ^^ Root,Command = "z2" ^^ Command = "z" ^^ Command = "z2"
var(59) = 1

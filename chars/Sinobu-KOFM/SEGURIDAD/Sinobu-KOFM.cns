[Data]
life              = 3000
power             = 5000
attack            = 70
defence           = 70
fall.defence_up   = 50
liedown.time      = 50
airjuggle         = 15
sparkno           = 1
guard.sparkno     = 40
KO.echo           = 0
volume            = 50
intpersistindex   = 50
floatpersistindex = 40
;---------------------------------------------------------------------------
[Size]
xscale           = 1
yscale           = 1
ground.back      = 15
ground.front     = 16
air.back         = 12
air.front        = 12
height           = 60
attack.dist      = 160
proj.attack.dist = 90
proj.doscale     = 0
head.pos         = 0, -110
mid.pos          = 0, -75
shadowoffset     = 0
draw.offset      = 0,0
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.5
walk.back    = -2.4
run.fwd      = 7.2, 0
run.back     = -6.2,-3
jump.neu     = 0,-9.2
jump.back    = -3.4
jump.fwd     = 3.6
runjump.back = -2.55,-8.1
runjump.fwd  = 4.2,-8.7
airjump.neu  = 0,-8.1
airjump.back = -4.4
airjump.fwd  = 4.6
;---------------------------------------------------------------------------
[Movement]
airjump.num     = 0
airjump.height  = 35
yaccel          = .52
stand.friction  = .85
crouch.friction = .82
;---------------------------------------------------------------------------
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4]
type = DestroySelf
trigger1 = ishelper

[State 0, 5]
type = ChangeState
trigger1 = !alive
value = 5050
;---------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180,]
type = VarRandom
trigger1 = 1
v = 22
range = 0,2

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 0
value = 181

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 1
value = 182

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 2
value = 183

;---------------------------------------------------------------------------
;Win 1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S10,7

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S12,3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S12,16

[State 1000, Explod]
type = Explod
trigger1 = animelem = 6
anim = 191
ID = 1
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = animelem = 6
anim = 191
ID = 1
pos = -50,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = animelem = 6
anim = 191
ID = 1
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 8

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 120
id = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = -50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 8

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------------------------------------------
;Win 2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S10,3

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------------------------------------------
;Win 3
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 1000, Explod]
type = Explod
trigger1 = time = [0,63]
trigger1 = gametime%12 = 0
anim = 4050
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = time = [0,63]
trigger1 = gametime%12 = 0
value = 255,255,255
time = 1
under = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S12,5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 22
value = s4,0
volumescale = 50

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 31
value = S10,3

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover

;---------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 190, PlaySnd]
type = PlaySnd
triggerall = roundno = 1
trigger1 = time = 0
value = S2300,0
volumescale = 100

[State 190,対デコ助]
type = ChangeState
trigger1 = p2name = "Amoumi" | p4name = "Amoumi"
value = 194

[State 180,]
type = VarRandom
trigger1 = 1
v = 22
range = 0,2

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 0
value = 191

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 1
value = 192

[State 180,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(22) = 2
value = 193
;---------------------------------------------------------------------------
;Intro 1
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S12,3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S12,16

[State 1000, Explod]
type = Explod
trigger1 = time = 20
anim = 191
ID = 1
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = 20
anim = 191
ID = 1
pos = -50,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = 20
anim = 191
ID = 1
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 8

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 120
id = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 8

[State 1000, Explod]
type = Explod
trigger1 = time = 120
anim = 1022
ID = 2
pos = -50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 8

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro 2
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0
sprpriority = 2

[State 1000, Explod]
type = Explod
trigger1 = time = [150,215]
trigger1 = gametime%12 = 0
anim = 1024
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 70,0
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = time = [150,215]
trigger1 = gametime%12 = 0
anim = 1024
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 70,0
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = [150,215]
trigger1 = gametime%12 = 0
anim = 4050
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = time = [150,215]
trigger1 = gametime%12 = 0
value = 255,255,255
time = 1
under = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = [150,215]
trigger1 = gametime%15 = 0
time = 10
freq = 100
ampl = -4

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = [150,215]
trigger1 = Random < 100
value = S12,11

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = [150,215]
trigger1 = Random < 100
value = S12,9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S12,15

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro 3
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S10,5

[State 1000, Explod]
type = Explod
trigger1 = time = [248,312]
trigger1 = gametime%12 = 0
anim = 1024
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 70,0
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = time = [248,312]
trigger1 = gametime%12 = 0
anim = 1024
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 70,0
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = [248,312]
trigger1 = gametime%12 = 0
anim = 4050
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = time = [248,312]
trigger1 = gametime%12 = 0
value = 255,255,255
time = 1
under = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = [248,312]
trigger1 = gametime%15 = 0
time = 10
freq = 100
ampl = -4

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = [248,312]
trigger1 = Random < 100
value = S12,11

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = [248,312]
trigger1 = Random < 100
value = S12,9

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro 4
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 191, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1000, Explod]
type = Explod
trigger1 = animelem = 5
anim = 211
pos = 21,-98
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S12,2
volume = 100

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 195]
type     = S
movetype = I
physics  = S
anim     = 195
velset   = 0,0
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 195, コントロール可否]
type = CtrlSet
triggerall = !winko
trigger1 = AnimElem = 5
value = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S10,9

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;AI
[Statedef 19]
type    = S
physics = S
sprpriority = 0
anim = 21
Ctrl = 0

[State 19, 1]
type = Turn
trigger1 = P2dist X < 0

[State 19, 2]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 19, 3]
type = ChangeState
trigger1 = roundstate != 2
trigger2 = inguarddist || p2movetype = A
trigger3 = BackEdgeBodyDist <= 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;AI
[Statedef 21]
type    = S
physics = S
sprpriority = 0
anim = 20
Ctrl = 0

[State 19, 1]
type = Turn
trigger1 = P2dist X < 0

[State 21, 2]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 21, 3]
type = changestate
trigger1 = roundstate != 2
trigger2 = inguarddist || p2movetype = A
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 20, 5]
type = ChangeState
trigger1 = var(59)
trigger1 = roundstate != 2
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = !var(59)

[State 100, 1]
type = VelSet
trigger1 = AnimElemtime(2) >= 0
x = const(velocity.run.fwd.x)

[State 191,]
type = PlaySnd
triggerall = time = 1
trigger1 = Alive
value = s12,0
channel = 6

[State 100,]
type = StopSnd
trigger1 = Anim != 100
channel = 6

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
triggerall = !var(59)
trigger1 = command = "holdup"
value = 40

[State 100, DashStop]
type = ChangeState
triggerall = var(59)
trigger1 = P2BodyDist X <= 20
trigger2 = roundstate != 2
value = 0
ctrl = 1

[State 100, DashStop]
type = ChangeState
triggerall = var(59) && !var(30)
trigger1 = InGuardDist
trigger2 = P2Movetype = A
trigger3 = P2BodyDist X <= 50
value = 0
ctrl = 1

[State 100, 5.1]
type = ChangeState
triggerall = !var(59)
trigger1 = command != "holdfwd"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 191,]
type = PlaySnd
triggerall = AnimElem = 2
trigger1 = Alive
value = s5,1

[State 105, 1]
type = VelSet
trigger1 = AnimElem = 2
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 3]
type = ChangeState
trigger1 = AnimElemtime(2) >= 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
;---------------------------------------------------------------------------
; RUN_BACK2 (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 0
pos = -5,-2
spacing = 1

[State 106, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 40, AI]
Type = SelfState
Trigger1 = var(59) > 1
value = 0
ctrl = 1

[State 40, 1]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 40, 1]
type = VarSet
trigger1 = command != "holdup"
var(4) = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 4];小ジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -5.7

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.airjump.fwd.x) + 1.5

[State 191,]
type = PlaySnd
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
trigger1 = Alive
value = s3,2
channel = 4

[State 191,]
type = PlaySnd
triggerall = time = 0
;triggerall = Var(4) = 0
triggerall = Var(3) != 0
trigger1 = Alive
value = s3,2
channel = 4

[State 191,]
type = PlaySnd
triggerall = time = 0
triggerall = Var(4) = 0
triggerall = Var(3) = 0
trigger1 = Alive
trigger1 = prevstateno != 100 ;RUN_FWD
value = s3,1
channel = 4

[State 120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = time >= 0
value = , NT,ST,HT

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
;trigger1 = Var(4) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2];小ジャンプ
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = Var(4) = 1
value = 49

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3
;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0,0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s4,0
volumescale = 50

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, NotHitBy];No Recibir Golpes al Tocar el Piso
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 1

[State 52, 3]
type = changestate
trigger1 = time = 1 && command = "holdup"
value = 40
ctrl = 0

[State 52, CtrlSet]
type = CtrlSet
triggerall = command != "holdup"
trigger1 = time = 0
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ふっとばし
[Statedef 300]
type     = S
movetype = A
physics  = S
juggle   = ifelse(P2movetype=H,8,15)
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 300
sprpriority = 3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
anim = 7130
pos = 0,-65
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State 1000, PowerAdd]
type = PowerAdd
trigger1 = prevstateno != [150,154]
trigger1 = time = 0
value = 40
ignorehitpause = 1

[State 300,]
type = PowerAdd
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
value = -1000

[State 300,]
type = NotHitBy
trigger1 = prevstateno = [150,154]
trigger1 = 1
value = SCA

[State 300,]
type = palfx
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
time = 5
add = 230,230,230

[State 2000, SuperPause]
type = SuperPause
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
anim = -1
movetime = 10
time = 10
darken = 0

[State 300, ステート変更]
type = ChangeAnim
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
value = 305

[State 1000, Explod]
type = Explod
trigger1 = animelem = 6
anim = 301
pos = 30,-80
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S12,13

[State 300, ヒット定義]
type = HitDef
trigger1 = prevstateno = [150,154]
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 80
pausetime = 10,12
sparkno = s4010
sparkxy = -20,-75
hitsound   = s1,4
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
air.fall = 1
fall.recover = 0
kill = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .5
getpower = 0,0
givepower = 15,15

[State 300 , 1]
type = HitDef
trigger1 = prevstateno != [150,154]
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 80
priority = 3
pausetime = 10,12
sparkno = s4010
guard.sparkno = s4110
sparkxy = -20,-75
hitsound = s1,4
hitflag = MAF
guardflag = MA
guardsound = s2,1
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
air.fall = 1
fall.recover = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .5
getpower = 35,35
givepower = 16,16

[State 300, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 700]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 700
ctrl     = 0
velset   = 0,0
sprpriority = -2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
anim = 7130
pos = 11,-55
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State 2000, SuperPause]
type = SuperPause
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
anim = -1
movetime = 10
time = 10
darken = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 1000, Afterimage]
type = Afterimage
trigger1 = prevstateno != [150,154]
trigger1 = time = 0
time = 25
length = 10
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1
framegap = 2
trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = stateno = 700
trigger1 = time%2 = 0 && Time < 20
time = 2

[State 700,]
type = Poweradd
triggerall = time = 0
trigger1 = prevstateno = [150,154]
value = -1000

[State 700,]
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [150,154]
time = 5
add = 256,256,256

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,0
channel = 4

[State 2100, 非無敵]
type = HitBy
trigger1 = prevstateno != [150,154]
value = S, NT, ST, HT

[State 2100, 非無敵]
type = HitBy
trigger1 = prevstateno != [150,154]
trigger1 = AnimElemtime(8) <= 0
value2 =

[State 2100, 非無敵]
type = HitBy
trigger1 = prevstateno = [150,154]
value =

[State 2110, 移動量]
type = VelSet
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(7) <= 0
x = 7.2

[State 2110, 移動量]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 2100, 相手と重なった場合]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 2100, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 710]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 710
ctrl     = 0
velset   = 0,0
sprpriority = -2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
trigger1 = prevstateno = [150,154]
trigger1 = time = 0
anim = 7130
pos = -11,-55
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,0
channel = 4

[State 700,]
type = Poweradd
triggerall = time = 0
trigger1 = prevstateno = [150,154]
value = -1000

[State 700,];点滅
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [150,154]
time = 5
add = 230,230,230

[State 2110, 非無敵]
type = HitBy
trigger1 = prevstateno != [150,154]
value = S, NT, ST, HT

[State 2110, 非無敵]
type = HitBy
trigger1 = prevstateno != [150,154]
trigger1 = AnimElemtime(8) <= 0
value2 =

[State 2110, 非無敵]
type = HitBy
trigger1 = prevstateno = [150,154]
value =

[State 2110, 移動量]
type = VelSet
trigger1 = AnimElemTime(3) > 0 && AnimElemTime(8) < 0
x = -6.6

[State 2110, 移動終了]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 2110, 相手と重なった時の処理]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 2000, SuperPause]
type = SuperPause
trigger1 = prevstateno = [150,152]
trigger1 = time = 0
anim = -1
movetime = 10
time = 10
darken = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = prevstateno = [150,152]
trigger1 = time = 0
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 1000, Afterimage]
type = Afterimage
trigger1 = prevstateno != [150,152]
trigger1 = time = 0
time = 25
length = 10
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1
framegap = 2
trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = stateno = 710
trigger1 = time%2 = 0 && Time < 20
time = 2

[State 2110, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 52000]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 5200
ctrl     = 0
sprpriority = 2

[State 5200]
type = Posset
trigger1 = time = 0
y = 0

[State 2110, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S10,0
channel = 4

[State 2110, ]
type = Varset
trigger1 = command = "holdfwd"
trigger1 = time = 0
var(6) = 1

[State 2110, ]
type = ChangeAnim
triggerall = var(6) = 1
trigger1 = time = 0
value = 700

[State 1000, VelSet]
type = VelSet
trigger1 = anim = 5201 && AnimElemtime(1) >= 0 && AnimElemtime(7) <= 0
trigger2 = anim != 5201 && AnimElemtime(2) >= 0 && AnimElemtime(7) <= 0
x = ifelse(var(6)= 1,7,-5.2)

[State 2100, 移動終了]
type = VelSet
trigger1 = var(6) = 0
trigger1 = AnimElem = 7
x = 0

[State 2100, 移動終了]
type = VelSet
trigger1 = var(6) = 1
trigger1 = AnimElem = 7
x = 0

[State 2110, ]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 5201, PalFX]
type = PalFX
trigger1 = time = 0
time = 1

[State 2110, ]
type = Varset
trigger1 = Animtime = 0
var(6) = 0

[State 2110, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 6010]
type = S
physics = S
;anim = 6010
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0

[State 1000, VelSet]
type = VelSet
trigger1 = time = 0
x = -7

[State 1000, VelAdd]
type = VelAdd
trigger1 = time = 10
x = .5

[State 1000, VelSet]
type = VelSet
trigger1 = time >= 15
x = 0

[State 6010, PlaySound]
type = PlaySnd
trigger1 = animelem = 4
value = s5000,2

[State 6010, Explod]
type = Explod
trigger1 = animelem = 7
anim = 4050
pos = 15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -9

[State 6010, PlaySound]
type = PlaySnd
trigger1 = animelem = 7
value = f7,1
volumescale = 50

[State 6010, EnvShake]
type = EnvShake
trigger1 = animelem = 7
time = 10
freq = 110
ampl = -4

[State 6010, PalFX]
type = PalFX
trigger1 = time = 0
time = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 6010, 4]
type = ChangeAnim
trigger1 = time = 0
value = 150 + 1*(command = "holddown")

[State 6010, anim]
type = Changeanim
trigger1 = time = 30
value = 6010

[State 6010, air]
type = Changestate
trigger1 = pos Y != 0
value = 5000

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 5150

; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1]
type = ChangeAnim
triggerall = time = 0
trigger1 = Prevstateno = 6010
value = 6011

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = var(22) = 0
triggerall = Prevstateno != 6010
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = var(22) = 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
triggerall = var(22) = 0
triggerall = Prevstateno != 6010
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = var(22) = 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = var(22) != 0
triggerall = Prevstateno != 6010
triggerall = Time = 0
triggerall = SelfAnimExist(15140)
trigger1 = (anim != [15111,15119]) && (anim != [15171,15179])
trigger2 = !SelfAnimExist(15140 + (anim % 10))
value = 15140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = var(22) != 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = (anim = [15111,15119]) || (anim = [15171,15179])
trigger1 = SelfAnimExist(15140 + (anim % 10))
value = 15140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
triggerall = var(22) != 0
triggerall = Prevstateno != 6010
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [15140,15149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = var(22) != 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = Anim != [15140,15159]
trigger1 = Anim != [15110,15119]
value = 15110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 5201]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 5200
ctrl     = 0
sprpriority = 2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,7

[State 5210, 1]
type = PalFX
trigger1 = !ishelper
time = 1
mul = 256,256,256

[State 5200]
type = Posset
trigger1 = time = 0
y = 0

[State 2110, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 2110, ]
type = Varset
trigger1 = time = 0
trigger1 = command = "holdfwd"
var(6) = 1

[State 2110, ]
type = Varset
triggerall = time = 0 && var(59)
trigger1 = P2statetype = A
trigger2 = p2bodydist x = [0,100]
trigger3 = Enemynear(fvar(36)),numproj
trigger4 = p2bodydist x >= 200 && Movetype = A
var(6) = 1

[State 2110, ]
type = Varset
trigger1 = Animtime = 0
var(6) = 0

[State 2110, 移動量]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(4) <= 0
x = -4.8

[state 300,]
type = Veladd
triggerall = var(6) = 0
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(4) <= 0
x = .021

[State 2110, 移動量]
type = VelSet
triggerall = var(6) = 1
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(8) <= 0
x = 6

[State 2110, ]
type = ChangeAnim
triggerall = var(6) = 1
trigger1 = time = 0
value = 700

[State 2110, 移動終了]
type = VelSet
triggerall = var(6) = 0
trigger1 = AnimElem = 5
x = 0

[State 2110, 移動終了]
type = VelSet
triggerall = var(6) = 1
trigger1 = AnimElem = 8
x = 0

[State 2110, 相手と重なった時の処理]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 2110, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;KO Flash Effect
[Statedef 9910]
type = S
ctrl = 0
anim = 999

[State 2000, 超必殺技発動の時間停止]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = 0
movetime = -1
time = 30
darken = 0

[State 1000, Sp Finish]
type = Explod
trigger1 = time = 0
anim = 9910
removetime = -2
id = 9910
sprpriority = -9
pos = 0,0
postype = left
bindtime = -1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State 1000, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 51
add = 0,0,0
sinadd = 90,90,90,100
invertall = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = time = 999
ignorehitpause = 1
persistent = 0

;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(0) - StateDef 35000, 35002
; Var(1) - StateDef 35000, 35002
; Var(2) - StateDef 35000, 35002
; Var(3) - StateDef 35000, 35002
; Var(4) - StateDef 2070, -2, -3, 35000, 35001, 35002, 40
; Var(5) - StateDef 35000, 35001, 35002
; Var(6) - StateDef 35000, 35001, 35002, 52000, 5201
; Var(7) - StateDef 35000, 35001, 35002
; Var(8) - StateDef 35000, 35001, 35002
; Var(9) - StateDef 35000, 35001, 35002
; Var(10) - StateDef 35000, 35001
; Var(11) - StateDef 2055, -2, 35000, 35001
; Var(12) - StateDef -2, 35000, 35001
; Var(13) - StateDef 35000, 35001
; Var(14) - StateDef 35000, 35001
; Var(15) - StateDef -2, 35000, 35001
; Var(16) - StateDef -2, 35000
; Var(17) - StateDef 35000
; Var(18) - StateDef 35000
; Var(19) - StateDef 35000
; Var(20) - StateDef 35000
; Var(21) - StateDef 35000
; Var(22) - StateDef -2, 35000, 180, 190
; Var(23) - StateDef 2110, 2115, 35000
; Var(24) - StateDef 2070, 35000
; Var(25) - StateDef 2070, 35000
; Var(26) - StateDef 35000
; Var(27) - StateDef 35000
; Var(28) - StateDef 35000
; Var(29) - StateDef 35000
; Var(30) - StateDef 2100, -2, 35000
; Var(31) - StateDef 35000
; Var(32) - StateDef 35000
; Var(33) - StateDef 35000
; Var(34) - StateDef 35000
; Var(35) - StateDef 35000
; Var(36) - StateDef 35000
; Var(37) - StateDef 35000
; Var(38) - StateDef 35000
; Var(39) - StateDef 35000
; Var(40) - StateDef 35000
; Var(41) - StateDef 35000
; Var(42) - StateDef 35000
; Var(43) - StateDef 35000
; Var(44) - StateDef 35000
; Var(45) - StateDef 35000
; Var(46) - StateDef 35000
; Var(47) - StateDef 35000
; Var(48) - StateDef 35000
; Var(49) - StateDef 35000
; Var(50) - StateDef 35000
; Var(51) - StateDef 35000
; Var(52) - StateDef 35000
; Var(53) - StateDef 35000
; Var(56) - StateDef -2
; Var(57) - StateDef -2
; Var(59) - StateDef -3, 35000, 100000

;--------------------- Float Variable List ----------------------

; fVar(1) - StateDef 2110, 2115
; fVar(36) - StateDef -3

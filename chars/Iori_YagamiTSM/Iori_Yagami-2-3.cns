;===============================================================================
;EN ESTA SECCION SE ENCUENTRABN TODOS LOS ESTADOS DE -2 Y -3
;DEL CHAR LA MODIFICACION SIN AUTORIZACION PUEDE SIGNIFICAR
;UNA FALLA TOTAL EN EL MISMO
;===============================================================================
[Statedef -2]


[State -2, 0]
type = VarRandom
triggerall = roundstate   = 2
triggerall = var(50)     
triggerall = stateno     != 120
trigger1   = time         = 1
trigger2   = movetype    != I
trigger2   = gametime%60  = 0
trigger3   = movetype     = I
trigger3   = 1
persistent = 1
ignorehitpause = 1
v = 58
range = 0,99+25

[state 2]
type = explod
trigger1 = projhit3300 = 1
anim = 4050
pos = 0,-60
postype = p2
removetime = -2
bindtime = 1
supermove = 1
pausemove = 1
random = 40,40
;pausemovetime = 99999
;supermovetime = 99999
sprpriority = 9
ownpal = 1

[state 22]
type = playsnd
trigger1 = projhit3300 = 1
value = s0,ifelse((random<=500),14,18)

[State -3, palfx]
type = palfx
trigger1 = gethitvar(chainid) = 17000 && time%2 = 0 && movetype=h && (stateno!=[120,160]) && (StateNo !=[5100,5460])&& Stateno != [20,21]
time = 1
add = 0,15,75
color = 0
invertall = 1
ignorehitpause = 1

;-------------------------------------------------------------------------------
;Extra Carteles KOF MEMORIAL LEVEL 2
;-------------------------------------------------------------------------------
;Intro and K.O. no Lifebars
[State -2]
type = assertspecial
trigger1 = roundstate != 2
trigger2 = Ctrl = 0 && (Anim = [0,2]) && MoveType != H
flag = NoBarDisplay
ignorehitpause = 1
;-----------------------------------------------------------------------------
[State -2, AssertSpecial]
type = AssertSpecial
trigger1 = gametime%2 = 0
flag = noshadow
ignorehitpause = 1
;Perfect p1
[State 1000, Explod]
type = Explod
triggerall = numexplod(7000) <= 0 && teamside = 1
trigger1 = win = 1 && Life >= LifeMax
trigger1 = stateno != [180,189]
anim = f7000
ID = 7000
pos = -70,85
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1

;Perfect p2
[State 1000, Explod]
type = Explod
triggerall = numexplod(7000) <= 0 && teamside = 2
trigger1 = win = 1 && Life >= LifeMax
trigger1 = stateno != [180,189]
anim = f7000
ID = 7000
pos = -390,85
postype = right
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1

;Lose cartel p1
[State 1000, Explod]
type = Explod
triggerall = numexplod(7010) <= 0 && teamside = 1
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7010
ID = 7010
pos = 200,70
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

;Lose cartel p2
[State 1000, Explod]
type = Explod
triggerall = numexplod(7010) <= 0 && teamside = 2
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7010
ID = 7010
pos = 25,70
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

;Winner p1
[State 1000, Explod]
type = Explod
triggerall = numexplod(7015) <= 0 && teamside = 1
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7015
ID = 7015
pos = -310,200
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

;Winner p1 Estatico
[State 1000, Explod]
type = Explod
triggerall = numexplod(7020) <= 0 && teamside = 1
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7020
ID = 7020
pos = -8,202
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

;Winner p2
[State 1000, Explod]
type = Explod
triggerall = numexplod(7015) <= 0 && teamside = 2
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7016
ID = 7015
pos = -120,200
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

;Winner p2 Estatico
[State 1000, Explod]
type = Explod
triggerall = numexplod(7020) <= 0 && teamside = 2
triggerall = win = 1 && stateno = [180,189]
trigger1 = time = 0
anim = f7021
ID = 7020
pos = 182,202
postype = left
bindtime = -1
removetime = -2
sprpriority = 9
ontop = 1
ownpal = 1

[State -2, DEBUG]
type = DisplayToClipboard
trigger1 = 1
text = "PI:%d, PF:%d, PB:%d, Pos X:%f, Pos Y:%f"
params = var(50), var(40), var(39), P2BodyDist X, P2BodyDist Y
ignorehitpause = 1

;2人目以のイントロ
[State -2]
type = ChangeState
value = 190
triggerall = RoundsExisted = 0
triggerall = TeamMode = Turns
trigger1 = stateno = 5900

[State -2]
type = VarSet
triggerall = RoundState = [0,1]
trigger1 = RoundNo = 1
trigger2 = TeamMode = Turns
trigger2 = RoundsExisted = 0
v = 22
value = Life

[State -2]
type = VarSet
triggerall = Var(22) = [0,100]
triggerall = Time = 1
trigger1 = RoundNo = 1
trigger2 = RoundsExisted = 0
v = 22
value = const(data.life)
;-------------------------------------------------------------------------------
;Inpedir Recover en el piso
[State -2, VarSet]
type = VarSet
trigger1 = movetype = H
trigger1 = stateno = [5100,5111]
v = 48
value = 1

[State -2, VarSet]
type = VarSet
trigger1 = stateno = 5120
trigger1 = movetype = I
v = 48
value = 0
;-------------------------------------------------------------------------------
;Invulnerabilidares a agarres Estilo KOF
[State -2, NotHitBy]
type = NotHitBy
trigger1 = var(49) != 0
value = , NT,ST,HT

[State -2, ]
type = Varadd
trigger1 = (GameTime%2) = 0 && var(49) != 0
trigger1 = 1
var(49) = -1
ignorehitpause = 1
persistent = 1

[State -2, VarSet]
type = VarSet
trigger1 = movetype = A
trigger2 = statetype = A
trigger3 = movetype = H
trigger4 = stateno = [120,132]
v = 49
value = 0
ignorehitpause = 1
persistent = 1
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;Life Danger
[State -2, Life Danger]
type = Explod
triggerall = numexplod(4180) <= 0 && teamside = 1
trigger1 = Life <= LifeMax/4.7
ignorehitpause = 1
persistent = 0
anim = f4180
id = 4180
pos = 4,196
postype = left
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999

[State -2, Life Danger]
type = Explod
triggerall = numexplod(4180) <= 0 && teamside = 2
trigger1 = Life <= LifeMax/4.7
ignorehitpause = 1
persistent = 0
anim = f4180
id = 4180
pos = -55,196
postype = right
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999
;-------------------------------------------------------------------------------
;First Attack
[State -2, First Attack]
type = Explod
triggerall = numexplod(4170) <= 0 && teamside = 1
triggerall = enemy,numexplod(4170) <= 0
triggerall = p2movetype = H && p2stateno = [800,5070]
trigger1 = NumPartner
trigger1 = partner,numexplod(4170) <= 0
trigger2 = !NumPartner
ignorehitpause = 1
persistent = 9
anim = f4170
id = 4170
pos = 4,196
postype = left
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999

[State -2, First Attack]
type = Explod
triggerall = numexplod(4170) <= 0 && teamside = 2
triggerall = enemy,numexplod(4170) <= 0
triggerall = p2movetype = H && p2stateno = [800,5070]
trigger1 = NumPartner
trigger1 = partner,numexplod(4170) <= 0
trigger2 = !NumPartner
ignorehitpause = 1
persistent = 9
anim = f4170
id = 4170
pos = -92,196
postype = right
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999
;-------------------------------------------------------------------------------
;Hyper Available
[State -2, Hyper Available]
type = Explod
triggerall = numexplod(4190) <= 0 && teamside = 1
trigger1 = Life <= LifeMax/2
ignorehitpause = 1
persistent = 0
anim = f4190
id = 4190
pos = 4,196
postype = left
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999

[State -2, Hyper Available]
type = Explod
triggerall = numexplod(4190) <= 0 && teamside = 2
trigger1 = Life <= LifeMax/2
ignorehitpause = 1
persistent = 0
anim = f4190
id = 4190
pos = -116,196
postype = right
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999
;-------------------------------------------------------------------------------
;Counter Hits
[State -2, Counter Hit1]
type = VarSet
triggerall = prevstateno != [120,152]
trigger1 = enemy, movetype = A
ignorehitpause = 1
var(19) = 1

[State -2, Counter Hit2]
type = VarSet
trigger1 = enemy, movetype = I || var(22) >= 1
ignorehitpause = 1
var(19) = 0

[State -2, Counter Hit3]
type = VarSet
trigger1 = var(22) > 10 && enemy, movetype = H
ignorehitpause = 1
var(19) = 0

[State -2, Counter Hit4]
type = VarSet
trigger1 = var(19) = 1 && movehit
ignorehitpause = 1
var(22) = 1

[State -2, Counter Hit5]
type = Varadd
trigger1 = var(22) >= 1
ignorehitpause = 1
var(22) = 1

[State -2, Counter Hit6]
type = VarSet
trigger1 = p2movetype != H
trigger2 = var(22) > 22
trigger3 = p2statetype = L
trigger4 = var(22) > 30 && movehit
ignorehitpause = 1
var(22) = 0

[State -2, Counter Hit7]
type = Assertspecial
trigger1 = var(19) = 1 && numexplod(4150) <= 1
flag = Nojugglecheck

[State -2, EnvColor]
type = EnvColor
trigger1 = var(22) = [1,2]
value = 255,255,255
time = 1
ignorehitpause = 1
under = 1

[State -2, Counter Explod1]
type = Explod
triggerall = var(19) = 1 && numexplod(4150) <= 0 && teamside = 2
trigger1 = movehit
trigger2 = Projhit >= 1
ignorehitpause = 1
persistent = 0
anim = f4150
id = 4150
pos = -62,206
postype = right
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999

[State -2, Counter Explod2]
type = Explod
triggerall = var(19) = 1 && numexplod(4150) <= 0 && teamside = 1
trigger1 = movehit
trigger2 = Projhit >= 1
ignorehitpause = 1
persistent = 0
anim = f4150
id = 4150
pos = 4,206
postype = left
bindtime = -1
ontop = 1
ownpal = 1
supermove = 1
pausemove = 1
supermovetime = 99999
pausemovetime = 99999
;-------------------------------------------------------------------------------
[State -2, NotHitBy]
type = NotHitBy
triggerall = Roundstate != 2
trigger1 = stateno = [5050,5999]
value = SCA
ignorehitpause = 1
;-------------------------------------------------------------------------------
;Final KO Effect
[State -2, Helper]
type = Helper
triggerall = numhelper(9920) <= 0
Triggerall = Teammode = Single || Teammode = Turns
trigger1 = Roundstate = 3 && Winko && matchover
helpertype = normal
name = "Winpose"
Id = 9920
stateno = 9920
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State -2, ChangeState]
type = ChangeState
Triggerall = Teammode = Single || Teammode = Turns
Triggerall = stateno = 180
trigger1 = matchover && Winko
value = 9925
ctrl = 0
ignorehitpause = 1
;KO Flash Effect
[State -2, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit && stateno = [899,4999]
trigger2 = winKo = 1 && Projhittime(1600) >= 0 && Projhittime(1600) <= 1
trigger3 = winKo = 1 && Projhittime(2200) >= 0 && Projhittime(2200) <= 1
trigger4 = winKo = 1 && Projhittime(3000) >= 0 && Projhittime(3000) <= 1
trigger5 = winKo = 1 && Projhittime(1000) >= 0 && Projhittime(1000) <= 1
trigger6 = winKo = 1 && stateno = 3000 && p2stateno = [5000,5050]
helpertype = normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1


[state -2, PlaySound]
type = playsnd
trigger1 = WinKO
trigger1 = RoundState = 3
trigger1 = var(12) = 0
IgnoreHitPause = 1
persistent = 0
value = 5200,0

[state -2, varset]
type = varset
trigger1 = RoundState = 3
IgnoreHitPause = 1
v = 12
value = 1

[state -2, varset]
type = varset
trigger1 = RoundState = 2
IgnoreHitPause = 1
v = 12
value = 0

;Slow Down When ProjHit
[State -3, Slow Down]
type = SuperPause
triggerall = RoundState = 2
trigger1 = ProjHitTime(1600) = [12,23]
anim = -1
sound = -1
time = 1
darken = 0
p2defmul = 1

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = projhittime(2300) = [5,20]
trigger2 = ProjHitTime(3300) = [5,20]
time = 1
movetime = 0
;-------------------------------------------------------------------------------
[State -2, EnvColor]
type = EnvColor
trigger1 = Projhittime(2500) >= 0 && Projhittime(2500) <= 1
trigger2 = Projhittime(2300) >= 0 && Projhittime(2300) <= 1
trigger3 = Projhittime(928) >= 0 && Projhittime(928) <= 1
value = 255,255,255
time = 1
under = 1

;Intro and K.O. no Lifebars
[State -2]
type = AssertSpecial
trigger1 = roundstate = [0,1]
trigger2 = roundstate = 4
trigger3 = Ctrl = 0 && (Anim = [0,2]) && MoveType != H
flag = NoBarDisplay
ignorehitpause = 1

;-------------------------------------------------------------------------------
[State -2, デバッグ?示]
type = DisplayToClipboard
trigger1 = 1
text = "V1-C=%d,V3-J=%d,V4-D=%d,V5-B=%d,V20-A=%d"
params = var(1),var(3),var(4),var(5),var(20)
ignorehitpause = 1

;?示を横に加える
[State -2, デバッグ?示その2]
type = AppendToClipboard
trigger1 = 1
text = " V22-L=%d,V21-R=%d,Pos X=%d,Y=%d"
params = var(22),var(21),ceil(Pos X),floor(Pos Y)
ignorehitpause = 1

;?示を下に加える
[State -2, デバッグ?示その3]
type = AppendToClipboard
trigger1 = 1
text = "\nDist X=%d,Y=%d, Vel X=%d/10,Y=%d/10 : Power=%d"
params = floor(P2BodyDist X),ceil(P2BodyDist Y),ceil(Vel X*10),floor(Vel Y*10),Power
ignorehitpause = 1
;-------------------------------------------------------------------------------
[State 100, StopSnd]
type = StopSnd
trigger1 = stateno != 172 && stateno != 173
channel = 1

[State 100, StopSnd]
type = StopSnd
trigger1 = stateno != 172 && stateno != 173
channel = 2
;-------------------------------------------------------------------------------

[State -2, No sound in Guanding KO]
type = AssertSpecial
triggerall = prevstateno = [120,152]
trigger1 = stateno = 5000 || stateno = 5010
trigger1 = statetype != A
flag = Nokosnd
ignorehitpause = 1

[State -2, Guarding KO]
type = ChangeState
triggerall = prevstateno = [120,152]
;triggerall = statetype != A
triggerall = !alive
trigger1 = enemy,hitdefattr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
trigger2 = enemy,ProjHit = 1, < 20
value = 6010
ignorehitpause = 1


[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Projhittime(1600) >= 0 && Projhittime(1600) <= 25
trigger1 = Random < 100
trigger2 = Anim = 1700
trigger2 = Random < 100
trigger2 = Movehit
trigger3 = Anim = 1710
trigger3 = Random < 100
trigger3 = Movehit
trigger4 = Anim = 1810
trigger4 = AnimElemtime(4) >= 0
trigger4 = Random < 100
trigger5 = Anim = 2510
trigger5 = AnimElemtime(52) >= 0
trigger5 = Random < 100
trigger6 = Projhittime(2300) >= 0 && Projhittime(2300) <= 60
trigger6 = Random < 100
trigger7 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger7 = Random < 400
trigger8 = Anim = 1410
trigger8 = Random < 100
trigger8 = Movehit
trigger9 = Anim = 1460
trigger9 = Random < 100
trigger9 = Movehit
trigger10 = Anim = 20000
trigger10 = AnimElemtime(14) >= 0
trigger10 = Random < 100
trigger10 = Movehit
trigger11 = Anim = 2410
trigger11 = AnimElemtime(15) >= 0
trigger11 = Random < 100
trigger11 = Movehit
trigger12 = Enemy,stateno = 2620
trigger12 = Random < 100
trigger13 = Anim = 941
trigger13 = Random < 100
trigger13 = Movehit
trigger14 = Anim = 20001
trigger14 = Random < 100
trigger14 = Movehit
trigger15 = Anim = 20003
trigger15 = Random < 100
trigger15 = Movehit
trigger16 = Anim = 1815
trigger16 = Random < 100
trigger16 = Movehit
trigger17 = Projhittime(2500) >= 0 && Projhittime(2500) <= 25
trigger17 = Random < 100
trigger18 = Anim = 943
trigger18 = AnimElemtime(135) >= 0
trigger18 = Random < 100
trigger19 = Anim = 1716
trigger19 = Random < 100
trigger19 = Movehit
trigger20 = Projhittime(3300) >= 0 && Projhittime(3300) <= 60
trigger20 = Random < 70
trigger21 = Anim = 1900
trigger21 = movehit
trigger21 = Random < 50
trigger22 = Anim = 1910
trigger22 = movehit
trigger22 = Random < 50
trigger23 = Anim = 1920
trigger23 = movehit
trigger23 = Random < 50
trigger24 = Anim = 810
trigger24 = movehit
trigger24 = Random < 50
trigger25 = Projhittime(8104) >= 0 && Projhittime(8104) <= 27
trigger25 = Random < 320
trigger26 = Anim = 8100
trigger26 = Random < 200
trigger26 = Movehit
trigger27 = Anim = 8101
trigger27 = Random < 200
trigger27 = Movehit
trigger28 = Anim = 4550
trigger28 = Random < 200
trigger28 = Movehit
trigger29= Projhittime(2200) >= 0 && Projhittime(2200) <= 27
trigger29 = Random < 320
trigger30= Anim = 4560
trigger30 = Random < 200
trigger30 = Movehit
trigger31= Anim = 4570
trigger31 = Random < 200
trigger31 = Movehit
trigger32= Anim = 4580
trigger32 = Random < 200
trigger32 = Movehit
trigger33= Anim = 4590
trigger33 = Random < 200
trigger33 = Movehit
trigger34 = Anim = 3100
trigger34 = AnimElemtime(56) >= 0
trigger34 = Random < 300
trigger35= Anim = 1240
trigger35 = Random < 100
trigger35 = Movehit
trigger36= Anim = 30010
trigger36 = Random < 50
trigger36 = animelemtime(5) > 0
trigger37 = Enemynear,stateno = 30017
trigger37 = random < 50
trigger38 = Anim = 2950
trigger38 = movehit
anim = 4026
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Projhittime(1600) >= 0 && Projhittime(1600) <= 25
trigger1 = Random < 100
trigger2 = Anim = 1700
trigger2 = Random < 100
trigger2 = Movehit
trigger3 = Anim = 1710
trigger3 = Random < 100
trigger3 = Movehit
trigger4 = Anim = 1810
trigger4 = AnimElemtime(4) >= 0
trigger4 = Random < 100
trigger5 = Anim = 2510
trigger5 = AnimElemtime(52) >= 0
trigger5 = Random < 100
trigger6 = Projhittime(2300) >= 0 && Projhittime(2300) <= 60
trigger6 = Random < 100
trigger7 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger7 = Random < 400
trigger8 = Anim = 1410
trigger8 = Random < 100
trigger8 = Movehit
trigger9 = Anim = 1460
trigger9 = Random < 100
trigger9 = Movehit
trigger10 = Anim = 20000
trigger10 = AnimElemtime(14) >= 0
trigger10 = Random < 100
trigger10 = Movehit
trigger11 = Anim = 2410
trigger11 = AnimElemtime(15) >= 0
trigger11 = Random < 100
trigger11 = Movehit
trigger12 = Enemy,stateno = 2620
trigger12 = Random < 100
trigger13 = Anim = 941
trigger13 = Random < 100
trigger13 = Movehit
trigger14 = Anim = 20001
trigger14 = Random < 100
trigger14 = Movehit
trigger15 = Anim = 20003
trigger15 = Random < 100
trigger15 = Movehit
trigger16 = Anim = 1815
trigger16 = Random < 100
trigger16 = Movehit
trigger17 = Projhittime(2500) >= 0 && Projhittime(2500) <= 25
trigger17 = Random < 100
trigger18 = Anim = 943
trigger18 = AnimElemtime(135) >= 0
trigger18 = Random < 100
trigger19 = Anim = 1716
trigger19 = Random < 100
trigger19 = Movehit
trigger20 = Projhittime(3300) >= 0 && Projhittime(3300) <= 60
trigger20 = Random < 70
trigger21 = Anim = 1900
trigger21 = movehit
trigger21 = Random < 50
trigger22 = Anim = 1910
trigger22 = movehit
trigger22 = Random < 50
trigger23 = Anim = 1920
trigger23 = movehit
trigger23 = Random < 50
trigger24 = Anim = 810
trigger24 = movehit
trigger24 = Random < 50
trigger25 = Projhittime(8104) >= 0 && Projhittime(8104) <= 27
trigger25 = Random < 320
trigger26 = Anim = 8100
trigger26 = Random < 200
trigger26 = Movehit
trigger27 = Anim = 8101
trigger27 = Random < 200
trigger27 = Movehit
trigger28 = Anim = 4550
trigger28 = Random < 200
trigger28 = Movehit
trigger29= Projhittime(2200) >= 0 && Projhittime(2200) <= 27
trigger29 = Random < 320
trigger30 = Anim = 4500
trigger30 = animelemtime(38) >= 0
trigger30 = p2stateno != [120,155]
trigger31 = Anim = 3100
trigger31 = AnimElemtime(56) >= 0
trigger31 = Random < 300
trigger32= Anim = 1240
trigger32 = Random < 100
trigger32 = Movehit
trigger33= Anim = 30010
trigger33 = Random < 50
trigger33 = animelemtime(5) > 0
trigger34 = Enemynear,stateno = 30017
trigger34 = random < 50
trigger35 = Anim = 2950
trigger35 = movehit
anim = 4027
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Projhittime(1600) >= 0 && Projhittime(1600) <= 25
trigger1 = Random < 100
trigger2 = Anim = 1700
trigger2 = Random < 100
trigger2 = Movehit
trigger3 = Anim = 1710
trigger3 = Random < 100
trigger3 = Movehit
trigger4 = Anim = 1810
trigger4 = AnimElemtime(4) >= 0
trigger4 = Random < 100
trigger5 = Anim = 2510
trigger5 = AnimElemtime(52) >= 0
trigger5 = Random < 100
trigger6 = Projhittime(2300) >= 0 && Projhittime(2300) <= 60
trigger6 = Random < 100
trigger7 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger7 = Random < 400
trigger8 = Anim = 1410
trigger8 = Random < 100
trigger8 = Movehit
trigger9 = Anim = 1460
trigger9 = Random < 100
trigger9 = Movehit
trigger10 = Anim = 20000
trigger10 = AnimElemtime(14) >= 0
trigger10 = Random < 100
trigger10 = Movehit
trigger11 = Anim = 2410
trigger11 = AnimElemtime(15) >= 0
trigger11 = Random < 100
trigger11 = Movehit
trigger12 = Enemy,stateno = 2620
trigger12 = Random < 100
trigger13 = Anim = 941
trigger13 = Random < 100
trigger13 = Movehit
trigger14 = Anim = 20001
trigger14 = Random < 100
trigger14 = Movehit
trigger15 = Anim = 20003
trigger15 = Random < 100
trigger15 = Movehit
trigger16 = Anim = 1815
trigger16 = Random < 100
trigger16 = Movehit
trigger17 = Projhittime(2500) >= 0 && Projhittime(2500) <= 25
trigger17 = Random < 100
trigger18 = Anim = 943
trigger18 = AnimElemtime(135) >= 0
trigger18 = Random < 100
trigger19 = Anim = 1716
trigger19 = Random < 100
trigger19 = Movehit
trigger20 = Projhittime(3300) >= 0 && Projhittime(3300) <= 60
trigger20 = Random < 70
trigger21 = Anim = 1900
trigger21 = movehit
trigger21 = Random < 50
trigger22 = Anim = 1910
trigger22 = movehit
trigger22 = Random < 50
trigger23 = Anim = 1920
trigger23 = movehit
trigger23 = Random < 50
trigger24 = Anim = 810
trigger24 = movehit
trigger24 = Random < 50
trigger25 = Projhittime(8104) >= 0 && Projhittime(8104) <= 27
trigger25 = Random < 320
trigger26 = Anim = 8100
trigger26 = Random < 200
trigger26 = Movehit
trigger27 = Anim = 8101
trigger27 = Random < 200
trigger27 = Movehit
trigger28 = Anim = 4550
trigger28 = Random < 200
trigger28 = Movehit
trigger29= Projhittime(2200) >= 0 && Projhittime(2200) <= 27
trigger29 = Random < 320
trigger30 = Anim = 4500
trigger30 = animelemtime(38) >= 0
trigger30 = p2stateno != [120,155]
trigger31 = Anim = 3100
trigger31 = AnimElemtime(56) >= 0
trigger31 = Random < 300
trigger32= Anim = 1240
trigger32 = Random < 100
trigger32 = Movehit
trigger33= Anim = 30010
trigger33 = Random < 50
trigger33 = animelemtime(5) > 0
trigger34 = Enemynear,stateno = 30017
trigger34 = random < 50
trigger35 = Anim = 2950
trigger35 = movehit
anim = 4028
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Projhittime(1600) >= 0 && Projhittime(1600) <= 25
trigger1 = Random < 100
trigger2 = Anim = 1700
trigger2 = Random < 100
trigger2 = Movehit
trigger3 = Anim = 1710
trigger3 = Random < 100
trigger3 = Movehit
trigger4 = Anim = 1810
trigger4 = AnimElemtime(4) >= 0
trigger4 = Random < 100
trigger5 = Anim = 2510
trigger5 = AnimElemtime(52) >= 0
trigger5 = Random < 100
trigger6 = Projhittime(2300) >= 0 && Projhittime(2300) <= 60
trigger6 = Random < 100
trigger7 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger7 = Random < 400
trigger8 = Anim = 1410
trigger8 = Random < 100
trigger8 = Movehit
trigger9 = Anim = 1460
trigger9 = Random < 100
trigger9 = Movehit
trigger10 = Anim = 20000
trigger10 = AnimElemtime(14) >= 0
trigger10 = Random < 100
trigger10 = Movehit
trigger11 = Anim = 2410
trigger11 = AnimElemtime(15) >= 0
trigger11 = Random < 100
trigger11 = Movehit
trigger12 = Enemy,stateno = 2620
trigger12 = Random < 100
trigger13 = Anim = 941
trigger13 = Random < 100
trigger13 = Movehit
trigger14 = Anim = 20001
trigger14 = Random < 100
trigger14 = Movehit
trigger15 = Anim = 20003
trigger15 = Random < 100
trigger15 = Movehit
trigger16 = Anim = 1815
trigger16 = Random < 100
trigger16 = Movehit
trigger17 = Projhittime(2500) >= 0 && Projhittime(2500) <= 25
trigger17 = Random < 100
trigger18 = Anim = 943
trigger18 = AnimElemtime(135) >= 0
trigger18 = Random < 100
trigger19 = Anim = 1716
trigger19 = Random < 100
trigger19 = Movehit
trigger20 = Projhittime(3300) >= 0 && Projhittime(3300) <= 60
trigger20 = Random < 70
trigger21 = Anim = 1900
trigger21 = movehit
trigger21 = Random < 50
trigger22 = Anim = 1910
trigger22 = movehit
trigger22 = Random < 50
trigger23 = Anim = 1920
trigger23 = movehit
trigger23 = Random < 50
trigger24 = Anim = 810
trigger24 = movehit
trigger24 = Random < 50
trigger25 = Projhittime(8104) >= 0 && Projhittime(8104) <= 27
trigger25 = Random < 320
trigger26 = Anim = 8100
trigger26 = Random < 200
trigger26 = Movehit
trigger27 = Anim = 8101
trigger27 = Random < 200
trigger27 = Movehit
trigger28 = Anim = 4550
trigger28 = Random < 200
trigger28 = Movehit
trigger29= Projhittime(2200) >= 0 && Projhittime(2200) <= 27
trigger29 = Random < 320
trigger30 = Anim = 4500
trigger30 = animelemtime(38) >= 0
trigger30 = p2stateno != [120,155]
trigger31 = Anim = 3100
trigger31 = AnimElemtime(56) >= 0
trigger31 = Random < 300
trigger32= Anim = 1240
trigger32 = Random < 100
trigger32 = Movehit
trigger33= Anim = 30010
trigger33 = Random < 50
trigger33 = animelemtime(5) > 0
trigger34 = Enemynear,stateno = 30017
trigger34 = random < 50
trigger35 = Anim = 2950
trigger35 = movehit
anim = 4036
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1
;-------------------------------------------------------------------------------
[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Anim = 3100
trigger1 = AnimElemtime(56) >= 0
trigger1 = Random < 300
anim = 4130
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = Anim = 3100
trigger1 = AnimElemtime(56) >= 0
trigger1 = Random < 300
anim = 4135
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1
;-----------------------------------------------------------------------------
[State -2, ChangeState]
type = ChangeState
value = 190
triggerall = TeamMode = Turns
triggerall = RoundsExisted = 0
trigger1 = stateno = 5900

[State -2, VarSet]
type = VarSet
triggerall = RoundState = [0,1]
trigger1 = RoundNo = 1
trigger2 = TeamMode = Turns
trigger2 = RoundsExisted = 0
value = Life

[State -2, VarSet]
type = VarSet
triggerall = Var(22) = [0,100]
triggerall = Time = 1
trigger1 = RoundNo = 1
trigger2 = RoundsExisted = 0
value = const(data.life)
;----------------------------------------------------------------------------
;未完成な相手キャラによって、不具合が起きても自己解決するシステ?(仮)
[State -2, Y座標自己修復]
type = PosSet
triggerall = RoundState = 2
trigger1 = stateno = [0,12]      ;立ち＆屈み時
trigger1 = floor(Pos Y) = [-2,3] ;立ち位置が僅かにずれていたらすぐ修正
y = 0
[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < Var(22)  ;トレ?ニングでCtrl+Iを使うときに配慮
trigger1 = stateno = [0,30]  ;歩きも含める
trigger1 = floor(Pos Y) < -2 ;立ち位置が大きくずれていたら移動する
y = 2
[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < Var(22)
trigger1 = stateno = [0,30]
trigger1 = floor(Pos Y) > 2 ;同じく
y = -2
[State -2, Y座標強制修復]               ;GATTより一言…
type = ChangeState                      ;この辺のシステ?は
triggerall = RoundState = 2             ;うちの咲夜に搭載しているもので
triggerall = ctrl = 0                   ;かなりオリジナルな設定です。
triggerall = alive = 1                  ;いらない、または重い処理を使う際は削除してください
triggerall = !Lose
trigger1 = Pos Y < -1800 ;空高く飛ばされてしまっても体勢を立て直して落下する
trigger1 = GameTime % 10 = 0
trigger2 = Pos Y > 480   ;地中?くに埋められてしまっても這い上がってくる
trigger2 = GameTime % 10 = 0
value = 40
;----------------------------------------------------------------------------

[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Iori Yagami By Zelgadis"
ignorehitpause = 1
;---------------------------------------------------------------------------------
[State -2, 4]
type = VarRandom
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 4
range = 0,19

[State -2, 5]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [0,3]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = s5000,0

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [4,7]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = s5000,1

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [8,11]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = s5000,2

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [12,15]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = s5000,3

[State -2, 6]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [16,19]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = s5000,4

[State -2]
type = PlaySnd
Triggerall = Alive = 1
triggerall = Time = 1
trigger1 = (stateno = 5100) && (anim = 5100 || anim = 5101 || anim = 5102)
value = S5000,6

[State 100,]
type = StopSnd
trigger1 = command != "holdfwd"
trigger2 = Anim != 100
channel = 6

[state a];??????(???)
type = varset
trigger1 = p2name = "Kyo Kusanagi" | p4name = "Kyo Kusanagi"&& enemy,authorname ="Glasses"
v = 4
value = 1

[state a];特殊イントロ(草薙京)
type = varset
trigger1 = p2name = "kyo kusanagi" || p4name = "kyo kusanagi"
v = 5
value = 1

;---------------------------------------------------------------------------------
[Statedef -3];常時監視ステ?ト(p2statenoなどで相手に行動を制御された時は実行しない)
;---------------------------------------------------------------------------------
[State -3]
type = varset
trigger1 = AIlevel > 0
var(58) = 1

[State AI]
type = ChangeState
value = 1850
triggerall = var(58) = 1
triggerall = p2stateno = 20023
triggerall = roundstate = 2
triggerall = p2stateno != [5050,5121]
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2bodydist X < 150 && p2bodydist X > -10 && enemy,vel y >= 0
triggerall = p2bodydist Y > -150
triggerall = p2statetype = A
trigger1 = ctrl
triggerall = enemy,var(46) = 0


[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2movetype = A
triggerall = p2bodydist x = [0,35]
trigger1 = ctrl




[State -3]
Type = ChangeState
triggerall = Roundstate = 2
triggerall = var(58)=1
triggerall = !ishelper
triggerall = statetype != A && ctrl
triggerall = p2dist x >= 0
triggerall = enemynear,p2dist x >= 0
triggerall = enemynear,stateno < 2000
triggerall = stateno != [120,159]
trigger1 = P2MoveType = A && p2statetype != A && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && p2bodydist x >= 120
trigger2 = P2MoveType = A && p2statetype != A && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && (p2bodydist x = [0,120]) && enemynear,animtime <= -30
trigger3 = P2MoveType = A && p2statetype = A && p2dist y <= -40 && enemynear,vel y <= 1 && frontedgedist >= 100 && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && p2bodydist x >= 120 && enemynear,animtime <= -30
Value = 710

[State -3]
Type = ChangeState
triggerall = Roundstate = 2
triggerall = var(58)=1
triggerall = !ishelper
triggerall = statetype != A && ctrl
triggerall = p2dist x >= 0
triggerall = enemynear,p2dist x < 0
triggerall = enemynear,stateno < 2000
triggerall = stateno != [120,159]
trigger1 = p2statetype = A && p2dist y <= -40 && backedgedist >= 100 && statetype != A
Value = 720







[State AI]
type = ChangeState
value = ifelse((random<=999),100,210)
triggerall = var(58)=1
triggerall = power >= 2000
triggerall = random <= 999
triggerall = p2stateno = 1520
triggerall = ctrl&& statetype != A
trigger1 = ctrl


[State AI]
type = ChangeState
value = ifelse((random<=999),210,100)
triggerall = var(58)=1
triggerall = power >= 850
triggerall = random <= 999
triggerall = p2stateno = 1520
triggerall = ctrl&& statetype != A
trigger1 = ctrl

[State AI]
type = ChangeState
value = ifelse((random<=999),100,210)
triggerall = var(58)=1
triggerall = random <= 999
triggerall = p2stateno = 1520
triggerall = ctrl&& statetype != A
trigger1 = ctrl



;Jump_B Over                ｹ鯢ﾕ
[state -2]
type = ChangeState
value = 612
triggerall = RoundState = 2
triggerall = statetype = A
triggerall = p2statetype != L   
triggerall = var(58) = 1
triggerall = ctrl
triggerall = (p2dist X <= 0 && frontedgedist < 40) || (p2dist X <= 10 && frontedgedist > 39)
triggerall = p2bodydist Y <= 100
trigger1 = p2statetype = A
trigger1 = vel Y > 0
trigger2 = vel Y > 1
trigger2 = pos Y >= -65
trigger2 = p2statetype = C
trigger3 = p2statetype = S
trigger3 = vel Y > 1
trigger3 = random <= 999

[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = ctrl || stateno = [100,101]
trigger1 = p2movetype = H && p2statetype = A
trigger1 = p2bodydist x = [-15,40]
trigger1 = p2bodydist y = [-75-floor(10*(enemynear,vel Y)),-15-floor(10*(enemynear,vel Y))]
trigger1 = enemynear,Backedgebodydist <= 40
trigger1 = enemynear,vel x > 0



[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = Backedgebodydist > 30
triggerall = ctrl || stateno = [100,101]
triggerall = p2bodydist x = [-35,40]
trigger1 = p2bodydist y = [-30-floor(10*(enemynear,vel Y)),0]
trigger1 = p2stateno = [5030,5172]
trigger2 = (p2stateno = [5200,5202]) || (p2stateno = [52000,52002])
trigger2 = p2statetype != A



[State AI]
type = ChangeState
triggerall = random <= 350
trigger1 = var(58) = 1 && (stateno = 50 || (stateno = [120,140]) && pos Y < 0)
trigger1 = vel Y > 0 && ifelse(p2statetype=C, p2dist Y<40, p2dist Y<60) || p2dist X < 50 && p2statetype = A || p2movetype = A && p2statetype != C
value = 640

[State AI]
type = ChangeState
trigger1 = var(58) = 1 && (stateno = 50 || (stateno = [120,140]) && pos Y < 0)
trigger1 = vel Y > 0 && ifelse(p2statetype=C, p2dist Y<40, p2dist Y<60) || p2dist X < 50 && p2statetype = A || p2movetype = A && p2statetype != C
value = 640


[State -3]
type = ChangeState
value = 131
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A
triggerall = ctrl || stateno = [100,101]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2statetype = C
trigger1 = p2bodydist x = [30,120]
trigger1 = p2stateno = [400,420]
trigger2 = p2statetype = C
trigger2 = p2bodydist x = [-20,60]
trigger3 = p2statetype = C
trigger3 = enemy,teammode = simul
trigger3 = p2bodydist x = [-50,-20]
trigger3 = p2stateno = [400,420]
trigger4 = p2bodydist x = [-20,60]
trigger4 = enemy,hitdefattr = SC, NA,SA,HA,AA

[State -3]
type = ChangeState
value = 132
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype = A
triggerall = p2statetype = A && p2movetype = A
triggerall = ctrl || stateno = [100,101]
trigger1 = p2bodydist x = [-40,100]

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
trigger1 = stateno = 5200 && time = [13,15]
trigger1 = p2bodydist x >= 30
trigger2 = p2movetype = A
trigger2 = ctrl || stateno = [100,101]
trigger2 = Facing = enemynear,Facing = 0

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A && p2statetype = A
triggerall = ctrl || stateno = [100,101]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2bodydist x = [-40,90]

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A
triggerall = p2statetype = A || p2statetype = S
triggerall = ctrl || stateno = [100,106]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2bodydist x = [-40,105]


[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = random <= 160
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2movetype != A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [5,15]) && random <= 800
trigger1 = statetype != A && ctrl
trigger2 = (p2bodydist x = [0,18]) && random <= 1000 && movecontact
trigger2 = stateno = 420 && animelemtime(5) >=0 && animelemtime(6) <= 1

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 850
triggerall = p2stateno != [5030,5121]
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2bodydist x = [0,20]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 430
trigger1 = time = 5

[State AI]
type = ChangeState
value = ifelse((random<=999),100,210)
triggerall = var(50) != 0
triggerall = random <= 999
triggerall = p2stateno = 1520
triggerall = ctrl&& statetype != A
trigger1 = ctrl

[State -1, honi]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2stateno != [5100,5120]
triggerall = p2statetype != A
triggerall = statetype != A
triggerall = p2statetype != L
Trigger1 = ctrl
Trigger1 = (abs(enemynear,Pos X - Pos X)= [10,45])
Trigger1 = enemynear,statetype = A && enemynear,movetype = A
trigger1 = enemynear,movetype != H && (abs(enemynear,Pos Y - Pos Y) = [20,80]) && ifelse(power < 1000,random <= 400,random <= 300)
Trigger2 = ctrl
Trigger2 = (abs(enemynear,Pos X - Pos X)= [10,45])
Trigger2 = enemynear,statetype = A
trigger2 = enemynear,movetype != H && (abs(enemynear,Pos Y - Pos Y) = [20,80]) && random <= 200
trigger3 = Stateno = 211 && ((animelem=4,>0 && animelem=7,<0) && movehit = 1)
trigger3 = power >= 1000 && random = [100,149]
trigger4 = Stateno = 400 && ((animelem=3,>0 && animelem=5,<0) && movehit = 1)
trigger4 = power >= 1000 && random = [100,149]
trigger5 = Stateno = 231 && ((animelem=3,>0 && animelem=4,<0) && movehit = 1)
trigger5 = power >= 1000 && random = [100,149]
trigger6 = ctrl && (abs(enemynear,Pos X - Pos X)= [0,45]) && enemynear,movetype = A && (Prevstateno = 5120 || Prevstateno = 5200)
trigger6 = random = [150,350]
ignorehitpause = 0

[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = roundstate = 2
triggerall = p2stateno != [5050,5121]
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = ctrl && statetype != A
triggerall = p2stateno != [5100,5120]
triggerall = p2bodydist x = [0,50]
triggerall = p2movetype = A
triggerall = statetype = S
trigger1 = ctrl
trigger1 = p2movetype != H
trigger2 = movecontact

[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2stateno != [5100,5120]
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = p2statetype != L
Trigger1 = ctrl
trigger1 = abs(enemynear,Pos X - Pos X)<= 90 && enemynear,movetype  = A && enemynear,statetype != A
trigger1 = random < 100 && BackEdgeBodyDist > 40
Trigger2 = ctrl
trigger2 = abs(enemynear,Pos X - Pos X)<= 90 && enemynear,movetype  = A && enemynear,statetype != A
trigger2 = BackEdgeBodyDist <= 40
trigger2 = random = [101,260]
trigger3 = ctrl && abs(enemynear,Pos X - Pos X)<= 90 && enemynear,movetype  = A && enemynear,statetype != A
trigger3 = EnemyNear,HitDefAttr != SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
ignorehitpause = 0

[State -1, AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2stateno != [5100,5120]
triggerall = p2statetype != L
triggerall = statetype != A && p2statetype != A
triggerall = P2Stateno != [120,155]
triggerall = enemynear,prevstateno != [5000,5999]
trigger1 = ctrl && p2bodydist X <= 20 && enemynear,MoveType = I
trigger1 = random < 720
trigger2 = ctrl && (abs(enemynear,Pos X - Pos X)= [0,20]) && enemynear,movetype = A && (Prevstateno = 5120 || Prevstateno = 5200)
trigger2 = random < 540
ignorehitpause = 0

;;---------

[State AI]
type = ChangeState
value = 1500
;triggerall = Enemy,name = "kusanagi"
triggerall = var(58) = 1
triggerall = random <= 400
triggerall = p2movetype != H
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 100
triggerall = enemy,var(46) = 0

;----------------------------------------------------------------------------
[State -1, Guard]
type = ChangeState
value = 120
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = (var(20) != 1) || (var(20) = 1) && StateType != A
triggerall = stateno != [120,159]
triggerall = ctrl || stateno = 0 || (stateno = [20,22]) || (stateno = [100,101])
trigger1 = inguarddist
trigger1 = random <= (200 + (var(57) * 100)) && random <= 600 || var(57) > 4
trigger2 = inguarddist
trigger2 = p2bodydist x > 90 || enemynear(var(58) = 1),time > 50
trigger2 = random <= var(57) * 150
trigger3 = inguarddist
trigger3 = enemynear(var(58) = 1),numhelper > 0 || enemy,numproj > 0
trigger4 = var(57) > 4
trigger4 = enemynear(var(58) = 1),movetype = A
trigger4 = !enemynear(var(58) = 1),hitdefattr = SCA, NT, ST, HT
trigger4 = stateno != 100 || stateno = 100 && p2dist y > -45 || numenemy >= 2
trigger4 = p2bodydist x < 0
trigger4 = p2dist x > 0 || p2dist x < 0
trigger5 = var(57) > 4
trigger5 = inguarddist
trigger5 = numenemy > 1
trigger5 = enemy(0),numhelper+enemy(1),numhelper > 0 || enemy(0),numproj+enemy(1),numproj > 0
;trigger6 = numenemy >= 2


[State -1, BackDash]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = p2stateno = [5080,5121]
triggerall = random <= 100
triggerall = statetype != A
triggerall = p2bodydist x = [0,50]
triggerall = stateno != 105
triggerall = enemynear,statetype != A
triggerall = statetype = S
trigger1 = ctrl || StateNo = 99 || stateno = 21 || stateno = 22






;Jumping Vertical Hard Kick
[State -1]
type = ChangeState
value = 760
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = random <= 999
triggerall = statetype = A
triggerall = (enemynear,statetype != A && vel y >= 1) || enemynear,statetype = A
triggerall = enemynear,statetype != L
triggerall = !inguarddist
triggerall = ctrl
triggerall = pos y+floor(-floor(7*vel y)-(7*(7)/2)*0.52) <= 0
trigger1 = p2bodydist x = [-35+floor(7*(enemynear,vel x)+7*(vel x)),49+floor(7*(enemynear,vel x)+7*(vel x))]
trigger1 = p2bodydist y = [-14-floor(7*(enemynear,vel y)+(7*(7+1)/2)*fvar(20)-7*(vel y)-(7*(7+1)/2)*0.55),42-floor(7*(enemynear,vel y)+(7*(7+1)/2)*fvar(20)-7*(vel y)-(7*(7+1)/2)*0.55)]






;前進
[State -1, Walkm]
type = ChangeState
value = 21
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = ctrl || stateno = 22
triggerall = frontedgebodydist > 0
trigger1 = p2bodydist x = [240,270]
trigger1 = random <= 350
trigger2 = p2bodydist x = [120,240]
trigger2 = random <= 200
trigger3 = EnemyNear,statetype != L
trigger3 = EnemyNear,stateno != [5110,5120]
trigger3 = p2bodydist x = [0,120]
trigger3 = random <= 180
trigger4 = EnemyNear,stateno = [120,155]
trigger4 = p2bodydist x <= 60
trigger4 = random <= 600
trigger5 = EnemyNear,statetype = L
trigger5 = p2bodydist x = [40,120]
trigger5 = random <= 450
trigger6 = EnemyNear,statetype != L
trigger6 = EnemyNear,movetype = H
trigger6 = EnemyNear,stateno = [5000,5029]
trigger6 = random <= 1000

;後退
[State -1, Walku]
type = ChangeState
value = 22
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = backedgebodydist > 0
trigger1 = p2bodydist x = [240,270]
trigger1 = random <= 30
trigger2 = p2bodydist x = [120,240]
trigger2 = random <= 20
trigger3 = p2bodydist x = [-5,120]
trigger3 = random <= 40
trigger4 = EnemyNear,statetype = L
trigger4 = p2bodydist x <= 30
trigger4 = random <= 1000





[State -3]
type = ChangeState
value = 131
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A
triggerall = ctrl || stateno = [100,101]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2statetype = C
trigger1 = p2bodydist x = [30,120]
trigger1 = p2stateno = [400,420]
trigger2 = p2statetype = C
trigger2 = p2bodydist x = [-20,60]
trigger3 = p2statetype = C
trigger3 = enemy,teammode = simul
trigger3 = p2bodydist x = [-50,-20]
trigger3 = p2stateno = [400,420]
trigger4 = p2bodydist x = [-20,60]
trigger4 = enemy,hitdefattr = SC, NA,SA,HA,AA

[State -3]
type = ChangeState
value = 132
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype = A
triggerall = p2statetype = A && p2movetype = A
triggerall = ctrl || stateno = [100,101]
trigger1 = p2bodydist x = [-40,100]

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
trigger1 = stateno = 5200 && time = [13,15]
trigger1 = p2bodydist x >= 30
trigger2 = p2movetype = A
trigger2 = ctrl || stateno = [100,101]
trigger2 = Facing = enemynear,Facing = 0

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A && p2statetype = A
triggerall = ctrl || stateno = [100,101]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2bodydist x = [-40,90]

[State -3]
type = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = A
triggerall = p2statetype = A || p2statetype = S
triggerall = ctrl || stateno = [100,106]
triggerall = Facing = enemynear,Facing = 0
trigger1 = p2bodydist x = [-40,105]

[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = ctrl || stateno = [100,101]
trigger1 = p2movetype = H && p2statetype = A
trigger1 = p2bodydist x = [-15,40]
trigger1 = p2bodydist y = [-75-floor(10*(enemynear,vel Y)),-15-floor(10*(enemynear,vel Y))]
trigger1 = enemynear,Backedgebodydist <= 40
trigger1 = enemynear,vel x > 0

[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = Backedgebodydist > 30
triggerall = ctrl || stateno = [100,101]
triggerall = p2bodydist x = [-35,40]
trigger1 = p2bodydist y = [-30-floor(10*(enemynear,vel Y)),0]
trigger1 = p2stateno = [5030,5172]
trigger2 = (p2stateno = [5200,5202]) || (p2stateno = [52000,52002])
trigger2 = p2statetype != A



[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = ctrl || stateno = [100,101]
trigger1 = p2movetype = H && p2statetype = A
trigger1 = p2bodydist x = [-15,40]
trigger1 = p2bodydist y = [-75-floor(10*(enemynear,vel Y)),-15-floor(10*(enemynear,vel Y))]
trigger1 = enemynear,Backedgebodydist <= 40
trigger1 = enemynear,vel x > 0

[State -3]
type = ChangeState
value = 105
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = Backedgebodydist > 30
triggerall = ctrl || stateno = [100,101]
triggerall = p2bodydist x = [-35,40]
trigger1 = p2bodydist y = [-30-floor(10*(enemynear,vel Y)),0]
trigger1 = p2stateno = [5030,5172]
trigger2 = (p2stateno = [5200,5202]) || (p2stateno = [52000,52002])
trigger2 = p2statetype != A

[State -3]
type = ChangeState
value = 100
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = p2movetype != A
triggerall = ctrl
trigger1 = p2bodydist x >= 140
trigger1 = p2stateno = 5120 || p2stateno = 5100 || p2stateno = 5050
trigger2 = p2bodydist x >= 130
trigger2 = p2statetype = S || p2statetype = C
trigger3 = p2bodydist x = [20,150]
trigger3 = ProjHit1000 = 1, < 30
trigger3 = p2movetype = H

[State -3]
type = ChangeState
value = 100
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = p2movetype != H
triggerall = Facing = enemynear,facing = 1
triggerall = ctrl
trigger1 = p2bodydist x > 50



[State -1,RUN]
type = ChangeState
value = 100
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 100
triggerall = prevstateno != [99,101]
triggerall = !inguarddist
triggerall = ctrl || stateno = 21 || stateno = 22
triggerall = frontedgebodydist >= 30
trigger1 = p2bodydist x >= 240
trigger1 = random <= 10*25
trigger2 = p2bodydist x = [120,240]
trigger2 = random <= 10*11
trigger3 = p2bodydist x = [50,120]
trigger3 = random <= 10*8
trigger4 = enemynear,movetype = H
trigger4 = p2stateno != [5050,5210]
trigger4 = !enemynear,numproj
trigger4 = p2bodydist x = [20,70]
trigger4 = random <= 10*40
trigger5 = TeamMode = single || TeamMode = turns
trigger5 = enemynear,movetype = H
trigger5 = p2stateno != [5050,5210]
trigger5 = !enemynear,numproj
trigger5 = p2bodydist x = [20,90]
trigger5 = random <= 10*50




[State -3]
type = ChangeState
value = 430
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = p2stateno != [5030,5122]
triggerall = p2stateno != [5200,5210]
triggerall = p2stateno != [52000,52001]
triggerall = ctrl || stateno = [100,101]
trigger1 = enemynear,animtime = -6
trigger1 = p2bodydist x = [31,48]

[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(58) = 1
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || StateNo = 99 || stateno = 21 || stateno = 22
Triggerall = P2BodyDist X = [-5,35]
Triggerall = EnemyNear,AnimTime = 0
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= 300

;Crouching Light Kick
[State -1]
type = ChangeState
value = 430
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 99 || stateno = 21 || stateno = 22
triggerall = P2bodydist X = [-5,35]
triggerall = random <= var(59)*100
triggerall = EnemyNear,StateType != L
triggerall = EnemyNear,StateType != A
triggerall = EnemyNear,StateType != C
trigger1 = EnemyNear,MoveType = H
trigger2 = EnemyNear,AnimTime <= -4
trigger2 = EnemyNear,StateType = S || EnemyNear,StateType = C

;Crouching light kick
[State -1]
type = ChangeState
value = 430
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = enemynear(var(59)),statetype != L
triggerall = enemynear(var(59)),statetype != A
triggerall = EnemyNear,StateType != C
triggerall = P2BodyDist X = [-5,35]
triggerall = statetype != A
triggerall = random <= (var(58))*100
triggerall = ctrl || stateno = 99 || stateno = 21 || stateno = 22
trigger1 = ((enemynear(var(59)),animtime <= -4) && (enemynear(var(59)),ctrl = 0))
trigger2 = enemynear(var(59)),movetype = H
trigger3 = (random <= (var(58))*30)

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 430 && Movecontact


[State AI]
type = ChangeState
value = 2500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = power >= 1000
triggerall = p2stateno != 2621
triggerall = random <= 50
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [130,300]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl



[State AI]
type = ChangeState
value = 1700
triggerall = var(58) = 1
triggerall = random <= 600
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype = A
triggerall = p2bodydist x = [2,80]
trigger1 = ctrl



[State AI]
type = ChangeState
value = 3300
triggerall = var(58) = 1
triggerall = random <= 750
triggerall = roundstate = 2
triggerall = power >= 2999
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,120]
triggerall = statetype = S
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = movehit

[State AI]
type = ChangeState
value = 3300
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = power >= 2999
triggerall = p2statetype != L
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,120]
triggerall = p2movetype = A
triggerall = statetype = S
trigger1 = ctrl
trigger1 = p2movetype != H

[State AI]
type = ChangeState
value = 3200
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = power >= 2999
triggerall = p2statetype != L
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,300]
triggerall = p2movetype = A
triggerall = statetype = S
trigger1 = ctrl
trigger1 = p2movetype != H

[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=900),947,947)
triggerall = var(58) = 1
triggerall = power >= 2900
trigger1 = stateno = 2510
trigger1 = time = 70
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((teammode != simul),3200,3300)
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = power >= 2999
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = p2stateno != [5050,5122]
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,300]
triggerall = p2movetype = A
triggerall = statetype = S
trigger1 = ctrl && enemynear,Numhelper && statetype != A && random = [10,300]
trigger1 = p2movetype != H
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=999),947,2050)
triggerall = var(58) = 1
triggerall = power >= 2999
triggerall = p2statetype = A
triggerall = movehit
triggerall = numexplod(4150) <= 1
triggerall = random <= 999
trigger1 = stateno = 750
trigger1 = time = 15
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 947
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = power >= 2999
triggerall = p2statetype = A
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 2510
trigger1 = time = 68
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 941
triggerall = var(58) = 1
triggerall = numprojID(1600) = 0
triggerall = p2stateno != 2620
triggerall = power >= 2000
triggerall = random <= 120
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [200,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=450),947,2050)
triggerall = var(58) = 1
triggerall = random <= 700
triggerall = roundstate = 2
triggerall = power >= 2400
triggerall = ctrl && statetype != A
triggerall = enemy,hitdefattr = S, NA,SA
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=450),947,2050)
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = enemy,hitdefattr = C, NA,SA
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=450),947,2050)
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = P2BodyDist X = [-15,39]
triggerall = enemy,hitdefattr = S, NA,SA,HA
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1700
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = enemy,hitdefattr = S, NA,SA
triggerall = p2bodydist x = [2,80]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((Enemy,backedgebodydist <= 300),2300,2300)
triggerall = var(58) = 1
triggerall = random <= 400
triggerall = p2stateno != [5040,5121]
triggerall = roundstate = 2
triggerall = p2movetype != H
triggerall = power >= 2000
triggerall = statetype != A
triggerall = p2statetype = A
triggerall = p2bodydist x = [10,90]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 2300
triggerall = var(58) = 1
triggerall = random <= 400
triggerall = p2stateno != [5040,5121]
triggerall = roundstate = 2
triggerall = p2movetype != H
triggerall = power >= 1000 && power <= 1999
triggerall = statetype != A
triggerall = p2statetype = A
triggerall = p2bodydist x = [10,90]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 210
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2stateno = [5000,5001]
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,40]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 2500
triggerall = var(58) = 1
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = power >= 1000
triggerall = p2stateno != 2620
triggerall = random <= 220
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [110,130]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 12550
triggerall = var(58) = 1
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = power >= 1000
triggerall = p2stateno != 2620
triggerall = random <= 420
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [180,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 935
triggerall = var(58) = 1
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = p2stateno != 2620
triggerall = random <= 320
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [180,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1600
triggerall = var(58) = 1
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = p2stateno != 2620
triggerall = random <= 120
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [110,130]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1650
triggerall = var(58) = 1
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = p2stateno != 2620
triggerall = random <= 320
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [180,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

;;=======ｼｳﾇｳ null========

[state 2]
type = null;varset
triggerall = Enemy,AIlevel > 0
trigger1 = Enemynear,name = "kusanagi"
trigger2 = Enemynear,name = "billy kane"
trigger3 = Enemynear,name = "eiji kisaragi"
trigger4 = Enemynear,name = "shermie"
trigger5 = Enemynear,name = "chris"
trigger6 = Enemynear,name = "Yashiro Nanakase"
trigger7 = Enemynear,name = "OPIRUS_ELEMENT"
trigger8 = teammode = simul
v = 51
value = 1
ignorehitpause = 1
persistent = 1









[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = roundstate = 2
triggerall = p2stateno != [5050,5121]
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = ctrl && statetype != A
triggerall = p2stateno != [5100,5120]
triggerall = p2bodydist x = [0,40]
triggerall = p2movetype = A
triggerall = statetype = S
trigger1 = ctrl
trigger1 = p2movetype != H
trigger2 = movecontact

[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2stateno != [5100,5120]
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = p2statetype != L
Trigger1 = ctrl
trigger1 = abs(enemynear,Pos X - Pos X)<= 40 && enemynear,movetype  = A && enemynear,statetype != A
trigger1 = random < 100 && BackEdgeBodyDist > 40
Trigger2 = ctrl
trigger2 = abs(enemynear,Pos X - Pos X)<= 40 && enemynear,movetype  = A && enemynear,statetype != A
trigger2 = BackEdgeBodyDist <= 40
trigger2 = random = [101,260]
trigger3 = ctrl && abs(enemynear,Pos X - Pos X)<= 40 && enemynear,movetype  = A && enemynear,statetype != A
trigger3 = EnemyNear,HitDefAttr != SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
ignorehitpause = 0

[State -1, AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2stateno != [5100,5120]
triggerall = p2statetype != L
triggerall = statetype != A && p2statetype != A
triggerall = P2Stateno != [120,155]
triggerall = enemynear,prevstateno != [5000,5999]
trigger1 = ctrl && p2bodydist X <= 20 && enemynear,MoveType = I
trigger1 = random < 720
trigger2 = ctrl && (abs(enemynear,Pos X - Pos X)= [0,20]) && enemynear,movetype = A && (Prevstateno = 5120 || Prevstateno = 5200)
trigger2 = random < 540
ignorehitpause = 0

;;---------

[State AI]
type = ChangeState
value = 1500
;triggerall = Enemy,name = "kusanagi"
triggerall = var(58) = 1
triggerall = random <= 400
triggerall = p2movetype != H
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 100
triggerall = enemy,var(46) = 0

;;==========================
[State -3]
type = ChangeState
value = 1600
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = RoundState = 2
triggerall = NumprojID(1000) = 0
trigger1 = ctrl || stateno = [100,101]
trigger1 = enemynear,Numhelper <= 0
trigger1 = p2movetype != A
trigger1 = p2bodydist x >= 150
trigger1 = random <= 200
trigger2 = ctrl || stateno = [100,101]
trigger2 = p2movetype = H && p2statetype = A
trigger2 = p2bodydist x >= 150
trigger2 = p2bodydist y > -150
trigger3 = p2movetype = H && p2statetype = A
trigger3 = ctrl || stateno = [100,101]
trigger3 = p2bodydist x >= 100
trigger3 = ProjHit1000 = 1, < 20
trigger4 = p2bodydist x <= 150
trigger4 = p2movetype = H && p2statetype = A
trigger4 = stateno = 1044 && movehit
trigger5 = ctrl || stateno = [100,101]
trigger5 = p2bodydist x < 70
trigger5 = ProjHit1000 = 1, < 30
trigger5 = p2bodydist y < -15
trigger5 = p2bodydist y > -100
trigger6 = stateno = 810 && animtime = 0
trigger6 = p2movetype = H
trigger6 = p2bodydist x > 60
trigger6 = (p2stateno = [1025,1028]) || p2stateno = [5000,5172]
trigger7 = stateno = 830 && animtime = 0
trigger7 = p2bodydist x > 60
trigger7 = p2movetype = H
trigger7 = (p2stateno = [1025,1028]) || p2stateno = [5000,5172]
trigger8 = enemynear,Vel x >= 0
trigger8 = p2statetype = A && p2movetype = H
trigger8 = ctrl || stateno = [100,101]
trigger8 = p2bodydist x >= 100
trigger8 = p2bodydist y = [-150-floor(10*(enemynear,vel Y)),-20-floor(10*(enemynear,vel Y))]
trigger9 = stateno = 410 && moveguarded

[State -1]
type = ChangeState
value = ifelse(random<999,1717,1717)
triggerall = var(58) =1
triggerall = enemy,var(46) = 0
triggerall = roundstate = 2
triggerall = p2stateno != [5070,5170]
triggerall = enemynear(var(59)),statetype != L
triggerall = enemynear(var(59)),statetype = A
triggerall = enemynear(var(59)),movetype = H
triggerall = statetype != A && ctrl || stateno = 0 || stateno = 100 || stateno = 21 || stateno = 22
trigger1 = enemynear(var(59)),vel y >= -20
trigger1 = p2bodydist x = [50,225]
trigger1 = p2bodydist y > -110 && p2bodydist y < -50
trigger2 = p2stateno = 4315


[State AI]
Type  = ChangeState
value = 1900
triggerall = random <= 999
triggerall = var(58) = 1
triggerall = RoundState = 2
TriggerAll = statetype != A
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=2
trigger1 = StateNo = 310 &&animelem= 9,>0

[State AI]
Type  = ChangeState
value = 1901
triggerall = random <= 999
triggerall = var(58) = 1
triggerall = RoundState = 2
TriggerAll = statetype != A
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=2
trigger1 = StateNo = 311 &&animelem= 9,>0


[State AI]
Type  = ChangeState
value = 4800
triggerall = random <= 399
triggerall = var(58) = 1
triggerall = power >= 1999
triggerall = statetype != A
triggerall = RoundState = 2
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=1
trigger1 = StateNo = 1911 &&animelem= 5,>0

[State AI]
Type  = ChangeState
value = 30000
triggerall = random <= 399
triggerall = var(58) = 1
triggerall = power >= 1999
triggerall = statetype != A
triggerall = RoundState = 2
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=1
trigger1 = StateNo = 1910 &&animelem= 5,>0


[State AI]
Type  = ChangeState
value = 947
triggerall = random <= 999
triggerall = var(58) = 1
triggerall = power >= 2999
triggerall = statetype != A
triggerall = RoundState = 2
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=1
trigger1 = StateNo = 1911 &&animelem= 5,>0



[State AI]
Type  = ChangeState
value = 7021
triggerall = random <= 999
triggerall = var(58) = 1
triggerall = power >= 3500
triggerall = RoundState = 2
TriggerAll = statetype = A
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=1
trigger1 = StateNo = 1920 &&animelem= 8,>0

[State AI]
Type  = ChangeState
value = 3300
triggerall = random <= 999
triggerall = var(58) = 1
triggerall = power >= 3200
triggerall = RoundState = 2
TriggerAll = statetype = A
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=1
trigger1 = StateNo = 1920 &&animelem= 8,>0





[State AI]
type = ChangeState
value = 1750
triggerall = var(58) = 1
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = p2bodydist x = [10,50]
triggerall = random <= 850
trigger1 = p2statetype = A
trigger1 = p2movetype != H
trigger1 = statetype != A
trigger1 = ctrl = 1

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = random <= 160
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2movetype != A
trigger1 = ctrl

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [5,15]) && random <= 800
trigger1 = statetype != A && ctrl
trigger2 = (p2bodydist x = [0,18]) && random <= 1000 && movecontact
trigger2 = stateno = 420 && animelemtime(5) >=0 && animelemtime(6) <= 1

[State AI]
type = ChangeState
value = 235
triggerall = var(58) = 1
triggerall = random <= 850
triggerall = p2stateno != [5030,5121]
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2bodydist x = [0,20]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 215
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 130
triggerall = ctrl && statetype != A
triggerall = p2stateno != [5050,5121]
triggerall = p2statetype != A
triggerall = p2statetype != C
triggerall = p2statetype != L
triggerall = p2bodydist x = [0,10]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 215
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = (p2bodydist x = [7,10]) && p2movetype != A && p2statetype != A
triggerall = random <= 900 && p2statetype != L
triggerall = statetype != A && ctrl
trigger1 = (p2stateno = [120,160]) && p2statetype != S
trigger2 = (p2stateno != [120,160])
trigger3 = p2stateno = 2420 && movetype = I

[State AI]
type = ChangeState
value = 131
triggerall = var(58) = 1
triggerall = Roundstate = 2 && statetype != A && ctrl
trigger1 = random < 850
trigger1 = enemynear,statetype != A
trigger1 = enemynear, HitDefAttr = C,AA,AP && P2BodyDist X = [-30,100]
trigger1 = (EnemyNear,MoveType = A || p2movetype = A)
trigger2 = random < 900
trigger2 = enemynear,statetype != A && inguarddist

[State AI]
type = Changestate
value = 130
triggerall = var(58) = 1
triggerall = Roundstate = 2 && statetype != A && ctrl
trigger1 = random < 850
trigger1 = enemynear,statetype = A
trigger1 = enemynear, HitDefAttr = SA, AA, SA ,HA ,AP, SP, HP && P2BodyDist X = [-30,80]
trigger1 = (EnemyNear,MoveType = A || p2movetype = A)
trigger2 = random < 990
trigger2 = inGuardDist && Enemy, NumProj >= 1
trigger3 = random < 950
trigger3 = enemynear,statetype = A && inguarddist


[State AI]
type = ChangeState
value = 1715
triggerall = var(50) != 0
triggerall = power <= 999
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,30]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1600
triggerall = var(50) != 0
triggerall = p2movetype != A
triggerall = numprojID(1600) = 0
triggerall = numhelper(1000) <= 0
triggerall = p2stateno != 2620
triggerall = random <= 120
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [110,130]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1400
triggerall = var(50) != 0
triggerall = power <= 999
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [31,170]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 215
triggerall = var(58) = 1
triggerall = random <= 300
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,10]
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 430
triggerall = var(58) = 1
triggerall = random <= 200
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,20]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[state AI]
type = ChangeState
value = 320
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = statetype = A
triggerall = p2statetype != L
triggerall = ctrl
triggerall = (p2dist X <= 0 && frontedgedist < 40) || (p2dist X <= 10 && frontedgedist > 39)
triggerall = p2bodydist Y <= 100
trigger1 = p2statetype = A
trigger1 = vel Y > 0
trigger2 = vel Y > 1
trigger2 = pos Y >= -65
trigger2 = p2statetype = C
trigger3 = p2statetype = S
trigger3 = vel Y > 1
trigger3 = random <= 300

[State AI]
type = ChangeState
value = 320
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = statetype = A && vel x != 0
triggerall = p2bodydist x <= -25
trigger1 = vel y > .42 || p2bodydist Y <= 50
trigger1 = ctrl





[State AI]
type = ChangeState
value = 440
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 200
triggerall = p2stateno != [5050,5121]
triggerall = p2stateno = [150,151]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,70]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State -3]
type = ChangeState
triggerall=Roundstate=2
triggerall = random <= 999
triggerall = statetype != A && ctrl
trigger1 = var(58)=1 
trigger1 = P2dist X = [30,90]
trigger1 = P2bodydist Y = [-150,-20]
value = 1717

[State AI]
Type  = ChangeState
value = 9011
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = statetype = A && enemynear,life <= 350
triggerall = power >= 2000
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=3
trigger1 = StateNo = 1750 &&animelem= 6,>0
trigger2 = StateNo = 1750 &&animelem= 7,>0
trigger3 = StateNo = 1718 &&animelem= 5,>0

[State AI]
Type  = ChangeState
value = 9011
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = statetype = A && enemynear,life <= 350
triggerall = power >= 2000
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=2
trigger1 = StateNo = 1750 &&animelem= 6,>0
trigger2 = StateNo = 1750 &&animelem= 7,>0

[State AI]
Type  = ChangeState
value = 9011
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 999
TriggerAll = statetype = A
triggerall = power >= 2000
TriggerAll=EnemyNear,Alive
TriggerAll=EnemyNear,MoveType=H
TriggerAll=!InGuardDist
TriggerAll=P2BodyDist X=[0,100]
TriggerAll=MoveHit=3
trigger1 = StateNo = 2555 &&animelem= 5,>0












[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=450),4800,2050)
triggerall = var(58) = 1
triggerall = power >= 2000
triggerall = p2statetype != A
triggerall = movehit
trigger1 = stateno = 1910 && movehit && enemynear,statetype != A && enemynear,life <= 550
trigger2 = stateno = 1911 && movehit && enemynear,statetype != A && enemynear,life <= 550
triggerall = enemy,var(46) = 0


[State AI]
type = ChangeState
value = 4800
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,90]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 3000
triggerall = var(58) = 1
triggerall = random <= 800
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [200,390]
trigger1 = ctrl


[State AI]
type = ChangeState
value = 1650
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = moveguarded
triggerall = random <= 999
trigger1 = stateno = 300
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 760
triggerall = var(58) = 1
triggerall = random <= 200
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,40]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 935
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = numprojID(1600) = 0
triggerall = random <= 350
triggerall = p2stateno = 5120
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [121,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1650
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = numprojID(1600) = 0
triggerall = random <= 350
triggerall = p2stateno = 5120
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [121,300]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1600
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = numprojID(1600) = 0
triggerall = random <= 350
triggerall = p2stateno = 5120
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [30,120]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 300
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,22]
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 215
trigger1 = time = 7

[State AI]
type = ChangeState
value = 1350
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = p2bodydist x = [13,30]
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 215
trigger1 = time = 7
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1650
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = moveguarded
triggerall = random <= 500
trigger1 = stateno = 999
trigger1 = time = 10
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 2000
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = power >= 1000
triggerall = movehit
triggerall = random <= 500
trigger1 = stateno = 305
trigger1 = time = 10
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 300
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = p2bodydist x = [13,35]
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 215
trigger1 = time = 7
triggerall = enemy,var(46) = 0


[State AI]
type = ChangeState
value = 720
triggerall = var(58) = 1
triggerall = p2stateno = [5080,5121]
triggerall = random <= 100
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,150]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = ChangeState
value = 710
triggerall = p2statetype != L
triggerall = var(58) = 1
triggerall = statetype != A
triggerall = ctrl
triggerall = InGuardDist = 1
trigger1 = p2bodydist X < 40
trigger1 = BackEdgeBodyDist < 30
trigger2 = p2bodydist X > 50
trigger3 = p2bodydist X < 150
trigger3 = EnemyNear,ParentDist X != 0 || EnemyNear,HitDefAttr = SC,SA,HA
trigger4 = p2statetype = A
trigger4 = P2movetype = A


[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=400),1900,1715)
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 305
trigger1 = time = 10
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = 1910
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 1900
trigger1 = time = 16
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1911
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 1901
trigger1 = time = 16
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1250
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 210
trigger1 = time = 8
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = ifelse((random<=999),ifelse((random<=500),1250,1201),2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit 
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1750
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = p2statetype = A
triggerall = movehit
trigger1 = stateno = 1202
trigger1 = time = 22
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 2950
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = p2statetype = A
triggerall = movehit
triggerall = statetype = A
triggerall = power >= 1000
trigger1 = stateno = 1750
trigger1 = time = 18
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1715
triggerall = var(50) != 0
triggerall = power <= 999
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,30]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=600),922,2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 500
triggerall = movehit
triggerall = power >= 2000
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = ifelse((random<=250),2050,92000)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 2000 && power <= 2999
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = ifelse((random<=250),92000,2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 2000 && power <= 2999
trigger1 = stateno = 1921
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=250),92000,2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 2000 && power <= 2999
trigger1 = stateno = 1921
trigger1 = time = 46
triggerall = enemy,var(46) = 0





[State AI]
type = ChangeState
value = ifelse((random<=999),92000,2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 1000
trigger1 = stateno = 1260
trigger1 = time = 10
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=999),92000,2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = movehit
triggerall = power >= 4000
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=800),ifelse((random<=500),1715,1201),1715)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 1000 && power <= 1999
trigger1 = stateno = 1921
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=850),ifelse((random<=550),1250,1250),2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 1000 && power <= 1999
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=850),ifelse((random<=550),1250,1800),2050)
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power >= 1000 && power <= 1999
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = ifelse((random<=500),1250,1715)
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
triggerall = power <= 999
trigger1 = stateno = 1920
trigger1 = time = 46
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1260
triggerall = var(58) = 1
triggerall = movehit
triggerall = RoundState = 2
triggerall = random <= 999
trigger1 = stateno = 1250
trigger1 = time = 16
triggerall = enemy,var(46) = 0






[State AI]
type = ChangeState
value = ifelse((random<=999),1240,1270)
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype = A
triggerall = random <= 999
triggerall = movehit
trigger1 = stateno = 1260
trigger1 = time = 14
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = 1920
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 999
triggerall = movehit
trigger1 = stateno = 1910
trigger1 = time = 14
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1921
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 999
triggerall = movehit
trigger1 = stateno = 1911
trigger1 = time = 14
triggerall = enemy,var(46) = 0



[State AI]
type = null;ChangeState
value = 2400
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 92000
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = ctrl && statetype != A
triggerall = enemy,hitdefattr = S, NA,SA
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = 2050
triggerall = var(58) = 1
triggerall = random <= 500
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = ctrl && statetype != A
triggerall = enemy,hitdefattr = C, NA,SA
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 2000
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 500
triggerall = power >= 1000
triggerall = ctrl && statetype != A
triggerall = P2BodyDist X = [-15,39]
triggerall = enemy,hitdefattr = S, NA,SA,HA
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1700
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = random <= 200
triggerall = roundstate = 2
triggerall = power <= 999
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2movetype = A
triggerall = p2statetype != A
triggerall = p2bodydist x = [15,100]
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 430
IgnoreHitPause = 1
triggerall = HitPauseTime = 0
triggerall = roundstate = 2
triggerall = p2movetype != A
triggerall = p2stateno = 1520
triggerall = var(58) = 1
triggerall = random <= 860
triggerall = (ctrl || stateno = 100 || stateno = 102) && statetype != A
triggerall = p2stateno != [5050,5122]
triggerall = p2statetype != A
trigger1 = p2bodydist x = [-10,30]

[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((enemy,backedgebodydist<=10),300,300)
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 235
trigger1 = time = 8

[State AI]
type = ChangeState
value = 300
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 215
trigger2 = stateno = 400

[State AI]
type = ChangeState
value = 311
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movehit
trigger1 = stateno = 210
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 310
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movehit
trigger1 = stateno = 300
triggerall = enemy,var(46) = 0






[State AI]
type = ChangeState
value = 1250
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = moveguarded
triggerall = random <= 999
trigger1 = stateno = 210
trigger1 = time = 12
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = 300
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = p2statetype != A
triggerall = movehit
triggerall = random <= 999
trigger1 = stateno = 210
trigger1 = time = 8




[State AI]
type = ChangeState
value = 20002
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = power >= 1000 && power <= 1999
triggerall = p2statetype = A
trigger1 = stateno = 2510
trigger1 = time = 125
trigger2 = stateno = 2515
trigger2 = time = 158
trigger3 = stateno = 92015
trigger3 = time = 51
triggerall = enemy,var(46) = 0


[State AI]
type = ChangeState
value = 20000
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = power >= 1000 && power <= 1999
triggerall = p2statetype = A
trigger1 = stateno = 2510
trigger1 = time = 125
trigger2 = stateno = 2515
trigger2 = time = 158
trigger3 = stateno = 92015
trigger3 = time = 51
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
triggerall = RoundState = 2
value = ifelse((random<=470),3200,3300)
triggerall = var(58) = 1
triggerall = power >= 3000
triggerall = p2statetype = A
trigger1 = stateno = 2510
trigger1 = time = 125
trigger2 = stateno = 2515
trigger2 = time = 155
trigger3 = stateno = 92015
trigger3 = time = 51

[State AI]
type = ChangeState
value = 3300
triggerall = RoundState = 2
triggerall = var(58) = 1
triggerall = random <= 999
triggerall = power >= 3000
triggerall = p2statetype = A
trigger1 = stateno = 2510
trigger1 = time = 125
trigger2 = stateno = 2515
trigger2 = time = 158
trigger3 = stateno = 92015
trigger3 = time = 51


[State AI]
type = ChangeState
value = 720
triggerall = var(58) = 1
triggerall = p2stateno = [5080,5121]
triggerall = random <= 100
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,150]
triggerall = p2statetype != A
triggerall = statetype = S
trigger1 = ctrl

[State AI]
type = null;ChangeState
value = 720
triggerall = var(58) = 1
triggerall = random <= 50
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2bodydist x = [30,70]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 240
triggerall = var(58) = 1
triggerall = random <= 55
triggerall = facing = 1 && Enemy,facing = 1
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = p2bodydist x = [35,80]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 240
triggerall = var(58) = 1
triggerall = random <= 55
triggerall = facing = -1 && Enemy,facing = -1
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = p2bodydist x = [35,80]
trigger1 = ctrl

[State AI]
type = ChangeState
value = 760
triggerall = var(58) = 1
triggerall = random <= 100
triggerall = roundstate = 2
triggerall = p2stateno != [5050,5121]
triggerall = ctrl && statetype = A
triggerall = p2bodydist x = [0,40]
triggerall = p2statetype != A
trigger1 = ctrl



[State AI]
type = ChangeState
value = 1650
triggerall = var(58) = 1
triggerall = p2statetype = A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 750
trigger1 = time = 19
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 2050
triggerall = var(58) = 1
triggerall = power >= 1000
triggerall = random <= 999
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [0,280]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0



[State AI]
type = ChangeState
value = 1750
triggerall = var(58) = 1
triggerall = power <= 999
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [10,30]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1400
triggerall = var(58) = 1
triggerall = power <= 999
triggerall = random <= 400
triggerall = roundstate = 2
triggerall = p2stateno = 2620
triggerall = ctrl && statetype != A
triggerall = p2bodydist x = [31,170]
triggerall = statetype = S
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = null;ChangeState
value = 1900
triggerall = var(58) = 1
triggerall = random <= 300
triggerall = roundstate = 2
triggerall = p2statetype != A
triggerall = p2bodydist x = [0,100]
triggerall = statetype = A
trigger1 = ctrl
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 1500
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2statetype != A
triggerall = movecontact
triggerall = random <= 999
trigger1 = stateno = 1410
trigger1 = time = 4
triggerall = enemy,var(46) = 0

[State AI]
type = ChangeState
value = 100
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2movetype != A
triggerall = p2bodydist x = [80,300]
triggerall = stateno != 100
triggerall = random <= 80
trigger1 = statetype != A
trigger1 = ctrl

[State AI]
type = null;ChangeState
value = 750
triggerall = var(58) = 1
triggerall = roundstate = 2
triggerall = p2bodydist x = [0,70]
trigger1 = (stateno = 150 || stateno = 151) && power >= 1000
trigger1 = random <= 100

[State AI]
type  = ChangeState
value = 132
triggerall = var(58) = 1
triggerall = p2movetype = A
triggerall = statetype = A
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = A
trigger1   = P2BodyDist X = [40,80]
trigger1   = var(21) = [0,39]
trigger2   = P2BodyDist X = [-20,39]
trigger2   = var(21) = [0,59]

[State AI]
type  = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = S
trigger1   = P2BodyDist X = [40,90]
trigger1   = var(21) = [0,14]
trigger2   = P2BodyDist X = [-15,39]
trigger2   = var(21) = [10,29]
trigger3   = enemy,teammode = simul
trigger3   = P2BodyDist X = [-50,-16]
trigger3   = var(21) = [0,39]
trigger4   = P2BodyDist X = [-15,39]
trigger4   = enemy,hitdefattr = S, NA,SA,HA
trigger4   = Random < 350
trigger5   = P2BodyDist X = [0,300]
trigger5   = enemynear,NumProj = 1
trigger5   = Random < 700
trigger6   = P2BodyDist X = [0,300]
trigger6   = enemynear,ishelper = 1
trigger6   = Random < 750

[State AI]
type  = ChangeState
value = 130
triggerall = var(58) = 1
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = A
trigger1   = P2BodyDist X = [40,100]
trigger1   = var(21) = [0,15]
trigger2   = P2BodyDist X = [-40,39]
trigger2   = var(21) = [0,32]
trigger3   = P2BodyDist X = [-40,39]
trigger3   = enemy,hitdefattr = A, NA,SA,HA
trigger3   = Random < 540
trigger4   = P2BodyDist X = [0,300]
trigger4   = enemynear,NumProj = 1
trigger4   = Random < 700
trigger5   = P2BodyDist X = [0,300]
trigger5   = enemynear,ishelper = 1
trigger5   = Random < 750

[State AI]
type  = ChangeState
value = 131
triggerall = var(58) = 1
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = ctrl
triggerall = stateno != [190,194]
trigger1   = p2statetype = C
trigger1   = P2BodyDist X = [40,100]
trigger1   = var(21) = [0,24]
trigger2   = p2statetype = C
trigger2   = P2BodyDist X = [-20,39]
trigger2   = var(21) = [0,39]
trigger3   = p2statetype = S
trigger3   = P2BodyDist X = [-15,39]
trigger3   = var(21) = [0,9]
trigger4   = p2statetype = C
trigger4   = enemy,teammode = simul
trigger4   = P2BodyDist X = [-50,-16]
trigger4   = var(21) = [0,39]
trigger5   = P2BodyDist X = [-20,39]
trigger5   = enemy,hitdefattr = C, NA,SA,HA
trigger5   = Random < 350
trigger6   = P2BodyDist X = [0,300]
trigger6   = enemynear,NumProj = 1
trigger6   = Random < 700
trigger7   = P2BodyDist X = [0,300]
trigger7   = enemynear,ishelper = 1
trigger7   = Random < 750

[State AI]
type = ChangeState
value = 2150
triggerall = var(58) = 1
triggerall = power >= 1000
triggerall = RoundState = 2
triggerall = random <= 790
triggerall = p2bodydist x = [70,300]
trigger1 = ctrl && enemynear,NumProj && statetype != A && random = [20,300]
trigger2 = inguarddist = [0,120]
trigger2 = ctrl && enemynear,NumProj && statetype != A
triggerall = enemy,var(46) = 0





[State AI]
type = ChangeState
value = 610
triggerall = var(58) = 1
triggerall = RoundState = 2
triggerall = p2bodydist X < 50 && p2bodydist X > -10 && enemy,vel y >= 0 && enemy,vel x >= 0
triggerall = p2bodydist Y > -50
triggerall = vel y >= 0
triggerall = p2stateno != [5050,5121]
triggerall = ctrl && statetype = A
triggerall = p2statetype != A
trigger1 = ctrl

[State -3]
Type = ChangeState
triggerall = Roundstate = 2
triggerall = var(58)=1
triggerall = !ishelper
triggerall = statetype != A && ctrl
triggerall = p2dist x >= 0
triggerall = enemynear,p2dist x >= 0
triggerall = enemynear,stateno < 2000
triggerall = stateno != [120,159]
trigger1 = P2MoveType = A && p2statetype != A && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && p2bodydist x >= 120
trigger2 = P2MoveType = A && p2statetype != A && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && (p2bodydist x = [0,120]) && enemynear,animtime <= -30
trigger3 = P2MoveType = A && p2statetype = A && p2dist y <= -40 && enemynear,vel y <= 1 && frontedgedist >= 100 && statetype != A && enemynear,hitdefattr != SCA,NT,ST,HT && p2bodydist x >= 120 && enemynear,animtime <= -30
Value = 710

[State -3]
Type = ChangeState
triggerall = Roundstate = 2
triggerall = var(58)=1
triggerall = !ishelper
triggerall = statetype != A && ctrl
triggerall = p2dist x >= 0
triggerall = enemynear,p2dist x < 0
triggerall = enemynear,stateno < 2000
triggerall = stateno != [120,159]
trigger1 = p2statetype = A && p2dist y <= -40 && backedgedist >= 100 && statetype != A
Value = 720


[State AI]
type = ChangeState
value = 5201
triggerall = var(58) = 1 && Alive && Vel Y > 0 && Pos Y >= 0 && random <= 999
triggerall = var(48)= 0
trigger1 = StateNo = 5050
trigger2 = StateNo = 5071



[State -3]
Type = ChangeState
triggerall = Roundstate = 2
triggerall = var(58) = 1
triggerall = stateno != [120,159]
triggerall = !ishelper
triggerall = InGuardDist
Triggerall = P2MoveType = A
trigger1 = ctrl
Value = 120


[State -3]
type = ChangeState
value = 105
triggerall = Roundstate = 2
triggerall = var(58) = 1
triggerall = p2bodydist x = [0,60]
triggerall = backedgedist >= 60
triggerall = statetype != A
triggerall = stateno != 105
triggerall = enemynear,statetype = L && enemynear,alive = 1
trigger1 = ctrl


[State -3, ﾍ鬮ｬ?ｫﾉ]
type  = ChangeState
value = 122
triggerall = p2movetype = A          ;ﾟﾓ笋ｪｬﾍ?
triggerall = statetype = A           ;ｻﾝﾂｪｬﾍ
triggerall = var(58) = 1             ;CPU翆
triggerall = ctrl                    ;ｻｦｪﾋﾔﾑｪｱｪｪﾈｪｭ
triggerall = stateno != [190,194]    ;ｪ､ｪｪ､ｪｪﾈｫﾐｫｰ?ｪﾊｪﾉｪ?ｪｷｪﾆｪｪｪｭｪﾞｪｷｪ遯ｦ(ﾖﾇ)
triggerall = p2statetype = A         ;ﾟﾓ笋ｪｬﾍ
trigger1   = P2BodyDist X = [40,80]  ;ﾀﾋ袮鯑
trigger1   = var(21) = [0,39]        ;ｬ矼ｸｪ､
trigger2   = P2BodyDist X = [-20,39] ;ﾐﾎﾋ袮鯑(ﾛﾎｭｪ糴ﾟｪ皙ﾆｪ､ｪ)
trigger2   = var(21) = [0,59]        ;ｬ矼ﾍﾔｪ､

[State -3, ?｢ ﾘ｡ｪﾁｫｬ?ｫﾉ]
type  = ChangeState
value = 120
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = var(58) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = S
trigger1   = P2BodyDist X = [40,90]
trigger1   = var(21) = [0,14]         ;CPUｪﾎｫｬ?ｫﾉｪｬﾍｳｪ､ｪﾈ?ﾝﾂｪｬ?ｪｯｪﾊｪ､ｪﾇｪｹｪｫ｣ｿ
trigger2   = P2BodyDist X = [-15,39]
trigger2   = var(21) = [10,29]
trigger3   = enemy,teammode = simul   ;ﾟﾓ笋ｪｬ???ｫ?ｫﾉ
trigger3   = P2BodyDist X = [-50,-16] ;ｭｪｪｾｪ､ｪﾆｪ､ｪｪﾈｪｭｪﾋﾍ?ｪｵｪｪｿﾞ
trigger3   = var(21) = [0,39]
trigger4   = P2BodyDist X = [-15,39]
trigger4   = enemy,hitdefattr = S, NA,SA,HA ;ﾟﾓ笋ｪｬｪﾞｪｵｪﾋﾘ｡ｪﾁﾍ?ｪｪｷｪｿ粱ﾊ
trigger4   = Random < 200                   ;ﾍﾔｬ矼ｪﾇｫｬ?ｫﾉ

[State -3, ?ﾍ ﾘ｡ｪﾁｫｬ?ｫﾉ]
type  = ChangeState
value = 120
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = var(58) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = A
trigger1   = P2BodyDist X = [40,90]
trigger1   = var(21) = [0,15]
trigger2   = P2BodyDist X = [-40,39] ;ｪ皙ｯｪ?ｪﾟｪ
trigger2   = var(21) = [0,32]
trigger3   = P2BodyDist X = [-40,39]
trigger3   = enemy,hitdefattr = A, NA,SA,HA ;ﾟﾓ笋ｪｬｪﾞｪｵｪﾋﾍ鯱?ｪｪｷｪｿ粱ﾊ
trigger3   = Random < 400

[State -3, ｪｷｪ罨ｬｪﾟｫｬ?ｫﾉ]
type  = ChangeState
value = 121
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = var(58) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
trigger1   = p2statetype = C
trigger1   = P2BodyDist X = [40,85]
trigger1   = var(21) = [0,24]
trigger2   = p2statetype = C
trigger2   = P2BodyDist X = [-20,39]
trigger2   = var(21) = [0,39]
trigger3   = p2statetype = S         ;ﾘ｡ｪﾁｻﾓｫ?｡ｦ
trigger3   = P2BodyDist X = [-15,39]
trigger3   = var(21) = [0,9]
trigger4   = p2statetype = C
trigger4   = enemy,teammode = simul
trigger4   = P2BodyDist X = [-50,-16]
trigger4   = var(21) = [0,39]
trigger5   = P2BodyDist X = [-20,39]
trigger5   = enemy,hitdefattr = C, NA,SA,HA ;ﾟﾓ笋ｪｬｪﾞｪｵｪﾋﾏﾝｪﾟﾍ?ｪｪｷｪｿ粱ﾊ
trigger5   = Random < 300


[State -1, Guard]
type = ChangeState
value = 120
triggerall = var(58) = 1
triggerall = (var(20) != 1) || (var(20) = 1) && StateType != A
triggerall = stateno != [120,159]
triggerall = ctrl || stateno = 0 || (stateno = [20,22]) || (stateno = [100,101])
trigger1 = inguarddist
trigger1 = random <= (200 + (var(57) * 100)) && random <= 600 || var(57) > 4
trigger2 = inguarddist
trigger2 = p2bodydist x > 90 || enemynear(var(58)),time > 50
trigger2 = random <= var(57) * 150
trigger3 = inguarddist
trigger3 = enemynear(var(58)),numhelper > 0 || enemy,numproj > 0
trigger4 = var(57) > 4
trigger4 = enemynear(var(58)),movetype = A
trigger4 = !enemynear(var(58)),hitdefattr = SCA, NT, ST, HT
trigger4 = stateno != 100 || stateno = 100 && p2dist y > -45 || numenemy >= 2
trigger4 = p2bodydist x < 0
trigger4 = p2dist x > 0 || p2dist x < 0
trigger5 = var(57) > 4
trigger5 = inguarddist
trigger5 = numenemy > 1
trigger5 = enemy(0),numhelper+enemy(1),numhelper > 0 || enemy(0),numproj+enemy(1),numproj > 0
trigger6 = var(57) > 4
trigger6 = numhelper(31000+id)
trigger6 = helper(31000+id),inguarddist
trigger6 = !enemynear(var(58)),hitdefattr = SCA, NT, ST, HT
;trigger6 = numenemy >= 2

[State -3, コ?ンドを入れたらVarをON]
type = VarSet
trigger1 = command = "jump"
trigger1 = ctrl
trigger1 = statetype = S
v = 3
value = 1


[State -3, sysvarを引継ぐ]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = stateno = 40
trigger1 = AnimTime = 0
var(3) = ifelse(sysvar(1)=0, 2, ifelse(sysvar(1)=1, 3, 4))

[State -3, varをOFFにするステ?ト]
type = VarSet
triggerall = Time = 2
trigger1 = stateno = 50
trigger2 = stateno != [40,59]
v = 3
value = 0

[State -3, 前に??ンを押してたら前にも加速]
type = VelAdd
trigger1 = var(3) = 3
trigger1 = stateno = 50
x = 2

[State -3, 後ろなら後ろに加速]
type = VelAdd
trigger1 = var(3) = 4
trigger1 = stateno = 50
x = -2.1

[State -3, varをOFFにするステ?ト]
type = VarSet
trigger1 = Var(3) != 0
trigger2 = prevstateno = 100
trigger2 = AnimTime = 0
v = 2
value = 1

[State -3, varをOFFにするステ?ト]
type = VarSet
trigger1 = statetype != A
trigger1 = stateno != 40
v = 2
value = 0

[State -3, Afterimage]
type = Afterimage
trigger1 = var(3) >= 1
trigger1 = stateno = 50
trigger2 = AnimTime = 0
trigger2 = prevstateno = 100 ;RUN_FWD
trigger2 = sysvar(1) = 1
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State -3, Afterimagetime]
type = Afterimagetime
triggerall = Var(2) = 1
triggerall = Stateno != 0
trigger1 = stateno = 50
trigger1 = time%2 = 0
time = 2
;------------------------------------------------------------------------------


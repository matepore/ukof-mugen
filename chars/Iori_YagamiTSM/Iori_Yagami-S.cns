;===============================================================================
;EN ESTA SECCION SE ENCUENTRABN TODOS LOS MOVIMIETOS ESPACIALES DEL CHAR
;LA MODIFICACION SIN AUTORIZACION PUEDE SIGNIFICAR UNA FALLA TOTAL
;EN EL MISMO
;===============================================================================
;-------------------------------------------------------------------------------
[Statedef 1600]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 100
velset   = 0,0
anim     = 1620
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,10

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 1600
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = 1670
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 65,30
ownpal = 0
offset = 25,1
velocity = 4, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s18,0
guardsound = s8,1
pausetime = 0,12
sparkno = s4034
guard.sparkno = s4040
sparkxy = 20,-45
ground.type = Low
ground.hittime = 15
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 1
removetime = 20
bindtime = -1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;SENKA2
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935
poweradd = 200

[State 935, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S20,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = s20,1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = -1
removetime = 20
bindtime = -1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 1
removetime = 20
bindtime = -1

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 1600
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = 1670
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 65,30
ownpal = 0
offset = 25,1
velocity = 5, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s18,0
guardsound = s8,1
pausetime = 0,12
sparkno = s4034
guard.sparkno = s4040
sparkxy = 20,-45
ground.type = Low
ground.hittime = 15
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 11
projID = 1600
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = 1670
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 65,30
ownpal = 0
offset = 25,1
velocity = 5, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s18,0
guardsound = s8,1
pausetime = 0,12
sparkno = s4034
guard.sparkno = s4040
sparkxy = 20,-45
ground.type = Low
ground.hittime = 15
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 935, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;flash1
[Statedef 932]
type = S
movetype = I
physics = S
ctrl = 0
anim = 932
velset = 0,0

[State 932,sn ]
type = PlaySnd
trigger1 = animelem = 1
value = s0,16

[State 932,sn ]
type = PlaySnd
trigger1 = animelem = 5
value = s0,15

[State 2100, VelSet]
type = VelSet
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 10

[State 1000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 932,state ]
type = ChangeState
trigger1 = AnimTime = 0
value = 933
ctrl = 0
;-------------------------------------------------------------------------------
;Fin
[Statedef 933]
type = S
movetype = I
physics = S
ctrl = 0
anim = 933
velset = 0,0

[State 2100, VelSet]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 1301, pos]
type = PosSet
trigger1 = time = 0
x = enemy,pos X
y = 0

[State 1301, pos]
type = PosAdd
trigger1 = time = 1
x = 80

[State 1000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 932,state ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;flash2
[Statedef 952]
type = S
movetype = I
physics = S
ctrl = 0
anim = 952
velset = 0,0

[State 933,sn ]
type = PlaySnd
trigger1 = animelem = 1
value = s0,16

[State 933,sn ]
type = PlaySnd
trigger1 = animelem = 3
value = s0,15

[State 2100, VelSet]
type = VelSet
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(11) < 0
x = 10

[State 2100, VelSet]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 1000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 933,state ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------

[Statedef 1650]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 100
velset   = 0,0
anim     = 1610
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,6

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,10

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 1600
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = 1670
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 65,30
ownpal = 0
offset = 25,1
velocity = 9, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s18,0
guardsound = s8,1
pausetime = 0,12
sparkno = s4034
guard.sparkno = s4040
sparkxy = 20,-45
ground.type = Low
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;yagami
[Statedef 1000]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 100
velset   = 0,0
anim     = 1000
ctrl     = 0
sprpriority = 3

[State 1000, yagami]
type = PlaySnd
trigger1 = AnimElem = 7
value = s14,0

[State 1000, yagami]
type = PlaySnd
trigger1 = AnimElem = 7
value = s7,4

[State 1000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1010
projanim = 1010
projremove = 0
projpriority = 13
projsprpriority = 13
projshadow = 0,0,0
projremovetime = 19
getpower = 65,30
ownpal = 0
offset = 0, -15
velocity = 4, 0
attr = S, SP
animtype = Hard
air.animtype = up
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s0,1
guardsound = s8,1
pausetime = 0,10
sparkno = s4070
guard.sparkno = s4040
sparkxy = 40,-70
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -11
air.juggle = 8
air.velocity = -5, -3.2
air.fall = 1
fall.recover = 0

[State 1000,]
type = Velset
trigger1 = ProjHit1010 = 1
trigger1 = frontedgebodydist <= 80
x = -5

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;yagami2
[Statedef 1050]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 100
velset   = 0,0
anim     = 1050
ctrl     = 0
sprpriority = 3

[State 1000,yagami2]
type = PlaySnd
trigger1 = AnimElem = 7
value = s14,0

[State 1000, yagami2]
type = PlaySnd
trigger1 = AnimElem = 7
value = s7,4

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1010
projanim = 1020
projremove = 0
projpriority = 13
projsprpriority = 13
projshadow = 0,0,0
projremovetime = 22
getpower = 65,30
ownpal = 0
offset = 0, -15
velocity = 5, 0
attr = S, SP
animtype = Hard
air.animtype = up
damage = 100 ,11
hitflag = MAF
guardflag = M
hitsound = s0,1
guardsound = s8,1
pausetime = 0,12
sparkno = s4070
guard.sparkno = s4040
sparkxy = 40,-70
ground.type = High
ground.hittime = 32
ground.slidetime = 32
ground.velocity = -12
air.juggle = 8
air.velocity = -5, -3.2
air.fall = 1
fall.recover = 0

[State 1000,]
type = Velset
trigger1 = ProjHit1010 = 1
trigger1 = frontedgebodydist <= 80
x = -5

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Gancho Corto
[Statedef 1700]
type     = A
movetype = A
physics  = S
juggle   = 10
poweradd = 100
velset   = 0,0
anim     = 1700
ctrl     = 0
facep2   = 1
sprpriority = 5

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,4
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (2) >= 0 && AnimElemTime (4) <= 0
value = 10,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3
x = 30

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
x = 3

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 6
y = -6

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(6) > 0
y = .8

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1750
id = 1760
id = 1700
postype = P1
pos = 15,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 1760
id = 1760
postype = P1
pos = 0,0
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
triggerall = moveguarded
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, SA
damage = 92,8
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s4020
guard.sparkno = s4040
sparkxy = -15, -60+ (floor(p2bodydist Y))
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-10.5
air.velocity = -3.2,-10.5
air.type = High
air.hittime = 12
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 92,8
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
sparkno = s4034
guard.sparkno = s4040
sparkxy = -15, -60+ (floor(p2bodydist Y))
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-10.5
air.velocity = -3.2,-10.5
air.type = High
air.hittime = 12
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = s18,1

[State 1000,]
type = TargetVeladd
trigger1 = Movehit
y = .2

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1120

[Statedef 1120]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1120
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s2,4

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Gancho Largo
[Statedef 1750]
type     = A
movetype = A
physics  = S
juggle   = 4
poweradd = 100
velset   = 0,0
anim     = 1710
ctrl     = 0
facep2   = 1
sprpriority = 5

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,4
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (2) >= 0 && AnimElemTime (4) <= 0
value = 10,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3
x = 30

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
x = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 6
y = -8.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(6) > 0
y = .5

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1750
id = 1700
postype = P1
pos = 20,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 1760
postype = P1
pos = 0,0
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 28,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4034
guard.sparkno = s4040
sparkxy = -15, -55+ (floor(p2bodydist Y))
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,0
air.velocity = -3,-7
air.type = High
air.hittime = 12
air.fall = 1
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 28,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4034
guard.sparkno = s4040
sparkxy = -15, -55+ (floor(p2bodydist Y))
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,0
air.velocity = -3,-7
air.type = High
air.hittime = 12
air.fall = 1
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 47,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
sparkno = s4034
guard.sparkno = s4040
sparkxy = -15, -60+ (floor(p2bodydist Y))
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-9
air.velocity = -3.2,-9
air.type = High
air.hittime = 12
fall = 1
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = s18,1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1160

;-------------------------------------------------------------------------------
[Statedef 1160]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1160
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s2,4

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1800]
type     = S
movetype = A
physics  = S
juggle   = 5
poweradd = 120
velset   = 0,0
anim     = 1800
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 9
value = s12,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,8

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(8) < 2
x = 9

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(9) < 0
trigger1 = p2bodydist X < 50
value = 1810

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1810]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 50
ctrl     = 0
velset   = 0,0
anim     = 1310
sprpriority = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 9

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 20, 0
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8,12
sparkno = s4020
guard.sparkno = s4040
sparkxy = -15, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low3
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -5
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 12
air.fall = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = Movecontact
value = 1820

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1820]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1820
sprpriority = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, ST
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = s4020
guard.sparkno = s4040
sparkxy = -35, -60
hitsound = s13,0
guardsound = s8,1
ground.type = High
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -5
air.type = High
air.velocity = -3,-3
air.hittime = 12
air.fall = 1
p1stateno = 1825
p2stateno = 1830
p2facing = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1825]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1810
sprpriority = 5

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 1
x = 0

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = F64
postype = P1
pos = 60,-5
sprpriority = -1
bindtime = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = F65
postype = P1
pos = 60,-5
sprpriority = 9
bindtime = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 2520
postype = P1
pos = 70,-10
sprpriority = 10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 68, -60

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 67, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 70, -10

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = -100

[State 810,]
type = EnvShake
trigger1 = AnimElem = 2
ampl = 8
freq = 120
time = 12

[State 810,]
type = EnvShake
trigger1 = AnimElem = 4
ampl = 10
freq = 120
time = 18

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 7, 9

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 18, 4

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1850]
type     = S
movetype = A
physics  = S
juggle   = 5
poweradd = 100
velset   = 0,0
anim     = 1850
ctrl     = 0
sprpriority = 2


[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 15
value = s12,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,8

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(14) < 2
x = 9

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimElemtime(4) > 0 && AnimElemtime(15) < 0
trigger1 = p2bodydist X < 50
value = 1811

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1811]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 150
ctrl     = 0
velset   = 0,0
anim     = 1310
sprpriority = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 9

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 20, 0
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8,12
getpower = 63,40
givepower = 30,10
sparkno = s4020
guard.sparkno = s4040
sparkxy = -15, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low3
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -5
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 12
air.fall = 1
p1stateno = 1816
p2stateno = 2215

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = Movecontact
value = 1821

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1821]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1820
sprpriority = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, ST
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = s4020
guard.sparkno = s4040
sparkxy = -35, -60
hitsound = s13,0
guardsound = s8,1
ground.type = High
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -5
air.type = High
air.velocity = -3,-3
air.hittime = 12
air.fall = 1
p2stateno = 3121
p2facing = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1815]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1815
sprpriority = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S7,18

[State 810, ]
type = Width
trigger1 = time = 0
edge = 50,0

[State 1000, ]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = f7,0

[State 1100, ]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = F61
postype = P1
pos = 70,0
sprpriority = -1
bindtime = 1

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 65, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70, -10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75, -13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 75, -30

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 75, -50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 72, -70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 72, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 90, -108

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 90, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 85, -118

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 45
pos = 62, -25

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 150,0
animtype = up
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = s1890
sparkxy = -10,-80
hitsound = s18,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 26
envshake.ampl = 14
envshake.freq = 80
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1816]
type = S
movetype = A
physics = S
anim = 1821
velset = 0,0
sprpriority = 2
ctrl = 0

[State 3520, Turn]
type = Turn
trigger1 = animtime = 0

[state 333]
type = playsnd
trigger1 = animelem = 11
value = s7,18

[state 333]
type = playsnd
trigger1 = animelem = 10
value = s19,2

[State 1500,]
type = NotHitBy
trigger1 = Time = [0,34]
value = SCA

[State 3035, EnvShake]
type = EnvShake
trigger1 = AnimElem = 10
time = 12
ampl = 5
freq = 80

[State 3035, EnvShake]
type = EnvShake
trigger1 = AnimElem = 12
time = 12
ampl = -5
freq = 180

[State 3035, EnvShake]
type = Envcolor
trigger1 = AnimElem = 12
time = 2
value = 255,255,255
under = 1

[State 3035, esploss]
type = PlaySnd
trigger1 = AnimElem = 12
value = 9999,7

[State 3510, BindA]
type = TargetBind
trigger1 = time = 3
pos = 44, 0
time = 1

[State 3510, BindA]
type = TargetBind
trigger1 = time = 6
pos = 22, 0
time = 1

[State 3510, BindA]
type = TargetBind
trigger1 = time = 9
pos = 1, 0
time = 1

[State 3510, BindA]
type = TargetBind
trigger1 = time = 12
pos = -11, 0
time = 1

[State 3510, BindA]
type = TargetBind
trigger1 = time = 14
pos = -22, 0
time = 1

[State 3510, Grab Snd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 9,2

[State 3510, DAMAGE]
type = targetlifeadd
Trigger1 = AnimElem = 11, =0
value = -150
kill = 1

[State -2,]
type = Explod
trigger1 = animelemtime(15) > 0
trigger1 = Random < 70
anim = 4130
pos = 0,0
postype = p2
sprpriority = 1
bindtime = 1
random = 100,50
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelemtime(15) > 0
trigger1 = Random < 70
anim = 4135
pos = 0,0
postype = p2
sprpriority = 1
bindtime = 1
random = 100,50
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelemtime(15) > 0
trigger1 = Random < 70
anim = 4140
pos = 0,0
postype = p2
sprpriority = 1
bindtime = 1
random = 100,50
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelemtime(15) > 0
trigger1 = Random < 70
anim = 4145
pos = 0,0
postype = p2
sprpriority = 1
bindtime = 1
random = 100,50
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelem = 10
anim = f64
pos = -10,0
postype = p1
sprpriority = -1
bindtime = 1
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelem = 10
anim = f65
pos = -10,0
postype = p1
sprpriority = 9
bindtime = 1
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelem = 11
anim = 1326
pos = -15,70
postype = p1
scale = 1,1.25
sprpriority = 1
bindtime = 1
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelem = 11
anim = 1326
pos = -15,70
postype = p1
scale = 1,1.25
sprpriority = 1
bindtime = 1
ownpal = 1

[State -2,]
type = Explod
trigger1 = animelem = 11
anim = 1326
pos = -15,70
postype = p1
scale = 1,1.25
sprpriority = 1
bindtime = 1
ownpal = 1

[state 312]
type = pause
trigger1 = time = [218,238]
time = 1

[state 333]
type = targetstate
trigger1 = animelem = 12
value = 1042

[State 3510, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------

[Statedef 3121]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1816

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5300


;-------------------------------------------------------------------------------
[Statedef 1830]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1830

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = -5

[State 1000, ]
type = Palfx
trigger1 = AnimElem = 4
time = 50
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
value = 5100

;---------------------------------------------------------------------------
; 弱百弐拾七式・葵花
; CNS レベル: 中級

[Statedef 1200]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 20
velset   = 0,0
anim     = 1200
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 3
x = 12

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 32,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7,9
sparkno = s4020
guard.sparkno = s4040
sparkxy = -20, -65
hitsound = s0,3
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
air.velocity = -4,-4
air.type = High
air.hittime = 12
air.fall = 1

[State 1000,]
type = ChangeState
trigger1 = command = "弱百弐拾七式・葵花" || command = "強百弐拾七式・葵花"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1210

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;弱葵花?二段目

[Statedef 1210]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 20
velset   = 0,0
anim     = 1210
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,11

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 32,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7,9
sparkno = s4020
guard.sparkno = s4040
sparkxy = -20, -65
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
air.velocity = -4,-5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0

[State 1000,]
type = ChangeState
trigger1 = command = "弱百弐拾七式・葵花" || command = "強百弐拾七式・葵花"
trigger1 = AnimElemtime(4) > 1 && AnimElemtime(7) < 2
value = 1220

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;弱葵花?三段目

[Statedef 1220]
type     = A
movetype = A
physics  = S
juggle   = 3
poweradd = 20
velset   = 0,0
anim     = 1220
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,12

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time > 1
x = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
y = -5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = time > 0
y = .5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 35,3
animtype = up
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 4,5
sparkno = s4020
guard.sparkno = s4040
sparkxy = -25, -60
hitsound = s9,0
guardsound = s8,1
ground.type = low
ground.slidetime = 25
ground.hittime = 15
ground.velocity = -10,12
guard.velocity = -15
airguard.velocity = -5.3,-1.8
air.velocity = -10,12
air.type = High
air.hittime = 12
fall = 1
air.fall = 1
fall.recover = 0
envshake.ampl = -7
envshake.freq = 100
envshake.time = 15
p2stateno = 1290

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1230


;弱葵花?着地

[Statedef 1230]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1230
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = null;PlaySnd
trigger1 = time = 1
value = s2,4

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 強百弐拾七式・葵花
; CNS レベル: 中級

[Statedef 1250]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 20
velset   = 0,0
anim     = 1250
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 10.80

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = s4020
guard.sparkno = s4040
sparkxy = -20, -65
hitsound = s0,3
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
air.velocity = -4,-4
air.type = High
air.hittime = 12
air.fall = 1
yaccel          = .45

[State 1000,]
type = ChangeState
trigger1 = command = "弱百弐拾七式・葵花" || command = "強百弐拾七式・葵花"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1260

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;強葵花?二段目

[Statedef 1260]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 20
velset   = 0,0
anim     = 1260
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s7,11

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 11

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = s4020
guard.sparkno = s4040
sparkxy = -20, -65
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-6
air.velocity = -4,-6
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
yaccel          = .45

[State 1000,]
type = ChangeState
trigger1 = command = "弱百弐拾七式・葵花" || command = "強百弐拾七式・葵花"
trigger1 = AnimElemtime(4) > 1 && AnimElemtime(7) < 2
value = 1270

[State 1000,]
type = ChangeState
trigger1 = command = "弱百弐拾七式・葵花-2"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(7) < 2
value = 1240

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;強葵花?三段目

[Statedef 1270]
type     = A
movetype = A
physics  = S
juggle   = 3
poweradd = 20
velset   = 0,0
anim     = 1270
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,12

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time > 1
x = 5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
y = -5.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = time > 0
y = .5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 38,3
animtype = up
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 4,5
sparkno = s4020
guard.sparkno = s4040
sparkxy = -25, -60
hitsound = s9,0
guardsound = s8,1
ground.type = low
ground.slidetime = 25
ground.hittime = 15
ground.velocity = -10,12
guard.velocity = -15
airguard.velocity = -5.3,-1.8
air.velocity = -10,12
air.type = High
air.hittime = 12
fall = 1
air.fall = 1
fall.recover = 0
envshake.ampl = -7
envshake.freq = 100
envshake.time = 15
p2stateno = 1290
;p2stateno = 5270 + ((p2statetype=C)*10)

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1280


;強葵花?着地

[Statedef 1280]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1280
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = null;PlaySnd
trigger1 = time = 1
value = s2,4

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1290]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 1291 ;HITG_SLID

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 1291

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;-------------------------------------------------------------------------------
[Statedef 1291]
type    = A
movetype= H
physics = N
ctrl = 0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5210, 1]
type = changeanim
trigger1 = Time = 0
value = 5050

[State 1830]
type = changeState
triggerall = alive = 1
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1292

[State 1000, ChangeState]
type = SelfState
triggerall = alive = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
[Statedef 1292]
type    = A
movetype= H
physics = N
facep2  = 1

[State 1000, HitBy]
type = HitBy
triggerall = enemy,stateno != [1630,1640]
trigger1 = 1
value = SCA

[State 1000, PosSet]
type = PosSet
trigger1 = time = [0,4]
y = -20

[State 1000, VelSet]
type = VelSet
trigger1 = time = [0,4]
x = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = f65
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = f64
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 5000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = f7,ifelse(Stagevar(Info.name)!="Boss",1,7)
volumescale = 50

[State 1000, Pause]
type = Pause
trigger1 = time = [5,7]
time = 1
movetime = 1
ignorehitpause = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 5
x = -1.7
y = -5

[State 52, 2]
type = Veladd
trigger1 = AnimElemtime(3) >= 0
y = .50

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1290

[State 1830]
type = SelfState
triggerall = AnimElemtime(5) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
[Statedef 1293]
type    = L
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5100

[State 2100, 移動]
type = PosSet
trigger1 = 1
y = 0

[State 2100, 移動終了]
type = VelSet
trigger1 = time = 22
x = 0

[State 2100,]
type = MakeDust
trigger1 = vel x < 0
spacing = 4

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = f7,6
volumescale = 50

[State 1000, VelSet]
type = VelSet
triggerall = FrontEdgeBodyDist <= 70
triggerall = p2bodydist x <= 0
trigger1 = time = 0
x = 4

[State 1000, VelSet]
type = VelSet
triggerall = FrontEdgeBodyDist >= 70
triggerall = p2bodydist x >= 0
trigger1 = time = 0
x = -4

[State 820, 1]
type = SelfState
trigger1 = time = 23
value = 5150

;---------------------------------------------------------------------------
;相手やられ(上段)

[Statedef 1460]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1460

[State 820, 1]
type = SelfState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手やられ(下段)

[Statedef 1470]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1470

[State 820, 1]
type = SelfState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弱参百拾壱式・爪櫛
; CNS レベル: 中級

[Statedef 1400]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 100
velset   = 0,0
anim     = 1405
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 10
value = s5,2

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
y = -4

[State 1000, 軸位置移動]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .5

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 14000
postype = P1
pos = 60,-65
sprpriority = 10
removetime = 23
bindtime = -1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1410

;---------------------------------------------------------------------------
; 弱参百拾壱式・爪櫛?着地

[Statedef 1410]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1415
sprpriority = 2

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = time = 0
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 90,8
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 12
sparkno = s4034
guard.sparkno = s4040
sparkxy = -20, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -7.5
airguard.velocity = -3.3,-1.8
air.type = High
air.velocity = -3.5,-3
air.hittime = 12
air.fall = 1
palfx.time = 22
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = s18,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,1

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 強参百拾壱式・爪櫛
; CNS レベル: 中級

[Statedef 1450]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 100
velset   = 0,0
anim     = 1405
ctrl     = 0
sprpriority = 2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S7,13
channel = 4

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
x = 20

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 10
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 6.5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
y = -5.5

[State 1000, 軸位置移動]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .8

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 14000
postype = P1
pos = 85,-55
sprpriority = 10
removetime = 23

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1415

;---------------------------------------------------------------------------
[Statedef 1415]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1415
sprpriority = 2

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = time = 0
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S18,7

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 90,8
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 7,14
sparkno = 3
guard.sparkno = s4040
sparkxy = -20, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 22
ground.hittime  = 26
ground.velocity = -7.7
airguard.velocity = -3.3,-1.8
air.type = High
air.velocity = -3.5,-3
air.hittime = 12
air.fall = 1
palfx.time = 22
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1
getpower = 25,25
givepower = 16,16

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S18,0

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 強参百拾壱式・爪櫛?着地

[Statedef 1411]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1411
sprpriority = 2

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 98,9
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 12
sparkno = s4034
guard.sparkno = s4040
sparkxy = -20, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -7.5
airguard.velocity = -3.3,-1.8
air.type = High
air.velocity = -3.5,-3
air.hittime = 12
air.fall = 1
palfx.time = 23
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = s18,1
[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7,4

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 1460]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1461
sprpriority = 2

[State 1000, 軸位置移動]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 98,9
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 12
sparkno = s4034
guard.sparkno = s4040
sparkxy = -20, -60
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -7.5
airguard.velocity = -3.3,-1.8
air.type = High
air.velocity = -3.5,-3
air.hittime = 12
air.fall = 1
palfx.time = 23
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = s18,1
[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7,4

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;屑風

[Statedef 1500]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
ctrl     = 0
anim     = 1500
poweradd = 120
sprpriority = 4


[state 2]
type = changeanim
triggerall = prevstateno = [200,799]
trigger1 = time = 0
value = 1501

[State 1500]
type = NotHitBy
trigger1 = AnimElem = 4, < 0
value = SCA
time = 1

[State 100, VelSet]
type = VelSet
triggerall = prevstateno = [200,799]
trigger1 = animelem = 1
x = 2

[State 100, VelSet]
type = VelSet
triggerall = prevstateno = [200,799]
trigger1 = animelem = 3
x = 0

[State 100, VelSet]
type = VelSet
triggerall = prevstateno != [200,799]
trigger1 = animelem = 2
x = 2

[State 100, VelSet]
type = VelSet
triggerall = prevstateno != [200,799]
trigger1 = animelem = 4
x = 0

[State 1500,]
type = notHitBy
triggerall = var(50) = 0
trigger1 = time = [0,4]
value = SCA

[State 1500,]
type = notHitBy
triggerall = var(50) != 0
trigger1 = time = [0,7]
value = SCA

[State 200, 音を鳴らす]
type = PlaySnd
triggerall = prevstateno = [200,799]
trigger1 = AnimElem = 4
value = s6,0

[State 200, 音を鳴らす]
type = PlaySnd
triggerall = prevstateno != [200,799]
trigger1 = AnimElem = 5
value = s6,0

[State 800, ヒット定?（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, ST
hitflag = M
numhits = 0
priority = 7,dodge
sparkno = s4080
sparkxy = -20,-80
p1sprpriority = 1     ;攻撃が当たった時に自分の画像?示優先度を1にします
p2sprpriority = 0     ;攻撃が当たった時に相手の画像?示優先度を0にします
p2facing = 1
p1stateno = 1510
p2stateno = 1520
guard.dist = 0
;fall = 1

[State 800, ステ?ト変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
;屑風発動

[Statedef 1510]
type    = S
movetype= A
physics = N
anim = 1510

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 60,0

[State 810, 1]
type = PlaySnd
Trigger1 = time = 0
value = s13,1

[State 810, 1]
type = PlaySnd
Trigger1 = AnimElem = 12
value = s7,13

[State 810, 1]
type = PlaySnd
Trigger1 = AnimElem = 12
value = s12,0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) > 0 && AnimElemtime(4) < 0
pos = 33, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) > 1 && AnimElemtime(5) < 0
pos = 25, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) > 1 && AnimElemtime(7) < 0
pos = 21, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) > 1 && AnimElemtime(9) < 0
pos = 14, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(9) > 1 && AnimElemtime(10) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(10) > 1 && AnimElemtime(11) < 0
pos = -15, 0

[state 2]
type = velset
trigger1 = 1
x = 0

[State 810, 3]
type = SprPriority
Trigger1 = AnimElem = 8
value = 0

[State 1500,]
type = Turn
trigger1 = AnimElem = 11
value = 1

[State 810, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ１・投げられている（相手の動作）動作
[Statedef 1520]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1000, PalFX]
type = PalFX
trigger1 = !time
time = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1520

[State 810, 3]
type = SprPriority
Trigger1 = AnimElem = 6
value = 1

[State 1322]
type = velset
trigger1 = AnimElem = 1
x = 3

[State 1322]
type = velset
trigger1 = AnimElem = 10
x = -7

[State 1322]
type = velmul
trigger1 = AnimElemtime(10) >= 2 && AnimElemtime(12) < 6
x = .775

[State 1322]
type = velset
trigger1 = AnimElem = 13
x = 0

[State 1500,]
type = Turn
trigger1 = AnimElem = 9
value = 1

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 10
statetype = S

[State 820, 1]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ１・投げられている（相手の動作）動作
[Statedef 1520]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1000, PalFX]
type = PalFX
trigger1 = !time
time = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1520

[State 810, 3]
type = SprPriority
Trigger1 = AnimElem = 6
value = 1

[State 1322]
type = velset
trigger1 = AnimElem = 1
x = 3

[State 1322]
type = velset
trigger1 = AnimElem = 10
x = -7

[State 1322]
type = velmul
trigger1 = AnimElemtime(10) >= 2 && AnimElemtime(12) < 6
x = .775

[State 1322]
type = velset
trigger1 = AnimElem = 13
x = 0

[State 1500,]
type = Turn
trigger1 = AnimElem = 9
value = 1

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 10
statetype = S

[State 820, 1]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Gancho Doble
[Statedef 1715]
type     = A
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1715
ctrl     = 0
facep2   = 1
sprpriority = 5

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = animelem = 2
x = 20

[State 1000, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = s4040
hitsound = s8,1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 28,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -55
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,0
air.velocity = -3,-7
air.type = High
air.hittime = 12
air.fall = 1
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel          = .45

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1716
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 1716]
type     = A
movetype = A
physics  = S
juggle   = 4
poweradd = 20
velset   = 0,0
anim     = 1716
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 8
value = s5,4
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 8
anim = 1750
pos = 6,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
anim = 1760
pos = 4,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, 軸位置移動]
type = Posadd
trigger1 = animelem = 1
x = 20

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (3) >= 0 && AnimElemTime (4) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 3
x = 3.8
y = -7.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
attr = S, SA
damage = 20,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -90
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-8.5
air.velocity = 0,-6.5
air.type = High
air.hittime = 12
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel          = .45

[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 7
attr = S, SA
damage = 20,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -90
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-6.5
air.velocity = -1.5,-5.5
air.type = High
air.hittime = 12
p1stateno = 1556
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel          = .45



[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = s18,1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1120

;-------------------------------------------------------------------------------
;Gancho Doble
[Statedef 1717]
type     = A
movetype = A
physics  = S
juggle   = 10
poweradd = 100
velset   = 0,0
anim     = 1715
ctrl     = 0
facep2   = 1
sprpriority = 5

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = animelem = 2
x = 20

[State 1000, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = s4040
hitsound = s8,1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 28,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -55
hitsound = s0,1
guardsound = s8,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,0
air.velocity = -3,-5
air.type = High
air.hittime = 12
air.fall = 1
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1718
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 1718]
type     = A
movetype = A
physics  = S
juggle   = 4
poweradd = 20
velset   = 0,0
anim     = 1716
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 8
value = s5,4
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 8
anim = 1750
pos = 6,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
anim = 1760
pos = 4,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, 軸位置移動]
type = Posadd
trigger1 = animelem = 1
x = 20

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (3) >= 0 && AnimElemTime (4) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 3
x = 3.8
y = -7.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
attr = S, SA
damage = 20,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -90
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-4.5
air.velocity = 0,-4.5
air.type = High
air.hittime = 12
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 7
attr = S, SA
damage = 20,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = s4034
guard.sparkno = s4040
sparkxy = -25, -90
hitsound = s0,1
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-4.5
air.velocity = -1.5,-4.5
air.type = High
air.hittime = 12
p1stateno = 1556
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1




[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = s18,1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1120
;-------------------------------------------------------------------------------
[Statedef 1556]
type     = A
movetype = A
physics  = S
juggle   = 0
poweradd = 20
velset   = 0,0
anim     = 2556
ctrl     = 0
sprpriority = 2

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
x = 0
y = -6

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s6,5


[State 100, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 10

[State 1000, ]
type = Velset
trigger1 = AnimElemtime(1) >= 1
x = 1

[State 210,]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (2) <= 0
edge = 30,0




[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(1) > 0
y = .62



[State 200, ヒット定]
type = HitDef
trigger1 = animelem = 4 && 5 &&6
attr = A, HA
damage = 40,10
animtype = up
guardflag = M
hitflag = HAFDL
priority = 3, Hit
pausetime = 20,22
sparkno = s4034
guard.sparkno = s4040
hitsound = s9,0
guardsound = s8,1
sparkxy = -25, -75
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,15
guard.velocity = -11
air.velocity = -5,15
airguard.velocity = -5,-5
air.type = High
air.hittime = 12
air.recover = 0
fall = 1
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 90
fall.envshake.time = 15
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 30
envshake.ampl = -10
envshake.freq = 100
yaccel = .45
p2stateno = 8000 + ((p2statetype=C)*10)
getpower = 0,0
givepower = 15,15

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = time = [5,25]
time = 1
movetime = 1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = MoveHit
trigger1 = Random < 200
anim = 4026
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = MoveHit
trigger1 = Random < 200
anim = 4027
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = MoveHit
trigger1 = Random < 200
anim = 4028
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State -2,]
type = Explod
triggerall = p2movetype = H
trigger1 = MoveHit
trigger1 = Random < 200
anim = 4036
pos = -20,-40
postype = p2
sprpriority = 9
bindtime = 1
random = 80,60
ownpal = 1
supermove = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 14000
postype = P1
pos = 66,-70
sprpriority = 10
removetime = 23
bindtime = -1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = s18,1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1120

;-------------------------------------------
;---------------------------------------------------------------------------
[Statedef 1900]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 50
velset   = 0,0
anim     = 1900
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,10
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 2000]
type = Explod
trigger1 = animelem = 4
anim = 1905
pos = 0,0
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.4,0.4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 16

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4060
getpower = 30,15
givepower = 30,15
guard.sparkno = s4120
sparkxy = -20, -65
hitsound = s0,14
guardsound = s8,11
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
ground.velocity = -10
guard.velocity = -10
air.velocity = -4,-4
air.type = High
air.hittime = 12
air.fall = 1
ground.cornerpush.veloff = -20
getpower = 25,25
givepower = 16,16
palfx.time = 25
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1

[State 1000,]
type = ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1910

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1910]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 50
velset   = 0,0
anim     = 1910
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 13.2

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 2000]
type = Explod
trigger1 = animelem = 4
anim = 1915
pos = 0,13
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.5,0.5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
getpower = 30,15
givepower = 30,15
sparkno = s4060
guard.sparkno = s4120
sparkxy = -20, -65
hitsound = s0,17
guardsound = s8,11
ground.type = low
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = -5
guard.velocity = -10
air.velocity = -3,-6
air.type = High
air.hittime = 12
fall = 0
fall.recover = 0
ground.cornerpush.veloff = -20
yaccel = .45
getpower = 25,25
givepower = 16,16
palfx.time = 20
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1

[State 1000,]
type = ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1920

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1920]
type     = A
movetype = A
physics  = S
juggle   = 0
poweradd = 50
velset   = 0,0
anim     = 1920
ctrl     = 0
sprpriority = 3

[State 2000]
type = Explod
trigger1 = animelem = 6
anim = 1925
pos = 5,0
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.5,0.5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,2
channel = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 13.2

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 1200, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage = 20,3
animtype = up
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4060
getpower = 30,15
givepower = 30,15
guard.sparkno = s4120
sparkxy = -25, -60
hitsound = s17,0
guardsound = s8,11
ground.type = High
ground.slidetime = 25
ground.hittime = 15
ground.velocity = -2.1,-9
guard.velocity = -15
airguard.velocity = -5.3,-1.8
air.velocity = -2.1,-7
air.type = High
air.hittime = 12
ground.hittime = 12
fall = 1
fall.recover = 0
envshake.ampl = -7
envshake.freq = 100
envshake.time = 15
;ground.cornerpush.veloff = -20
getpower = 25,25
givepower = 16,16
palfx.time = 35
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1
yaccel          = .45

[State 1000,]
type = null;ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(6) > 1
value = 1380

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1240]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 20
velset   = 0,0
anim     = 1240
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s18,7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = S7,12
channel = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 7

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 4
x = 0

[State 200, ヒット定]
type = HitDef
trigger1 = AnimElem = 3
triggerall = (p2stateno != [5020,5040])  
triggerall = p2stateno != [154,155]
triggerall = ifelse(p2movetype = H, (p2stateno != [4300,4315]),1)
attr = S, SA
damage = 50,10
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,14
sparkno = s4020
guard.sparkno = s4040
sparkxy = -25,-75
hitsound = s30,0
guardsound = s8,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3,-6
guard.velocity = -15
airguard.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
envshake.ampl = -7
envshake.freq = 100
envshake.time = 35
getpower = 25,25
givepower = 16,16
p2getp1stateno = 1
poweradd = 20,10
p2stateno = 4300 ;7000 + ((p2statetype=C)*10)

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 945
postype = P1
pos = -10,-30
sprpriority = 1
removetime = 20
bindtime = -1

[State 1000, ステト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;-------------------------------------------
;---------------------------------------------------------------------------
[Statedef 1901]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 50
velset   = 0,0
anim     = 1900
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,10
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 2000]
type = Explod
trigger1 = animelem = 4
anim = 1905
pos = 0,0
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.4,0.4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 16

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4060
getpower = 30,15
givepower = 30,15
guard.sparkno = s4120
sparkxy = -20, -65
hitsound = s0,14
guardsound = s8,11
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
ground.velocity = -10
guard.velocity = -10
air.velocity = -4,-4
air.type = High
air.hittime = 12
air.fall = 1
ground.cornerpush.veloff = -20
getpower = 25,25
givepower = 16,16
palfx.time = 25
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1

[State 1000,]
type = ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1911

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1911]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 50
velset   = 0,0
anim     = 1910
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,1

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 13.2

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 2000]
type = Explod
trigger1 = animelem = 4
anim = 1915
pos = 0,13
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.5,0.5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 36,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
getpower = 30,15
givepower = 30,15
sparkno = s4060
guard.sparkno = s4120
sparkxy = -20, -65
hitsound = s0,17
guardsound = s8,11
ground.type = low
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = -5
guard.velocity = -10
air.velocity = -3,-6
air.type = High
air.hittime = 12
fall = 0
fall.recover = 0
ground.cornerpush.veloff = -20
yaccel = .45
getpower = 25,25
givepower = 16,16
palfx.time = 20
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1

[State 1000,]
type = ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(5) > 1 && AnimElemtime(8) < 2
value = 1921

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1921]
type     = A
movetype = A
physics  = S
juggle   = 0
poweradd = 50
velset   = 0,0
anim     = 1920
ctrl     = 0
sprpriority = 3

[State 2000]
type = Explod
trigger1 = animelem = 6
anim = 1925
pos = 5,0
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.5,0.5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,2
channel = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animelemtime(1) = 0
x = 13.2

[State 1000, 軸位置移動]
type = Veladd
trigger1 = Animelemtime(1) >= 0 && animelemtime(5) < 0
x = -0.3

[State 1000, 軸位置移動]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = movehit = 1
value = s18,0
ignorehitpause = 1
persistent = 0

[State 1200, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage = 20,3
animtype = up
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4060
getpower = 30,15
givepower = 30,15
guard.sparkno = s4120
sparkxy = -25, -60
hitsound = s17,0
guardsound = s8,11
ground.type = High
ground.slidetime = 25
ground.hittime = 15
ground.velocity = -2.1,-9
guard.velocity = -15
airguard.velocity = -5.3,-1.8
air.velocity = -2.1,-7
air.type = High
air.hittime = 12
ground.hittime = 12
fall = 1
fall.recover = 0
envshake.ampl = -7
envshake.freq = 100
envshake.time = 15
;ground.cornerpush.veloff = -20
getpower = 25,25
givepower = 16,16
palfx.time = 35
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1
yaccel          = .45

[State 1000,]
type = null;ChangeState
trigger1 = command = "8" || command = "8"
trigger1 = AnimElemtime(6) > 1
value = 1380

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ｶ?ｰﾙﾈ?ﾊｽ.魑ｴｻ
[Statedef 1301]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
ctrl = 0
anim = 1301
sprpriority = 2

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HT
hitflag = M
priority = 1,Miss
sparkno = -1
sparkxy = -20,-100
hitsound = s13,1
p1sprpriority = 1
p2sprpriority = 2
p1facing = 1
p2facing = 1
p1StateNo = 1311
p2StateNo = 1321

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305

;---------------------------------------------------------------------------
; ｶ?ｰﾙﾈ?ﾊｽ.魑ｴｻｽYﾊ?
[Statedef 1305]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 1305
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ｶ?ｰﾙﾈ?ﾊｽ.魑ｴｻｹ･迩
[Statedef 1311]
type = S
movetype = A
physics = N
anim = 1311
sprpriority = 2

[State 2000]
type = Explod
trigger1 = time = 0
anim = 4080
pos = 0,0
postype = p2
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 7
anim = 2012
pos = 26,-24
sprpriority = 2
ownpal = 1
bindtime = 1
supermove = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 35,-121

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(8) < 0
pos = 32,-121

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 32,-121

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -32,-114

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -31,-107

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
pos = 67,-88

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
pos = 67,-10

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 9



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 7
value = s7,49

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 12
time = 15
ampl = -8
freq = 95
phase = 95

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 12
value = -70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
value = s19,2

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;P2StateDef
[Statedef 1321]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 4

[State 1320, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1321

[State 1320, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 1320, VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = 0.8
y = -11

[State 1320, VelMul]
type = Null;VelMul
trigger1 = AnimElem = 8, >= 0
x = 0.95

[State 1320, VelAdd]
type = VelAdd
Trigger1 = AnimElem = 8, >= 0
y = .48

[State 1320, SelfState] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;ｰﾙｶ?ﾊｮｾﾅﾊｽ.ﾃ?
[Statedef 1201]
type = S
movetype = A
physics = S
juggle = 2
poweradd = 50
velset = 0,0
anim = 1201
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = 5,6

[State 0, PosAdd]
type = PosAdd
trigger1 = Animelemtime(3) >= 0 && Animelemtime(4) < 0
x = 8+4*var(5)

[State 0, PosAdd]
type = PosAdd
trigger1 = Animelemtime(4) >= 0 && Animelemtime(5) < 0
x = 4.5+1.5*var(5)

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist X < 60
trigger1 = Animelemtime(3) >= 3 && Animelemtime(4) < 3
value = 1202

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ｰﾙｶ?ﾊｮｾﾅﾊｽ.ﾃ?ｹ･迩
[Statedef 1202]
type = S
movetype = A
physics = S
juggle = 2
poweradd = 50
velset = 0,0
anim = 1202
ctrl = 0
sprpriority = 2

[State 2000]
type = Explod
trigger1 = animelem = 2
anim = 1915
pos = 0,13
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1
trans = add1
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 5,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 6,4

[State 0, HitDef]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 2
attr = S,SA
damage = 70,10
getpower = 100,50
givepower = 20,20
animtype = Hard
guardflag = M
pausetime = 7,20
sparkno = s4070
guard.sparkno = s6042
sparkxy = -15,-65
hitsound = s0,14
guardsound = s8,11
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -4,-7
guard.velocity = -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 25
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1
yaccel = .5
air.fall = 1
fall.recover = 0

[State 0, HitDef]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 2
attr = S,SA
damage = 70,10
getpower = 100,50
givepower = 20,20
animtype = Hard
guardflag = M
pausetime = 7,11
sparkno = s4070
guard.sparkno = s6042
sparkxy = -15,-65
hitsound = s0,14
guardsound = s8,11
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -4,-8
guard.velocity = -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 25
palfx.add = 50,0,100
palfx.sinadd = -80,-80,-80,15
palfx.color = 0
palfx.invertall = 1
yaccel = .5
air.fall = 1
fall.recover = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = Animelem = 5 || Animelem = 6 || Animelem = 7
x = 5

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================
;P2 tomando o Especial
[Statedef 2215]
type    = A
movetype= H ;Get hit
physics = N
sprpriority = -1
ctrl = 0

[State 0, PosAdd]
type = velset
trigger1 = time = 0
y = 0
x = 0

[State 3520, Turn]
type = Turn
trigger1 = animtime = 0

[State 3520, ChangeA2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2215

[State 3520, Flash]
type = PalFX
trigger1 = animelem = 11
time = 15
add = 50,0,100
sinadd = -80,-80,-80,15
color = 0
invertall = 1

[State 3520, Flash]
type = PalFX
trigger1 = time = 188
time = 45
add = 50,0,100
sinadd = -80,-80,-80,15
color = 0
invertall = 1

[State 3520, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0


;===============================================

;-------------------------------------------------------------------------------
[Statedef 1042]
type     = S
movetype = H
physics  = N
velset = 0,0

[State 1000, PalFX]
type = PalFX
trigger1 = !time
time = 1

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 1531, 5]
type = PosSet
trigger1 = time = 0
y = 0

[State 1531, 5]
type = ChangeAnim2
trigger1 = time = 0
value = 1042

[State 1221, 3]
type = velset
trigger1 = AnimTime = 0
x = 5.5
y = -5.5

[State 3305, 2]
type = PalFX
trigger1 = time = 330
time = 30
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1221, 4]
type = changeState
Trigger1 = AnimTime = 0
value = 1043
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 1043]
type    = L
movetype= H
physics = N

[State 3305, 2]
type = PalFX
trigger1 = time = 0
time = 30
add = 50,0,100
sinadd = -80,-80,-80,15
color = 0
invertall = 1

[State 5101, 1]
type = turn
trigger1 = time = 0

[State 1000, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20
y = -10

[State 5101, 1]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 5]
type = VelAdd
trigger1 = 1
y = .48

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5101, 6]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------